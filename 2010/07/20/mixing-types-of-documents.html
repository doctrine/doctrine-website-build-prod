<!DOCTYPE html>
<html>
    <head>
        <title>MongoDB ODM: Mixing Types of Documents - Doctrine: PHP Open Source Project</title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="The Doctrine Project is an open-source PHP project that is home to home to several PHP libraries primarily focused on database storage and object mapping. The core projects are the Object Relational Mapper (ORM) and the Database Abstraction Layer (DBAL) it is built upon.
">

        <meta name="keywords" content="php,mysql,orm,dbal,database,mongodb,odm,annotations,migrations,cache,couchdb">

                    <meta name="robots" content="index, follow">
        
        
            <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "NewsArticle",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://www.doctrine-project.org/2010/07/20/mixing-types-of-documents.html"
        },
        "headline": "MongoDB ODM: Mixing Types of Documents",
        "image": [
            "https://www.doctrine-project.org/images/og.png"
        ],
        "datePublished": "2010-07-20T00:00:00-04:00",
        "dateModified": "2010-07-20T00:00:00-04:00",
        "author": {
            "@type": "Person",
            "name": "jwage"
        },
        "publisher": {
            "@type": "Organization",
            "name": "Doctrine",
            "logo": {
                "@type": "ImageObject",
                "url": "https://www.doctrine-project.org/images/og.png"
            }
        },
        "description": "One major advantage to using something like MongoDB is the fact that it is schema-less. We can store"
    }
    </script>
    <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/prismjs.css?d2443b"
                            integrity="sha384-IcJ7eow//K0xRBscZjnk8kawYxbm2eUAZ9D6Xf/n0yuAi1NCvwOkep1S8XqPNB3E"
                        crossorigin="anonymous"
    />

        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?74d1a1"
                        integrity="sha384-dAaEn2ZyD87ZE8ZaTOc39tmNlPuZWU7Tvl3K1W/IXH5rtko68QAI5cdG6HLv97IH"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/2010/07/20/mixing-types-of-documents.html" />
        <meta property="og:title" content="MongoDB ODM: Mixing Types of Documents - Doctrine: PHP Open Source Project" />
        <meta property="og:description" content="The Doctrine Project is an open-source PHP project that is home to home to several PHP libraries primarily focused on database storage and object mapping. The core projects are the Object Relational Mapper (ORM) and the Database Abstraction Layer (DBAL) it is built upon.
" />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

        
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/sponsorship.html">Sponsorship</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/doctrine-website/edit/master/source/blog/2010-07-20-mixing-types-of-documents.md" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <main role="main" class="container-wrapper container">
            <article>
        <div class="row">
            <div class="col-lg-8 col-12">
                <header>
                    <h2>MongoDB ODM: Mixing Types of Documents</h2>
                </header>

                <p class="lead">
                    Posted on <date>July 20, 2010</date>
                                            by
                                                    jwage
                                                            </p>
            </div>

            <div class="col-lg-4 col-12">
                <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>
            </div>
        </div>

        <hr />

        <div>
                
            
                
    <p>One major advantage to using something like MongoDB is the fact that it is schema-less. We can store multiple types of documents in a single collection and we are not limited to a single type of document in embedded and referenced documents. This article shows how you can easily mix types of documents in collections, embedded and referenced documents.</p>

                <h1 class="section-header ">
    <a href="#mixing-types-in-collections">
        Mixing Types in Collections
        <i class="fas fa-link"></i>
    </a>
</h1>
                
    <p>If you don&#039;t want to use <code>SINGLE_COLLECTION</code> inheritance you can easily store different documents in the same collection by using a discriminator field. First define an <code>Article</code> document that maps to <code>my_documents</code>:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="48c3c96538bcab75dbd43fce0fdbf646749b3840"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="48c3c96538bcab75dbd43fce0fdbf646749b3840"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-48c3c96538bcab75dbd43fce0fdbf646749b3840-1" class="line-number-anchor" /><a href="#line-number-48c3c96538bcab75dbd43fce0fdbf646749b3840-1">1</a></td><td class="code-line" rowspan="11"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">/**
 * <span class="hljs-doctag">@Document</span>(collection="my_documents")
 * <span class="hljs-doctag">@DiscriminatorField</span>(fieldName="type")
 * <span class="hljs-doctag">@DiscriminatorMap</span>({"article"="Article", "album"="Album"})
 */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Article</span>
</span>{
    <span class="hljs-comment">// ...</span>
}
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-48c3c96538bcab75dbd43fce0fdbf646749b3840-2" class="line-number-anchor" /><a href="#line-number-48c3c96538bcab75dbd43fce0fdbf646749b3840-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-48c3c96538bcab75dbd43fce0fdbf646749b3840-3" class="line-number-anchor" /><a href="#line-number-48c3c96538bcab75dbd43fce0fdbf646749b3840-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-48c3c96538bcab75dbd43fce0fdbf646749b3840-4" class="line-number-anchor" /><a href="#line-number-48c3c96538bcab75dbd43fce0fdbf646749b3840-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-48c3c96538bcab75dbd43fce0fdbf646749b3840-5" class="line-number-anchor" /><a href="#line-number-48c3c96538bcab75dbd43fce0fdbf646749b3840-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-48c3c96538bcab75dbd43fce0fdbf646749b3840-6" class="line-number-anchor" /><a href="#line-number-48c3c96538bcab75dbd43fce0fdbf646749b3840-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-48c3c96538bcab75dbd43fce0fdbf646749b3840-7" class="line-number-anchor" /><a href="#line-number-48c3c96538bcab75dbd43fce0fdbf646749b3840-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-48c3c96538bcab75dbd43fce0fdbf646749b3840-8" class="line-number-anchor" /><a href="#line-number-48c3c96538bcab75dbd43fce0fdbf646749b3840-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-48c3c96538bcab75dbd43fce0fdbf646749b3840-9" class="line-number-anchor" /><a href="#line-number-48c3c96538bcab75dbd43fce0fdbf646749b3840-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-48c3c96538bcab75dbd43fce0fdbf646749b3840-10" class="line-number-anchor" /><a href="#line-number-48c3c96538bcab75dbd43fce0fdbf646749b3840-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-48c3c96538bcab75dbd43fce0fdbf646749b3840-11" class="line-number-anchor" /><a href="#line-number-48c3c96538bcab75dbd43fce0fdbf646749b3840-11">11</a></td></tr></table></div></code></pre>
                
    <p>Next create another document named <code>Album</code> and also map it to <code>my_documents</code>:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="bad6d20e279f68afe5c0525c50783d72abe19f37"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="bad6d20e279f68afe5c0525c50783d72abe19f37"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-bad6d20e279f68afe5c0525c50783d72abe19f37-1" class="line-number-anchor" /><a href="#line-number-bad6d20e279f68afe5c0525c50783d72abe19f37-1">1</a></td><td class="code-line" rowspan="11"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">/**
 * <span class="hljs-doctag">@Document</span>(collection="my_documents")
 * <span class="hljs-doctag">@DiscriminatorField</span>(fieldName="type")
 * <span class="hljs-doctag">@DiscriminatorMap</span>({"article"="Article", "album"="Album"})
 */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Album</span>
</span>{
    <span class="hljs-comment">// ...</span>
}
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-bad6d20e279f68afe5c0525c50783d72abe19f37-2" class="line-number-anchor" /><a href="#line-number-bad6d20e279f68afe5c0525c50783d72abe19f37-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-bad6d20e279f68afe5c0525c50783d72abe19f37-3" class="line-number-anchor" /><a href="#line-number-bad6d20e279f68afe5c0525c50783d72abe19f37-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-bad6d20e279f68afe5c0525c50783d72abe19f37-4" class="line-number-anchor" /><a href="#line-number-bad6d20e279f68afe5c0525c50783d72abe19f37-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-bad6d20e279f68afe5c0525c50783d72abe19f37-5" class="line-number-anchor" /><a href="#line-number-bad6d20e279f68afe5c0525c50783d72abe19f37-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-bad6d20e279f68afe5c0525c50783d72abe19f37-6" class="line-number-anchor" /><a href="#line-number-bad6d20e279f68afe5c0525c50783d72abe19f37-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-bad6d20e279f68afe5c0525c50783d72abe19f37-7" class="line-number-anchor" /><a href="#line-number-bad6d20e279f68afe5c0525c50783d72abe19f37-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-bad6d20e279f68afe5c0525c50783d72abe19f37-8" class="line-number-anchor" /><a href="#line-number-bad6d20e279f68afe5c0525c50783d72abe19f37-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-bad6d20e279f68afe5c0525c50783d72abe19f37-9" class="line-number-anchor" /><a href="#line-number-bad6d20e279f68afe5c0525c50783d72abe19f37-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-bad6d20e279f68afe5c0525c50783d72abe19f37-10" class="line-number-anchor" /><a href="#line-number-bad6d20e279f68afe5c0525c50783d72abe19f37-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-bad6d20e279f68afe5c0525c50783d72abe19f37-11" class="line-number-anchor" /><a href="#line-number-bad6d20e279f68afe5c0525c50783d72abe19f37-11">11</a></td></tr></table></div></code></pre>
                
    <p>Now if you create some instances and persist them they will all be stored in the <code>my_documents</code> collection and will have a discriminator field named <code>type</code> automatically set with the value specified in the mapping:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="3f751047f55ef680fc64026dc5f5ae0f6a76102e"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="3f751047f55ef680fc64026dc5f5ae0f6a76102e"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-3f751047f55ef680fc64026dc5f5ae0f6a76102e-1" class="line-number-anchor" /><a href="#line-number-3f751047f55ef680fc64026dc5f5ae0f6a76102e-1">1</a></td><td class="code-line" rowspan="11"><span class="hljs-meta">&lt;?php</span>
$article = <span class="hljs-keyword">new</span> Article();
$article-&gt;setTitle(<span class="hljs-string">'Sample Article'</span>);
<span class="hljs-comment">// ...</span>

$album = <span class="hljs-keyword">new</span> Album();
$album-&gt;setName(<span class="hljs-string">'My Album'</span>);

$dm-&gt;persist($article);
$dm-&gt;persist($album);
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-3f751047f55ef680fc64026dc5f5ae0f6a76102e-2" class="line-number-anchor" /><a href="#line-number-3f751047f55ef680fc64026dc5f5ae0f6a76102e-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-3f751047f55ef680fc64026dc5f5ae0f6a76102e-3" class="line-number-anchor" /><a href="#line-number-3f751047f55ef680fc64026dc5f5ae0f6a76102e-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-3f751047f55ef680fc64026dc5f5ae0f6a76102e-4" class="line-number-anchor" /><a href="#line-number-3f751047f55ef680fc64026dc5f5ae0f6a76102e-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-3f751047f55ef680fc64026dc5f5ae0f6a76102e-5" class="line-number-anchor" /><a href="#line-number-3f751047f55ef680fc64026dc5f5ae0f6a76102e-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-3f751047f55ef680fc64026dc5f5ae0f6a76102e-6" class="line-number-anchor" /><a href="#line-number-3f751047f55ef680fc64026dc5f5ae0f6a76102e-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-3f751047f55ef680fc64026dc5f5ae0f6a76102e-7" class="line-number-anchor" /><a href="#line-number-3f751047f55ef680fc64026dc5f5ae0f6a76102e-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-3f751047f55ef680fc64026dc5f5ae0f6a76102e-8" class="line-number-anchor" /><a href="#line-number-3f751047f55ef680fc64026dc5f5ae0f6a76102e-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-3f751047f55ef680fc64026dc5f5ae0f6a76102e-9" class="line-number-anchor" /><a href="#line-number-3f751047f55ef680fc64026dc5f5ae0f6a76102e-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-3f751047f55ef680fc64026dc5f5ae0f6a76102e-10" class="line-number-anchor" /><a href="#line-number-3f751047f55ef680fc64026dc5f5ae0f6a76102e-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-3f751047f55ef680fc64026dc5f5ae0f6a76102e-11" class="line-number-anchor" /><a href="#line-number-3f751047f55ef680fc64026dc5f5ae0f6a76102e-11">11</a></td></tr></table></div></code></pre>
                
    <p>Finally, if you retrieve the documents they&#039;ll all be retrieved from <code>my_documents</code> but you will get back the proper PHP classes that created them:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="7f3a63baeb3e86553615bdb25efd3df5963e54ef"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="7f3a63baeb3e86553615bdb25efd3df5963e54ef"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-7f3a63baeb3e86553615bdb25efd3df5963e54ef-1" class="line-number-anchor" /><a href="#line-number-7f3a63baeb3e86553615bdb25efd3df5963e54ef-1">1</a></td><td class="code-line" rowspan="4"><span class="hljs-meta">&lt;?php</span>
$articles = $dm-&gt;find(<span class="hljs-string">'Article'</span>);
$albums = $dm-&gt;find(<span class="hljs-string">'Album'</span>);
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-7f3a63baeb3e86553615bdb25efd3df5963e54ef-2" class="line-number-anchor" /><a href="#line-number-7f3a63baeb3e86553615bdb25efd3df5963e54ef-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7f3a63baeb3e86553615bdb25efd3df5963e54ef-3" class="line-number-anchor" /><a href="#line-number-7f3a63baeb3e86553615bdb25efd3df5963e54ef-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7f3a63baeb3e86553615bdb25efd3df5963e54ef-4" class="line-number-anchor" /><a href="#line-number-7f3a63baeb3e86553615bdb25efd3df5963e54ef-4">4</a></td></tr></table></div></code></pre>
                
    <p>You can retrieve more then just one document type by specifying an array:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="dcea987e6467b559990d8d71b999b31ed0c1afa2"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="dcea987e6467b559990d8d71b999b31ed0c1afa2"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-dcea987e6467b559990d8d71b999b31ed0c1afa2-1" class="line-number-anchor" /><a href="#line-number-dcea987e6467b559990d8d71b999b31ed0c1afa2-1">1</a></td><td class="code-line" rowspan="5"><span class="hljs-meta">&lt;?php</span>
$documents = $dm
    -&gt;createQuery(<span class="hljs-keyword">array</span>(<span class="hljs-string">'Article'</span>, <span class="hljs-string">'Album'</span>))
    -&gt;execute();
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-dcea987e6467b559990d8d71b999b31ed0c1afa2-2" class="line-number-anchor" /><a href="#line-number-dcea987e6467b559990d8d71b999b31ed0c1afa2-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-dcea987e6467b559990d8d71b999b31ed0c1afa2-3" class="line-number-anchor" /><a href="#line-number-dcea987e6467b559990d8d71b999b31ed0c1afa2-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-dcea987e6467b559990d8d71b999b31ed0c1afa2-4" class="line-number-anchor" /><a href="#line-number-dcea987e6467b559990d8d71b999b31ed0c1afa2-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-dcea987e6467b559990d8d71b999b31ed0c1afa2-5" class="line-number-anchor" /><a href="#line-number-dcea987e6467b559990d8d71b999b31ed0c1afa2-5">5</a></td></tr></table></div></code></pre>
                
    <p>The returned documents will contain instances of articles and albums!</p>

                <h1 class="section-header ">
    <a href="#mixing-types-in-embedded-documents">
        Mixing Types in Embedded Documents
        <i class="fas fa-link"></i>
    </a>
</h1>
                
    <p>You can store multiple types of documents in embedded documents by simply omitting the <code>targetDocument</code> option. First create a <code>User</code> document and embed multiple task documents:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-1" class="line-number-anchor" /><a href="#line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-1">1</a></td><td class="code-line" rowspan="16"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">/** <span class="hljs-doctag">@Document</span>(collection="users") */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span>
</span>{
    <span class="hljs-comment">// ...</span>

    <span class="hljs-comment">/** <span class="hljs-doctag">@Embedded</span> */</span>
    <span class="hljs-keyword">private</span> $tasks = <span class="hljs-keyword">array</span>();

    <span class="hljs-comment">// ...</span>
}

**NOTE** Notice how on the ``$tasks`` annotation we don<span class="hljs-string">'t specify
whether it is ``one`` or ``many``. This is because we know it is
``many`` due to the default value being an array.
</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-2" class="line-number-anchor" /><a href="#line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-3" class="line-number-anchor" /><a href="#line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-4" class="line-number-anchor" /><a href="#line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-5" class="line-number-anchor" /><a href="#line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-6" class="line-number-anchor" /><a href="#line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-7" class="line-number-anchor" /><a href="#line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-8" class="line-number-anchor" /><a href="#line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-9" class="line-number-anchor" /><a href="#line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-10" class="line-number-anchor" /><a href="#line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-11" class="line-number-anchor" /><a href="#line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-12" class="line-number-anchor" /><a href="#line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-13" class="line-number-anchor" /><a href="#line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-14" class="line-number-anchor" /><a href="#line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-15" class="line-number-anchor" /><a href="#line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-16" class="line-number-anchor" /><a href="#line-number-4c2a6d14a3a87f4e8b6d32716850fedf5c138a7f-16">16</a></td></tr></table></div></code></pre>
                
    <p>Now create the different types of tasks we can add to the user:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-1" class="line-number-anchor" /><a href="#line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-1">1</a></td><td class="code-line" rowspan="13"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">/** <span class="hljs-doctag">@EmbeddedDocument</span> */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DownloadTask</span>
</span>{
    <span class="hljs-comment">// ...</span>
}

<span class="hljs-comment">/** <span class="hljs-doctag">@EmbeddedDocument</span> */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UploadTask</span>
</span>{
    <span class="hljs-comment">// ...</span>
}
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-2" class="line-number-anchor" /><a href="#line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-3" class="line-number-anchor" /><a href="#line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-4" class="line-number-anchor" /><a href="#line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-5" class="line-number-anchor" /><a href="#line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-6" class="line-number-anchor" /><a href="#line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-7" class="line-number-anchor" /><a href="#line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-8" class="line-number-anchor" /><a href="#line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-9" class="line-number-anchor" /><a href="#line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-10" class="line-number-anchor" /><a href="#line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-11" class="line-number-anchor" /><a href="#line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-12" class="line-number-anchor" /><a href="#line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-13" class="line-number-anchor" /><a href="#line-number-5a47ac0b6db9ef0ba57c4f32c9713884bebf3de5-13">13</a></td></tr></table></div></code></pre>
                
    <p>Now you can embed any type of class in the <code>$tasks</code> property:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="2631fcdf5f1e8997edfb15c824f4d2e3a944300e"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="2631fcdf5f1e8997edfb15c824f4d2e3a944300e"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-1" class="line-number-anchor" /><a href="#line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-1">1</a></td><td class="code-line" rowspan="15"><span class="hljs-meta">&lt;?php</span>
$user = $dm-&gt;findOne(<span class="hljs-string">'User'</span>, <span class="hljs-keyword">array</span>(...));

$task = <span class="hljs-keyword">new</span> DownloadTask();
<span class="hljs-comment">// ...</span>

$user-&gt;addTask($task);

$task = <span class="hljs-keyword">new</span> UploadTask();
<span class="hljs-comment">// ...</span>

$user-&gt;addTask($task);

$dm-&gt;flush();
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-2" class="line-number-anchor" /><a href="#line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-3" class="line-number-anchor" /><a href="#line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-4" class="line-number-anchor" /><a href="#line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-5" class="line-number-anchor" /><a href="#line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-6" class="line-number-anchor" /><a href="#line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-7" class="line-number-anchor" /><a href="#line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-8" class="line-number-anchor" /><a href="#line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-9" class="line-number-anchor" /><a href="#line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-10" class="line-number-anchor" /><a href="#line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-11" class="line-number-anchor" /><a href="#line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-12" class="line-number-anchor" /><a href="#line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-13" class="line-number-anchor" /><a href="#line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-14" class="line-number-anchor" /><a href="#line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-15" class="line-number-anchor" /><a href="#line-number-2631fcdf5f1e8997edfb15c824f4d2e3a944300e-15">15</a></td></tr></table></div></code></pre>
                <h1 class="section-header ">
    <a href="#mixing-types-in-referenced-documents">
        Mixing Types in Referenced Documents
        <i class="fas fa-link"></i>
    </a>
</h1>
                
    <p>Mixing types in referenced documents works just the same as embedded by omitting the <code>targetDocument</code> option. In this example a user can add references to all his favorite albums, songs and books. First define a <code>User</code> document with a many references property for storing the users favorites:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="47ae0f70ec93def724f1d252312fc0006e6321a3"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="47ae0f70ec93def724f1d252312fc0006e6321a3"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-1" class="line-number-anchor" /><a href="#line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-1">1</a></td><td class="code-line" rowspan="12"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">/** <span class="hljs-doctag">@Document</span>(collection="users") */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span>
</span>{
    <span class="hljs-comment">// ...</span>

    <span class="hljs-comment">/** <span class="hljs-doctag">@Reference</span> */</span>
    <span class="hljs-keyword">private</span> $favorites = <span class="hljs-keyword">array</span>();

    <span class="hljs-comment">// ...</span>
}
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-2" class="line-number-anchor" /><a href="#line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-3" class="line-number-anchor" /><a href="#line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-4" class="line-number-anchor" /><a href="#line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-5" class="line-number-anchor" /><a href="#line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-6" class="line-number-anchor" /><a href="#line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-7" class="line-number-anchor" /><a href="#line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-8" class="line-number-anchor" /><a href="#line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-9" class="line-number-anchor" /><a href="#line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-10" class="line-number-anchor" /><a href="#line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-11" class="line-number-anchor" /><a href="#line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-12" class="line-number-anchor" /><a href="#line-number-47ae0f70ec93def724f1d252312fc0006e6321a3-12">12</a></td></tr></table></div></code></pre>
                
    <p>Now here is what the referenced documents would look like:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="daca50dff689595d583d3c8492edab77fc67466a"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="daca50dff689595d583d3c8492edab77fc67466a"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-daca50dff689595d583d3c8492edab77fc67466a-1" class="line-number-anchor" /><a href="#line-number-daca50dff689595d583d3c8492edab77fc67466a-1">1</a></td><td class="code-line" rowspan="19"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">/** <span class="hljs-doctag">@Document</span>(collection="albums") */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Album</span>
</span>{
    <span class="hljs-comment">// ...</span>
}

<span class="hljs-comment">/** <span class="hljs-doctag">@Document</span>(collection="songs") */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Song</span>
</span>{
    <span class="hljs-comment">// ...</span>
}

<span class="hljs-comment">/** <span class="hljs-doctag">@Document</span>(collection="books") */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span>
</span>{
    <span class="hljs-comment">// ...</span>
}
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-daca50dff689595d583d3c8492edab77fc67466a-2" class="line-number-anchor" /><a href="#line-number-daca50dff689595d583d3c8492edab77fc67466a-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-daca50dff689595d583d3c8492edab77fc67466a-3" class="line-number-anchor" /><a href="#line-number-daca50dff689595d583d3c8492edab77fc67466a-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-daca50dff689595d583d3c8492edab77fc67466a-4" class="line-number-anchor" /><a href="#line-number-daca50dff689595d583d3c8492edab77fc67466a-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-daca50dff689595d583d3c8492edab77fc67466a-5" class="line-number-anchor" /><a href="#line-number-daca50dff689595d583d3c8492edab77fc67466a-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-daca50dff689595d583d3c8492edab77fc67466a-6" class="line-number-anchor" /><a href="#line-number-daca50dff689595d583d3c8492edab77fc67466a-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-daca50dff689595d583d3c8492edab77fc67466a-7" class="line-number-anchor" /><a href="#line-number-daca50dff689595d583d3c8492edab77fc67466a-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-daca50dff689595d583d3c8492edab77fc67466a-8" class="line-number-anchor" /><a href="#line-number-daca50dff689595d583d3c8492edab77fc67466a-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-daca50dff689595d583d3c8492edab77fc67466a-9" class="line-number-anchor" /><a href="#line-number-daca50dff689595d583d3c8492edab77fc67466a-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-daca50dff689595d583d3c8492edab77fc67466a-10" class="line-number-anchor" /><a href="#line-number-daca50dff689595d583d3c8492edab77fc67466a-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-daca50dff689595d583d3c8492edab77fc67466a-11" class="line-number-anchor" /><a href="#line-number-daca50dff689595d583d3c8492edab77fc67466a-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-daca50dff689595d583d3c8492edab77fc67466a-12" class="line-number-anchor" /><a href="#line-number-daca50dff689595d583d3c8492edab77fc67466a-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-daca50dff689595d583d3c8492edab77fc67466a-13" class="line-number-anchor" /><a href="#line-number-daca50dff689595d583d3c8492edab77fc67466a-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-daca50dff689595d583d3c8492edab77fc67466a-14" class="line-number-anchor" /><a href="#line-number-daca50dff689595d583d3c8492edab77fc67466a-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-daca50dff689595d583d3c8492edab77fc67466a-15" class="line-number-anchor" /><a href="#line-number-daca50dff689595d583d3c8492edab77fc67466a-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-daca50dff689595d583d3c8492edab77fc67466a-16" class="line-number-anchor" /><a href="#line-number-daca50dff689595d583d3c8492edab77fc67466a-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-daca50dff689595d583d3c8492edab77fc67466a-17" class="line-number-anchor" /><a href="#line-number-daca50dff689595d583d3c8492edab77fc67466a-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-daca50dff689595d583d3c8492edab77fc67466a-18" class="line-number-anchor" /><a href="#line-number-daca50dff689595d583d3c8492edab77fc67466a-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-daca50dff689595d583d3c8492edab77fc67466a-19" class="line-number-anchor" /><a href="#line-number-daca50dff689595d583d3c8492edab77fc67466a-19">19</a></td></tr></table></div></code></pre>
                
    <p>Now it is easy to add the references to his favorites:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="05f04a6e042ac5798380d6f13912c67ef0895784"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="05f04a6e042ac5798380d6f13912c67ef0895784"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-05f04a6e042ac5798380d6f13912c67ef0895784-1" class="line-number-anchor" /><a href="#line-number-05f04a6e042ac5798380d6f13912c67ef0895784-1">1</a></td><td class="code-line" rowspan="7"><span class="hljs-meta">&lt;?php</span>
$user-&gt;addFavorite($album);
$user-&gt;addFavorite($song);
$user-&gt;addFavorite($book);

$dm-&gt;flush();
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-05f04a6e042ac5798380d6f13912c67ef0895784-2" class="line-number-anchor" /><a href="#line-number-05f04a6e042ac5798380d6f13912c67ef0895784-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-05f04a6e042ac5798380d6f13912c67ef0895784-3" class="line-number-anchor" /><a href="#line-number-05f04a6e042ac5798380d6f13912c67ef0895784-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-05f04a6e042ac5798380d6f13912c67ef0895784-4" class="line-number-anchor" /><a href="#line-number-05f04a6e042ac5798380d6f13912c67ef0895784-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-05f04a6e042ac5798380d6f13912c67ef0895784-5" class="line-number-anchor" /><a href="#line-number-05f04a6e042ac5798380d6f13912c67ef0895784-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-05f04a6e042ac5798380d6f13912c67ef0895784-6" class="line-number-anchor" /><a href="#line-number-05f04a6e042ac5798380d6f13912c67ef0895784-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-05f04a6e042ac5798380d6f13912c67ef0895784-7" class="line-number-anchor" /><a href="#line-number-05f04a6e042ac5798380d6f13912c67ef0895784-7">7</a></td></tr></table></div></code></pre>
                
    <p>When you retrieve the user and access the <code>$favorites</code> the documents will be grouped by type and loaded with one or more <code>$in</code> queries:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="94ac2ca12aaf7156c46fd9ada5460f45928d0aef"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="94ac2ca12aaf7156c46fd9ada5460f45928d0aef"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-94ac2ca12aaf7156c46fd9ada5460f45928d0aef-1" class="line-number-anchor" /><a href="#line-number-94ac2ca12aaf7156c46fd9ada5460f45928d0aef-1">1</a></td><td class="code-line" rowspan="10"><span class="hljs-meta">&lt;?php</span>
$user = $dm-&gt;findOne(<span class="hljs-string">'User'</span>, <span class="hljs-keyword">array</span>(...));
$favorites = $user-&gt;getFavorites();

<span class="hljs-comment">// Lazily loads references</span>
<span class="hljs-comment">// Contains Album, Song and Book instances</span>
<span class="hljs-keyword">foreach</span> ($favorites <span class="hljs-keyword">as</span> $favorite) {
    <span class="hljs-comment">// ...</span>
}
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-94ac2ca12aaf7156c46fd9ada5460f45928d0aef-2" class="line-number-anchor" /><a href="#line-number-94ac2ca12aaf7156c46fd9ada5460f45928d0aef-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-94ac2ca12aaf7156c46fd9ada5460f45928d0aef-3" class="line-number-anchor" /><a href="#line-number-94ac2ca12aaf7156c46fd9ada5460f45928d0aef-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-94ac2ca12aaf7156c46fd9ada5460f45928d0aef-4" class="line-number-anchor" /><a href="#line-number-94ac2ca12aaf7156c46fd9ada5460f45928d0aef-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-94ac2ca12aaf7156c46fd9ada5460f45928d0aef-5" class="line-number-anchor" /><a href="#line-number-94ac2ca12aaf7156c46fd9ada5460f45928d0aef-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-94ac2ca12aaf7156c46fd9ada5460f45928d0aef-6" class="line-number-anchor" /><a href="#line-number-94ac2ca12aaf7156c46fd9ada5460f45928d0aef-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-94ac2ca12aaf7156c46fd9ada5460f45928d0aef-7" class="line-number-anchor" /><a href="#line-number-94ac2ca12aaf7156c46fd9ada5460f45928d0aef-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-94ac2ca12aaf7156c46fd9ada5460f45928d0aef-8" class="line-number-anchor" /><a href="#line-number-94ac2ca12aaf7156c46fd9ada5460f45928d0aef-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-94ac2ca12aaf7156c46fd9ada5460f45928d0aef-9" class="line-number-anchor" /><a href="#line-number-94ac2ca12aaf7156c46fd9ada5460f45928d0aef-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-94ac2ca12aaf7156c46fd9ada5460f45928d0aef-10" class="line-number-anchor" /><a href="#line-number-94ac2ca12aaf7156c46fd9ada5460f45928d0aef-10">10</a></td></tr></table></div></code></pre>
                
    <p>That is it! It is easy to take advantage of the schema-less features of MongoDB with the Doctrine Object Document Mapper (ODM)!</p>

        
    
        </div>
    </article>
    </main>

        <button id="back-to-top" title="Go to top">Top</button>

                
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?1546fc"
                            integrity="sha384-ix9eb2EZyp9uayYpxmCQoylbz8msHl5wOg/aqZnD/3cxszNUGePN656MRg5GEgbm"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = '';
            var versionSlug = 'latest';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            <script
            src="https://www.doctrine-project.org/frontend/js/prismjs.js?8aa1bb"
                            integrity="sha384-3EhgfeqnppOxFBVU40g8gS+IVvmh5+wGpe4mG2otPyExrkK9t4aq8uCUy2IDLKkR"
                        crossorigin="anonymous">
    </script>
    </body>
</html>
