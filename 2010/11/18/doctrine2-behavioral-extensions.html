<!DOCTYPE html>
<html>
    <head>
        <title>Doctrine2 Behavioral Extensions - Doctrine: PHP Open Source Project</title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="The Doctrine Project is an open-source PHP project that is home to home to several PHP libraries primarily focused on database storage and object mapping. The core projects are the Object Relational Mapper (ORM) and the Database Abstraction Layer (DBAL) it is built upon.
">

        <meta name="keywords" content="php,mysql,orm,dbal,database,mongodb,odm,annotations,migrations,cache,couchdb">

                    <meta name="robots" content="index, follow">
        
        
            <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "NewsArticle",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://www.doctrine-project.org/2010/11/18/doctrine2-behavioral-extensions.html"
        },
        "headline": "Doctrine2 Behavioral Extensions",
        "image": [
            "https://www.doctrine-project.org/images/og.png"
        ],
        "datePublished": "2010-11-18T00:00:00-05:00",
        "dateModified": "2010-11-18T00:00:00-05:00",
        "author": {
            "@type": "Person",
            "name": "gmorkevicius"
        },
        "publisher": {
            "@type": "Organization",
            "name": "Doctrine",
            "logo": {
                "@type": "ImageObject",
                "url": "https://www.doctrine-project.org/images/og.png"
            }
        },
        "description": "These behavioral extensions will give you another view on Doctrine2 capabilities handling behaviors "
    }
    </script>
    <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/prismjs.css?d2443b"
                            integrity="sha384-IcJ7eow//K0xRBscZjnk8kawYxbm2eUAZ9D6Xf/n0yuAi1NCvwOkep1S8XqPNB3E"
                        crossorigin="anonymous"
    />

        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?6e5d9f"
                        integrity="sha384-1gHMA2pCh3C7C5PdanZqLyU+p0j9aNUSKdqMxyST9hhhoAcooEmUcqk0Rj7owse5"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/2010/11/18/doctrine2-behavioral-extensions.html" />
        <meta property="og:title" content="Doctrine2 Behavioral Extensions - Doctrine: PHP Open Source Project" />
        <meta property="og:description" content="The Doctrine Project is an open-source PHP project that is home to home to several PHP libraries primarily focused on database storage and object mapping. The core projects are the Object Relational Mapper (ORM) and the Database Abstraction Layer (DBAL) it is built upon.
" />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

        
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/sponsorship.html">Sponsorship</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/doctrine-website/edit/master/source/blog/2010-11-18-doctrine2-behavioral-extensions.md" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <main role="main" class="container-wrapper container">
            <article>
        <div class="row">
            <div class="col-lg-8 col-12">
                <header>
                    <h2>Doctrine2 Behavioral Extensions</h2>
                </header>

                <p class="lead">
                    Posted on <date>November 18, 2010</date>
                                            by
                                                    gmorkevicius
                                                            </p>
            </div>

            <div class="col-lg-4 col-12">
                <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>
            </div>
        </div>

        <hr />

        <div>
                
            
                
    <p>These behavioral extensions will give you another view on Doctrine2 capabilities handling behaviors through the EventListeners. These extensions operate like some of the most commonly used behaviors, leaving the domain objects as clean as possible. Annotations makes it easy to understand an intended behavior of properties on your Entities.</p>

                <div style="float: left; width: 450px;">
    <div style="padding: 15px; border: 1px solid #ccc; margin: 0 15px; background: #eee; color: #888">
    <p style="margin: 0;">
                
    <p>Hi, my name is Gediminas Morkevicius, I have 4 year experience in C++ and PHP 5 and I&#039;m very keen on new technologies and Doctrine2 is one of them. Development is not only a job for me, but it is my lifestyle and I&#039;m pleased to give some love back to Doctrine2.</p>

                </p>
    <p style="margin: 10px 0 0;">
                
    <p>I would like to thank Doctrine2 and Symfony2 teams for these wonderful projects. They have great potential.</p>

                </p>
    </div>
</div>
                
    <p><strong>NOTE</strong> This blog entry relates to Doctrine2 Beta4 ORM version and could possibly be outdated depending on what the current version of Doctrine2 is at the time of you reading this post. Then integrating these extensions on your project it is recommended to use latest Doctrine2 library packages, because where are most recent updates used on extensions for metadata caching and annotations.</p>

                <div style="clear:both"></div>
                
    <p>Content:</p>

                

<ul>
    <li class="dash">Introduction on behavioral extensions</li>
    <li class="dash">Setup and autoloading</li>
    <li class="dash">Translatable extension</li>
    <li class="dash">Tree extension</li>
    <li class="dash">Sluggable extension</li>
    <li class="dash">Timestampable extension</li>
    <li class="dash">All nested together</li>
</ul>

                
    <p>First of all, this post intends to give an example on how &quot;behaviors&quot; can be implemented through the Doctrine2 EventListeners. All these behavioral extensions can be nested and support flush operation which can include lots of update, insert and remove actions. This is the most common issue when behavior development process is started.</p>

                
    <p>Furthermore, all extensions are mapped by annotations consequently leaving domain objects clean from interfaces and their methods. Plus, the performance speed is even greater if cache driver is used, because metadata for single Entity is mapped and validated only once.</p>

                
    <p>Before we begin exploring the extensions, I`m glad to mention that these extensions are already available on Symfony2 Bundle ported by Christophe Coevoet.</p>

                
    <p>## Setting up the autoloader and listeners</p>

                
    <p>First of all, download this library from public github repository and setup the autoloading for extensions:</p>

                    <pre class="code-block-table" id="a744b304ed3e2970a851a9e0f211c4f08c96775c"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="a744b304ed3e2970a851a9e0f211c4f08c96775c"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$classLoader = <span class="hljs-keyword">new</span> \Doctrine\Common\ClassLoader(<span class="hljs-string">'Gedmo'</span>, <span class="hljs-string">"/path/to/library/DoctrineExtensions/lib"</span>);</code><code class="line language-php">$classLoader-&gt;register();</code><code class="line language-php"></code><code class="empty"></code></pre>
                
    <p>Translatable behavior will need additional annotation driver for Translation Entity metadata. The example below illustrates the chain driver implementation:</p>

                    <pre class="code-block-table" id="3a9e3e08fd9656ecdabd0f995ea2be81f919b1cb"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="3a9e3e08fd9656ecdabd0f995ea2be81f919b1cb"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$chainDriverImpl = <span class="hljs-keyword">new</span> \Doctrine\ORM\Mapping\Driver\DriverChain();</code><code class="line language-php">$yourDefaultDriverImpl = <span class="hljs-keyword">new</span> \Doctrine\ORM\Mapping\Driver\YamlDriver(<span class="hljs-string">'/yml/mapping/files'</span>); <span class="hljs-comment">// only an example</span></code><code class="line language-php">$translatableDriverImpl = $doctrineOrmConfig-&gt;newDefaultAnnotationDriver(</code><code class="line language-php">    <span class="hljs-string">'/path/to/library/DoctrineExtensions/lib/Gedmo/Translatable/Entity'</span></code><code class="line language-php">);</code><code class="line language-php">$chainDriverImpl-&gt;addDriver($yourDefaultDriverImpl, <span class="hljs-string">'Entity'</span>);</code><code class="line language-php">$chainDriverImpl-&gt;addDriver($translatableDriverImpl, <span class="hljs-string">'Gedmo\Translatable'</span>);</code><code class="line language-php">$doctrineOrmConfig-&gt;setMetadataDriverImpl($chainDriverImpl);</code><code class="line language-php"></code><code class="empty"></code></pre>
                <h1 class="section-header ">
    <a href="#attaching-the-event-listeners-on-the-event-manager">
        Attaching the Event Listeners on the event manager
        <i class="fas fa-link"></i>
    </a>
</h1>
                    <pre class="code-block-table" id="f8a9702ec85f9390788f40bb8805f191941eacb3"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="f8a9702ec85f9390788f40bb8805f191941eacb3"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$evm = <span class="hljs-keyword">new</span> \Doctrine\Common\EventManager();</code><code class="line language-php"><span class="hljs-comment">// timestampable</span></code><code class="line language-php">$evm-&gt;addEventSubscriber(<span class="hljs-keyword">new</span> \Gedmo\Timestampable\TimestampableListener());</code><code class="line language-php"><span class="hljs-comment">// sluggable</span></code><code class="line language-php">$evm-&gt;addEventSubscriber(<span class="hljs-keyword">new</span> \Gedmo\Sluggable\SluggableListener());</code><code class="line language-php"><span class="hljs-comment">// tree</span></code><code class="line language-php">$evm-&gt;addEventSubscriber(<span class="hljs-keyword">new</span> \Gedmo\Tree\TreeListener());</code><code class="line language-php"><span class="hljs-comment">// translatable</span></code><code class="line language-php">$translationListener = <span class="hljs-keyword">new</span> \Gedmo\Translatable\TranslationListener();</code><code class="line language-php">$translationListener-&gt;setTranslatableLocale(<span class="hljs-string">'en_us'</span>);</code><code class="line language-php"><span class="hljs-comment">// in real world app the locale should be loaded from session, example:</span></code><code class="line language-php"><span class="hljs-comment">// Session::getInstance()-&gt;read('locale');</span></code><code class="line language-php">$evm-&gt;addEventSubscriber($translationListener);</code><code class="line language-php"><span class="hljs-comment">// now this event manager should be passed to entity manager constructor</span></code><code class="line language-php"></code><code class="line language-php">**NOTE** It is recommended to attach TranslationListener <span class="hljs-keyword">as</span> the</code><code class="line language-php">last whereas sluggable extension must create a slug before</code><code class="line language-php">translating it.</code><code class="line language-php"></code><code class="empty"></code></pre>
                
    <p>## Translatable</p>

                
    <p>Translatable behavior offers a very handy solution for translating specific record fields into different languages. Furthermore, it loads the translations automatically for the currently used locale. Locale can be set by TranslationListener during it&#039;s initialization or later. It also leaves the possibility to force a specific locale directly on the Entity itself.</p>

                
    <p>Feature list:</p>

                

<ul>
    <li class="dash">Translates all records automatically when object hydration is used</li>
    <li class="dash">Supports a separate translation table for each Entity</li>
    <li class="dash">There can be a default locale specified, which would force entity to leave its original translation in default locale.</li>
</ul>

                <h1 class="section-header ">
    <a href="#translatable-annotations">
        Translatable annotations:
        <i class="fas fa-link"></i>
    </a>
</h1>
                

<ul>
    <li class="dash">@gedmo:Translatable indicates that the column is translatable</li>
    <li class="dash">@gedmo:TranslationEntity(class=&quot;my&quot;) this class annotation tells to use specified Entity to store translations</li>
    <li class="dash">@gedmo:Locale or @gedmo:Language indicates that the column must not be mapped and that it may be used to override TranslationListener`s locale</li>
</ul>

                
    <p>Translatable Entity example:</p>

                    <pre class="code-block-table" id="4a3da5583940284613dab886170dfa4d9ef06a6d"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="4a3da5583940284613dab886170dfa4d9ef06a6d"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Entity</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/**</span></code><code class="line language-php"> * @Entity</code><code class="line language-php"> */</code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Article</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @Id</code><code class="line language-php">     * @GeneratedValue</code><code class="line language-php">     * @Column(type=<span class="hljs-string">"integer"</span>)</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $id;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @gedmo:Translatable</code><code class="line language-php">     * @Column(type=<span class="hljs-string">"string"</span>, length=<span class="hljs-number">128</span>)</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $title;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @gedmo:Translatable</code><code class="line language-php">     * @Column(type=<span class="hljs-string">"text"</span>)</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $content;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @gedmo:Locale</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $locale;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;id;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setTitle</span><span class="hljs-params">($title)</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;title = $title;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTitle</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;title;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setContent</span><span class="hljs-params">($content)</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;content = $content;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getContent</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;content;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setTranslatableLocale</span><span class="hljs-params">($locale)</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;locale = $locale;</code><code class="line language-php">    }</code><code class="line language-php">}</code><code class="line language-php"></code><code class="empty"></code></pre>
                
    <p>There is no need for any additional operations while working with Translatable Entities. All processing is done by event listener, just like in good old behaviors. Except that in Doctrine2 the code is simpler and easy to understand and you may inspect it and customize if you see any point in doing that.</p>

                
    <p>Here are standard usage examples, the locale was set to &quot;en_us&quot; on listener:</p>

                    <pre class="code-block-table" id="1a34b7d5f74cebcac2cb07a79a4ef19fdadeec86"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="1a34b7d5f74cebcac2cb07a79a4ef19fdadeec86"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$article = <span class="hljs-keyword">new</span> \Entity\Article;</code><code class="line language-php">$article-&gt;setTitle(<span class="hljs-string">'my title in en'</span>);</code><code class="line language-php">$article-&gt;setContent(<span class="hljs-string">'my content in en'</span>);</code><code class="line language-php">$em-&gt;persist($article);</code><code class="line language-php">$em-&gt;flush();</code><code class="line language-php"></code><code class="empty"></code></pre>
                
    <p>This inserted an article and populated the translations for it in &quot;en_us&quot; locale. Now lets translate it into another language:</p>

                    <pre class="code-block-table" id="5b1aaf9bf3818c8f4a1905a96b5629964e93bc14"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="5b1aaf9bf3818c8f4a1905a96b5629964e93bc14"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-comment">// first load the article</span></code><code class="line language-php">$article = $em-&gt;find(<span class="hljs-string">'Entity\Article'</span>, <span class="hljs-number">1</span> <span class="hljs-comment">/*article id*/</span>);</code><code class="line language-php">$article-&gt;setTitle(<span class="hljs-string">'my title in de'</span>);</code><code class="line language-php">$article-&gt;setContent(<span class="hljs-string">'my content in de'</span>);</code><code class="line language-php">$article-&gt;setTranslatableLocale(<span class="hljs-string">'de_de'</span>); <span class="hljs-comment">// change locale</span></code><code class="line language-php">$em-&gt;persist($article);</code><code class="line language-php">$em-&gt;flush();</code><code class="line language-php"></code><code class="empty"></code></pre>
                
    <p>This updated an article and inserted the translations for it in &quot;de_de&quot; locale. The TranslationRepository gives some handy methods on retrieving all translations:</p>

                    <pre class="code-block-table" id="da32f29df2773dffa96be881bd7e232a4fe303ba"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="da32f29df2773dffa96be881bd7e232a4fe303ba"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$em-&gt;clear(); <span class="hljs-comment">// ensure the cache is clean</span></code><code class="line language-php">$article = $em-&gt;find(<span class="hljs-string">'Entity\Article'</span>, <span class="hljs-number">1</span> <span class="hljs-comment">/*article id*/</span>);</code><code class="line language-php">$repository = $em-&gt;getRepository(<span class="hljs-string">'Gedmo\Translatable\Entity\Translation'</span>);</code><code class="line language-php">$translations = $repository-&gt;findTranslations($article);</code><code class="line language-php"><span class="hljs-comment">/* $translations contains:</span></code><code class="line language-php"><span class="hljs-keyword">Array</span> (</code><code class="line language-php">    [de_de] =&gt; <span class="hljs-keyword">Array</span></code><code class="line language-php">        (</code><code class="line language-php">            [title] =&gt; my title in de</code><code class="line language-php">            [content] =&gt; my content in de</code><code class="line language-php">        )</code><code class="line language-php"></code><code class="line language-php">    [en_us] =&gt; <span class="hljs-keyword">Array</span></code><code class="line language-php">        (</code><code class="line language-php">            [title] =&gt; my title in en</code><code class="line language-php">            [content] =&gt; my content in en</code><code class="line language-php">        )</code><code class="line language-php">)*/</code><code class="line language-php"><span class="hljs-comment">// the locale now is "en_us" and current article::title in db is "my title in de"</span></code><code class="line language-php"><span class="hljs-keyword">echo</span> $article-&gt;getTitle();</code><code class="line language-php"><span class="hljs-comment">// prints: "my title in en" because it loads the translation automatically</span></code><code class="line language-php"></code><code class="empty"></code></pre>
                <h1 class="section-header ">
    <a href="#using-the-default-locale">
        Using the &quot;default locale&quot;:
        <i class="fas fa-link"></i>
    </a>
</h1>
                
    <p>In some cases we need the default translation as a fallback if record does not have a translation on globally used locale. In that case TranslationListener uses the current value of Entity. But there is a way to specify a default locale which would force Entity to keep it<code>s field value on default locale. And if record has already been translated in this locale, the record will not update it</code>s value, only insert a new translation into translation table. You can specify the default locale on TranslationListener`s initialization:</p>

                    <pre class="code-block-table" id="cbfdfae293e79707b32ff8bb27c8cbc3c8a9e916"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="cbfdfae293e79707b32ff8bb27c8cbc3c8a9e916"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$translationListener-&gt;setDefaultLocale(<span class="hljs-string">'en_us'</span>);</code><code class="line language-php"></code><code class="empty"></code></pre>
                <h1 class="section-header ">
    <a href="#using-a-diferent-translation-entity-for-translation-storage">
        Using a diferent Translation Entity for translation storage:
        <i class="fas fa-link"></i>
    </a>
</h1>
                
    <p>In some cases when there are thousands of records we would like to have a single table for translations of this Entity in order to increase the performance on translation loading speed. The example below will show how to specify a diferent Entity for your translations by extending the translation mapped superclass. Thanks to Christophe Coevoet for the idea on translation abstraction.</p>

                    <pre class="code-block-table" id="98435bc6df328c9c4ce39e82244ccd6c698d357d"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="98435bc6df328c9c4ce39e82244ccd6c698d357d"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Entity</span>\<span class="hljs-title">Translation</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Gedmo</span>\<span class="hljs-title">Translatable</span>\<span class="hljs-title">Entity</span>\<span class="hljs-title">AbstractTranslation</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/**</span></code><code class="line language-php"> * @Table(name=<span class="hljs-string">"article_translations"</span>, indexes={</code><code class="line language-php"> *      @index(name=<span class="hljs-string">"article_translation_idx"</span>, columns={<span class="hljs-string">"locale"</span>, <span class="hljs-string">"entity"</span>, <span class="hljs-string">"foreign_key"</span>, <span class="hljs-string">"field"</span>})</code><code class="line language-php"> * })</code><code class="line language-php"> * @Entity(repositoryClass=<span class="hljs-string">"Gedmo\Translatable\Repository\TranslationRepository"</span>)</code><code class="line language-php"> */</code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ArticleTranslation</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractTranslation</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * All required columns are mapped through inherited superclass</code><code class="line language-php">     */</code><code class="line language-php">}</code><code class="line language-php"></code><code class="empty"></code></pre>
                
    <p>This Entity will be used instead of default Translation Entity only if we specify a class annotation @gedmo:TranslationEntity(class=&quot;Entity&quot;). Now lets slightly modify our Article Entity:</p>

                    <pre class="code-block-table" id="015f63d3399df33aba2a726eb3f65c17a4d0df4e"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="015f63d3399df33aba2a726eb3f65c17a4d0df4e"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-comment">/**</span></code><code class="line language-php"> * @Entity</code><code class="line language-php"> * @gedmo:TranslationEntity(<span class="hljs-class"><span class="hljs-keyword">class</span>="<span class="hljs-title">Entity</span>\<span class="hljs-title">Translation</span>\<span class="hljs-title">ArticleTranslation</span>")</span></code><code class="line language-php"> */</code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Article</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">// ...</span></code><code class="line language-php">}</code><code class="line language-php"></code><code class="empty"></code></pre>
                
    <p>Now all translations of Article will be stored and queried from a specific table.</p>

                
    <p>## Tree</p>

                
    <p>Tree behavior is not a Nested Set which it was in the first version of Doctrine. This one does not require any TreeManager nor NodeWrapper and it does not support multiple roots on tree because it is meant to be simple and is implemented through the event listener. All standard Tree operations are accessible through TreeNodeRepository which is advisable to be used for Tree structured Entities. This Tree allows all traverse operations to be done on your nodes. When performance or advanced customizations becomes an issue, a more advanced implementation like nested-set by Brandon Turner might be needed.</p>

                
    <p>Tree annotations:</p>

                

<ul>
    <li class="dash">@gedmo:TreeLeft identifies the column as storage of Tree left value</li>
    <li class="dash">@gedmo:TreeRight identifies the column as storage of Tree right value</li>
    <li class="dash">@gedmo:TreeParent this will identify this column as a ManyToOne relation of parent node</li>
</ul>

                
    <p>All these annotations are required for the Tree to be functional. And here is an example of a simple Tree Entity:</p>

                    <pre class="code-block-table" id="071bab3fc3aa74a0c3e1f6da8bf3f79b2460d880"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="071bab3fc3aa74a0c3e1f6da8bf3f79b2460d880"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Entity</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/**</span></code><code class="line language-php"> * <span class="hljs-keyword">use</span> <span class="hljs-title">repository</span> <span class="hljs-title">for</span> <span class="hljs-title">handy</span> <span class="hljs-title">tree</span> <span class="hljs-title">functions</span></code><code class="line language-php"> * @Entity(repositoryClass=<span class="hljs-string">"Gedmo\Tree\Repository\TreeNodeRepository"</span>)</code><code class="line language-php"> */</code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Category</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @Column(type=<span class="hljs-string">"integer"</span>)</code><code class="line language-php">     * @Id</code><code class="line language-php">     * @GeneratedValue</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $id;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @Column(length=<span class="hljs-number">64</span>)</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $title;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @gedmo:TreeLeft</code><code class="line language-php">     * @Column(name=<span class="hljs-string">"lft"</span>, type=<span class="hljs-string">"integer"</span>)</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $lft;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @gedmo:TreeRight</code><code class="line language-php">     * @Column(name=<span class="hljs-string">"rgt"</span>, type=<span class="hljs-string">"integer"</span>)</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $rgt;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @gedmo:TreeParent</code><code class="line language-php">     * @ManyToOne(targetEntity=<span class="hljs-string">"Category"</span>, inversedBy=<span class="hljs-string">"children"</span>)</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $parent;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @OneToMany(targetEntity=<span class="hljs-string">"Category"</span>, mappedBy=<span class="hljs-string">"parent"</span>)</code><code class="line language-php">     * @OrderBy({<span class="hljs-string">"lft"</span> = <span class="hljs-string">"ASC"</span>})</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $children;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;id;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setTitle</span><span class="hljs-params">($title)</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;title = $title;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTitle</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;title;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setParent</span><span class="hljs-params">(Category $parent)</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;parent = $parent;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getParent</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;parent;</code><code class="line language-php">    }</code><code class="line language-php">}</code><code class="line language-php"></code><code class="empty"></code></pre>
                
    <p>Basic usage example:</p>

                    <pre class="code-block-table" id="9642b6b523e951be826f7da9e6878c8f8d08b8dd"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="9642b6b523e951be826f7da9e6878c8f8d08b8dd"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$food = <span class="hljs-keyword">new</span> Entity\Category();</code><code class="line language-php">$food-&gt;setTitle(<span class="hljs-string">'Food'</span>);</code><code class="line language-php"></code><code class="line language-php">$fruits = <span class="hljs-keyword">new</span> Entity\Category();</code><code class="line language-php">$fruits-&gt;setTitle(<span class="hljs-string">'Fruits'</span>);</code><code class="line language-php">$fruits-&gt;setParent($food);</code><code class="line language-php"></code><code class="line language-php">$vegetables = <span class="hljs-keyword">new</span> Entity\Category();</code><code class="line language-php">$vegetables-&gt;setTitle(<span class="hljs-string">'Vegetables'</span>);</code><code class="line language-php">$vegetables-&gt;setParent($food);</code><code class="line language-php"></code><code class="line language-php">$carrots = <span class="hljs-keyword">new</span> Entity\Category();</code><code class="line language-php">$carrots-&gt;setTitle(<span class="hljs-string">'Carrots'</span>);</code><code class="line language-php">$carrots-&gt;setParent($vegetables);</code><code class="line language-php"></code><code class="line language-php">$em-&gt;persist($food);</code><code class="line language-php">$em-&gt;persist($fruits);</code><code class="line language-php">$em-&gt;persist($vegetables);</code><code class="line language-php">$em-&gt;persist($carrots);</code><code class="line language-php">$em-&gt;flush();</code><code class="line language-php"></code><code class="empty"></code></pre>
                
    <p>The result after flush will generate the tree of food chain :)</p>

                    <pre class="code-block-table" id="4d88d5149c29577a1b06f2b853a0d4b259a1a3bf"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="4d88d5149c29577a1b06f2b853a0d4b259a1a3bf"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">/food (<span class="hljs-number">1</span><span class="hljs-number">-8</span>)</code><code class="line language-php">    /fruits (<span class="hljs-number">2</span><span class="hljs-number">-3</span>)</code><code class="line language-php">    /vegetables (<span class="hljs-number">4</span><span class="hljs-number">-7</span>)</code><code class="line language-php">        /carrots (<span class="hljs-number">5</span><span class="hljs-number">-6</span>)</code><code class="line language-php"></code><code class="empty"></code></pre>
                <h1 class="section-header ">
    <a href="#using-treenoderepository-functions">
        Using TreeNodeRepository functions:
        <i class="fas fa-link"></i>
    </a>
</h1>
                    <pre class="code-block-table" id="1c7bfdd4206aa102212a796138dcdf1dbc255de3"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="1c7bfdd4206aa102212a796138dcdf1dbc255de3"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$repo = $em-&gt;getRepository(<span class="hljs-string">'Entity\Category'</span>);</code><code class="line language-php"></code><code class="line language-php">$food = $repo-&gt;findOneByTitle(<span class="hljs-string">'Food'</span>);</code><code class="line language-php"><span class="hljs-keyword">echo</span> $repo-&gt;childCount($food);</code><code class="line language-php"><span class="hljs-comment">// prints: 3</span></code><code class="line language-php"><span class="hljs-keyword">echo</span> $repo-&gt;childCount($food, <span class="hljs-keyword">true</span><span class="hljs-comment">/*direct*/</span>);</code><code class="line language-php"><span class="hljs-comment">// prints: 2</span></code><code class="line language-php">$children = $repo-&gt;children($food);</code><code class="line language-php"><span class="hljs-comment">// $children contains:</span></code><code class="line language-php"><span class="hljs-comment">// 3 nodes</span></code><code class="line language-php">$children = $repo-&gt;children($food, <span class="hljs-keyword">false</span>, <span class="hljs-string">'title'</span>);</code><code class="line language-php"><span class="hljs-comment">// will sort the children by title</span></code><code class="line language-php">$carrots = $repo-&gt;findOneByTitle(<span class="hljs-string">'Carrots'</span>);</code><code class="line language-php">$path = $repo-&gt;getPath($carrots);</code><code class="line language-php"><span class="hljs-comment">/* $path contains:</span></code><code class="line language-php">   <span class="hljs-number">0</span> =&gt; Food</code><code class="line language-php">   <span class="hljs-number">1</span> =&gt; Vegetables</code><code class="line language-php">   <span class="hljs-number">2</span> =&gt; Carrots</code><code class="line language-php">*/</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">// verification and recovery of tree</span></code><code class="line language-php">$repo-&gt;verify();</code><code class="line language-php">$em-&gt;clear(); <span class="hljs-comment">// ensures cache clean</span></code><code class="line language-php"><span class="hljs-comment">// can return TRUE if tree is valid, or array of errors found on tree</span></code><code class="line language-php">$repo-&gt;recover();</code><code class="line language-php">$em-&gt;clear(); <span class="hljs-comment">// ensures cache clean</span></code><code class="line language-php"><span class="hljs-comment">// if tree has errors it will try to fix all tree nodes</span></code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">// single node removal</span></code><code class="line language-php">$vegies = $repo-&gt;findOneByTitle(<span class="hljs-string">'Vegitables'</span>);</code><code class="line language-php">$repo-&gt;removeFromTree($vegies);</code><code class="line language-php"><span class="hljs-comment">// it will remove this node from tree and reparent all children</span></code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">// reordering the tree</span></code><code class="line language-php">$repo-&gt;reorder(<span class="hljs-keyword">null</span><span class="hljs-comment">/*reorder starting from parent*/</span>, <span class="hljs-string">'title'</span>);</code><code class="line language-php">$em-&gt;clear(); <span class="hljs-comment">// ensures cache clean</span></code><code class="line language-php"><span class="hljs-comment">// it will reorder all tree node left-right values by the title</span></code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">// moving up and down the nodes, by changing their (left, right) values</span></code><code class="line language-php">$carrots = $repo-&gt;findOneByTitle(<span class="hljs-string">'Carrots'</span>);</code><code class="line language-php">$repo-&gt;moveUp($carrots, <span class="hljs-number">1</span><span class="hljs-comment">/*by one position*/</span>);</code><code class="line language-php"><span class="hljs-comment">// carrots now should be at the top in it`s level</span></code><code class="line language-php">$repo-&gt;moveDown($carrots, <span class="hljs-keyword">true</span><span class="hljs-comment">/*to bottom*/</span>);</code><code class="line language-php"><span class="hljs-comment">// carrots now should be at the bottom in it`s level</span></code><code class="line language-php"></code><code class="empty"></code></pre>
                
    <p>After using such Tree operations like: reorder, recover, verify it is recommended to clear the EntityManager cache since it may have cached nodes with old left and right values. This would be an issue if you plan on using nodes during the same request after mentioned operations. And if you need some custom functions on your Node repository - simply extend the TreeNodeRepository.</p>

                
    <p>## Sluggable</p>

                
    <p>Sluggable behavior will build the slug from annotated fields on a chosen slug field which should store the generated slug. Slugs can be unique and styled. Currently this extension does not support unique constraint on slug field in cases when there are many inserts on a single flush operation, because it cannot issue a query to ensure uniqueness. Use a simple index instead.</p>

                <h1 class="section-header ">
    <a href="#sluggable-annotations">
        Sluggable annotations:
        <i class="fas fa-link"></i>
    </a>
</h1>
                

<ul>
    <li class="dash">@gedmo:Sluggable all columns identified by this annotation will be included in a slug</li>
    <li class="dash">@gedmo:Slug this column will be used to store the generated slug</li>
</ul>

                    <pre class="code-block-table" id="341defd998373f07aaa47376f55ba20d30fa2828"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="341defd998373f07aaa47376f55ba20d30fa2828"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Entity</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/**</span></code><code class="line language-php"> * @Entity</code><code class="line language-php"> */</code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Article</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">/** <span class="hljs-doctag">@Id</span> <span class="hljs-doctag">@GeneratedValue</span> <span class="hljs-doctag">@Column</span>(type="integer") */</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> $id;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @gedmo:Sluggable</code><code class="line language-php">     * @Column(name=<span class="hljs-string">"title"</span>, type=<span class="hljs-string">"string"</span>, length=<span class="hljs-number">64</span>)</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $title;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @gedmo:Sluggable</code><code class="line language-php">     * @Column(name=<span class="hljs-string">"code"</span>, type=<span class="hljs-string">"string"</span>, length=<span class="hljs-number">16</span>)</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $code;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @gedmo:Slug</code><code class="line language-php">     * @Column(name=<span class="hljs-string">"slug"</span>, type=<span class="hljs-string">"string"</span>, length=<span class="hljs-number">128</span>, unique=<span class="hljs-keyword">true</span>)</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $slug;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;id;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setTitle</span><span class="hljs-params">($title)</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;title = $title;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTitle</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;title;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setCode</span><span class="hljs-params">($code)</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;code = $code;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCode</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;code;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSlug</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;slug;</code><code class="line language-php">    }</code><code class="line language-php">}</code><code class="line language-php"></code><code class="empty"></code></pre>
                
    <p>Basic usage example:</p>

                    <pre class="code-block-table" id="702182908935020ece63c7b3372907a549e2e4af"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="702182908935020ece63c7b3372907a549e2e4af"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$article = <span class="hljs-keyword">new</span> Entity\Article();</code><code class="line language-php">$article-&gt;setTitle(<span class="hljs-string">'the title'</span>);</code><code class="line language-php">$article-&gt;setCode(<span class="hljs-string">'my code'</span>);</code><code class="line language-php">$em-&gt;persist($article);</code><code class="line language-php">$em-&gt;flush();</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">echo</span> $article-&gt;getSlug();</code><code class="line language-php"><span class="hljs-comment">// prints: the-title-my-code</span></code><code class="line language-php"></code><code class="empty"></code></pre>
                
    <p>### Some other configuration options:</p>

                

<ul>
    <li class="dash">updatable (optional, default=true) - true to update the slug on sluggable field changes, false - otherwise</li>
    <li class="dash">unique (optional, default=true) - true if slug should be unique and if identical it will be prefixed, false - otherwise</li>
    <li class="dash">separator (optional, default=&quot;-&quot;) - separator which will separate words in slug</li>
    <li class="dash">style (optional, default=&quot;default&quot;) - &quot;default&quot; all letters will be lowercase, &quot;camel&quot; - first letter will be uppercase</li>
</ul>

                    <pre class="code-block-table" id="c8b12addf567acbb77c5b6ce1f00308b61c11827"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="c8b12addf567acbb77c5b6ce1f00308b61c11827"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-comment">// diferent slug configuration example</span></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Article</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">// ...</span></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @gedmo:Slug(style=<span class="hljs-string">"camel"</span>, separator=<span class="hljs-string">"_"</span>, updatable=<span class="hljs-keyword">false</span>, unique=<span class="hljs-keyword">false</span>)</code><code class="line language-php">     * @Column(name=<span class="hljs-string">"slug"</span>, type=<span class="hljs-string">"string"</span>, length=<span class="hljs-number">128</span>, unique=<span class="hljs-keyword">true</span>)</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $slug;</code><code class="line language-php">    <span class="hljs-comment">// ...</span></code><code class="line language-php">}</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">// result would be: The_Title_My_Code</span></code><code class="line language-php"></code><code class="empty"></code></pre>
                
    <p>## Timestampable</p>

                
    <p>Timestampable behavior will automate the update of date fields on your Entities. It works through annotations and can update fields on creation, update or even on specific internal or related Entity property change.</p>

                <h1 class="section-header ">
    <a href="#timestampable-annotations">
        Timestampable annotations:
        <i class="fas fa-link"></i>
    </a>
</h1>
                

<ul>
    <li class="dash">@gedmo:Timestampable this annotation specifies that this column is timestampable, by default it updates this column on general update. If column is not (date, datetime or time) it will trigger an exception. Bellow are listed available configuration options:</li>
</ul>

                
    <p>Available configuration options:</p>

                

<ul>
    <li class="dash">on - is the main option and can be: create, update or change. This option indicates when an update should be triggered</li>
    <li class="dash">field - only valid if on=&quot;change&quot; is specified, tracks property for changes</li>
    <li class="dash">value - only valid if on=&quot;change&quot; is specified, if tracked field has the specified value when it triggers an update</li>
</ul>

                    <pre class="code-block-table" id="e7f6b8f90ee4126ce5682bf6bb69d7182bca4d6e"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="e7f6b8f90ee4126ce5682bf6bb69d7182bca4d6e"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Entity</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/**</span></code><code class="line language-php"> * @Entity</code><code class="line language-php"> */</code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Article</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">/** <span class="hljs-doctag">@Id</span> <span class="hljs-doctag">@GeneratedValue</span> <span class="hljs-doctag">@Column</span>(type="integer") */</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> $id;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @Column(type=<span class="hljs-string">"string"</span>, length=<span class="hljs-number">128</span>)</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $title;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @<span class="hljs-keyword">var</span> datetime $created</code><code class="line language-php">     *</code><code class="line language-php">     * @gedmo:Timestampable(on=<span class="hljs-string">"create"</span>)</code><code class="line language-php">     * @Column(type=<span class="hljs-string">"date"</span>)</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $created;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @<span class="hljs-keyword">var</span> datetime $updated</code><code class="line language-php">     *</code><code class="line language-php">     * @Column(type=<span class="hljs-string">"datetime"</span>)</code><code class="line language-php">     * @gedmo:Timestampable(on=<span class="hljs-string">"update"</span>)</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $updated;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;id;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setTitle</span><span class="hljs-params">($title)</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;title = $title;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTitle</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;title;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCreated</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;created;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUpdated</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;updated;</code><code class="line language-php">    }</code><code class="line language-php">}</code><code class="line language-php"></code><code class="empty"></code></pre>
                
    <p>## All nested together</p>

                    <pre class="code-block-table" id="15d300f10cf218d6af529c86d9587e05eb8a8c95"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="15d300f10cf218d6af529c86d9587e05eb8a8c95"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Entity</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/**</span></code><code class="line language-php"> * @Entity(repositoryClass=<span class="hljs-string">"Gedmo\Tree\Repository\TreeNodeRepository"</span>)</code><code class="line language-php"> */</code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Category</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @Column(name=<span class="hljs-string">"id"</span>, type=<span class="hljs-string">"integer"</span>)</code><code class="line language-php">     * @Id</code><code class="line language-php">     * @GeneratedValue</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $id;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @gedmo:Translatable</code><code class="line language-php">     * @gedmo:Sluggable</code><code class="line language-php">     * @Column(length=<span class="hljs-number">64</span>)</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $title;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @gedmo:TreeLeft</code><code class="line language-php">     * @Column(type=<span class="hljs-string">"integer"</span>)</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $lft;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @gedmo:TreeRight</code><code class="line language-php">     * @Column(type=<span class="hljs-string">"integer"</span>)</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $rgt;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @gedmo:TreeParent</code><code class="line language-php">     * @ManyToOne(targetEntity=<span class="hljs-string">"Category"</span>, inversedBy=<span class="hljs-string">"children"</span>)</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $parent;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @OneToMany(targetEntity=<span class="hljs-string">"Category"</span>, mappedBy=<span class="hljs-string">"parent"</span>)</code><code class="line language-php">     * @OrderBy({<span class="hljs-string">"lft"</span> = <span class="hljs-string">"ASC"</span>})</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $children;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @gedmo:Translatable</code><code class="line language-php">     * @gedmo:Slug(style=<span class="hljs-string">"camel"</span>, separator=<span class="hljs-string">"_"</span>)</code><code class="line language-php">     * @Column(length=<span class="hljs-number">128</span>)</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $slug;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @gedmo:Timestampable(on=<span class="hljs-string">"create"</span>)</code><code class="line language-php">     * @Column(type=<span class="hljs-string">"date"</span>)</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $created;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @gedmo:Timestampable(on=<span class="hljs-string">"update"</span>)</code><code class="line language-php">     * @Column(type=<span class="hljs-string">"datetime"</span>)</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $updated;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;id;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setTitle</span><span class="hljs-params">($title)</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;title = $title;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTitle</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;title;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setParent</span><span class="hljs-params">(Category $parent)</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;parent = $parent;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getParent</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;parent;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCreated</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;created;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUpdated</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;updated;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSlug</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;slug;</code><code class="line language-php">    }</code><code class="line language-php">}</code><code class="line language-php"></code><code class="empty"></code></pre>
                
    <p>After running some inserts you will get the expected result. Don`t be afraid to use concurrent flush with many inserts and updates or even remove operations, everything is meant to work fine.</p>

                
    <p>Some of you may think that using no interface takes longer to check Entities on events. In fact, it takes only a single &#039;if&#039; statement and a cache check on first request. This way the process is much cleaner.</p>

                
    <p>Maybe these extensions will help some of you realize how clean domain objects can be and how well the model represents itself. It&#039;s much more convenient than Active Record - browsing several extended classes, going through magic methods of those classes. While here you see everything in one grasp.</p>

                
    <p>There will be updates on my blog page and new articles which may interest some of you. You can give some love back by forking a repository and creating an ODM Document support on extensions or suggesting me an idea of improvements or maybe an issue which you have detected.</p>

        
    
        </div>
    </article>
    </main>

        <button id="back-to-top" title="Go to top">Top</button>

                
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?1546fc"
                            integrity="sha384-ix9eb2EZyp9uayYpxmCQoylbz8msHl5wOg/aqZnD/3cxszNUGePN656MRg5GEgbm"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = '';
            var versionSlug = 'latest';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            <script
            src="https://www.doctrine-project.org/frontend/js/prismjs.js?8aa1bb"
                            integrity="sha384-3EhgfeqnppOxFBVU40g8gS+IVvmh5+wGpe4mG2otPyExrkK9t4aq8uCUy2IDLKkR"
                        crossorigin="anonymous">
    </script>
    </body>
</html>
