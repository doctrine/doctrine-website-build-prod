<!DOCTYPE html>
<html>
    <head>
        <title>Blog - Doctrine - PHP Database Tools</title>

        <meta charset="utf-8">
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

                    <meta name="robots" content="noindex, follow">
        
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" integrity="sha384-3AB7yXWz4OeoZcPbieVW64vVXEwADiYyAEhwilzWsLw+9FgqpyjjStpPnpBO8o8S" crossorigin="anonymous">

        <link href="https://www.doctrine-project.org/css/style.css?369e38" rel="stylesheet" type="text/css" />

        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">

        <link rel="stylesheet" href="https://www.doctrine-project.org/components/highlightjs/styles/railscasts.css?b4f8ae" />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        
            </head>
    <body>
                    <nav class="navbar navbar-expand-md navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="https://www.doctrine-project.org/"><img src="https://www.doctrine-project.org/images/doctrine-logo.svg?335f0f" />Doctrine</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="https://www.doctrine-project.org/projects/" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                                                    <a class="dropdown-item" href="https://www.doctrine-project.org/projects/annotations/">Annotations</a>
                                                                    <a class="dropdown-item" href="https://www.doctrine-project.org/projects/cache/">Cache</a>
                                                                    <a class="dropdown-item" href="https://www.doctrine-project.org/projects/collections/">Collections</a>
                                                                    <a class="dropdown-item" href="https://www.doctrine-project.org/projects/common/">Common</a>
                                                                    <a class="dropdown-item" href="https://www.doctrine-project.org/projects/couchdb-odm/">CouchDB ODM</a>
                                                                    <a class="dropdown-item" href="https://www.doctrine-project.org/projects/dbal/">DBAL</a>
                                                                    <a class="dropdown-item" href="https://www.doctrine-project.org/projects/inflector/">Inflector</a>
                                                                    <a class="dropdown-item" href="https://www.doctrine-project.org/projects/lexer/">Lexer</a>
                                                                    <a class="dropdown-item" href="https://www.doctrine-project.org/projects/migrations/">Migrations</a>
                                                                    <a class="dropdown-item" href="https://www.doctrine-project.org/projects/mongodb/">MongoDB</a>
                                                                    <a class="dropdown-item" href="https://www.doctrine-project.org/projects/mongodb-odm/">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="https://www.doctrine-project.org/projects/orientdb-odm/">OrientDB ODM</a>
                                                                    <a class="dropdown-item" href="https://www.doctrine-project.org/projects/orm/">ORM</a>
                                                                    <a class="dropdown-item" href="https://www.doctrine-project.org/projects/phpcr-odm/">PHPCR ODM</a>
                                                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://www.doctrine-project.org/about/">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://www.doctrine-project.org/contribute/">Contribute</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://www.doctrine-project.org/community/">Community</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://www.doctrine-project.org/blog/">Blog</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://www.doctrine-project.org/team/">Team</a>
                        </li>
                    </ul>

                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                </div>

                <div class="search-results rounded">
                    <div id="hits">
                        <!-- Hits widget will appear here -->
                    </div>

                    <a href="https://www.algolia.com" target="_blank"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
                </div>
            </nav>
        
            <main role="main" class="container-wrapper container">
                        <article>
        <header>
            <h2><a href="https://www.doctrine-project.org/2009/09/14/moving-to-jira.html">Moving to JIRA</a></h2>
        </header>

        <p class="lead">
            Posted on 2009-09-14
                            by
                                    romanb
                                    </p>

        <hr />

        <div>
            <p>While we really like Trac, especially its subversion integration,
it has a lot of shortcomings for bigger projects in the area of
project &amp; issue/ticket management. Hence we decided to evaluate
alternatives and ended up with choosing
<a href="http://www.atlassian.com/software/jira/">JIRA</a>. Its normally not
free software but the generous guys from Atlassian granted us a
free open source license. A big thanks from all of us to Atlassian
for their support of open source projects.</p>
<p>From now on all the project management, release management and
issue/ticket management will happen in our
<a href="http://doctrine-project.org/jira">new JIRA instance</a>. While it
is open for everyone in read-only mode, we strongly encourage you
to create an account soon so that you can create/modify/comment
issues and content in JIRA.</p>
<p>Trac is from now on closed for tickets. All new tickets need to be
reported through JIRA. We are not going to automatically import all
tickets from Trac to JIRA because that does not work very well and
would require to import all user accounts as well, which can not be
done easily either. We will continue to work on the &quot;old&quot; tickets,
always starting with porting a ticket over to JIRA before working
on it. If you want to help, you recreate tickets that are
especially important to you in JIRA yourself. You can still log in
to Trac and view tickets for the purpose of migrating them to JIRA
but you can not modify them or create new ones.</p>
<blockquote><p><strong>CAUTION</strong> When you recreate an issue in JIRA, please make sure
you close the issue in Trac with the resolution: &quot;migrated&quot;.</p>
</blockquote>
<p>Trac will not be completely shut down, however. The following
functionality will stay open:</p>
<ul><li class="dash"> Wiki</li>
<li class="dash"> Timeline</li>
<li class="dash"> Browse Source</li>
</ul>

<p>That is, the wiki and the subversion integration. We basically use
Trac as the subversion viewer that we coupled with JIRA. Any
changeset numbers or file references in JIRA issues will link to
the changesets/sources in Trac.</p>
<p>We're looking forward to working with JIRA and we think it is an
improvement for all users. We hope you enjoy all the new
functionality provided by JIRA, like voting for issues that are
important to you, tracking issues and much more.</p>
<p>So, head over to our
<a href="http://doctrine-project.org/jira">JIRA instance</a> , create an
account and start creating issues and explore the features.</p>

        </div>

            </article>
    <article>
        <header>
            <h2><a href="https://www.doctrine-project.org/2009/09/01/doctrine2-preview-release.html">Doctrine 2 Preview Release</a></h2>
        </header>

        <p class="lead">
            Posted on 2009-09-01
                            by
                                    romanb
                                    </p>

        <hr />

        <div>
            <p>Exactly one year ago today we released Doctrine 1.0 stable, which
was on the birthday of Jon. Again, today we have chosen the
birthday of Jon to release the first preview of Doctrine 2. This is
an alpha release that is not intended for production use.</p>
<p>Doctrine 2 marks the beginning of a new approach to ORM with
Doctrine. It represents a rewrite of more than 90% of the existing
codebase. The new key concepts behind Doctrine 2 are to put your
domain model more into focus and to provide transparent persistence
where the persistence is a service and not an inherent property of
domain classes. This has a lot of advantages like decoupling your
valuable business logic from the persistence layer and easy
testability of your domain model.</p>
<a id="title.1"></a><h1>Packages</h1>
<p>Doctrine 2 is reorganized into reusable layers that are available
as separate packages. The Doctrine 2 Core consists of the following
packages:</p>
<ul><li class="dash"> Doctrine Common (Generic components, high re usability)</li>
<li class="dash"> Doctrine DBAL (The database abstraction layer, includes: Common)</li>
<li class="dash"> Doctrine ORM (The ORM tools, includes: Common + DBAL)</li>
</ul>

<p>All of these packages are currently distributed and maintained
synchronously which means they are released together and share the
same version numbers. This may change in the future. These three
packages are available as separate downloads even though you will
most likely want to download the ORM package which already contains
the Common and DBAL packages.</p>
<a id="title.2"></a><h1>Features</h1>
<p>This Preview Release is mainly about the core ORM functionality and
features of Doctrine 2, like mapping drivers, DQL, association
mapping, inheritance mapping, change tracking, etc. Most of the
supporting tools that you are used to for rapid development like
the CLI, migrations, behaviors and validation have not yet been
ported to Doctrine 2 and are still under heavy development, most of
them will end up as loosely coupled extensions.</p>
<a id="title.3"></a><h1>Mapping drivers</h1>
<p>A mapping driver is a particular strategy for providing ORM
metadata to Doctrine 2. This Preview Release contains mapping
drivers for docblock annotations, XML and YAML. The XML and YAML
drivers are still in an experimental stage and while we encourage
you to use them, you may encounter more issues than with the
docblock annotation driver as it is the primary driver used in our
development.</p>
<a id="title.4"></a><h1>Documentation</h1>
<p>The documentation for Doctrine 2 can be found
<a href="http://www.doctrine-project.org/documentation/2_0/en">here</a>.
Please be aware that the documentation is still a work in progress
and not all areas have been completed.</p>
<a id="title.5"></a><h1>Sandbox</h1>
<p>To get started quickly, please check out our
<a href="http://www.doctrine-project.org/documentation/manual/2_0/en/introduction#sandbox-quickstart">sandbox quickstart tutorial</a>.
You can also obtain Doctrine 2.0.0 ALPHA1 via a PEAR package like
normal which can be found on the
<a href="http://www.doctrine-project.org/download">download</a></p>
<p>We want to encourage everyone to start experimenting with the new
generation of Doctrine in order to get familiar with it and to help
find any outstanding issues.</p>
<p>As always, please report any issues and feature requests through
<a href="http://trac.doctrine-project.org">trac</a>.</p>
<p>Thank you for using Doctrine.</p>

        </div>

            </article>
    <article>
        <header>
            <h2><a href="https://www.doctrine-project.org/2009/08/24/doctrine-2-0-quality-assurance.html">Doctrine 2.0 Quality Assurance</a></h2>
        </header>

        <p class="lead">
            Posted on 2009-08-24
                            by
                                    guilhermeblanco
                                    </p>

        <hr />

        <div>
            <p>Greetings folks!</p>
<p>Today I'd like to talk about Quality Assurance in PHP projects.
Currently, PHP lacks good tools for QA, but thanks to a special PHP
user, <a href="http://sebastian-bergmann.de">Sebastian Bergmann</a> , this is
changing gradually. If you don't know him, you can visit his blog
and check about projects he's on. For lazy people, he's the author
of <a href="http://www.phpunit.de">PHPUnit</a> , a de-facto Unit Test suite
in PHP.</p>
<p>Doctrine 2.0 uses PHPUnit as our Unit Test suite. It relies on PEAR
to be installed, but you can also install it via SVN.</p>
<p>The main initiative of QA in PHP projects is the website
<a href="http://qualityassuranceinphpprojects.com">http://qualityassuranceinphpprojects.com</a>.
There you can find available tools to measure, for example, how
complex is your project and possible semantical issues.</p>
<p>I have applied some of these tests against
<a href="http://trac.doctrine-project.org/browser/trunk">Doctrine 2.0</a> to
see how complex it is and if it can be optimized more. The first
test I run is a trace about how complex our code base is. The tool
I used is
<a href="http://github.com/sebastianbergmann/phploc/tree/master">phploc</a>.
Check out the results:</p>

<pre><code class="">[bash]
MacBlanco:bin guilhermeblanco$ ./phploc /Users/guilhermeblanco/www/doctrine/trunk/lib
phploc 1.1.1 by Sebastian Bergmann.

Directories:                               31
Files:                                    210

Lines of Code (LOC):                    38826
Comment Lines of Code (CLOC):           17004
Non-Comment Lines of Code (NCLOC):      21822

Interfaces:                                11
Classes:                                  229
Non-Static Methods:                      1699
Static Methods:                           106
Functions:                                 95
</code></pre>
<p>Of course it still misses a couple of code to implement (CLI Tasks,
Locking strategies, ID Generators), but now we know how big
Doctrine 2.0 is. Then, I decided to check duplicated code (possible
optimization locations). The tool
<a href="http://github.com/sebastianbergmann/phpcpd/tree/master">phpcpd</a>
gave me this feedback:</p>

<pre><code class="">[bash]
MacBlanco:bin guilhermeblanco$ ./phpcpd /Users/guilhermeblanco/www/doctrine/trunk/lib
phpcpd 1.1.1 by Sebastian Bergmann.

Found 1 exact clones with 15 duplicated lines in 2 files:

  - ./Doctrine/DBAL/Platforms/MsSqlPlatform.php:126-141
    ./Doctrine/DBAL/Platforms/MySqlPlatform.php:633-648

0.04% duplicated lines out of 38826 total lines of code.
</code></pre>
<p>I asked myself: It must be a method that could be moved to
<code>AbstractPlatform.php</code>! So I opened both files and... no! It's a
piece of code that cannot be optimized. So, consider Doctrine 2.0
extremely optimized, because there is no duplicated code
internally!</p>
<p>Now Unit Test suite. Doctrine 2.0 has a steadily growing set of
Unit Tests, and we are regularly analyzing the code coverage
analysis to find parts that need more tests. Here is how such a
coverage report is generated:</p>

<pre><code class="">[bash]
MacBlanco:tests guilhermeblanco$ phpunit --coverage-html=./_coverage Doctrine_Tests_AllTests
PHPUnit 3.3.17 by Sebastian Bergmann.

.....................................S.S....................  60 / 562
............................................................ 120 / 562
.....................................................SSSSSSS 180 / 562
SSSSSSSSSSSSSSSS............................................ 240 / 562
............................................................ 300 / 562
............................................................ 360 / 562
............................................................ 420 / 562
............................................................ 480 / 562
............................................................ 540 / 562
...SS.................

Time: 18 seconds

OK, but incomplete or skipped tests!
Tests: 562, Assertions: 1420, Skipped: 27.

Generating code coverage report, this may take a moment.
</code></pre>
<p>The generated coverage can be seen in the following picture.</p>
<p>Finally, some metrics are good to inspect how stable is our code. I
applied <a href="http://pdepend.org">pdepend</a> , and it gave me these
results:</p>
<figure >
    <img src="http://www.doctrine-project.org/blog-images/doctrine-2-0-qa/picture2.png" alt="jdepend chart" >
            <figcaption>
            <p>jdepend chart</p>


                    </figcaption>
    </figure>

<figure >
    <img src="http://www.doctrine-project.org/blog-images/doctrine-2-0-qa/picture3.png" alt="pyramid overview" >
            <figcaption>
            <p>pyramid overview</p>


                    </figcaption>
    </figure>

<p>The command I ran was:</p>

<pre><code class="">[bash]
MacBlanco:bin guilhermeblanco$ ./pdepend --summary-xml=/Users/guilhermeblanco/summary.xml --jdepend-chart=/Users/guilhermeblanco/jdepend.svg --overview-pyramid=/Users/guilhermeblanco/pyramid.svg /Users/guilhermeblanco/www/doctrine/trunk/lib
</code></pre>
<p>Here is the generated summary. If you have any other ideas/tools
that we should apply in our codebase to generate other metrics,
please drop us a message!</p>

        </div>

            </article>

    <nav class="mt-4">
        <ul class="pagination">
            <li class="page-item"><a class="page-link" href="https://www.doctrine-project.org/blog/page/59.html">Newer Posts</a></li><br />
            <li class="page-item"><a class="page-link" href="https://www.doctrine-project.org/blog/page/61.html">Older Posts</a></li>        </ul>
    </nav>
            </main>

        
        <button id="back-to-top" title="Go to top">Top</button>

        <script
          src="https://code.jquery.com/jquery-3.3.1.min.js"
          integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
          crossorigin="anonymous"></script>

        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>

        <script
            src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>

        <script src="https://www.doctrine-project.org/components/highlightjs/highlight.pack.js?3970aa"></script>

        <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0"></script>

        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script src="https://www.doctrine-project.org/js/main.js?f32c09"></script>
        <script src="https://www.doctrine-project.org/js/search.js?36322d"></script>

        <script type="text/javascript">
            var projectSlug = '';
            var versionSlug = 'latest';

            new Main();

            new Search(projectSlug, versionSlug);
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
        
            </body>
</html>
