<!DOCTYPE html>
<html>
    <head>
        <title>Doctrine 2.4 released - Doctrine - PHP Database Tools</title>

        <meta charset="utf-8">
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

            <meta name="robots" content="index, follow">

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" integrity="sha384-3AB7yXWz4OeoZcPbieVW64vVXEwADiYyAEhwilzWsLw+9FgqpyjjStpPnpBO8o8S" crossorigin="anonymous">

        <link href="https://new.doctrine-project.org/css/style.css?30" rel="stylesheet" type="text/css" />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://new.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://new.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://new.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://new.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://new.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://new.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://new.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://new.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://new.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://new.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://new.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://new.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://new.doctrine-project.org/images/mstile-310x310.png" />

        <link rel="stylesheet" href="https://new.doctrine-project.org/components/highlightjs/styles/railscasts.css?30" />
        <link rel="alternate" type="application/atom+xml" href="https://new.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        
        
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">
        <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0"></script>
    </head>
    <body>
                    <nav class="navbar navbar-expand-md navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="https://new.doctrine-project.org/"><img src="https://new.doctrine-project.org/images/doctrine-logo.svg" />Doctrine</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="https://new.doctrine-project.org/">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://new.doctrine-project.org/about/">About</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="https://new.doctrine-project.org/projects/" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/orm/">ORM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/dbal/">DBAL</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/mongodb-odm/">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/phpcr-odm/">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/couchdb-odm/">CouchDB ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/migrations/">Migrations</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/common/">Common</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/mongodb/">MongoDB</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/orientdb-odm/">OrientDB ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/annotations/">Annotations</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/collections/">Collections</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/inflector/">Inflector</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/cache/">Cache</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/lexer/">Lexer</a>
                                                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://new.doctrine-project.org/contribute/">Contribute</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://new.doctrine-project.org/community/">Community</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/blog/">Blog</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://new.doctrine-project.org/search/">Search</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://github.com/doctrine/" target="_blank">Development</a>
                        </li>
                    </ul>
                </div>
            </nav>
        
            <main role="main" class="container">
            <article>
        <header>
            <h2>Doctrine 2.4 released <small>post</small></h2>
        </header>

        <p class="lead">
            Posted on 2013-09-11
                            by
                                    Benjamin Eberlei
                                    </p>

        <div>
            <p>We are happy to announce the availability of Doctrine Common, DBAL and ORM
versions 2.4. This took us much longer than planned and we are very sorry for
all the delay that was mostly caused by contributers private and work lifes.
For the next versions we will also try to keep the scope smaller, you will see
that version 2.4 contains lots of small new features.</p>
<p>Starting with version 2.4 Doctrine will not be available over PEAR anymore.
The maintenance of this deployment channel is too complicated, compared
to the small number of people using it. We focus on shipping Doctrine with
<a href="http://getcomposer.org">Composer</a> , which is a superior packaging tool
in our opinion. We will continue to make Doctrine available as standalone
download through the Github releases pages.</p>
<p>Follow the links in the list to find the changelogs of the three new releases:</p>
<ul><li class="dash"><a href="https://github.com/doctrine/common/releases/tag/v2.4.1">Doctrine Common v2.4.1 Changelog
 </a></li>
<li class="dash"><a href="https://github.com/doctrine/dbal/releases/tag/v2.4.0">Doctrine DBAL v2.4.0 Changelog
 </a></li>
<li class="dash"><a href="https://github.com/doctrine/doctrine2/releases/tag/v2.4.0">Doctrine ORM v2.4.0 Changelog
 </a></li>
</ul>

<a id="title.1"></a><h1>Backwards Incompatible Changes</h1>
<p>There have been some BC breaks in the 2.4 releases, which are listed here:</p>
<ul><li class="dash">Doctrine\DBAL\Schema\Constraint API change</li>
<li class="dash">Compatibility Bugfix in PersistentCollection#matching()</li>
<li class="dash">Composer is now the default autoloader</li>
<li class="dash">OnFlush and PostFlush event always called</li>
<li class="dash">DQL: Parenthesis are now considered in arithmetic expression</li>
</ul>

<p>You can read up in detail on BC breaks on the <a href="">DBAL
&lt;https://github.com/doctrine/dbal/blob/2.4/UPGRADE&gt;</a> and <a href="">ORM
&lt;https://github.com/doctrine/doctrine2/blob/2.4/UPGRADE.md&gt;</a> UPGRADE docs.</p>
<a id="title.2"></a><h1>Installation</h1>
<p>You can install Doctrine using Composer and the following <code>composer.json</code>
contents:</p>
<pre><code class="json">{
    &quot;require&quot;: {
        &quot;doctrine/common&quot;: &quot;2.4.*&quot;,
        &quot;doctrine/dbal&quot;: &quot;2.4.*&quot;,
        &quot;doctrine/orm&quot;: &quot;2.4.*&quot;
    }
}
</code></pre>
<a id="title.3"></a><h1>New Features</h1>
<p>This release contains large amount of new features and improvements. Compared
to the previous minor release not so many big-bang features, but many small
improvements. The most important changes are listed here with small examples or
links to their documentation.</p>
<ul><li class="dash">ALTER TABLE support for SQLite (by <a href="https://github.com/hason">hason</a>)
  by creating new tables, moving all the data and then renaming.</li>
<li class="dash">Using `EXTRA_LAZY` fetch mode now also queries for single entities on
  collections with <code>indexBy</code> when using <code>$collection-&gt;get()</code> or accessing
  the collection via array access.</li>
<li class="dash">Added two new modes to proxy generation for development environemnts, first
  using <code>eval</code> and second by checking if the proxy file not exists.</li>
<li class="dash">Pass Event Arguments to entities lifecycle methods, allowing access to
  <code>EntityManager</code>.</li>
<li class="dash">Allow to order by associations when using <code>EntityRepository#findBy()</code>.</li>
<li class="dash">Support for new <a href="http://docs.doctrine-project.org/en/latest/reference/dql-doctrine-query-language.html#new-operator-syntax">NEW()` operator in DQL which can be wrapped around
  the full d375029fc52fbffbf637571d2a483a9edef497b9-clause parts and instantiates an object by passing
  the parameters to the constructor. See the `documentation
 </a>
  for more details.</li>
<li class="dash">Support for <code>@EntityListener</code> annotation and XML/YML configuration, which
  allows adding listener services on a per entity level (not global).
  See the <a href="http://docs.doctrine-project.org/en/latest/reference/events.html#entity-listeners">documentation
 </a>
  for details.</li>
<li class="dash">Improved the <code>ResultSetMapping</code> to generate the <code>SELECT</code> clause for
  an SQL statement, thereby improving the usability of native queries alot.
  See the <a href="http://docs.doctrine-project.org/en/latest/reference/native-sql.html#resultsetmappingbuilder">documentation
 </a>
  for more details.</li>
<li class="dash">Introduced a factory for repositories that can be overwritten in the
  <code>Doctrine\ORM\Configuration</code>.</li>
<li class="dash">Added an interface for <code>EntityManager</code> called
  <code>Doctrine\ORM\EntityManagerInterface</code> and a decorator base class
  <code>Doctrine\ORM\Decorator\EntityManagerDecorator</code>.</li>
<li class="dash">Support for proxy objects for entities with public properties.</li>
<li class="dash">Add support for composite primary keys in DQL <code>IDENTITY()</code> function.
  See the <a href="http://docs.doctrine-project.org/en/latest/reference/dql-doctrine-query-language.html#dql-select-examples">documentation
 </a>
  for more details.</li>
<li class="dash">Introduced ANSI SQL Quoting Strategy that does not attempt to quote and modify
  columns during SQL generation.</li>
<li class="dash">Joins between arbitrary entities are now possible in DQL by using the syntax
  <code>FROM Foo f JOIN Bar b WITH f.id = b.id</code>.</li>
</ul>

<a id="title.4"></a><h1>Documentation</h1>
<p>With 2.4 we merged the documentation into the repositories itself. We have seen
a much increased amount of Pull Requests since then and also improved the
documentation ourselves quite alot for 2.4.</p>
<p>Besides fixes and additions of all the new features, we tried to improve the
style of the documentation. Many of the chapters have been refactored completly
and hopefully address many of the valid concers of our users.</p>

        </div>
                    <p class="categories">
            Categories:
                        <a href="https://new.doctrine-project.org/blog/categories/release">release</a>                        </p>
                
                    <nav class="article">
                <ul class="pagination">
                                            <li class="page-item"><a class="page-link previous" href="https://new.doctrine-project.org/2013/05/11/doctrine-2-4-beta2" title="Doctrine 2.4 Beta2 released"><span class="title">Previous: Doctrine 2.4 Beta2 released</span></a></li>
                                                                <li class="page-item"><a class="page-link next" href="https://new.doctrine-project.org/2013/09/25/phpcr-odm-qbv2" title="PHPCR ODM QueryBuilder v2"><span class="title">Next: PHPCR ODM QueryBuilder v2</span></a></li>
                                    </ul>
            </nav>
            </article>



    </main>

                    <footer class="footer">
                <div class="container">
                    <i class="fa fa-copyright"></i> 2018 Doctrine
                </div>
            </footer>
        
        <script
          src="https://code.jquery.com/jquery-3.3.1.min.js"
          integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
          crossorigin="anonymous"></script>

        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>

        <script
            src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>

        <script src="https://new.doctrine-project.org/components/highlightjs/highlight.pack.js?30"></script>
        <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
        <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0"></script>

        <script src="https://new.doctrine-project.org/js/sidebar.js?30"></script>

        <script type="text/javascript">
            // When the user scrolls down 20px from the top of the document, show the button
            window.onscroll = function() {scrollFunction()};

            function scrollFunction() {
                if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                    document.getElementById('back-to-top').style.display = "block";
                } else {
                    document.getElementById('back-to-top').style.display = "none";
                }
            }

            // When the user clicks on the button, scroll to the top of the document
            function topFunction() {
                document.body.scrollTop = 0; // For Safari
                document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
            }
        </script>

        <button onclick="topFunction()" id="back-to-top" title="Go to top">Top</button>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
        
            </body>
</html>
