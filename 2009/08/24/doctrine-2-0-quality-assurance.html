<!DOCTYPE html>
<html>
    <head>
        <title>Doctrine 2.0 Quality Assurance - Doctrine: PHP Open Source Project</title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="The Doctrine Project is an open-source PHP project that is home to home to several PHP libraries primarily focused on database storage and object mapping. The core projects are the Object Relational Mapper (ORM) and the Database Abstraction Layer (DBAL) it is built upon.
">

        <meta name="keywords" content="php,mysql,orm,dbal,database,mongodb,odm,annotations,migrations,cache,couchdb">

                    <meta name="robots" content="index, follow">
        
        
            <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "NewsArticle",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://www.doctrine-project.org/2009/08/24/doctrine-2-0-quality-assurance.html"
        },
        "headline": "Doctrine 2.0 Quality Assurance",
        "image": [
            "https://www.doctrine-project.org/images/og.png"
        ],
        "datePublished": "2009-08-24T00:00:00-04:00",
        "dateModified": "2009-08-24T00:00:00-04:00",
        "author": {
            "@type": "Person",
            "name": "guilhermeblanco"
        },
        "publisher": {
            "@type": "Organization",
            "name": "Doctrine",
            "logo": {
                "@type": "ImageObject",
                "url": "https://www.doctrine-project.org/images/og.png"
            }
        },
        "description": "Greetings folks!

                
    Today I&amp;#039;d like to talk about Quality Assurance in PHP pr"
    }
    </script>
    <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/prismjs.css?d2443b"
                            integrity="sha384-IcJ7eow//K0xRBscZjnk8kawYxbm2eUAZ9D6Xf/n0yuAi1NCvwOkep1S8XqPNB3E"
                        crossorigin="anonymous"
    />

        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?74d1a1"
                        integrity="sha384-dAaEn2ZyD87ZE8ZaTOc39tmNlPuZWU7Tvl3K1W/IXH5rtko68QAI5cdG6HLv97IH"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/2009/08/24/doctrine-2-0-quality-assurance.html" />
        <meta property="og:title" content="Doctrine 2.0 Quality Assurance - Doctrine: PHP Open Source Project" />
        <meta property="og:description" content="The Doctrine Project is an open-source PHP project that is home to home to several PHP libraries primarily focused on database storage and object mapping. The core projects are the Object Relational Mapper (ORM) and the Database Abstraction Layer (DBAL) it is built upon.
" />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

        
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/sponsorship.html">Sponsorship</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/doctrine-website/edit/master/source/blog/2009-08-24-doctrine-2-0-quality-assurance.md" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <main role="main" class="container-wrapper container">
            <article>
        <div class="row">
            <div class="col-lg-8 col-12">
                <header>
                    <h2>Doctrine 2.0 Quality Assurance</h2>
                </header>

                <p class="lead">
                    Posted on <date>August 24, 2009</date>
                                            by
                                                    guilhermeblanco
                                                            </p>
            </div>

            <div class="col-lg-4 col-12">
                <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>
            </div>
        </div>

        <hr />

        <div>
                
            
                
    <p>Greetings folks!</p>

                
    <p>Today I&#039;d like to talk about Quality Assurance in PHP projects. Currently, PHP lacks good tools for QA, but thanks to a special PHP user, <a href="https://sebastian-bergmann.de/">Sebastian Bergmann</a> , this is changing gradually. If you don&#039;t know him, you can visit his blog and check about projects he&#039;s on. For lazy people, he&#039;s the author of <a href="https://www.phpunit.de">PHPUnit</a> , a de-facto Unit Test suite in PHP.</p>

                
    <p>Doctrine 2.0 uses PHPUnit as our Unit Test suite. It relies on PEAR to be installed, but you can also install it via SVN.</p>

                
    <p>The main initiative of QA in PHP projects is the website [<a href="http://qualityassuranceinphpprojects.com">http://qualityassuranceinphpprojects.com</a>](<a href="http://qualityassuranceinphpprojects.com">http://qualityassuranceinphpprojects.com</a>). There you can find available tools to measure, for example, how complex is your project and possible semantical issues.</p>

                
    <p>I have applied some of these tests against <a href="http://trac.doctrine-project.org/browser/trunk">Doctrine 2.0</a> to see how complex it is and if it can be optimized more. The first test I run is a trace about how complex our code base is. The tool I used is <a href="https://github.com/sebastianbergmann/phploc/tree/master">phploc</a>. Check out the results:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="b9cf350cad75beebaa087796326261e0962e8708"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="b9cf350cad75beebaa087796326261e0962e8708"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-b9cf350cad75beebaa087796326261e0962e8708-1" class="line-number-anchor" /><a href="#line-number-b9cf350cad75beebaa087796326261e0962e8708-1">1</a></td><td class="code-line" rowspan="17">[bash]
MacBlanco:bin guilhermeblanco$ ./phploc /Users/guilhermeblanco/www/doctrine/trunk/lib
phploc <span class="hljs-number">1.1</span><span class="hljs-number">.1</span> by Sebastian Bergmann.

Directories:                               <span class="hljs-number">31</span>
Files:                                    <span class="hljs-number">210</span>

Lines of Code (LOC):                    <span class="hljs-number">38826</span>
Comment Lines of Code (CLOC):           <span class="hljs-number">17004</span>
Non-Comment Lines of Code (NCLOC):      <span class="hljs-number">21822</span>

Interfaces:                                <span class="hljs-number">11</span>
Classes:                                  <span class="hljs-number">229</span>
Non-<span class="hljs-keyword">Static</span> Methods:                      <span class="hljs-number">1699</span>
<span class="hljs-keyword">Static</span> Methods:                           <span class="hljs-number">106</span>
Functions:                                 <span class="hljs-number">95</span>
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-b9cf350cad75beebaa087796326261e0962e8708-2" class="line-number-anchor" /><a href="#line-number-b9cf350cad75beebaa087796326261e0962e8708-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b9cf350cad75beebaa087796326261e0962e8708-3" class="line-number-anchor" /><a href="#line-number-b9cf350cad75beebaa087796326261e0962e8708-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b9cf350cad75beebaa087796326261e0962e8708-4" class="line-number-anchor" /><a href="#line-number-b9cf350cad75beebaa087796326261e0962e8708-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b9cf350cad75beebaa087796326261e0962e8708-5" class="line-number-anchor" /><a href="#line-number-b9cf350cad75beebaa087796326261e0962e8708-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b9cf350cad75beebaa087796326261e0962e8708-6" class="line-number-anchor" /><a href="#line-number-b9cf350cad75beebaa087796326261e0962e8708-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b9cf350cad75beebaa087796326261e0962e8708-7" class="line-number-anchor" /><a href="#line-number-b9cf350cad75beebaa087796326261e0962e8708-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b9cf350cad75beebaa087796326261e0962e8708-8" class="line-number-anchor" /><a href="#line-number-b9cf350cad75beebaa087796326261e0962e8708-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b9cf350cad75beebaa087796326261e0962e8708-9" class="line-number-anchor" /><a href="#line-number-b9cf350cad75beebaa087796326261e0962e8708-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b9cf350cad75beebaa087796326261e0962e8708-10" class="line-number-anchor" /><a href="#line-number-b9cf350cad75beebaa087796326261e0962e8708-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b9cf350cad75beebaa087796326261e0962e8708-11" class="line-number-anchor" /><a href="#line-number-b9cf350cad75beebaa087796326261e0962e8708-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b9cf350cad75beebaa087796326261e0962e8708-12" class="line-number-anchor" /><a href="#line-number-b9cf350cad75beebaa087796326261e0962e8708-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b9cf350cad75beebaa087796326261e0962e8708-13" class="line-number-anchor" /><a href="#line-number-b9cf350cad75beebaa087796326261e0962e8708-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b9cf350cad75beebaa087796326261e0962e8708-14" class="line-number-anchor" /><a href="#line-number-b9cf350cad75beebaa087796326261e0962e8708-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b9cf350cad75beebaa087796326261e0962e8708-15" class="line-number-anchor" /><a href="#line-number-b9cf350cad75beebaa087796326261e0962e8708-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b9cf350cad75beebaa087796326261e0962e8708-16" class="line-number-anchor" /><a href="#line-number-b9cf350cad75beebaa087796326261e0962e8708-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b9cf350cad75beebaa087796326261e0962e8708-17" class="line-number-anchor" /><a href="#line-number-b9cf350cad75beebaa087796326261e0962e8708-17">17</a></td></tr></table></div></code></pre>
                
    <p>Of course it still misses a couple of code to implement (CLI Tasks, Locking strategies, ID Generators), but now we know how big Doctrine 2.0 is. Then, I decided to check duplicated code (possible optimization locations). The tool <a href="https://github.com/sebastianbergmann/phpcpd/tree/master">phpcpd</a> gave me this feedback:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="5de2555ab680a6e516f8a890aebf4fb83749a650"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="5de2555ab680a6e516f8a890aebf4fb83749a650"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-5de2555ab680a6e516f8a890aebf4fb83749a650-1" class="line-number-anchor" /><a href="#line-number-5de2555ab680a6e516f8a890aebf4fb83749a650-1">1</a></td><td class="code-line" rowspan="11">[bash]
MacBlanco:bin guilhermeblanco$ ./phpcpd /Users/guilhermeblanco/www/doctrine/trunk/lib
phpcpd <span class="hljs-number">1.1</span><span class="hljs-number">.1</span> by Sebastian Bergmann.

Found <span class="hljs-number">1</span> exact clones with <span class="hljs-number">15</span> duplicated lines in <span class="hljs-number">2</span> files:

  - ./Doctrine/DBAL/Platforms/MsSqlPlatform.php:<span class="hljs-number">126</span><span class="hljs-number">-141</span>
    ./Doctrine/DBAL/Platforms/MySqlPlatform.php:<span class="hljs-number">633</span><span class="hljs-number">-648</span>

<span class="hljs-number">0.04</span>% duplicated lines out of <span class="hljs-number">38826</span> total lines of code.
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-5de2555ab680a6e516f8a890aebf4fb83749a650-2" class="line-number-anchor" /><a href="#line-number-5de2555ab680a6e516f8a890aebf4fb83749a650-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5de2555ab680a6e516f8a890aebf4fb83749a650-3" class="line-number-anchor" /><a href="#line-number-5de2555ab680a6e516f8a890aebf4fb83749a650-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5de2555ab680a6e516f8a890aebf4fb83749a650-4" class="line-number-anchor" /><a href="#line-number-5de2555ab680a6e516f8a890aebf4fb83749a650-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5de2555ab680a6e516f8a890aebf4fb83749a650-5" class="line-number-anchor" /><a href="#line-number-5de2555ab680a6e516f8a890aebf4fb83749a650-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5de2555ab680a6e516f8a890aebf4fb83749a650-6" class="line-number-anchor" /><a href="#line-number-5de2555ab680a6e516f8a890aebf4fb83749a650-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5de2555ab680a6e516f8a890aebf4fb83749a650-7" class="line-number-anchor" /><a href="#line-number-5de2555ab680a6e516f8a890aebf4fb83749a650-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5de2555ab680a6e516f8a890aebf4fb83749a650-8" class="line-number-anchor" /><a href="#line-number-5de2555ab680a6e516f8a890aebf4fb83749a650-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5de2555ab680a6e516f8a890aebf4fb83749a650-9" class="line-number-anchor" /><a href="#line-number-5de2555ab680a6e516f8a890aebf4fb83749a650-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5de2555ab680a6e516f8a890aebf4fb83749a650-10" class="line-number-anchor" /><a href="#line-number-5de2555ab680a6e516f8a890aebf4fb83749a650-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5de2555ab680a6e516f8a890aebf4fb83749a650-11" class="line-number-anchor" /><a href="#line-number-5de2555ab680a6e516f8a890aebf4fb83749a650-11">11</a></td></tr></table></div></code></pre>
                
    <p>I asked myself: It must be a method that could be moved to <code>AbstractPlatform.php</code>! So I opened both files and... no! It&#039;s a piece of code that cannot be optimized. So, consider Doctrine 2.0 extremely optimized, because there is no duplicated code internally!</p>

                
    <p>Now Unit Test suite. Doctrine 2.0 has a steadily growing set of Unit Tests, and we are regularly analyzing the code coverage analysis to find parts that need more tests. Here is how such a coverage report is generated:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-1" class="line-number-anchor" /><a href="#line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-1">1</a></td><td class="code-line" rowspan="22">[bash]
MacBlanco:tests guilhermeblanco$ phpunit --coverage-html=./_coverage Doctrine_Tests_AllTests
PHPUnit <span class="hljs-number">3.3</span><span class="hljs-number">.17</span> by Sebastian Bergmann.

.....................................S.S....................  <span class="hljs-number">60</span> / <span class="hljs-number">562</span>
............................................................ <span class="hljs-number">120</span> / <span class="hljs-number">562</span>
.....................................................SSSSSSS <span class="hljs-number">180</span> / <span class="hljs-number">562</span>
SSSSSSSSSSSSSSSS............................................ <span class="hljs-number">240</span> / <span class="hljs-number">562</span>
............................................................ <span class="hljs-number">300</span> / <span class="hljs-number">562</span>
............................................................ <span class="hljs-number">360</span> / <span class="hljs-number">562</span>
............................................................ <span class="hljs-number">420</span> / <span class="hljs-number">562</span>
............................................................ <span class="hljs-number">480</span> / <span class="hljs-number">562</span>
............................................................ <span class="hljs-number">540</span> / <span class="hljs-number">562</span>
...SS.................

Time: <span class="hljs-number">18</span> seconds

OK, but incomplete <span class="hljs-keyword">or</span> skipped tests!
Tests: <span class="hljs-number">562</span>, Assertions: <span class="hljs-number">1420</span>, Skipped: <span class="hljs-number">27.</span>

Generating code coverage report, this may take a moment.
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-2" class="line-number-anchor" /><a href="#line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-3" class="line-number-anchor" /><a href="#line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-4" class="line-number-anchor" /><a href="#line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-5" class="line-number-anchor" /><a href="#line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-6" class="line-number-anchor" /><a href="#line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-7" class="line-number-anchor" /><a href="#line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-8" class="line-number-anchor" /><a href="#line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-9" class="line-number-anchor" /><a href="#line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-10" class="line-number-anchor" /><a href="#line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-11" class="line-number-anchor" /><a href="#line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-12" class="line-number-anchor" /><a href="#line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-13" class="line-number-anchor" /><a href="#line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-14" class="line-number-anchor" /><a href="#line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-15" class="line-number-anchor" /><a href="#line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-16" class="line-number-anchor" /><a href="#line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-17" class="line-number-anchor" /><a href="#line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-18" class="line-number-anchor" /><a href="#line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-19" class="line-number-anchor" /><a href="#line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-20" class="line-number-anchor" /><a href="#line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-21" class="line-number-anchor" /><a href="#line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-22" class="line-number-anchor" /><a href="#line-number-38015f45a8bc4fc1bf4a4e34ac078ecde30df1cd-22">22</a></td></tr></table></div></code></pre>
                
    <p>The generated coverage can be seen in the following picture.</p>

                
    <p>Finally, some metrics are good to inspect how stable is our code. I applied <a href="http://pdepend.org">pdepend</a> , and it gave me these results:</p>

                
    <p><img src="https://www.doctrine-project.org/blog-images/doctrine-2-0-qa/picture2.png" alt=""/></p>

                
    <p><img src="https://www.doctrine-project.org/blog-images/doctrine-2-0-qa/picture3.png" alt=""/></p>

                
    <p>The command I ran was:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="beb43daedb6b4f3e510de939344a6988ed264ebd"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="beb43daedb6b4f3e510de939344a6988ed264ebd"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-beb43daedb6b4f3e510de939344a6988ed264ebd-1" class="line-number-anchor" /><a href="#line-number-beb43daedb6b4f3e510de939344a6988ed264ebd-1">1</a></td><td class="code-line" rowspan="3">[bash]
MacBlanco:bin guilhermeblanco$ ./pdepend --summary-xml=/Users/guilhermeblanco/summary.xml --jdepend-chart=/Users/guilhermeblanco/jdepend.svg --overview-pyramid=/Users/guilhermeblanco/pyramid.svg /Users/guilhermeblanco/www/doctrine/trunk/lib
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-beb43daedb6b4f3e510de939344a6988ed264ebd-2" class="line-number-anchor" /><a href="#line-number-beb43daedb6b4f3e510de939344a6988ed264ebd-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-beb43daedb6b4f3e510de939344a6988ed264ebd-3" class="line-number-anchor" /><a href="#line-number-beb43daedb6b4f3e510de939344a6988ed264ebd-3">3</a></td></tr></table></div></code></pre>
                
    <p>Here is the generated summary. If you have any other ideas/tools that we should apply in our codebase to generate other metrics, please drop us a message!</p>

        
    
        </div>
    </article>
    </main>

        <button id="back-to-top" title="Go to top">Top</button>

                
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?1546fc"
                            integrity="sha384-ix9eb2EZyp9uayYpxmCQoylbz8msHl5wOg/aqZnD/3cxszNUGePN656MRg5GEgbm"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = '';
            var versionSlug = 'latest';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            <script
            src="https://www.doctrine-project.org/frontend/js/prismjs.js?8aa1bb"
                            integrity="sha384-3EhgfeqnppOxFBVU40g8gS+IVvmh5+wGpe4mG2otPyExrkK9t4aq8uCUy2IDLKkR"
                        crossorigin="anonymous">
    </script>
    </body>
</html>
