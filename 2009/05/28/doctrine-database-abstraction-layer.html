<!DOCTYPE html>
<html>
    <head>
        <title>Doctrine Database Abstraction Layer - Doctrine: PHP Open Source Project</title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="The Doctrine Project is an open-source PHP project that is home to home to several PHP libraries primarily focused on database storage and object mapping. The core projects are the Object Relational Mapper (ORM) and the Database Abstraction Layer (DBAL) it is built upon.
">

        <meta name="keywords" content="php,mysql,orm,dbal,database,mongodb,odm,annotations,migrations,cache,couchdb">

                    <meta name="robots" content="index, follow">
        
        
            <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "NewsArticle",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://www.doctrine-project.org/2009/05/28/doctrine-database-abstraction-layer.html"
        },
        "headline": "Doctrine Database Abstraction Layer",
        "image": [
            "https://www.doctrine-project.org/images/og.png"
        ],
        "datePublished": "2009-05-28T00:00:00-04:00",
        "dateModified": "2009-05-28T00:00:00-04:00",
        "author": {
            "@type": "Person",
            "name": "jwage"
        },
        "publisher": {
            "@type": "Organization",
            "name": "Doctrine",
            "logo": {
                "@type": "ImageObject",
                "url": "https://www.doctrine-project.org/images/og.png"
            }
        },
        "description": "One of the greatest advantages to using Doctrine is what is under the hood that powers it. That is t"
    }
    </script>
    <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/prismjs.css?d2443b"
                            integrity="sha384-IcJ7eow//K0xRBscZjnk8kawYxbm2eUAZ9D6Xf/n0yuAi1NCvwOkep1S8XqPNB3E"
                        crossorigin="anonymous"
    />

        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?6e5d9f"
                        integrity="sha384-1gHMA2pCh3C7C5PdanZqLyU+p0j9aNUSKdqMxyST9hhhoAcooEmUcqk0Rj7owse5"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/2009/05/28/doctrine-database-abstraction-layer.html" />
        <meta property="og:title" content="Doctrine Database Abstraction Layer - Doctrine: PHP Open Source Project" />
        <meta property="og:description" content="The Doctrine Project is an open-source PHP project that is home to home to several PHP libraries primarily focused on database storage and object mapping. The core projects are the Object Relational Mapper (ORM) and the Database Abstraction Layer (DBAL) it is built upon.
" />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

        
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/sponsorship.html">Sponsorship</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/doctrine-website/edit/master/source/blog/2009-05-28-doctrine-database-abstraction-layer.md" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <main role="main" class="container-wrapper container">
            <article>
        <div class="row">
            <div class="col-lg-8 col-12">
                <header>
                    <h2>Doctrine Database Abstraction Layer</h2>
                </header>

                <p class="lead">
                    Posted on <date>May 28, 2009</date>
                                            by
                                                    jwage
                                                            </p>
            </div>

            <div class="col-lg-4 col-12">
                <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>
            </div>
        </div>

        <hr />

        <div>
                
            
                
    <p>One of the greatest advantages to using Doctrine is what is under the hood that powers it. That is the database abstraction layer. This powerful layer is based off of a lot of different code from various popular PHP projects such as PEAR MDB2 and Zend_Db. It provides you a nice intuitive interface for retrieving information about your database schema as well as issuing DDL statements to change it.</p>

                <h1 class="section-header ">
    <a href="#public-method-index">
        Public Method Index
        <i class="fas fa-link"></i>
    </a>
</h1>
                
    <p>The database abstraction layer features the following methods in 1.x and some new methods added in 2.0.</p>

                <h2 class="section-header ">
    <a href="#1-x-methods">
        1.x Methods
        <i class="fas fa-link"></i>
    </a>
</h2>
                

<ul>
    <li class="dash">listDatabases()</li>
    <li class="dash">listFunctions()</li>
    <li class="dash">listTriggers()</li>
    <li class="dash">listSequences()</li>
    <li class="dash">listTableConstraints()</li>
    <li class="dash">listTableColumns()</li>
    <li class="dash">listTableIndexes()</li>
    <li class="dash">listTables()</li>
    <li class="dash">listUsers()</li>
    <li class="dash">listViews()</li>
    <li class="dash">dropDatabase()</li>
    <li class="dash">dropTable()</li>
    <li class="dash">dropIndex()</li>
    <li class="dash">dropConstraint()</li>
    <li class="dash">dropForeignKey()</li>
    <li class="dash">dropSequence()</li>
    <li class="dash">createDatabase()</li>
    <li class="dash">createTable()</li>
    <li class="dash">createSequence()</li>
    <li class="dash">createConstraint()</li>
    <li class="dash">createIndex()</li>
    <li class="dash">createForeignKey()</li>
    <li class="dash">alterTable()</li>
</ul>

                <h2 class="section-header ">
    <a href="#new-methods-in-2-0">
        New Methods in 2.0
        <i class="fas fa-link"></i>
    </a>
</h2>
                

<ul>
    <li class="dash">renameTable()</li>
    <li class="dash">addTableColumn()</li>
    <li class="dash">removeTableColumn()</li>
    <li class="dash">changeTableColumn()</li>
    <li class="dash">renameTableColumn()</li>
    <li class="dash">dropView()</li>
    <li class="dash">createView()</li>
</ul>

                <h1 class="section-header ">
    <a href="#some-2-0-examples">
        Some 2.0 Examples
        <i class="fas fa-link"></i>
    </a>
</h1>
                
    <p>Here are some code examples using the Doctrine 2.0 Database Abstraction Layer. We&#039;ll show you how you can execute these examples yourself by checking out Doctrine 2.0 from SVN and setting up a PHP script to test with.</p>

                <blockquote>
    <p><strong>TIP</strong> The database abstraction layer can be used standalone so if you just want a nice standard layer for communicating with your database then Doctrine works for you too.</p>
</blockquote>
                <h2 class="section-header ">
    <a href="#checkout-doctrine">
        Checkout Doctrine
        <i class="fas fa-link"></i>
    </a>
</h2>
                    <pre class="code-block-table" id="062005b7eb43a2cd3294775ddf039329e17b7dcb"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="062005b7eb43a2cd3294775ddf039329e17b7dcb"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">$ svn co http:<span class="hljs-comment">//svn.doctrine-project.org/trunk doctrine2</span></code><code class="line language-php">$ cd doctrine2</code><code class="line language-php"></code><code class="empty"></code></pre>
                <h2 class="section-header ">
    <a href="#create-test-script">
        Create Test Script
        <i class="fas fa-link"></i>
    </a>
</h2>
                
    <p>Create a new PHP script anywhere on your server and name it <code>test.php</code>. Now lets initialize Doctrine so we can work with it. First we need to set our <code>ClassLoader</code>.</p>

                    <pre class="code-block-table" id="69bed16c9c57a023b7c588ddd0f86428ec270f4b"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="69bed16c9c57a023b7c588ddd0f86428ec270f4b"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-comment">// test.php</span></code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">require</span> <span class="hljs-string">'lib/Doctrine/Common/ClassLoader.php'</span>;</code><code class="line language-php"></code><code class="line language-php">$classLoader = <span class="hljs-keyword">new</span> \Doctrine\Common\ClassLoader();</code><code class="line language-php">$classLoader-&gt;setBasePath(<span class="hljs-string">'Doctrine'</span>, <span class="hljs-keyword">__DIR__</span> . <span class="hljs-string">'/lib'</span>);</code><code class="line language-php"></code><code class="empty"></code></pre>
                <h2 class="section-header ">
    <a href="#create-connection">
        Create Connection
        <i class="fas fa-link"></i>
    </a>
</h2>
                
    <p>Now we need to create our <code>Connection</code> instance.</p>

                    <pre class="code-block-table" id="79cb2ba023b312972bce487d6495c04f3dddd9b5"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="79cb2ba023b312972bce487d6495c04f3dddd9b5"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-comment">// test.php</span></code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">// ...</span></code><code class="line language-php"></code><code class="line language-php">$connectionOptions = <span class="hljs-keyword">array</span>(</code><code class="line language-php">    <span class="hljs-string">'driver'</span> =&gt; <span class="hljs-string">'pdo_mysql'</span>,</code><code class="line language-php">    <span class="hljs-string">'dbname'</span> =&gt; <span class="hljs-string">'mysql'</span>,</code><code class="line language-php">    <span class="hljs-string">'user'</span> =&gt; <span class="hljs-string">'root'</span>,</code><code class="line language-php">    <span class="hljs-string">'password'</span> =&gt; <span class="hljs-string">''</span></code><code class="line language-php">);</code><code class="line language-php">$driver = <span class="hljs-keyword">new</span> \Doctrine\DBAL\Driver\PDOMySql\Driver;</code><code class="line language-php">$conn = <span class="hljs-keyword">new</span> \Doctrine\DBAL\Connection($connectionOptions, $driver);</code><code class="line language-php"></code><code class="line language-php">**NOTE** Notice how we are temporarily connecting to the special</code><code class="line language-php">database <span class="hljs-keyword">for</span> MySQL named ``mysql``. We<span class="hljs-string">'ll use this database to</span></code><code class="line language-php">connect to so we can create our test database.</code><code class="line language-php"></code><code class="empty"></code></pre>
                
    <p>Now we can simply retrieve the <code>SchemaManager</code> instance from the <code>Connection</code> driver and begin to execute some of the methods we listed above.</p>

                    <pre class="code-block-table" id="2ac904c8a32c7e3427b79434efc7119dc4e9b6db"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="2ac904c8a32c7e3427b79434efc7119dc4e9b6db"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-comment">// test.php</span></code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">// ...</span></code><code class="line language-php"></code><code class="line language-php">$sm = $conn-&gt;getSchemaManager();</code><code class="line language-php"></code><code class="empty"></code></pre>
                
    <p>The first thing we could do is create the database by calling the <code>createDatabase()</code> method on the <code>$sm</code> instance.</p>

                    <pre class="code-block-table" id="ee38672df8583c8f0d3c01b09dbfc71da4e4ecbf"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="ee38672df8583c8f0d3c01b09dbfc71da4e4ecbf"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-comment">// test.php</span></code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">// ...</span></code><code class="line language-php"></code><code class="line language-php">$sm-&gt;createDatabase(<span class="hljs-string">'doctrine2test'</span>);</code><code class="line language-php"></code><code class="empty"></code></pre>
                
    <p>Now that we have the database created, change your <code>$connectionOptions</code> key <code>dbname</code> to specify <code>doctrine2test</code> so that we connect to the new database that we just created.</p>

                    <pre class="code-block-table" id="e8d859b8908cd7b8100e45d5f4e275be4b812d52"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="e8d859b8908cd7b8100e45d5f4e275be4b812d52"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-comment">// test.php</span></code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">// ...</span></code><code class="line language-php"></code><code class="line language-php">$connectionOptions = <span class="hljs-keyword">array</span>(</code><code class="line language-php">    <span class="hljs-string">'driver'</span> =&gt; <span class="hljs-string">'pdo_mysql'</span>,</code><code class="line language-php">    <span class="hljs-string">'dbname'</span> =&gt; <span class="hljs-string">'doctrine2test'</span>,</code><code class="line language-php">    <span class="hljs-string">'user'</span> =&gt; <span class="hljs-string">'root'</span>,</code><code class="line language-php">    <span class="hljs-string">'password'</span> =&gt; <span class="hljs-string">''</span></code><code class="line language-php">);</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">// ...</span></code><code class="line language-php"></code><code class="empty"></code></pre>
                
    <p>Now we can begin adding things to the new database. For example we could issue a command to create a new table.</p>

                    <pre class="code-block-table" id="c2f31fda4c0da796fa231841c64731012a3762e8"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="c2f31fda4c0da796fa231841c64731012a3762e8"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-comment">// test.php</span></code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">// ...</span></code><code class="line language-php"></code><code class="line language-php">$columns = <span class="hljs-keyword">array</span>(</code><code class="line language-php">    <span class="hljs-string">'id'</span> =&gt; <span class="hljs-keyword">array</span>(</code><code class="line language-php">        <span class="hljs-string">'type'</span> =&gt; \Doctrine\DBAL\Type::getType(<span class="hljs-string">'integer'</span>),</code><code class="line language-php">        <span class="hljs-string">'autoincrement'</span> =&gt; <span class="hljs-keyword">true</span>,</code><code class="line language-php">        <span class="hljs-string">'primary'</span> =&gt; <span class="hljs-keyword">true</span>,</code><code class="line language-php">        <span class="hljs-string">'notnull'</span> =&gt; <span class="hljs-keyword">true</span></code><code class="line language-php">    ),</code><code class="line language-php">    <span class="hljs-string">'test'</span> =&gt; <span class="hljs-keyword">array</span>(</code><code class="line language-php">        <span class="hljs-string">'type'</span> =&gt;  \Doctrine\DBAL\Type::getType(<span class="hljs-string">'string'</span>),</code><code class="line language-php">        <span class="hljs-string">'length'</span> =&gt; <span class="hljs-number">255</span></code><code class="line language-php">    )</code><code class="line language-php">);</code><code class="line language-php"></code><code class="line language-php">$options = <span class="hljs-keyword">array</span>();</code><code class="line language-php"></code><code class="line language-php">$sm-&gt;createTable(<span class="hljs-string">'new_table'</span>, $columns, $options);</code><code class="line language-php"></code><code class="empty"></code></pre>
                
    <p>Then after creating the table I can later add a new column to it.</p>

                    <pre class="code-block-table" id="a0a8bf8feff1cfa575d9c122e321a365c5d7d4f1"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="a0a8bf8feff1cfa575d9c122e321a365c5d7d4f1"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-comment">// test.php</span></code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">// ...</span></code><code class="line language-php"></code><code class="line language-php">$column = <span class="hljs-keyword">array</span>(</code><code class="line language-php">    <span class="hljs-string">'type'</span> =&gt;  \Doctrine\DBAL\Type::getType(<span class="hljs-string">'string'</span>),</code><code class="line language-php">    <span class="hljs-string">'length'</span> =&gt; <span class="hljs-number">255</span></code><code class="line language-php">);</code><code class="line language-php"></code><code class="line language-php">$sm-&gt;addTableColumn(<span class="hljs-string">'new_table'</span>, <span class="hljs-string">'new_column'</span>, $column);</code><code class="line language-php"></code><code class="empty"></code></pre>
                
    <p>Or I could even drop the table completely.</p>

                    <pre class="code-block-table" id="6ebb17b9f99ed0223d59e8f86862efe0684d0e21"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="6ebb17b9f99ed0223d59e8f86862efe0684d0e21"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-comment">// test.php</span></code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">// ...</span></code><code class="line language-php"></code><code class="line language-php">$sm-&gt;dropTable(<span class="hljs-string">'new_table'</span>);</code><code class="line language-php"></code><code class="line language-php">**NOTE** Not all of the above listed methods are supported by every</code><code class="line language-php">single DBMS. <span class="hljs-keyword">If</span> your DBMS does not support the functionality then</code><code class="line language-php">Doctrine will <span class="hljs-keyword">throw</span> exceptions accordingly.</code><code class="line language-php"></code><code class="empty"></code></pre>
                
    <p>All the above example are very simple schema changes but Doctrine is capable of manipulating very complex schemas from a standardized programmatic interface. The Doctrine Migrations extension makes use of this layer heavily to do all the operations for changing your database schemas.</p>

        
    
        </div>
    </article>
    </main>

        <button id="back-to-top" title="Go to top">Top</button>

                
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?1546fc"
                            integrity="sha384-ix9eb2EZyp9uayYpxmCQoylbz8msHl5wOg/aqZnD/3cxszNUGePN656MRg5GEgbm"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = '';
            var versionSlug = 'latest';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            <script
            src="https://www.doctrine-project.org/frontend/js/prismjs.js?8aa1bb"
                            integrity="sha384-3EhgfeqnppOxFBVU40g8gS+IVvmh5+wGpe4mG2otPyExrkK9t4aq8uCUy2IDLKkR"
                        crossorigin="anonymous">
    </script>
    </body>
</html>
