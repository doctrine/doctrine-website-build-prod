<!DOCTYPE html>
<html>
    <head>
        <title>Using Behaviors to Share Relationship Properties - Doctrine: PHP Open Source Project</title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="The Doctrine Project is an open-source PHP project that is home to home to several PHP libraries primarily focused on database storage and object mapping. The core projects are the Object Relational Mapper (ORM) and the Database Abstraction Layer (DBAL) it is built upon.
">

        <meta name="keywords" content="php,mysql,orm,dbal,database,mongodb,odm,annotations,migrations,cache,couchdb">

                    <meta name="robots" content="index, follow">
        
        
            <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "NewsArticle",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://www.doctrine-project.org/2009/02/04/using-behaviors-to-share-relationship-properties.html"
        },
        "headline": "Using Behaviors to Share Relationship Properties",
        "image": [
            "https://www.doctrine-project.org/images/og.png"
        ],
        "datePublished": "2009-02-04T00:00:00-05:00",
        "dateModified": "2009-02-04T00:00:00-05:00",
        "author": {
            "@type": "Person",
            "name": "jwage"
        },
        "publisher": {
            "@type": "Organization",
            "name": "Doctrine",
            "logo": {
                "@type": "ImageObject",
                "url": "https://www.doctrine-project.org/images/og.png"
            }
        },
        "description": "Define The Schema
        
    

                
    In this article we will demonstrate some more "
    }
    </script>
    <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/prismjs.css?d2443b"
                            integrity="sha384-IcJ7eow//K0xRBscZjnk8kawYxbm2eUAZ9D6Xf/n0yuAi1NCvwOkep1S8XqPNB3E"
                        crossorigin="anonymous"
    />

        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?74d1a1"
                        integrity="sha384-dAaEn2ZyD87ZE8ZaTOc39tmNlPuZWU7Tvl3K1W/IXH5rtko68QAI5cdG6HLv97IH"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/2009/02/04/using-behaviors-to-share-relationship-properties.html" />
        <meta property="og:title" content="Using Behaviors to Share Relationship Properties - Doctrine: PHP Open Source Project" />
        <meta property="og:description" content="The Doctrine Project is an open-source PHP project that is home to home to several PHP libraries primarily focused on database storage and object mapping. The core projects are the Object Relational Mapper (ORM) and the Database Abstraction Layer (DBAL) it is built upon.
" />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

        
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/sponsorship.html">Sponsorship</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/doctrine-website/edit/master/source/blog/2009-02-04-using-behaviors-to-share-relationship-properties.md" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <main role="main" class="container-wrapper container">
            <article>
        <div class="row">
            <div class="col-lg-8 col-12">
                <header>
                    <h2>Using Behaviors to Share Relationship Properties</h2>
                </header>

                <p class="lead">
                    Posted on <date>February 4, 2009</date>
                                            by
                                                    jwage
                                                            </p>
            </div>

            <div class="col-lg-4 col-12">
                <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>
            </div>
        </div>

        <hr />

        <div>
                
            
                <h1 class="section-header ">
    <a href="#define-the-schema">
        Define The Schema
        <i class="fas fa-link"></i>
    </a>
</h1>
                
    <p>In this article we will demonstrate some more ways to add functionality to Doctrine by using the behavior system. We will call this behavior <code>SharedProperties</code> and it allows you to share properties between your models and one-to-one relationships. Here is an example schema that will make use of the behavior we will write.</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="1cd540a1ea170aac4492023cbb15e103bb1972bc"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="1cd540a1ea170aac4492023cbb15e103bb1972bc"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-1" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-1">1</a></td><td class="code-line" rowspan="35">[yml]
Entity:
  actAs:
    Sluggable:
      fields: [name]
    Timestampable:
  columns:
    name: string(<span class="hljs-number">255</span>)
    is_active:
      type: boolean
      <span class="hljs-keyword">default</span>: <span class="hljs-keyword">false</span>

BlogPost:
  actAs:
    SharedProperties:
      relations: [Entity]
  columns:
    title: <span class="hljs-string">"string(255)"</span>
    body: clob

User:
  actAs:
    SharedProperties:
      relations: [Entity]
  columns:
    username: string(<span class="hljs-number">255</span>)
    password: string(<span class="hljs-number">255</span>)

Administrator:
  actAs:
    SharedProperties:
      relations: [User]
  columns:
    responsibilities: string(<span class="hljs-number">255</span>)
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-2" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-3" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-4" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-5" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-6" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-7" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-8" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-9" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-10" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-11" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-12" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-13" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-14" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-15" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-16" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-17" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-18" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-19" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-20" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-21" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-22" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-23" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-24" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-25" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-26" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-27" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-27">27</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-28" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-28">28</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-29" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-29">29</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-30" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-30">30</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-31" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-31">31</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-32" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-32">32</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-33" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-33">33</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-34" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-34">34</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-35" class="line-number-anchor" /><a href="#line-number-1cd540a1ea170aac4492023cbb15e103bb1972bc-35">35</a></td></tr></table></div></code></pre>
                
    <p>The schema should be somewhat self-explanatory. Each model that acts as <code>SharedProperties</code> you must specify an array of model names or existing relationship aliases. Our behavior will automatically add foreign keys for the list of models and instantiate a one-to-one relationship between the models automatically.</p>

                <h1 class="section-header ">
    <a href="#write-the-template">
        Write the Template
        <i class="fas fa-link"></i>
    </a>
</h1>
                
    <p>Lets write the first part of our template that simply adds a column for each of the listed <code>relations</code>:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="931d914a5572bd1a984d7d719785bd1a889cc46c"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="931d914a5572bd1a984d7d719785bd1a889cc46c"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-1" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-1">1</a></td><td class="code-line" rowspan="27"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SharedProperties</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Doctrine_Template</span>
</span>{
    <span class="hljs-keyword">protected</span> $_options = <span class="hljs-keyword">array</span>();

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">($options)</span>
    </span>{
        <span class="hljs-keyword">$this</span>-&gt;_options = $options;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setTableDefinition</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">$this</span>-&gt;_options[<span class="hljs-string">'relations'</span>] <span class="hljs-keyword">as</span> $relation) {
            $columnName = Doctrine_Inflector::tableize($relation) . <span class="hljs-string">'_id'</span>;
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">$this</span>-&gt;_table-&gt;hasColumn($columnName)) {
                <span class="hljs-keyword">$this</span>-&gt;hasColumn($columnName, <span class="hljs-string">'integer'</span>);
            }
        }
    }
}

**NOTE** You will notice we add columns <span class="hljs-keyword">for</span> each of the
``relations`` specified <span class="hljs-keyword">if</span> the column does not already exist. We
will <span class="hljs-keyword">use</span> <span class="hljs-title">these</span> <span class="hljs-title">columns</span> <span class="hljs-title">to</span> <span class="hljs-title">automatically</span> <span class="hljs-title">create</span> <span class="hljs-title">the</span>
<span class="hljs-title">relationships</span>/<span class="hljs-title">foreign</span> <span class="hljs-title">keys</span> <span class="hljs-title">between</span> <span class="hljs-title">the</span> <span class="hljs-title">models</span> <span class="hljs-title">if</span> <span class="hljs-title">they</span> <span class="hljs-title">don</span>'<span class="hljs-title">t</span> <span class="hljs-title">already</span>
<span class="hljs-title">exist</span> <span class="hljs-title">in</span> <span class="hljs-title">the</span> <span class="hljs-title">next</span> <span class="hljs-title">step</span>.
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-2" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-3" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-4" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-5" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-6" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-7" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-8" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-9" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-10" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-11" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-12" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-13" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-14" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-15" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-16" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-17" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-18" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-19" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-20" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-21" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-22" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-23" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-24" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-25" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-26" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-27" class="line-number-anchor" /><a href="#line-number-931d914a5572bd1a984d7d719785bd1a889cc46c-27">27</a></td></tr></table></div></code></pre>
                <h1 class="section-header ">
    <a href="#enhance-the-template">
        Enhance the Template
        <i class="fas fa-link"></i>
    </a>
</h1>
                
    <p>Now lets enhance our template and add a <code>setUp()</code> method to instantiate our relationships between the list of <code>relations</code> and the columns we added in the previous step:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="ee0bf3e32f4622cc938db1f7c96becc963f3bbdd"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="ee0bf3e32f4622cc938db1f7c96becc963f3bbdd"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-1" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-1">1</a></td><td class="code-line" rowspan="34"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SharedProperties</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Doctrine_Template</span>
</span>{
    <span class="hljs-comment">// ...</span>

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setUp</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">$this</span>-&gt;_options[<span class="hljs-string">'relations'</span>] <span class="hljs-keyword">as</span> $model) {
            $table = <span class="hljs-keyword">$this</span>-&gt;_table;
            $local = Doctrine_Inflector::tableize($model) . <span class="hljs-string">'_id'</span>;
            $foreign = Doctrine::getTable($model)-&gt;getIdentifier();
            <span class="hljs-keyword">$this</span>-&gt;_makeRelation($table, $model, $local, $foreign, <span class="hljs-keyword">true</span>);
        }

        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">$this</span>-&gt;_options[<span class="hljs-string">'relations'</span>] <span class="hljs-keyword">as</span> $model) {
            $table = Doctrine::getTable($model);
            $local = $table-&gt;getIdentifier();
            $foreign = Doctrine_Inflector::tableize($model) . <span class="hljs-string">'_id'</span>;
            <span class="hljs-keyword">$this</span>-&gt;_makeRelation($table, <span class="hljs-keyword">$this</span>-&gt;_table-&gt;getOption(<span class="hljs-string">'name'</span>), $table-&gt;getIdentifier(), $foreign);
        }
    }

    <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_makeRelation</span><span class="hljs-params">(Doctrine_Table $table, $model, $local, $foreign, $cascade = false)</span>
    </span>{
        <span class="hljs-keyword">if</span> (!$table-&gt;hasRelation($model)) {
            $options = <span class="hljs-keyword">array</span>(<span class="hljs-string">'local'</span>   =&gt; $local, <span class="hljs-string">'foreign'</span> =&gt; $foreign);
            <span class="hljs-keyword">if</span> ($cascade) {
                $options[<span class="hljs-string">'onDelete'</span>] = <span class="hljs-string">'CASCADE'</span>;
            }
            $table-&gt;bind(<span class="hljs-keyword">array</span>($model, $options), Doctrine_Relation::ONE);
        }
    }
}
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-2" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-3" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-4" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-5" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-6" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-7" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-8" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-9" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-10" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-11" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-12" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-13" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-14" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-15" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-16" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-17" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-18" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-19" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-20" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-21" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-22" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-23" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-24" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-25" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-26" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-27" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-27">27</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-28" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-28">28</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-29" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-29">29</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-30" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-30">30</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-31" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-31">31</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-32" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-32">32</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-33" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-33">33</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-34" class="line-number-anchor" /><a href="#line-number-ee0bf3e32f4622cc938db1f7c96becc963f3bbdd-34">34</a></td></tr></table></div></code></pre>
                <h1 class="section-header ">
    <a href="#generated-sql">
        Generated SQL
        <i class="fas fa-link"></i>
    </a>
</h1>
                
    <p>This code we&#039;ve added now makes a one-to-one relationship between the models that act as <code>SharedProperties</code> and the list of models specified. So for example, <code>Entity</code> has one <code>BlogPost</code> and <code>BlogPost</code> has one <code>Entity</code>. The above models at this point would generate the following SQL:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="ae5871d2cc4e5d8430299c46688c9967c0bc7704"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="ae5871d2cc4e5d8430299c46688c9967c0bc7704"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-1" class="line-number-anchor" /><a href="#line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-1">1</a></td><td class="code-line" rowspan="15">[sql]
CREATE TABLE administrator (id BIGINT AUTO_INCREMENT, responsibilities VARCHAR(<span class="hljs-number">255</span>), user_id BIGINT, INDEX user_id_idx (user_id), PRIMARY KEY(id)) ENGINE = INNODB;

CREATE TABLE blog_post (id BIGINT AUTO_INCREMENT, title VARCHAR(<span class="hljs-number">255</span>), body LONGTEXT, entity_id BIGINT, INDEX entity_id_idx (entity_id), PRIMARY KEY(id)) ENGINE = INNODB;

CREATE TABLE entity (id BIGINT AUTO_INCREMENT, name VARCHAR(<span class="hljs-number">255</span>), is_active TINYINT(<span class="hljs-number">1</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">'0'</span>, slug VARCHAR(<span class="hljs-number">255</span>), created_at DATETIME, updated_at DATETIME, UNIQUE INDEX sluggable_idx (slug), PRIMARY KEY(id)) ENGINE = INNODB;

CREATE TABLE user (id BIGINT AUTO_INCREMENT, username VARCHAR(<span class="hljs-number">255</span>), password VARCHAR(<span class="hljs-number">255</span>), entity_id BIGINT, INDEX entity_id_idx (entity_id), PRIMARY KEY(id)) ENGINE = INNODB;

ALTER TABLE administrator ADD FOREIGN KEY (user_id) REFERENCES user(id) ON DELETE CASCADE;

ALTER TABLE blog_post ADD FOREIGN KEY (entity_id) REFERENCES entity(id) ON DELETE CASCADE;

ALTER TABLE user ADD FOREIGN KEY (entity_id) REFERENCES entity(id) ON DELETE CASCADE;
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-2" class="line-number-anchor" /><a href="#line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-3" class="line-number-anchor" /><a href="#line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-4" class="line-number-anchor" /><a href="#line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-5" class="line-number-anchor" /><a href="#line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-6" class="line-number-anchor" /><a href="#line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-7" class="line-number-anchor" /><a href="#line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-8" class="line-number-anchor" /><a href="#line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-9" class="line-number-anchor" /><a href="#line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-10" class="line-number-anchor" /><a href="#line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-11" class="line-number-anchor" /><a href="#line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-12" class="line-number-anchor" /><a href="#line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-13" class="line-number-anchor" /><a href="#line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-14" class="line-number-anchor" /><a href="#line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-15" class="line-number-anchor" /><a href="#line-number-ae5871d2cc4e5d8430299c46688c9967c0bc7704-15">15</a></td></tr></table></div></code></pre>
                <h1 class="section-header ">
    <a href="#sharing-properties-methods">
        Sharing Properties/Methods
        <i class="fas fa-link"></i>
    </a>
</h1>
                
    <p>Now to get to the fun, the main purpose of doing all this is to share the properties of these relationships. We can accomplish this by using the <code>Doctrine_Record_Filter</code> feature and some magic PHP <code>__call()</code> functionality. First lets modify our template to attach a new record filter.</p>

                <blockquote>
    <p><strong>TIP</strong> Records filters in Doctrine allow you to handle all unknown properties access on a Doctrine object. This allows us to forward the calls on to the relationships so you can access properties from them.</p>
</blockquote>
                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="115c5fbc449b96082f7e5e8cce0b0b289198e9bc"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="115c5fbc449b96082f7e5e8cce0b0b289198e9bc"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-1" class="line-number-anchor" /><a href="#line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-1">1</a></td><td class="code-line" rowspan="15"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SharedProperties</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Doctrine_Template</span>
</span>{
    <span class="hljs-comment">// ...</span>

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setTableDefinition</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-comment">// ...</span>

        <span class="hljs-keyword">$this</span>-&gt;_table-&gt;unshiftFilter(<span class="hljs-keyword">new</span> SharedPropertiesFilter(<span class="hljs-keyword">$this</span>-&gt;_options));
    }

    <span class="hljs-comment">// ...</span>
}
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-2" class="line-number-anchor" /><a href="#line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-3" class="line-number-anchor" /><a href="#line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-4" class="line-number-anchor" /><a href="#line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-5" class="line-number-anchor" /><a href="#line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-6" class="line-number-anchor" /><a href="#line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-7" class="line-number-anchor" /><a href="#line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-8" class="line-number-anchor" /><a href="#line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-9" class="line-number-anchor" /><a href="#line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-10" class="line-number-anchor" /><a href="#line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-11" class="line-number-anchor" /><a href="#line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-12" class="line-number-anchor" /><a href="#line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-13" class="line-number-anchor" /><a href="#line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-14" class="line-number-anchor" /><a href="#line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-15" class="line-number-anchor" /><a href="#line-number-115c5fbc449b96082f7e5e8cce0b0b289198e9bc-15">15</a></td></tr></table></div></code></pre>
                
    <p>Now that we have attached our filter we need to write that class:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="71c6c2c7162801035ac8e3136243800920423d06"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="71c6c2c7162801035ac8e3136243800920423d06"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-1" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-1">1</a></td><td class="code-line" rowspan="39"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SharedPropertiesFilter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Doctrine_Record_Filter</span>
</span>{
    <span class="hljs-keyword">protected</span> $_options = <span class="hljs-keyword">array</span>();

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">($options)</span>
    </span>{
        <span class="hljs-keyword">$this</span>-&gt;_options = $options;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">init</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">$this</span>-&gt;_options[<span class="hljs-string">'relations'</span>] <span class="hljs-keyword">as</span> $model) {
            <span class="hljs-keyword">$this</span>-&gt;_table-&gt;getRelation($model);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">filterSet</span><span class="hljs-params">(Doctrine_Record $record, $name, $value)</span>
    </span>{
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">$this</span>-&gt;_options[<span class="hljs-string">'relations'</span>] <span class="hljs-keyword">as</span> $model) {
            <span class="hljs-keyword">try</span> {
                $record-&gt;$model-&gt;$name = $value;
                <span class="hljs-keyword">return</span> $record;
            } <span class="hljs-keyword">catch</span> (<span class="hljs-keyword">Exception</span> $e) {}
        }
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Doctrine_Record_UnknownPropertyException(sprintf(<span class="hljs-string">'Unknown record property / related component "%s" on "%s"'</span>, $name, get_class($record)));
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">filterGet</span><span class="hljs-params">(Doctrine_Record $record, $name)</span>
    </span>{
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">$this</span>-&gt;_options[<span class="hljs-string">'relations'</span>] <span class="hljs-keyword">as</span> $model) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">return</span> $record-&gt;$model-&gt;$name;
            } <span class="hljs-keyword">catch</span> (<span class="hljs-keyword">Exception</span> $e) {}
        }
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Doctrine_Record_UnknownPropertyException(sprintf(<span class="hljs-string">'Unknown record property / related component "%s" on "%s"'</span>, $name, get_class($record)));
    }
}
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-2" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-3" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-4" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-5" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-6" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-7" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-8" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-9" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-10" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-11" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-12" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-13" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-14" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-15" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-16" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-17" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-18" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-19" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-20" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-21" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-22" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-23" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-24" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-25" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-26" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-27" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-27">27</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-28" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-28">28</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-29" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-29">29</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-30" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-30">30</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-31" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-31">31</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-32" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-32">32</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-33" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-33">33</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-34" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-34">34</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-35" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-35">35</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-36" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-36">36</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-37" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-37">37</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-38" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-38">38</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-71c6c2c7162801035ac8e3136243800920423d06-39" class="line-number-anchor" /><a href="#line-number-71c6c2c7162801035ac8e3136243800920423d06-39">39</a></td></tr></table></div></code></pre>
                
    <p>Now you can see this filter checks to see if the property exists on any of the <code>relations</code> specified otherwise throws the normal <code>Doctrine_Record_UnknownPropertyException</code>.</p>

                
    <p>The last thing we need to do is add a magic <code>__call()</code> function to our template to handle the forwarding of any unknown methods to the <code>relations</code>:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="5e37cb667a4e04b1ab1d3e1f3326daa736b746d3"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="5e37cb667a4e04b1ab1d3e1f3326daa736b746d3"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-1" class="line-number-anchor" /><a href="#line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-1">1</a></td><td class="code-line" rowspan="18"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SharedProperties</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Doctrine_Template</span>
</span>{
    <span class="hljs-comment">// ...</span>

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__call</span><span class="hljs-params">($method, $arguments)</span>
    </span>{
        $invoker = <span class="hljs-keyword">$this</span>-&gt;getInvoker();
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">$this</span>-&gt;_options[<span class="hljs-string">'relations'</span>] <span class="hljs-keyword">as</span> $model) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">return</span> call_user_func_array(<span class="hljs-keyword">array</span>($invoker-&gt;$model, $method), $arguments);
            } <span class="hljs-keyword">catch</span> (<span class="hljs-keyword">Exception</span> $e) {
                <span class="hljs-keyword">continue</span>;
            }
        }
    }
}
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-2" class="line-number-anchor" /><a href="#line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-3" class="line-number-anchor" /><a href="#line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-4" class="line-number-anchor" /><a href="#line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-5" class="line-number-anchor" /><a href="#line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-6" class="line-number-anchor" /><a href="#line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-7" class="line-number-anchor" /><a href="#line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-8" class="line-number-anchor" /><a href="#line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-9" class="line-number-anchor" /><a href="#line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-10" class="line-number-anchor" /><a href="#line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-11" class="line-number-anchor" /><a href="#line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-12" class="line-number-anchor" /><a href="#line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-13" class="line-number-anchor" /><a href="#line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-14" class="line-number-anchor" /><a href="#line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-15" class="line-number-anchor" /><a href="#line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-16" class="line-number-anchor" /><a href="#line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-17" class="line-number-anchor" /><a href="#line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-18" class="line-number-anchor" /><a href="#line-number-5e37cb667a4e04b1ab1d3e1f3326daa736b746d3-18">18</a></td></tr></table></div></code></pre>
                
    <p>This is required if we have functions defined on the models and want to be able to access these methods. So for example if we were to add a <code>setPassword()</code> method to the generated <code>User</code> class like the following:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="1be83d9209ed37d055f904ed1dee811ecda9a785"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="1be83d9209ed37d055f904ed1dee811ecda9a785"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-1be83d9209ed37d055f904ed1dee811ecda9a785-1" class="line-number-anchor" /><a href="#line-number-1be83d9209ed37d055f904ed1dee811ecda9a785-1">1</a></td><td class="code-line" rowspan="9"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseUser</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setPassword</span><span class="hljs-params">($password)</span>
    </span>{
        <span class="hljs-keyword">$this</span>-&gt;_set(<span class="hljs-string">'password'</span>, md5($password));
    }
}
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-1be83d9209ed37d055f904ed1dee811ecda9a785-2" class="line-number-anchor" /><a href="#line-number-1be83d9209ed37d055f904ed1dee811ecda9a785-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1be83d9209ed37d055f904ed1dee811ecda9a785-3" class="line-number-anchor" /><a href="#line-number-1be83d9209ed37d055f904ed1dee811ecda9a785-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1be83d9209ed37d055f904ed1dee811ecda9a785-4" class="line-number-anchor" /><a href="#line-number-1be83d9209ed37d055f904ed1dee811ecda9a785-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1be83d9209ed37d055f904ed1dee811ecda9a785-5" class="line-number-anchor" /><a href="#line-number-1be83d9209ed37d055f904ed1dee811ecda9a785-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1be83d9209ed37d055f904ed1dee811ecda9a785-6" class="line-number-anchor" /><a href="#line-number-1be83d9209ed37d055f904ed1dee811ecda9a785-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1be83d9209ed37d055f904ed1dee811ecda9a785-7" class="line-number-anchor" /><a href="#line-number-1be83d9209ed37d055f904ed1dee811ecda9a785-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1be83d9209ed37d055f904ed1dee811ecda9a785-8" class="line-number-anchor" /><a href="#line-number-1be83d9209ed37d055f904ed1dee811ecda9a785-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1be83d9209ed37d055f904ed1dee811ecda9a785-9" class="line-number-anchor" /><a href="#line-number-1be83d9209ed37d055f904ed1dee811ecda9a785-9">9</a></td></tr></table></div></code></pre>
                
    <p>Without the above <code>__call()</code> function we would not be able to do the following:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="ff7c7aa46f82f373c85a49445f98639b5d4bbcdc"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="ff7c7aa46f82f373c85a49445f98639b5d4bbcdc"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-1" class="line-number-anchor" /><a href="#line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-1">1</a></td><td class="code-line" rowspan="12"><span class="hljs-meta">&lt;?php</span>
$administrator = <span class="hljs-keyword">new</span> Administrator();
$administrator-&gt;setPassword(<span class="hljs-string">'new_password'</span>);

**TIP** **Auto Accessor <span class="hljs-keyword">and</span> Mutator Overriding**

<span class="hljs-keyword">If</span> you want Doctrine to automatically override accessors with
matching ``set*()`` <span class="hljs-keyword">and</span> ``get*()`` functions then you need to
enable the ``auto_accessor_override`` attribute in your
configuration where you create your connections <span class="hljs-keyword">and</span> set Doctrine
attributes:
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-2" class="line-number-anchor" /><a href="#line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-3" class="line-number-anchor" /><a href="#line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-4" class="line-number-anchor" /><a href="#line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-5" class="line-number-anchor" /><a href="#line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-6" class="line-number-anchor" /><a href="#line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-7" class="line-number-anchor" /><a href="#line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-8" class="line-number-anchor" /><a href="#line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-9" class="line-number-anchor" /><a href="#line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-10" class="line-number-anchor" /><a href="#line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-11" class="line-number-anchor" /><a href="#line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-12" class="line-number-anchor" /><a href="#line-number-ff7c7aa46f82f373c85a49445f98639b5d4bbcdc-12">12</a></td></tr></table></div></code></pre>
                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="f4986958eb06d719380890bca449e6b907ba43f1"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="f4986958eb06d719380890bca449e6b907ba43f1"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-f4986958eb06d719380890bca449e6b907ba43f1-1" class="line-number-anchor" /><a href="#line-number-f4986958eb06d719380890bca449e6b907ba43f1-1">1</a></td><td class="code-line" rowspan="9"><span class="hljs-meta">&lt;?php</span>
    $manager = Doctrine_Manager::getInstance();
    $manager-&gt;setAttribute(<span class="hljs-string">'auto_accessor_override'</span>, <span class="hljs-keyword">true</span>);

Now with that attribute the following is possible. Instead of
having to call the method ``setPassword()``, Doctrine sees you are
setting the ``password`` <span class="hljs-keyword">and</span> a method named ``setPassword()``
exists so it uses it to <span class="hljs-keyword">do</span> the mutating.
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-f4986958eb06d719380890bca449e6b907ba43f1-2" class="line-number-anchor" /><a href="#line-number-f4986958eb06d719380890bca449e6b907ba43f1-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f4986958eb06d719380890bca449e6b907ba43f1-3" class="line-number-anchor" /><a href="#line-number-f4986958eb06d719380890bca449e6b907ba43f1-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f4986958eb06d719380890bca449e6b907ba43f1-4" class="line-number-anchor" /><a href="#line-number-f4986958eb06d719380890bca449e6b907ba43f1-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f4986958eb06d719380890bca449e6b907ba43f1-5" class="line-number-anchor" /><a href="#line-number-f4986958eb06d719380890bca449e6b907ba43f1-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f4986958eb06d719380890bca449e6b907ba43f1-6" class="line-number-anchor" /><a href="#line-number-f4986958eb06d719380890bca449e6b907ba43f1-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f4986958eb06d719380890bca449e6b907ba43f1-7" class="line-number-anchor" /><a href="#line-number-f4986958eb06d719380890bca449e6b907ba43f1-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f4986958eb06d719380890bca449e6b907ba43f1-8" class="line-number-anchor" /><a href="#line-number-f4986958eb06d719380890bca449e6b907ba43f1-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f4986958eb06d719380890bca449e6b907ba43f1-9" class="line-number-anchor" /><a href="#line-number-f4986958eb06d719380890bca449e6b907ba43f1-9">9</a></td></tr></table></div></code></pre>
                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="3ff1596ba3dcdc19845e05d88cb2c954da504206"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="3ff1596ba3dcdc19845e05d88cb2c954da504206"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-3ff1596ba3dcdc19845e05d88cb2c954da504206-1" class="line-number-anchor" /><a href="#line-number-3ff1596ba3dcdc19845e05d88cb2c954da504206-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
    $administrator-&gt;password = <span class="hljs-string">'new_password'</span>;
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-3ff1596ba3dcdc19845e05d88cb2c954da504206-2" class="line-number-anchor" /><a href="#line-number-3ff1596ba3dcdc19845e05d88cb2c954da504206-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-3ff1596ba3dcdc19845e05d88cb2c954da504206-3" class="line-number-anchor" /><a href="#line-number-3ff1596ba3dcdc19845e05d88cb2c954da504206-3">3</a></td></tr></table></div></code></pre>
                <h1 class="section-header ">
    <a href="#example-usage">
        Example Usage
        <i class="fas fa-link"></i>
    </a>
</h1>
                
    <p>That is it! Our behavior is implemented and we are ready to write some code that use our new models.</p>

                <h2 class="section-header ">
    <a href="#creating-new-records">
        Creating New Records
        <i class="fas fa-link"></i>
    </a>
</h2>
                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="40e3f5da436e67fe5dac09a3f828a80f34b8305a"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="40e3f5da436e67fe5dac09a3f828a80f34b8305a"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-40e3f5da436e67fe5dac09a3f828a80f34b8305a-1" class="line-number-anchor" /><a href="#line-number-40e3f5da436e67fe5dac09a3f828a80f34b8305a-1">1</a></td><td class="code-line" rowspan="9"><span class="hljs-meta">&lt;?php</span>
$admin = <span class="hljs-keyword">new</span> Administrator();
$admin-&gt;name = <span class="hljs-string">'Jonathan H. Wage'</span>;
$admin-&gt;username = <span class="hljs-string">'jwage'</span>;
$admin-&gt;password = <span class="hljs-string">'changeme'</span>;
$admin-&gt;is_active = <span class="hljs-number">1</span>;
$admin-&gt;responsibilities = <span class="hljs-string">'Train all the PHP developers!'</span>;
$admin-&gt;save();
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-40e3f5da436e67fe5dac09a3f828a80f34b8305a-2" class="line-number-anchor" /><a href="#line-number-40e3f5da436e67fe5dac09a3f828a80f34b8305a-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-40e3f5da436e67fe5dac09a3f828a80f34b8305a-3" class="line-number-anchor" /><a href="#line-number-40e3f5da436e67fe5dac09a3f828a80f34b8305a-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-40e3f5da436e67fe5dac09a3f828a80f34b8305a-4" class="line-number-anchor" /><a href="#line-number-40e3f5da436e67fe5dac09a3f828a80f34b8305a-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-40e3f5da436e67fe5dac09a3f828a80f34b8305a-5" class="line-number-anchor" /><a href="#line-number-40e3f5da436e67fe5dac09a3f828a80f34b8305a-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-40e3f5da436e67fe5dac09a3f828a80f34b8305a-6" class="line-number-anchor" /><a href="#line-number-40e3f5da436e67fe5dac09a3f828a80f34b8305a-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-40e3f5da436e67fe5dac09a3f828a80f34b8305a-7" class="line-number-anchor" /><a href="#line-number-40e3f5da436e67fe5dac09a3f828a80f34b8305a-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-40e3f5da436e67fe5dac09a3f828a80f34b8305a-8" class="line-number-anchor" /><a href="#line-number-40e3f5da436e67fe5dac09a3f828a80f34b8305a-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-40e3f5da436e67fe5dac09a3f828a80f34b8305a-9" class="line-number-anchor" /><a href="#line-number-40e3f5da436e67fe5dac09a3f828a80f34b8305a-9">9</a></td></tr></table></div></code></pre>
                
    <p>Now that code results in the following structure being persisted to the database:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="d3212e50904c4f09454672e3e45ca24dd840e742"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="d3212e50904c4f09454672e3e45ca24dd840e742"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-1" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-1">1</a></td><td class="code-line" rowspan="29"><span class="hljs-meta">&lt;?php</span>
print_r($admin-&gt;toArray(<span class="hljs-keyword">true</span>));
<span class="hljs-comment">/*
Array
(
    [id] =&gt; 2
    [responsibilities] =&gt; Train all the PHP developers!
    [user_id] =&gt; 2
    [User] =&gt; Array
        (
            [id] =&gt; 2
            [username] =&gt; jwage
            [password] =&gt; 4cb9c8a8048fd02294477fcb1a41191a
            [entity_id] =&gt; 3
            [Entity] =&gt; Array
                (
                    [id] =&gt; 3
                    [name] =&gt; Jonathan H. Wage
                    [is_active] =&gt; 1
                    [slug] =&gt; jonathan-h-wage
                    [created_at] =&gt; 2009-02-04 16:01:12
                    [updated_at] =&gt; 2009-02-04 16:01:12
                )

        )

)
*/</span>
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-2" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-3" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-4" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-5" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-6" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-7" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-8" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-9" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-10" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-11" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-12" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-13" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-14" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-15" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-16" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-17" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-18" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-19" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-20" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-21" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-22" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-23" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-24" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-25" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-26" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-27" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-27">27</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-28" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-28">28</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d3212e50904c4f09454672e3e45ca24dd840e742-29" class="line-number-anchor" /><a href="#line-number-d3212e50904c4f09454672e3e45ca24dd840e742-29">29</a></td></tr></table></div></code></pre>
                <h2 class="section-header ">
    <a href="#data-fixtures">
        Data Fixtures
        <i class="fas fa-link"></i>
    </a>
</h2>
                
    <p>Similarly, the following data fixtures would be possible:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="325a9efb5055f8dc66997b00327ac2932d2821b4"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="325a9efb5055f8dc66997b00327ac2932d2821b4"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-1" class="line-number-anchor" /><a href="#line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-1">1</a></td><td class="code-line" rowspan="14">[yml]
BlogPost:
  BlogPost_1:
    name: Test Blog Post
    title: <span class="hljs-string">"This is a test blog post"</span>
    body: This is a test blog post

Administrator:
  Administrator_1:
    name: Test Manager
    username: jwage
    password: changeme
    responsibilities: Overseeing development department
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-2" class="line-number-anchor" /><a href="#line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-3" class="line-number-anchor" /><a href="#line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-4" class="line-number-anchor" /><a href="#line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-5" class="line-number-anchor" /><a href="#line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-6" class="line-number-anchor" /><a href="#line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-7" class="line-number-anchor" /><a href="#line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-8" class="line-number-anchor" /><a href="#line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-9" class="line-number-anchor" /><a href="#line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-10" class="line-number-anchor" /><a href="#line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-11" class="line-number-anchor" /><a href="#line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-12" class="line-number-anchor" /><a href="#line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-13" class="line-number-anchor" /><a href="#line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-14" class="line-number-anchor" /><a href="#line-number-325a9efb5055f8dc66997b00327ac2932d2821b4-14">14</a></td></tr></table></div></code></pre>
                <h2 class="section-header ">
    <a href="#querying-for-and-accessing-data">
        Querying For and Accessing Data
        <i class="fas fa-link"></i>
    </a>
</h2>
                
    <p>You can query for these relationships as well:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="28c8aa68eb5a370df44d91e9e4af811cb37c34d9"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="28c8aa68eb5a370df44d91e9e4af811cb37c34d9"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-28c8aa68eb5a370df44d91e9e4af811cb37c34d9-1" class="line-number-anchor" /><a href="#line-number-28c8aa68eb5a370df44d91e9e4af811cb37c34d9-1">1</a></td><td class="code-line" rowspan="10"><span class="hljs-meta">&lt;?php</span>
$q = Doctrine_Query::create()
    -&gt;from(<span class="hljs-string">'Administrator a'</span>)
    -&gt;leftJoin(<span class="hljs-string">'a.User u'</span>)
    -&gt;leftJoin(<span class="hljs-string">'u.Entity e'</span>)
    -&gt;where(<span class="hljs-string">'u.username = ?'</span>, <span class="hljs-string">'jwage'</span>);

$user = $q-&gt;fetchOne();
<span class="hljs-keyword">echo</span> $user[<span class="hljs-string">'created_at'</span>];
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-28c8aa68eb5a370df44d91e9e4af811cb37c34d9-2" class="line-number-anchor" /><a href="#line-number-28c8aa68eb5a370df44d91e9e4af811cb37c34d9-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-28c8aa68eb5a370df44d91e9e4af811cb37c34d9-3" class="line-number-anchor" /><a href="#line-number-28c8aa68eb5a370df44d91e9e4af811cb37c34d9-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-28c8aa68eb5a370df44d91e9e4af811cb37c34d9-4" class="line-number-anchor" /><a href="#line-number-28c8aa68eb5a370df44d91e9e4af811cb37c34d9-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-28c8aa68eb5a370df44d91e9e4af811cb37c34d9-5" class="line-number-anchor" /><a href="#line-number-28c8aa68eb5a370df44d91e9e4af811cb37c34d9-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-28c8aa68eb5a370df44d91e9e4af811cb37c34d9-6" class="line-number-anchor" /><a href="#line-number-28c8aa68eb5a370df44d91e9e4af811cb37c34d9-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-28c8aa68eb5a370df44d91e9e4af811cb37c34d9-7" class="line-number-anchor" /><a href="#line-number-28c8aa68eb5a370df44d91e9e4af811cb37c34d9-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-28c8aa68eb5a370df44d91e9e4af811cb37c34d9-8" class="line-number-anchor" /><a href="#line-number-28c8aa68eb5a370df44d91e9e4af811cb37c34d9-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-28c8aa68eb5a370df44d91e9e4af811cb37c34d9-9" class="line-number-anchor" /><a href="#line-number-28c8aa68eb5a370df44d91e9e4af811cb37c34d9-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-28c8aa68eb5a370df44d91e9e4af811cb37c34d9-10" class="line-number-anchor" /><a href="#line-number-28c8aa68eb5a370df44d91e9e4af811cb37c34d9-10">10</a></td></tr></table></div></code></pre>
                
    <p>The above code would output the value of the <code>created_at</code> column that actually exists in the <code>Entity</code> model that is available through the <code>Administrator-&gt;User-&gt;Entity</code> relations.</p>

        
    
        </div>
    </article>
    </main>

        <button id="back-to-top" title="Go to top">Top</button>

                
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?1546fc"
                            integrity="sha384-ix9eb2EZyp9uayYpxmCQoylbz8msHl5wOg/aqZnD/3cxszNUGePN656MRg5GEgbm"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = '';
            var versionSlug = 'latest';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            <script
            src="https://www.doctrine-project.org/frontend/js/prismjs.js?8aa1bb"
                            integrity="sha384-3EhgfeqnppOxFBVU40g8gS+IVvmh5+wGpe4mG2otPyExrkK9t4aq8uCUy2IDLKkR"
                        crossorigin="anonymous">
    </script>
    </body>
</html>
