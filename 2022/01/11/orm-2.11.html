<!DOCTYPE html>
<html>
    <head>
        <title>New Release: Doctrine ORM 2.11 with Enums, Virtual Columns, Read-Only Properties, Nested Attributes and more - Doctrine: PHP Open Source Project</title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="The Doctrine Project is an open-source PHP project that is home to home to several PHP libraries primarily focused on database storage and object mapping. The core projects are the Object Relational Mapper (ORM) and the Database Abstraction Layer (DBAL) it is built upon.
">

        <meta name="keywords" content="php,mysql,orm,dbal,database,mongodb,odm,annotations,migrations,cache,couchdb">

                    <meta name="robots" content="index, follow">
        
        
            <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "NewsArticle",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://www.doctrine-project.org/2022/01/11/orm-2.11.html"
        },
        "headline": "New Release: Doctrine ORM 2.11 with Enums, Virtual Columns, Read-Only Properties, Nested Attributes and more",
        "image": [
            "https://www.doctrine-project.org/images/og.png"
        ],
        "datePublished": "2022-01-11T00:00:00-05:00",
        "dateModified": "2022-01-11T00:00:00-05:00",
        "author": {
            "@type": "Person",
            "name": "Benjamin Eberlei"
        },
        "publisher": {
            "@type": "Organization",
            "name": "Doctrine",
            "logo": {
                "@type": "ImageObject",
                "url": "https://www.doctrine-project.org/images/og.png"
            }
        },
        "description": "We have released a new minor version 2.11 of Doctrine ORM with several improvements and new features"
    }
    </script>
    <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/prismjs.css?d2443b"
                            integrity="sha384-IcJ7eow//K0xRBscZjnk8kawYxbm2eUAZ9D6Xf/n0yuAi1NCvwOkep1S8XqPNB3E"
                        crossorigin="anonymous"
    />

        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?74d1a1"
                        integrity="sha384-dAaEn2ZyD87ZE8ZaTOc39tmNlPuZWU7Tvl3K1W/IXH5rtko68QAI5cdG6HLv97IH"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/2022/01/11/orm-2.11.html" />
        <meta property="og:title" content="New Release: Doctrine ORM 2.11 with Enums, Virtual Columns, Read-Only Properties, Nested Attributes and more - Doctrine: PHP Open Source Project" />
        <meta property="og:description" content="The Doctrine Project is an open-source PHP project that is home to home to several PHP libraries primarily focused on database storage and object mapping. The core projects are the Object Relational Mapper (ORM) and the Database Abstraction Layer (DBAL) it is built upon.
" />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

        
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/sponsorship.html">Sponsorship</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/doctrine-website/edit/master/source/blog/2022-01-11-orm-2.11.md" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <main role="main" class="container-wrapper container">
            <article>
        <div class="row">
            <div class="col-lg-8 col-12">
                <header>
                    <h2>New Release: Doctrine ORM 2.11 with Enums, Virtual Columns, Read-Only Properties, Nested Attributes and more</h2>
                </header>

                <p class="lead">
                    Posted on <date>January 11, 2022</date>
                                            by
                                                    <a href="mailto:kontakt@beberlei.de">Benjamin Eberlei</a>
                                                            </p>
            </div>

            <div class="col-lg-4 col-12">
                <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>
            </div>
        </div>

        <hr />

        <div>
                
            
                
    <p>We have released a new minor version 2.11 of Doctrine ORM with several improvements and new features.</p>

                
    <p><a href="https://github.com/doctrine/orm/releases/tag/2.11.0">See all changes and contributors in the Changelog</a> on Github.</p>

                
    <p>This blog post gives an overview over all the new features and improvements that are user facing. Please see the changelog and UPGRADE notes for new deprecations.</p>

                <h2 class="section-header ">
    <a href="#php-8-1-enum-support">
        PHP 8.1 Enum Support
        <i class="fas fa-link"></i>
    </a>
</h2>
                
    <p>With PHP 8.1 the language has first class support for enumerations and Doctrine ORM 2.11 supports the mapping of database values to <a href="https://www.php.net/manual/en/language.enumerations.backed.php">Backed Enums</a>.</p>

                
    <p>The support is not integrated on DBAL Type level, but using a new mapping option called <code>enumType</code> on column/field declaration level:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="fa410e9ead5f8c90ab06e34cdf87de10f04156a2"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="fa410e9ead5f8c90ab06e34cdf87de10f04156a2"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-1" class="line-number-anchor" /><a href="#line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-1">1</a></td><td class="code-line" rowspan="16">enum Suit: string {
    <span class="hljs-keyword">case</span> Hearts = <span class="hljs-string">'H'</span>;
    <span class="hljs-keyword">case</span> Diamonds = <span class="hljs-string">'D'</span>;
    <span class="hljs-keyword">case</span> Clubs = <span class="hljs-string">'C'</span>;
    <span class="hljs-keyword">case</span> Spades = <span class="hljs-string">'S'</span>;
}

<span class="hljs-comment">#[Entity]</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Card</span>
</span>{
    <span class="hljs-comment">/** ... */</span>

    <span class="hljs-comment">#[Column(type: 'string', enumType: Suit::class)]</span>
    <span class="hljs-keyword">public</span> $suit;
}
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-2" class="line-number-anchor" /><a href="#line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-3" class="line-number-anchor" /><a href="#line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-4" class="line-number-anchor" /><a href="#line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-5" class="line-number-anchor" /><a href="#line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-6" class="line-number-anchor" /><a href="#line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-7" class="line-number-anchor" /><a href="#line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-8" class="line-number-anchor" /><a href="#line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-9" class="line-number-anchor" /><a href="#line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-10" class="line-number-anchor" /><a href="#line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-11" class="line-number-anchor" /><a href="#line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-12" class="line-number-anchor" /><a href="#line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-13" class="line-number-anchor" /><a href="#line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-14" class="line-number-anchor" /><a href="#line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-15" class="line-number-anchor" /><a href="#line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-16" class="line-number-anchor" /><a href="#line-number-fa410e9ead5f8c90ab06e34cdf87de10f04156a2-16">16</a></td></tr></table></div></code></pre>
                <h2 class="section-header ">
    <a href="#virtual-and-generated-columns">
        Virtual and Generated Columns
        <i class="fas fa-link"></i>
    </a>
</h2>
                
    <p>There has been constant demand for this feature for a long time, to add support for columns that are not insertable/updatable and might have their value updated on the database side.</p>

                
    <p>We have worked along the lines of Java Persistence API support of <code>insertable</code>, <code>updatable</code> and <code>generated</code> options for field mappings.</p>

                
    <p>There are two major use cases for this:</p>

                
    
<ol>
    <li>Map a column several times, for example with join columns:</li>
</ol>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="288dd34749cfdb7fd21ba43f00db37939bce857e"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="288dd34749cfdb7fd21ba43f00db37939bce857e"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-288dd34749cfdb7fd21ba43f00db37939bce857e-1" class="line-number-anchor" /><a href="#line-number-288dd34749cfdb7fd21ba43f00db37939bce857e-1">1</a></td><td class="code-line" rowspan="10"><span class="hljs-comment">#[Entity]</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span>
</span>{
     <span class="hljs-comment">#[ManyToOne(targetEntity: Country:class), JoinColumn(name: "country_code", referencedColumnName: "country_code")]</span>
     <span class="hljs-keyword">public</span> $country;

     <span class="hljs-comment">#[Column(type: "string", name: "country_code", insertable: false, updatable: false)]</span>
     <span class="hljs-keyword">public</span> $countryCode;
}
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-288dd34749cfdb7fd21ba43f00db37939bce857e-2" class="line-number-anchor" /><a href="#line-number-288dd34749cfdb7fd21ba43f00db37939bce857e-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-288dd34749cfdb7fd21ba43f00db37939bce857e-3" class="line-number-anchor" /><a href="#line-number-288dd34749cfdb7fd21ba43f00db37939bce857e-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-288dd34749cfdb7fd21ba43f00db37939bce857e-4" class="line-number-anchor" /><a href="#line-number-288dd34749cfdb7fd21ba43f00db37939bce857e-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-288dd34749cfdb7fd21ba43f00db37939bce857e-5" class="line-number-anchor" /><a href="#line-number-288dd34749cfdb7fd21ba43f00db37939bce857e-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-288dd34749cfdb7fd21ba43f00db37939bce857e-6" class="line-number-anchor" /><a href="#line-number-288dd34749cfdb7fd21ba43f00db37939bce857e-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-288dd34749cfdb7fd21ba43f00db37939bce857e-7" class="line-number-anchor" /><a href="#line-number-288dd34749cfdb7fd21ba43f00db37939bce857e-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-288dd34749cfdb7fd21ba43f00db37939bce857e-8" class="line-number-anchor" /><a href="#line-number-288dd34749cfdb7fd21ba43f00db37939bce857e-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-288dd34749cfdb7fd21ba43f00db37939bce857e-9" class="line-number-anchor" /><a href="#line-number-288dd34749cfdb7fd21ba43f00db37939bce857e-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-288dd34749cfdb7fd21ba43f00db37939bce857e-10" class="line-number-anchor" /><a href="#line-number-288dd34749cfdb7fd21ba43f00db37939bce857e-10">10</a></td></tr></table></div></code></pre>
                
    
<ol>
    <li>Columns updated by the database</li>
</ol>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335-1" class="line-number-anchor" /><a href="#line-number-2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335-1">1</a></td><td class="code-line" rowspan="11"><span class="hljs-comment">#[Entity]</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Article</span>
</span>{
    <span class="hljs-comment">#[Column(type: "datetime",</span>
        columnDefinition: <span class="hljs-string">"TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP"</span>,
        insertable: <span class="hljs-keyword">false</span>,
        updatable: <span class="hljs-keyword">false</span>,
        generated: <span class="hljs-string">"ALWAYS"</span>)]
    <span class="hljs-keyword">public</span> $created;
}
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335-2" class="line-number-anchor" /><a href="#line-number-2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335-3" class="line-number-anchor" /><a href="#line-number-2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335-4" class="line-number-anchor" /><a href="#line-number-2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335-5" class="line-number-anchor" /><a href="#line-number-2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335-6" class="line-number-anchor" /><a href="#line-number-2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335-7" class="line-number-anchor" /><a href="#line-number-2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335-8" class="line-number-anchor" /><a href="#line-number-2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335-9" class="line-number-anchor" /><a href="#line-number-2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335-10" class="line-number-anchor" /><a href="#line-number-2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335-11" class="line-number-anchor" /><a href="#line-number-2ed9fecb0c13a1c4250eb5c6dcbcf3a4c4107335-11">11</a></td></tr></table></div></code></pre>
                <h2 class="section-header ">
    <a href="#support-for-readonly-properties">
        Support for Readonly Properties
        <i class="fas fa-link"></i>
    </a>
</h2>
                
    <p>Another PHP 8.1 feature is the new readonly keyword that prevents the value of a property to be written again after it has been initialized in the constructor of an object.</p>

                
    <p>With ORM 2.11 the support now works as you would expect with no additional mapping options necessary:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="15f4c5fb3e7db41783dd4fe46e527aecf8ceb846"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="15f4c5fb3e7db41783dd4fe46e527aecf8ceb846"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-15f4c5fb3e7db41783dd4fe46e527aecf8ceb846-1" class="line-number-anchor" /><a href="#line-number-15f4c5fb3e7db41783dd4fe46e527aecf8ceb846-1">1</a></td><td class="code-line" rowspan="10"><span class="hljs-comment">#[Entity, Table(name: 'author')]</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Author</span>
</span>{
    <span class="hljs-comment">#[Column, Id, GeneratedValue]</span>
    <span class="hljs-keyword">private</span> readonly int $id;

    <span class="hljs-comment">#[Column]</span>
    <span class="hljs-keyword">private</span> readonly string $name;
}
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-15f4c5fb3e7db41783dd4fe46e527aecf8ceb846-2" class="line-number-anchor" /><a href="#line-number-15f4c5fb3e7db41783dd4fe46e527aecf8ceb846-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-15f4c5fb3e7db41783dd4fe46e527aecf8ceb846-3" class="line-number-anchor" /><a href="#line-number-15f4c5fb3e7db41783dd4fe46e527aecf8ceb846-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-15f4c5fb3e7db41783dd4fe46e527aecf8ceb846-4" class="line-number-anchor" /><a href="#line-number-15f4c5fb3e7db41783dd4fe46e527aecf8ceb846-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-15f4c5fb3e7db41783dd4fe46e527aecf8ceb846-5" class="line-number-anchor" /><a href="#line-number-15f4c5fb3e7db41783dd4fe46e527aecf8ceb846-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-15f4c5fb3e7db41783dd4fe46e527aecf8ceb846-6" class="line-number-anchor" /><a href="#line-number-15f4c5fb3e7db41783dd4fe46e527aecf8ceb846-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-15f4c5fb3e7db41783dd4fe46e527aecf8ceb846-7" class="line-number-anchor" /><a href="#line-number-15f4c5fb3e7db41783dd4fe46e527aecf8ceb846-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-15f4c5fb3e7db41783dd4fe46e527aecf8ceb846-8" class="line-number-anchor" /><a href="#line-number-15f4c5fb3e7db41783dd4fe46e527aecf8ceb846-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-15f4c5fb3e7db41783dd4fe46e527aecf8ceb846-9" class="line-number-anchor" /><a href="#line-number-15f4c5fb3e7db41783dd4fe46e527aecf8ceb846-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-15f4c5fb3e7db41783dd4fe46e527aecf8ceb846-10" class="line-number-anchor" /><a href="#line-number-15f4c5fb3e7db41783dd4fe46e527aecf8ceb846-10">10</a></td></tr></table></div></code></pre>
                <h2 class="section-header ">
    <a href="#associationoverrides-and-attributeoverrides-in-attribute-driver">
        AssociationOverrides and AttributeOverrides in Attribute Driver
        <i class="fas fa-link"></i>
    </a>
</h2>
                
    <p>The new <code>AttributeDriver</code> for PHP 8 did not support the equivalent mapping options for association and attribute overrides that are available for XML and Annotation mapping, because in PHP 8.0 it was not possible to nest complex attributes.</p>

                
    <p>With the support now available in PHP 8.1 we have added these attributes.</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="cf83c38da3d282ca5a33bc3162d2916d23097cfb"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="cf83c38da3d282ca5a33bc3162d2916d23097cfb"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-1" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-1">1</a></td><td class="code-line" rowspan="27"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">AssociationOverride</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">AssociationOverrides</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">AttributeOverride</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">AttributeOverrides</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">Column</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">Entity</span>;

<span class="hljs-comment">#[AssociationOverrides([</span>
    <span class="hljs-keyword">new</span> AssociationOverride(
        name: <span class="hljs-string">"groups"</span>,
        joinTable: <span class="hljs-keyword">new</span> JoinTable(
            name: <span class="hljs-string">"ddc964_users_admingroups"</span>,
        ),
        joinColumns: [<span class="hljs-keyword">new</span> JoinColumn(name: <span class="hljs-string">"adminuser_id"</span>)],
        inverseJoinColumns: [<span class="hljs-keyword">new</span> JoinColumn(name: <span class="hljs-string">"admingroup_id"</span>)]
    )
])]
<span class="hljs-comment">#[AttributeOverrides([</span>
    <span class="hljs-keyword">new</span> AttributeOverride(
        name: <span class="hljs-string">"id"</span>,
        column: <span class="hljs-keyword">new</span> Column(name: <span class="hljs-string">"guest_id"</span>, type: <span class="hljs-string">"integer"</span>, length: <span class="hljs-number">140</span>)
    )])]
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DDC964Admin</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">DDC964User</span>
</span>{
}
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-2" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-3" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-4" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-5" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-6" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-7" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-8" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-9" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-10" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-11" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-12" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-13" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-14" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-15" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-16" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-17" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-18" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-19" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-20" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-21" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-22" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-23" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-24" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-25" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-26" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-27" class="line-number-anchor" /><a href="#line-number-cf83c38da3d282ca5a33bc3162d2916d23097cfb-27">27</a></td></tr></table></div></code></pre>
                
    <p>For PHP 8.0 we have already moved <code>Index</code> and <code>JoinColumn</code> mappings to the top level to avoid nesting and decided not to allow nesting for these to mimic annotation support.</p>

                <h2 class="section-header ">
    <a href="#allow-arithmetic-expressions-within-in-operator">
        Allow arithmetic expressions within IN operator
        <i class="fas fa-link"></i>
    </a>
</h2>
                
    <p>It is now possible to use arithmetic expressions or functions inside the IN operator:</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="af37d052d5d50328dcda42fddde59cca502f907a"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="af37d052d5d50328dcda42fddde59cca502f907a"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-af37d052d5d50328dcda42fddde59cca502f907a-1" class="line-number-anchor" /><a href="#line-number-af37d052d5d50328dcda42fddde59cca502f907a-1">1</a></td><td class="code-line" rowspan="2">SELECT u FROM User u WHERE u.id IN (<span class="hljs-number">1</span> + <span class="hljs-number">1</span>, FOO(u.id))
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-af37d052d5d50328dcda42fddde59cca502f907a-2" class="line-number-anchor" /><a href="#line-number-af37d052d5d50328dcda42fddde59cca502f907a-2">2</a></td></tr></table></div></code></pre>
                <h2 class="section-header ">
    <a href="#ignore-entity-classes-in-schema-tool">
        Ignore entity classes in schema tool
        <i class="fas fa-link"></i>
    </a>
</h2>
                
    <p>You can now specify Entity FQCNs to ignore during schema tool creation and comparison. <code>SchemaTool</code> will then skip these (e.g. when comparing schemas).</p>

                <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="c079cdabaa8e0b360c664b33a83f5f7b93990673"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="c079cdabaa8e0b360c664b33a83f5f7b93990673"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-c079cdabaa8e0b360c664b33a83f5f7b93990673-1" class="line-number-anchor" /><a href="#line-number-c079cdabaa8e0b360c664b33a83f5f7b93990673-1">1</a></td><td class="code-line" rowspan="4"><span class="hljs-meta">&lt;?php</span>
$config-&gt;setSchemaIgnoreClasses([$fqcn]);
$config-&gt;getSchemaIgnoreClasses();
</td></tr>
<tr><td class="line-number noselect"><a name="line-number-c079cdabaa8e0b360c664b33a83f5f7b93990673-2" class="line-number-anchor" /><a href="#line-number-c079cdabaa8e0b360c664b33a83f5f7b93990673-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c079cdabaa8e0b360c664b33a83f5f7b93990673-3" class="line-number-anchor" /><a href="#line-number-c079cdabaa8e0b360c664b33a83f5f7b93990673-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c079cdabaa8e0b360c664b33a83f5f7b93990673-4" class="line-number-anchor" /><a href="#line-number-c079cdabaa8e0b360c664b33a83f5f7b93990673-4">4</a></td></tr></table></div></code></pre>
        
    
        </div>
    </article>
    </main>

        <button id="back-to-top" title="Go to top">Top</button>

                
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?1546fc"
                            integrity="sha384-ix9eb2EZyp9uayYpxmCQoylbz8msHl5wOg/aqZnD/3cxszNUGePN656MRg5GEgbm"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = '';
            var versionSlug = 'latest';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            <script
            src="https://www.doctrine-project.org/frontend/js/prismjs.js?8aa1bb"
                            integrity="sha384-3EhgfeqnppOxFBVU40g8gS+IVvmh5+wGpe4mG2otPyExrkK9t4aq8uCUy2IDLKkR"
                        crossorigin="anonymous">
    </script>
    </body>
</html>
