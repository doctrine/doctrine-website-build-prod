<!DOCTYPE html>
<html>
    <head>
        <title>        DoctrineMigrationsBundle - Doctrine Doctrine Migrations Bundle (DoctrineMigrationsBundle)
    </title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine Doctrine Migrations Bundle Documentation: DoctrineMigrationsBundle ">

        <meta name="keywords" content="                    DBAL,Migrations,Schema,documentation,doctrinemigrationsbundle
    ">

                    <meta name="robots" content="index, follow">
        
        
                    <link rel="canonical" href="https://www.doctrine-project.org/projects/doctrine-migrations-bundle/en/3.3/index.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?30e146"
                        integrity="sha384-FVDIQoS0d3jPyOKOWC++X74jvxneJJEUqbqH7jYQwuD57vmO+ysmVFKeIqzV7x+Y"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/projects/doctrine-migrations-bundle/en/3.3/index.html" />
        <meta property="og:title" content="        DoctrineMigrationsBundle - Doctrine Doctrine Migrations Bundle (DoctrineMigrationsBundle)
    " />
        <meta property="og:description" content="Doctrine Doctrine Migrations Bundle Documentation: DoctrineMigrationsBundle " />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine Doctrine Migrations Bundle",
            "description": "DoctrineMigrationsBundle",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://www.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/sponsorship.html">Sponsorship</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/DoctrineMigrationsBundle/edit/3.3.x/Resources/doc/en/index.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        

            <div class="toc">
    <ul class="menu-level">
    </ul>
</div>
    

                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://www.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "DoctrineMigrationsBundle",
            "item": "https://www.doctrine-project.org/projects/doctrine-migrations-bundle.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://www.doctrine-project.org/projects/doctrine-migrations-bundle/en/3.3/index.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-migrations-bundle.html">DoctrineMigrationsBundle</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Documentation</li>
                        </ol>
</nav>
                    
                                                        </div>

                

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-migrations-bundle/en/3.3/index.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        3.3.1
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                                                                                                                                                                            
                                                    <a class="project-version-switcher dropdown-item active" href="/projects/doctrine-migrations-bundle/en/3.3/index.html">
                                                        3.3.1

                                                                                                                    (current)
                                                        
                                                                                                            </a>
                                                                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-migrations-bundle/en/2.2/index.html">
                                                        2.2.3

                                                        
                                                                                                            </a>
                                                                                                                                    
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-migrations-bundle/en/3.2/index.html">3.2</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-migrations-bundle/en/3.1/index.html">3.1</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-migrations-bundle/en/3.0/index.html">3.0</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-migrations-bundle/en/2.1/index.html">2.1</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-migrations-bundle/en/2.0/index.html">2.0</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-migrations-bundle/en/1.3/index.html">1.3</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-migrations-bundle/en/1.2/index.html">1.2</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-migrations-bundle/en/1.1/index.html">1.1</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-migrations-bundle/en/1.0/index.html">1.0</a>
                                                                                                                                                                        </div>
                                </div>
                            
                            

            <div class="section" id="doctrinemigrationsbundle">
            <h1 class="section-header ">
    <a href="#doctrinemigrationsbundle">
        DoctrineMigrationsBundle
        <i class="fas fa-link"></i>
    </a>
</h1>
            
    <p>Database migrations are a way to safely update your database schema both locally
and on production. Instead of running the <code>doctrine:schema:update</code> command or
applying the database changes manually with SQL statements, migrations allow to
replicate the changes in your database schema in a safe manner.</p>

            
    <p>Migrations are available in Symfony applications via the <a href="https://github.com/doctrine/DoctrineMigrationsBundle">DoctrineMigrationsBundle</a>,
which uses the external <a href="https://github.com/doctrine/migrations">Doctrine Database Migrations</a> library. Read the
<a href="https://www.doctrine-project.org/projects/doctrine-migrations/en/current/index.html">documentation</a> of that library if you need a general introduction about migrations.</p>

            <div class="section" id="installation">
            <h2 class="section-header ">
    <a href="#installation">
        Installation
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Run this command in your terminal:</p>

            <div class="console"><pre><code class="console"><span class="noselect">$ </span>composer require doctrine/doctrine-migrations-bundle "^3.0"</code></pre></div>
            
    <p>If you don&#039;t use <a href="https://symfony.com/doc/current/setup/flex.html">Symfony Flex</a>, you must enable the bundle manually in the application:</p>

            <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="c9efba5a0270efb657ca63446d554835d3c6aa85"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="c9efba5a0270efb657ca63446d554835d3c6aa85"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-c9efba5a0270efb657ca63446d554835d3c6aa85-1" class="line-number-anchor" /><a href="#line-number-c9efba5a0270efb657ca63446d554835d3c6aa85-1">1</a></td><td class="code-line" rowspan="6"><span class="hljs-comment">// config/bundles.php</span>
<span class="hljs-comment">// in older Symfony apps, enable the bundle in app/AppKernel.php</span>
<span class="hljs-keyword">return</span> [
    <span class="hljs-comment">// ...</span>
    Doctrine\Bundle\MigrationsBundle\DoctrineMigrationsBundle::class =&gt; [<span class="hljs-string">'all'</span> =&gt; <span class="hljs-keyword">true</span>],
];</td></tr>
<tr><td class="line-number noselect"><a name="line-number-c9efba5a0270efb657ca63446d554835d3c6aa85-2" class="line-number-anchor" /><a href="#line-number-c9efba5a0270efb657ca63446d554835d3c6aa85-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c9efba5a0270efb657ca63446d554835d3c6aa85-3" class="line-number-anchor" /><a href="#line-number-c9efba5a0270efb657ca63446d554835d3c6aa85-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c9efba5a0270efb657ca63446d554835d3c6aa85-4" class="line-number-anchor" /><a href="#line-number-c9efba5a0270efb657ca63446d554835d3c6aa85-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c9efba5a0270efb657ca63446d554835d3c6aa85-5" class="line-number-anchor" /><a href="#line-number-c9efba5a0270efb657ca63446d554835d3c6aa85-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c9efba5a0270efb657ca63446d554835d3c6aa85-6" class="line-number-anchor" /><a href="#line-number-c9efba5a0270efb657ca63446d554835d3c6aa85-6">6</a></td></tr></table></div></code></pre>
    </div>
            <div class="section" id="configuration">
            <h2 class="section-header ">
    <a href="#configuration">
        Configuration
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>If you use Symfony Flex, the <code>doctrine_migrations.yaml</code> config file is created
automatically. Otherwise, create the following file and configure it for your
application:</p>

            <pre class="code-block-table"><code class="yaml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="24dfa9b7bb80818245976f51974cf5673ea685fd"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="24dfa9b7bb80818245976f51974cf5673ea685fd"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-1" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-1">1</a></td><td class="code-line" rowspan="56"><span class="hljs-comment"># config/packages/doctrine_migrations.yaml</span>

<span class="hljs-attr">doctrine_migrations:</span>
    <span class="hljs-comment"># List of namespace/path pairs to search for migrations, at least one required</span>
    <span class="hljs-attr">migrations_paths:</span>
        <span class="hljs-string">'App\Migrations'</span><span class="hljs-string">:</span> <span class="hljs-string">'%kernel.project_dir%/src/App'</span>
        <span class="hljs-string">'AnotherApp\Migrations'</span><span class="hljs-string">:</span> <span class="hljs-string">'/path/to/other/migrations'</span>
        <span class="hljs-string">'SomeBundle\Migrations'</span><span class="hljs-string">:</span> <span class="hljs-string">'@SomeBundle/Migrations'</span>

    <span class="hljs-comment"># List of additional migration classes to be loaded, optional</span>
    <span class="hljs-attr">migrations:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">'App\Migrations\Version123'</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">'App\Migrations\Version123'</span>

    <span class="hljs-comment"># Connection to use for the migrations</span>
    <span class="hljs-attr">connection:</span> <span class="hljs-string">default</span>

    <span class="hljs-comment"># Entity manager to use for migrations. This overrides the "connection" setting.</span>
    <span class="hljs-attr">em:</span> <span class="hljs-string">default</span>

    <span class="hljs-attr">storage:</span>
        <span class="hljs-comment"># Default (SQL table) metadata storage configuration</span>
        <span class="hljs-attr">table_storage:</span>
            <span class="hljs-attr">table_name:</span> <span class="hljs-string">'doctrine_migration_versions'</span>
            <span class="hljs-attr">version_column_name:</span> <span class="hljs-string">'version'</span>
            <span class="hljs-attr">version_column_length:</span> <span class="hljs-number">192</span>
            <span class="hljs-attr">executed_at_column_name:</span> <span class="hljs-string">'executed_at'</span>

    <span class="hljs-comment"># Possible values: "BY_YEAR", "BY_YEAR_AND_MONTH", false</span>
    <span class="hljs-attr">organize_migrations:</span> <span class="hljs-literal">false</span>

    <span class="hljs-comment"># Path to your custom migrations template</span>
    <span class="hljs-attr">custom_template:</span> <span class="hljs-string">~</span>

    <span class="hljs-comment"># Run all migrations in a transaction.</span>
    <span class="hljs-attr">all_or_nothing:</span> <span class="hljs-literal">false</span>

    <span class="hljs-comment"># Adds an extra check in the generated migrations to ensure that is executed on the same database type.</span>
    <span class="hljs-attr">check_database_platform:</span> <span class="hljs-literal">true</span>

    <span class="hljs-comment"># Whether or not to wrap migrations in a single transaction.</span>
    <span class="hljs-attr">transactional:</span> <span class="hljs-literal">true</span>

    <span class="hljs-comment"># Whether or not to enable the profiler collector to calculate and visualize migration status. This adds some queries overhead.</span>
    <span class="hljs-comment"># enable_profiler: false</span>

    <span class="hljs-attr">services:</span>
        <span class="hljs-comment"># Custom migration sorting service id</span>
        <span class="hljs-string">'Doctrine\Migrations\Version\Comparator'</span><span class="hljs-string">:</span> <span class="hljs-string">~</span>

        <span class="hljs-comment"># Custom migration classes factory</span>
        <span class="hljs-string">'Doctrine\Migrations\Version\MigrationFactory'</span><span class="hljs-string">:</span> <span class="hljs-string">~</span>

    <span class="hljs-attr">factories:</span>
        <span class="hljs-comment"># Custom migration sorting service id via callables (MyCallableFactory must be a callable)</span>
        <span class="hljs-string">'Doctrine\Migrations\Version\Comparator'</span><span class="hljs-string">:</span> <span class="hljs-string">'MyCallableFactory'</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-2" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-3" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-4" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-5" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-6" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-7" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-8" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-9" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-10" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-11" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-12" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-13" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-14" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-15" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-16" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-17" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-18" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-19" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-20" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-21" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-22" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-23" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-24" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-25" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-26" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-27" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-27">27</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-28" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-28">28</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-29" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-29">29</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-30" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-30">30</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-31" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-31">31</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-32" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-32">32</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-33" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-33">33</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-34" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-34">34</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-35" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-35">35</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-36" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-36">36</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-37" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-37">37</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-38" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-38">38</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-39" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-39">39</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-40" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-40">40</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-41" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-41">41</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-42" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-42">42</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-43" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-43">43</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-44" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-44">44</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-45" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-45">45</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-46" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-46">46</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-47" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-47">47</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-48" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-48">48</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-49" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-49">49</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-50" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-50">50</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-51" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-51">51</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-52" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-52">52</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-53" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-53">53</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-54" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-54">54</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-55" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-55">55</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-56" class="line-number-anchor" /><a href="#line-number-24dfa9b7bb80818245976f51974cf5673ea685fd-56">56</a></td></tr></table></div></code></pre>
            

<ul>
    <li class="dash">The <code>services</code> node allows you to provide custom services to the underlying <code>DependencyFactory</code> part of <code>doctrine/migrations</code>.</li>
    <li class="dash">The node <code>factories</code> is similar to <code>services</code>, with the difference that it accepts only callables.</li>
</ul>

            
    <p>The provided callable must return the service to be passed to the <code>DependencyFactory</code>.
The callable will receive as first argument the <code>DependencyFactory</code> itself,
allowing you to fetch other dependencies from the factory while instantiating your custom dependencies.</p>

    </div>
            <div class="section" id="usage">
            <h2 class="section-header ">
    <a href="#usage">
        Usage
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>All of the migrations functionality is contained in a few console commands:</p>

            <div class="console"><pre><code class="console">doctrine
 doctrine:migrations:current                [current] Outputs the current version.
 doctrine:migrations:diff                   [diff] Generate a migration by comparing your current database to your mapping information.
 doctrine:migrations:dump-schema            [dump-schema] Dump the schema for your database to a migration.
 doctrine:migrations:execute                [execute] Execute a single migration version up or down manually.
 doctrine:migrations:generate               [generate] Generate a blank migration class.
 doctrine:migrations:latest                 [latest] Outputs the latest version number
 doctrine:migrations:migrate                [migrate] Execute a migration to a specified version or the latest available version.
 doctrine:migrations:rollup                 [rollup] Roll migrations up by deleting all tracked versions and inserting the one version that exists.
 doctrine:migrations:status                 [status] View the status of a set of migrations.
 doctrine:migrations:up-to-date             [up-to-date] Tells you if your schema is up-to-date.
 doctrine:migrations:version                [version] Manually add and delete migration versions from the version table.
 doctrine:migrations:sync-metadata-storage  [sync-metadata-storage] Ensures that the metadata storage is at the latest version.
 doctrine:migrations:list                   [list-migrations] Display a list of all available migrations and their status.</code></pre></div>
            
    <p>Start by getting the status of migrations in your application by running
the <code>status</code> command:</p>

            <div class="console"><pre><code class="console"><span class="noselect">$ </span>php bin/console doctrine:migrations:status</code></pre></div>
            
    <p>This command will show you generic information about the migration status, such as how many migrations have been
already executed, which still need to run, and the database in use.</p>

            
    <p>Now, you can start working with migrations by generating a new blank migration
class. Later, you&#039;ll learn how Doctrine can generate migrations automatically
for you.</p>

            <div class="console"><pre><code class="console"><span class="noselect">$ </span>php bin/console doctrine:migrations:generate</code></pre></div>
            
    <p>Have a look at the newly generated migration class and you will see something
like the following:</p>

            <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-1" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-1">1</a></td><td class="code-line" rowspan="29"><span class="hljs-keyword">declare</span>(strict_types=<span class="hljs-number">1</span>);

<span class="hljs-keyword">namespace</span> <span class="hljs-title">DoctrineMigrations</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">DBAL</span>\<span class="hljs-title">Schema</span>\<span class="hljs-title">Schema</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Migrations</span>\<span class="hljs-title">AbstractMigration</span>;

<span class="hljs-comment">/**
 * Auto-generated Migration: Please modify to your needs!
 */</span>
<span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Version20180605025653</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractMigration</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDescription</span><span class="hljs-params">()</span> : <span class="hljs-title">string</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">up</span><span class="hljs-params">(Schema $schema)</span> : <span class="hljs-title">void</span>
    </span>{
        <span class="hljs-comment">// this up() migration is auto-generated, please modify it to your needs</span>

    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">down</span><span class="hljs-params">(Schema $schema)</span> : <span class="hljs-title">void</span>
    </span>{
        <span class="hljs-comment">// this down() migration is auto-generated, please modify it to your needs</span>

    }
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-2" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-3" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-4" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-5" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-6" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-7" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-8" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-9" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-10" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-11" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-12" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-13" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-14" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-15" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-16" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-17" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-18" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-19" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-20" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-21" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-22" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-23" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-24" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-25" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-26" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-27" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-27">27</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-28" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-28">28</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-29" class="line-number-anchor" /><a href="#line-number-6f5fdc40e55d5f2ffceabb12bcbfa1409dff2753-29">29</a></td></tr></table></div></code></pre>
            
    <p>If you run the <code>status</code> command again it will now show that you have one new
migration to execute:</p>

            <div class="console"><pre><code class="console"><span class="noselect">$ </span>php bin/console doctrine:migrations:status</code></pre></div>
            
    <p>Now you can add some migration code to the <code>up()</code> and <code>down()</code> methods and
finally migrate when you&#039;re ready:</p>

            <div class="console"><pre><code class="console"><span class="noselect">$ </span>php bin/console doctrine:migrations:migrate 'DoctrineMigrations\Version20180605025653'</code></pre></div>
            
    <p>For more information on how to write the migrations themselves (i.e. how to
fill in the <code>up()</code> and <code>down()</code> methods), see the official Doctrine Migrations
<a href="https://www.doctrine-project.org/projects/doctrine-migrations/en/current/index.html">documentation</a>.</p>

            <div class="section" id="running-migrations-during-deployment">
            <h3 class="section-header ">
    <a href="#running-migrations-during-deployment">
        Running Migrations during Deployment
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Of course, the end goal of writing migrations is to be able to use them to
reliably update your database structure when you deploy your application.
By running the migrations locally (or on a beta server), you can ensure that
the migrations work as you expect.</p>

            
    <p>When you do finally deploy your application, you just need to remember to run
the <code>doctrine:migrations:migrate</code> command. Internally, Doctrine creates
a <code>migration_versions</code> table inside your database and tracks which migrations
have been executed there. So, no matter how many migrations you&#039;ve created
and executed locally, when you run the command during deployment, Doctrine
will know exactly which migrations it hasn&#039;t run yet by looking at the <code>migration_versions</code>
table of your production database. Regardless of what server you&#039;re on, you
can always safely run this command to execute only the migrations that haven&#039;t
been run yet on <em>that</em> particular database.</p>

    </div>
            <div class="section" id="skipping-migrations">
            <h3 class="section-header ">
    <a href="#skipping-migrations">
        Skipping Migrations
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>You can skip single migrations by explicitly adding them to the <code>migration_versions</code> table:</p>

            <div class="console"><pre><code class="console"><span class="noselect">$ </span>php bin/console doctrine:migrations:version 'App\Migrations\Version123' --add</code></pre></div>
            <div class="alert -admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas   mr-2"></i></td>
            <td>
                                                
    <p>Pay attention to the single quotes (<code>&#039;</code>) used in the command above, without them
or with the double quotes (<code>&quot;</code>) the command will not work properly.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
            
    <p>Doctrine will then assume that this migration has already been run and will ignore it.</p>

    </div>
    </div>
            <div class="section" id="migration-dependencies">
            <h2 class="section-header ">
    <a href="#migration-dependencies">
        Migration Dependencies
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Migrations can have dependencies on external services (such as geolocation, mailer, data processing services...) that
can be used to have more powerful migrations. Those dependencies are not automatically injected into your migrations
but need to be injected using custom migrations factories.</p>

            
    <p>Here is an example on how to inject the service container into your migrations:</p>

            <div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-1">
                    <button role="tab" type="button" data-language="yaml"
                    aria-controls="configuration-block-tabpanel-67e999d794772b3a49ccd29197ea5784" aria-selected="true"
                    data-active="true" >
                <span>Yaml</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-67e999d794772b3a49ccd29197ea5784" aria-label="Yaml" class="configuration-codeblock" data-language="yaml" style="">
            <pre class="code-block-table"><code class="yaml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="1df4bb8ce64e2e893b71dae56a92453088cbffd9"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="1df4bb8ce64e2e893b71dae56a92453088cbffd9"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-1df4bb8ce64e2e893b71dae56a92453088cbffd9-1" class="line-number-anchor" /><a href="#line-number-1df4bb8ce64e2e893b71dae56a92453088cbffd9-1">1</a></td><td class="code-line" rowspan="10"><span class="hljs-comment"># config/packages/doctrine_migrations.yaml</span>
<span class="hljs-attr">doctrine_migrations:</span>
    <span class="hljs-attr">services:</span>
         <span class="hljs-string">'Doctrine\Migrations\Version\MigrationFactory'</span><span class="hljs-string">:</span> <span class="hljs-string">'App\Migrations\Factory\MigrationFactoryDecorator'</span>

<span class="hljs-comment"># config/services.yaml</span>
<span class="hljs-attr">services:</span>
    <span class="hljs-string">App\Migrations\Factory\MigrationFactoryDecorator:</span>
        <span class="hljs-attr">decorates:</span> <span class="hljs-string">'doctrine.migrations.migrations_factory'</span>
        <span class="hljs-attr">arguments:</span> <span class="hljs-string">['@.inner',</span> <span class="hljs-string">'@service_container'</span><span class="hljs-string">]</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1df4bb8ce64e2e893b71dae56a92453088cbffd9-2" class="line-number-anchor" /><a href="#line-number-1df4bb8ce64e2e893b71dae56a92453088cbffd9-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1df4bb8ce64e2e893b71dae56a92453088cbffd9-3" class="line-number-anchor" /><a href="#line-number-1df4bb8ce64e2e893b71dae56a92453088cbffd9-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1df4bb8ce64e2e893b71dae56a92453088cbffd9-4" class="line-number-anchor" /><a href="#line-number-1df4bb8ce64e2e893b71dae56a92453088cbffd9-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1df4bb8ce64e2e893b71dae56a92453088cbffd9-5" class="line-number-anchor" /><a href="#line-number-1df4bb8ce64e2e893b71dae56a92453088cbffd9-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1df4bb8ce64e2e893b71dae56a92453088cbffd9-6" class="line-number-anchor" /><a href="#line-number-1df4bb8ce64e2e893b71dae56a92453088cbffd9-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1df4bb8ce64e2e893b71dae56a92453088cbffd9-7" class="line-number-anchor" /><a href="#line-number-1df4bb8ce64e2e893b71dae56a92453088cbffd9-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1df4bb8ce64e2e893b71dae56a92453088cbffd9-8" class="line-number-anchor" /><a href="#line-number-1df4bb8ce64e2e893b71dae56a92453088cbffd9-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1df4bb8ce64e2e893b71dae56a92453088cbffd9-9" class="line-number-anchor" /><a href="#line-number-1df4bb8ce64e2e893b71dae56a92453088cbffd9-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1df4bb8ce64e2e893b71dae56a92453088cbffd9-10" class="line-number-anchor" /><a href="#line-number-1df4bb8ce64e2e893b71dae56a92453088cbffd9-10">10</a></td></tr></table></div></code></pre>
        </div>
    </div>
            <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="802135dc1c93ae48c514924ddc7a831d25ee77bf"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="802135dc1c93ae48c514924ddc7a831d25ee77bf"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-1" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-1">1</a></td><td class="code-line" rowspan="31"><span class="hljs-keyword">declare</span>(strict_types=<span class="hljs-number">1</span>);

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Migrations</span>\<span class="hljs-title">Factory</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Migrations</span>\<span class="hljs-title">AbstractMigration</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Migrations</span>\<span class="hljs-title">Version</span>\<span class="hljs-title">MigrationFactory</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">DependencyInjection</span>\<span class="hljs-title">ContainerAwareInterface</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">DependencyInjection</span>\<span class="hljs-title">ContainerInterface</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MigrationFactoryDecorator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">MigrationFactory</span>
</span>{
    <span class="hljs-keyword">private</span> $migrationFactory;
    <span class="hljs-keyword">private</span> $container;

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(MigrationFactory $migrationFactory, ContainerInterface $container)</span>
    </span>{
        <span class="hljs-keyword">$this</span>-&gt;migrationFactory = $migrationFactory;
        <span class="hljs-keyword">$this</span>-&gt;container        = $container;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createVersion</span><span class="hljs-params">(string $migrationClassName)</span>: <span class="hljs-title">AbstractMigration</span>
    </span>{
        $instance = <span class="hljs-keyword">$this</span>-&gt;migrationFactory-&gt;createVersion($migrationClassName);

        <span class="hljs-keyword">if</span> ($instance <span class="hljs-keyword">instanceof</span> ContainerAwareInterface) {
            $instance-&gt;setContainer(<span class="hljs-keyword">$this</span>-&gt;container);
        }

        <span class="hljs-keyword">return</span> $instance;
    }
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-2" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-3" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-4" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-5" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-6" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-7" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-8" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-9" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-10" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-11" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-12" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-13" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-14" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-15" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-16" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-17" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-18" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-19" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-20" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-21" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-22" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-23" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-24" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-25" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-26" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-27" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-27">27</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-28" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-28">28</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-29" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-29">29</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-30" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-30">30</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-31" class="line-number-anchor" /><a href="#line-number-802135dc1c93ae48c514924ddc7a831d25ee77bf-31">31</a></td></tr></table></div></code></pre>
            <div class="alert -admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas   mr-2"></i></td>
            <td>
                                                
    <p>If your migration class implements the interface <code>Symfony\Component\DependencyInjection\ContainerAwareInterface</code>
this bundle will automatically inject the default symfony container into your migration class
(this because the <code>MigrationFactoryDecorator</code> shown in this example is the default migration factory used by this bundle).</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
            <div class="section" id="generating-migrations-automatically">
            <h2 class="section-header ">
    <a href="#generating-migrations-automatically">
        Generating Migrations Automatically
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>In reality, you should rarely need to write migrations manually, as the migrations
library can generate migration classes automatically by comparing your Doctrine
mapping information (i.e. what your database <em>should</em> look like) with your
actual current database structure.</p>

            
    <p>For example, suppose you create a new <code>User</code> entity and add mapping information
for Doctrine&#039;s ORM:</p>

            <div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="php-annotations"
                    aria-controls="configuration-block-tabpanel-b3193579850d581758bf2a7a472b91f8" aria-selected="true"
                    data-active="true" >
                <span>Php annotations</span>
            </button>
                    <button role="tab" type="button" data-language="yaml"
                    aria-controls="configuration-block-tabpanel-5459bb49e99d8e138f6345a5cee4c7e8" aria-selected="false"
                     tabindex="-1">
                <span>Yaml</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                    aria-controls="configuration-block-tabpanel-6d76400b4eb9e181e79098625f8c870d" aria-selected="false"
                     tabindex="-1">
                <span>Xml</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-b3193579850d581758bf2a7a472b91f8" aria-label="Php annotations" class="configuration-codeblock" data-language="php-annotations" style="">
            <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-1" class="line-number-anchor" /><a href="#line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-1">1</a></td><td class="code-line" rowspan="22"><span class="hljs-comment">// src/Entity/User.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Entity</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Mapping</span> <span class="hljs-title">as</span> <span class="hljs-title">ORM</span>;

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@ORM</span>\Entity
 * <span class="hljs-doctag">@ORM</span>\Table(name="hello_user")
 */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span>
</span>{
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@ORM</span>\Id
     * <span class="hljs-doctag">@ORM</span>\Column(type="integer")
     * <span class="hljs-doctag">@ORM</span>\GeneratedValue(strategy="AUTO")
     */</span>
    <span class="hljs-keyword">private</span> $id;

    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@ORM</span>\Column(type="string", length=255)
     */</span>
    <span class="hljs-keyword">private</span> $name;</td></tr>
<tr><td class="line-number noselect"><a name="line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-2" class="line-number-anchor" /><a href="#line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-3" class="line-number-anchor" /><a href="#line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-4" class="line-number-anchor" /><a href="#line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-5" class="line-number-anchor" /><a href="#line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-6" class="line-number-anchor" /><a href="#line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-7" class="line-number-anchor" /><a href="#line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-8" class="line-number-anchor" /><a href="#line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-9" class="line-number-anchor" /><a href="#line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-10" class="line-number-anchor" /><a href="#line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-11" class="line-number-anchor" /><a href="#line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-12" class="line-number-anchor" /><a href="#line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-13" class="line-number-anchor" /><a href="#line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-14" class="line-number-anchor" /><a href="#line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-15" class="line-number-anchor" /><a href="#line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-16" class="line-number-anchor" /><a href="#line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-17" class="line-number-anchor" /><a href="#line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-18" class="line-number-anchor" /><a href="#line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-19" class="line-number-anchor" /><a href="#line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-20" class="line-number-anchor" /><a href="#line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-21" class="line-number-anchor" /><a href="#line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-22" class="line-number-anchor" /><a href="#line-number-e89fa1f28eefa81272fcf8848feae8f4fd8ddbb3-22">22</a></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-5459bb49e99d8e138f6345a5cee4c7e8" aria-label="Yaml" class="configuration-codeblock" data-language="yaml" style="display: none">
            <pre class="code-block-table"><code class="yaml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="a5277d4dec21e86e6c1ce73055085875fa886fe2"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="a5277d4dec21e86e6c1ce73055085875fa886fe2"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-1" class="line-number-anchor" /><a href="#line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-1">1</a></td><td class="code-line" rowspan="13"><span class="hljs-comment"># config/doctrine/User.orm.yaml</span>
<span class="hljs-string">App\Entity\User:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">entity</span>
    <span class="hljs-attr">table:</span> <span class="hljs-string">user</span>
    <span class="hljs-attr">id:</span>
        <span class="hljs-attr">id:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
            <span class="hljs-attr">generator:</span>
                <span class="hljs-attr">strategy:</span> <span class="hljs-string">AUTO</span>
    <span class="hljs-attr">fields:</span>
        <span class="hljs-attr">name:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
            <span class="hljs-attr">length:</span> <span class="hljs-number">255</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-2" class="line-number-anchor" /><a href="#line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-3" class="line-number-anchor" /><a href="#line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-4" class="line-number-anchor" /><a href="#line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-5" class="line-number-anchor" /><a href="#line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-6" class="line-number-anchor" /><a href="#line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-7" class="line-number-anchor" /><a href="#line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-8" class="line-number-anchor" /><a href="#line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-9" class="line-number-anchor" /><a href="#line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-10" class="line-number-anchor" /><a href="#line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-11" class="line-number-anchor" /><a href="#line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-12" class="line-number-anchor" /><a href="#line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-13" class="line-number-anchor" /><a href="#line-number-a5277d4dec21e86e6c1ce73055085875fa886fe2-13">13</a></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-6d76400b4eb9e181e79098625f8c870d" aria-label="Xml" class="configuration-codeblock" data-language="xml" style="display: none">
            <pre class="code-block-table"><code class="xml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="fe160ae21fc9f84dff15b5c345c1e1925e236e36"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="fe160ae21fc9f84dff15b5c345c1e1925e236e36"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-1" class="line-number-anchor" /><a href="#line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-1">1</a></td><td class="code-line" rowspan="14"><span class="hljs-comment">&lt;!-- config/doctrine/User.orm.xml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">doctrine-mapping</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://doctrine-project.org/schemas/orm/doctrine-mapping"</span>
      <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
      <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://doctrine-project.org/schemas/orm/doctrine-mapping
                    http://doctrine-project.org/schemas/orm/doctrine-mapping.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">entity</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"App\Entity\User"</span> <span class="hljs-attr">table</span>=<span class="hljs-string">"user"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"id"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"integer"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"id"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">generator</span> <span class="hljs-attr">strategy</span>=<span class="hljs-string">"AUTO"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">field</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"string"</span> <span class="hljs-attr">length</span>=<span class="hljs-string">"255"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">entity</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">doctrine-mapping</span>&gt;</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-2" class="line-number-anchor" /><a href="#line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-3" class="line-number-anchor" /><a href="#line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-4" class="line-number-anchor" /><a href="#line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-5" class="line-number-anchor" /><a href="#line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-6" class="line-number-anchor" /><a href="#line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-7" class="line-number-anchor" /><a href="#line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-8" class="line-number-anchor" /><a href="#line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-9" class="line-number-anchor" /><a href="#line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-10" class="line-number-anchor" /><a href="#line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-11" class="line-number-anchor" /><a href="#line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-12" class="line-number-anchor" /><a href="#line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-13" class="line-number-anchor" /><a href="#line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-14" class="line-number-anchor" /><a href="#line-number-fe160ae21fc9f84dff15b5c345c1e1925e236e36-14">14</a></td></tr></table></div></code></pre>
        </div>
    </div>
            
    <p>With this information, Doctrine is now ready to help you persist your new
<code>User</code> object to and from the <code>user</code> table. Of course, this table
doesn&#039;t exist yet! Generate a new migration for this table automatically by
running the following command:</p>

            <div class="console"><pre><code class="console"><span class="noselect">$ </span>php bin/console doctrine:migrations:diff</code></pre></div>
            
    <p>You should see a message that a new migration class was generated based on
the schema differences. If you open this file, you&#039;ll find that it has the
SQL code needed to create the <code>user</code> table. Next, run the migration
to add the table to your database:</p>

            <div class="console"><pre><code class="console"><span class="noselect">$ </span>php bin/console doctrine:migrations:migrate</code></pre></div>
            
    <p>The moral of the story is this: after each change you make to your Doctrine
mapping information, run the <code>doctrine:migrations:diff</code> command to automatically
generate your migration classes.</p>

            
    <p>If you do this from the very beginning of your project (i.e. so that even
the first tables were loaded via a migration class), you&#039;ll always be able
to create a fresh database and run your migrations in order to get your database
schema fully up to date. In fact, this is an easy and dependable workflow
for your project.</p>

            
    <p>If you don&#039;t want to use this workflow and instead create your schema via
<code>doctrine:schema:create</code>, you can tell Doctrine to skip all existing migrations:</p>

            <div class="console"><pre><code class="console"><span class="noselect">$ </span>php bin/console doctrine:migrations:version --add --all</code></pre></div>
            
    <p>Otherwise Doctrine will try to run all migrations, which probably will not work.</p>

    </div>
            <div class="section" id="manual-tables">
            <h2 class="section-header ">
    <a href="#manual-tables">
        Manual Tables
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>It is a common use case, that in addition to your generated database structure
based on your doctrine entities you might need custom tables. By default such
tables will be removed by the <code>doctrine:migrations:diff</code> command.</p>

            
    <p>If you follow a specific scheme you can configure doctrine/dbal to ignore those
tables. Let&#039;s say all custom tables will be prefixed by <code>t_</code>. In this case you
just have to add the following configuration option to your doctrine configuration:</p>

            <div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                    aria-controls="configuration-block-tabpanel-b7a5d3440df9e78facaf72f73f2c8475" aria-selected="true"
                    data-active="true" >
                <span>Yaml</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                    aria-controls="configuration-block-tabpanel-0a8b5ace138545d5fe5e41f8bf49468d" aria-selected="false"
                     tabindex="-1">
                <span>Xml</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                    aria-controls="configuration-block-tabpanel-37cb3aacd1244660deb0dfac7c631421" aria-selected="false"
                     tabindex="-1">
                <span>Php</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-b7a5d3440df9e78facaf72f73f2c8475" aria-label="Yaml" class="configuration-codeblock" data-language="yaml" style="">
            <pre class="code-block-table"><code class="yaml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="43e5b6bd8872a95bbad90edd79c473c3201f4b2c"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="43e5b6bd8872a95bbad90edd79c473c3201f4b2c"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-43e5b6bd8872a95bbad90edd79c473c3201f4b2c-1" class="line-number-anchor" /><a href="#line-number-43e5b6bd8872a95bbad90edd79c473c3201f4b2c-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-attr">doctrine:</span>
    <span class="hljs-attr">dbal:</span>
        <span class="hljs-attr">schema_filter:</span> <span class="hljs-string">~^(?!t_)~</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-43e5b6bd8872a95bbad90edd79c473c3201f4b2c-2" class="line-number-anchor" /><a href="#line-number-43e5b6bd8872a95bbad90edd79c473c3201f4b2c-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-43e5b6bd8872a95bbad90edd79c473c3201f4b2c-3" class="line-number-anchor" /><a href="#line-number-43e5b6bd8872a95bbad90edd79c473c3201f4b2c-3">3</a></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-0a8b5ace138545d5fe5e41f8bf49468d" aria-label="Xml" class="configuration-codeblock" data-language="xml" style="display: none">
            <pre class="code-block-table"><code class="xml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="a1d1649f5e3c73030cba23f61d27cdfe4f2c5909"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="a1d1649f5e3c73030cba23f61d27cdfe4f2c5909"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-a1d1649f5e3c73030cba23f61d27cdfe4f2c5909-1" class="line-number-anchor" /><a href="#line-number-a1d1649f5e3c73030cba23f61d27cdfe4f2c5909-1">1</a></td><td class="code-line" rowspan="1"><span class="hljs-tag">&lt;<span class="hljs-name">doctrine:dbal</span> <span class="hljs-attr">schema-filter</span>=<span class="hljs-string">"~^(?!t_)~"</span> /&gt;</span></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-37cb3aacd1244660deb0dfac7c631421" aria-label="Php" class="configuration-codeblock" data-language="php" style="display: none">
            <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="912d63b22b2fbd38eb8c4172ff67867f990762da"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="912d63b22b2fbd38eb8c4172ff67867f990762da"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-912d63b22b2fbd38eb8c4172ff67867f990762da-1" class="line-number-anchor" /><a href="#line-number-912d63b22b2fbd38eb8c4172ff67867f990762da-1">1</a></td><td class="code-line" rowspan="7">$container-&gt;loadFromExtension(<span class="hljs-string">'doctrine'</span>, <span class="hljs-keyword">array</span>(
    <span class="hljs-string">'dbal'</span> =&gt; <span class="hljs-keyword">array</span>(
        <span class="hljs-string">'schema_filter'</span>  =&gt; <span class="hljs-string">'~^(?!t_)~'</span>,
        <span class="hljs-comment">// ...</span>
    ),
    <span class="hljs-comment">// ...</span>
));</td></tr>
<tr><td class="line-number noselect"><a name="line-number-912d63b22b2fbd38eb8c4172ff67867f990762da-2" class="line-number-anchor" /><a href="#line-number-912d63b22b2fbd38eb8c4172ff67867f990762da-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-912d63b22b2fbd38eb8c4172ff67867f990762da-3" class="line-number-anchor" /><a href="#line-number-912d63b22b2fbd38eb8c4172ff67867f990762da-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-912d63b22b2fbd38eb8c4172ff67867f990762da-4" class="line-number-anchor" /><a href="#line-number-912d63b22b2fbd38eb8c4172ff67867f990762da-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-912d63b22b2fbd38eb8c4172ff67867f990762da-5" class="line-number-anchor" /><a href="#line-number-912d63b22b2fbd38eb8c4172ff67867f990762da-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-912d63b22b2fbd38eb8c4172ff67867f990762da-6" class="line-number-anchor" /><a href="#line-number-912d63b22b2fbd38eb8c4172ff67867f990762da-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-912d63b22b2fbd38eb8c4172ff67867f990762da-7" class="line-number-anchor" /><a href="#line-number-912d63b22b2fbd38eb8c4172ff67867f990762da-7">7</a></td></tr></table></div></code></pre>
        </div>
    </div>
            
    <p>This ignores the tables, and any named objects such as sequences, on the DBAL level and they will be ignored by the diff command.</p>

            
    <p>Note that if you have multiple connections configured then the <code>schema_filter</code> configuration
will need to be placed per-connection.</p>

    </div>
            <div class="section" id="troubleshooting-out-of-sync-metadata-storage-issue">
            <h2 class="section-header ">
    <a href="#troubleshooting-out-of-sync-metadata-storage-issue">
        Troubleshooting out of sync metadata storage issue
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p><code>doctrine/migrations</code> relies on a properly configured Database server version in the connection string to manage the table storing the
migrations, also known as the metadata storage.</p>

            
    <p>If you encounter the error <code>The metadata storage is not up to date, please run the sync-metadata-storage command to fix this issue.</code>
when running the command <code>doctrine:migrations:migrate</code> or the suggested command itself <code>doctrine:migrations:sync-metadata-storage</code> please
check the database connection string, and make sure that the proper server version is defined. If you are running a MariaDB database,
you should prefix the server version with <code>mariadb-</code> (ex: <code>mariadb-10.2.12</code>). See the <a href="https://symfony.com/doc/current/doctrine.html#configuring-the-database">configuring_database</a> section.</p>

            
    <p>Example connection string for MariaDB:</p>

            <div class="console"><pre><code class="console"><span class="noselect">$ </span>DATABASE_URL=mysql://root:@127.0.0.1:3306/testtest?serverVersion=mariadb-10.4.11
</code></pre></div>
    </div>
    </div>
        

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?ff3b61"
                            integrity="sha384-N2Oz1dttUU0TaVXAlk6POyhAwbZkGGv8eoZIiydnHJOew7MFr46LOksoWc9U9rdU"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'doctrine-migrations-bundle';
            var versionSlug = '3.3';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search DoctrineMigrationsBundle 3.3'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            </body>
</html>
