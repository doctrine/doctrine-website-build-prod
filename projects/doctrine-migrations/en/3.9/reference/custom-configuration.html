<!DOCTYPE html>
<html>
    <head>
        <title>        Custom Configuration - Doctrine Migrations
    </title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine Migrations Documentation: Custom Configuration ">

        <meta name="keywords" content="                    database,migrations,dbal,documentation,custom,configuration
    ">

                    <meta name="robots" content="index, follow">
        
        
                    <link rel="canonical" href="https://www.doctrine-project.org/projects/doctrine-migrations/en/3.8/reference/custom-configuration.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?804931"
                        integrity="sha384-OU8/Wh6kOwekbc8p0dZR/mByM4cSXGaK7tancdEkaNPG444b3MrTnpJMsUhuspCh"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/projects/doctrine-migrations/en/3.9/reference/custom-configuration.html" />
        <meta property="og:title" content="        Custom Configuration - Doctrine Migrations
    " />
        <meta property="og:description" content="Doctrine Migrations Documentation: Custom Configuration " />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine Migrations",
            "description": "Custom Configuration",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://www.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                    <a class="dropdown-item" href="/projects/skeleton-mapper.html">Skeleton Mapper</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/migrations/edit/3.9.x/docs/en/reference/custom-configuration.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        <div class="toc"><ul><li id="introduction-html" class="toc-item"><a href="introduction.html">Introduction</a><ul><li id="introduction-html-installation" class="toc-item"><a href="introduction.html#installation">Installation</a><ul><li id="introduction-html-composer" class="toc-item"><a href="introduction.html#composer">Composer</a></li><li id="introduction-html-phar" class="toc-item"><a href="introduction.html#phar">PHAR</a></li></ul></li></ul></li><li id="configuration-html" class="toc-item"><a href="configuration.html">Configuration</a><ul><li id="configuration-html-migrations-configuration" class="toc-item"><a href="configuration.html#migrations-configuration">Migrations Configuration</a><ul><li id="configuration-html-manually-providing-migrations" class="toc-item"><a href="configuration.html#manually-providing-migrations">Manually Providing Migrations</a></li></ul></li><li id="configuration-html-all-or-nothing-transaction" class="toc-item"><a href="configuration.html#all-or-nothing-transaction">All or Nothing Transaction</a></li><li id="configuration-html-using-or-not-using-transactions" class="toc-item"><a href="configuration.html#using-or-not-using-transactions">Using or not using transactions</a><ul><li id="configuration-html-from-the-command-line" class="toc-item"><a href="configuration.html#from-the-command-line">From the Command Line</a></li></ul></li><li id="configuration-html-connection-configuration" class="toc-item"><a href="configuration.html#connection-configuration">Connection Configuration</a><ul><li id="configuration-html-simple" class="toc-item"><a href="configuration.html#simple">Simple</a></li><li id="configuration-html-advanced" class="toc-item"><a href="configuration.html#advanced">Advanced</a></li></ul></li></ul></li><li id="migration-classes-html" class="toc-item"><a href="migration-classes.html">Migration Classes</a><ul><li id="migration-classes-html-methods-to-implement" class="toc-item"><a href="migration-classes.html#methods-to-implement">Methods to Implement</a><ul><li id="migration-classes-html-istransactional" class="toc-item"><a href="migration-classes.html#istransactional">isTransactional</a></li><li id="migration-classes-html-getdescription" class="toc-item"><a href="migration-classes.html#getdescription">getDescription</a></li><li id="migration-classes-html-preup" class="toc-item"><a href="migration-classes.html#preup">preUp</a></li><li id="migration-classes-html-postup" class="toc-item"><a href="migration-classes.html#postup">postUp</a></li><li id="migration-classes-html-predown" class="toc-item"><a href="migration-classes.html#predown">preDown</a></li><li id="migration-classes-html-postdown" class="toc-item"><a href="migration-classes.html#postdown">postDown</a></li></ul></li><li id="migration-classes-html-methods-to-call" class="toc-item"><a href="migration-classes.html#methods-to-call">Methods to Call</a><ul><li id="migration-classes-html-warnif" class="toc-item"><a href="migration-classes.html#warnif">warnIf</a></li><li id="migration-classes-html-abortif" class="toc-item"><a href="migration-classes.html#abortif">abortIf</a></li><li id="migration-classes-html-skipif" class="toc-item"><a href="migration-classes.html#skipif">skipIf</a></li><li id="migration-classes-html-addsql" class="toc-item"><a href="migration-classes.html#addsql">addSql</a></li><li id="migration-classes-html-write" class="toc-item"><a href="migration-classes.html#write">write</a></li><li id="migration-classes-html-throwirreversiblemigrationexception" class="toc-item"><a href="migration-classes.html#throwirreversiblemigrationexception">throwIrreversibleMigrationException</a></li></ul></li></ul></li><li id="managing-migrations-html" class="toc-item"><a href="managing-migrations.html">Managing Migrations</a><ul><li id="managing-migrations-html-status" class="toc-item"><a href="managing-migrations.html#status">Status</a></li><li id="managing-migrations-html-dry-run" class="toc-item"><a href="managing-migrations.html#dry-run">Dry Run</a></li><li id="managing-migrations-html-executing-multiple-migrations" class="toc-item"><a href="managing-migrations.html#executing-multiple-migrations">Executing Multiple Migrations</a></li><li id="managing-migrations-html-executing-single-migrations" class="toc-item"><a href="managing-migrations.html#executing-single-migrations">Executing Single Migrations</a></li><li id="managing-migrations-html-no-interaction" class="toc-item"><a href="managing-migrations.html#no-interaction">No Interaction</a></li><li id="managing-migrations-html-reverting-migrations" class="toc-item"><a href="managing-migrations.html#reverting-migrations">Reverting Migrations</a></li><li id="managing-migrations-html-version-aliases" class="toc-item"><a href="managing-migrations.html#version-aliases">Version Aliases</a></li><li id="managing-migrations-html-writing-migration-sql-files" class="toc-item"><a href="managing-migrations.html#writing-migration-sql-files">Writing Migration SQL Files</a></li><li id="managing-migrations-html-managing-the-version-table" class="toc-item"><a href="managing-migrations.html#managing-the-version-table">Managing the Version Table</a></li></ul></li><li id="generating-migrations-html" class="toc-item"><a href="generating-migrations.html">Generating Migrations</a><ul><li id="generating-migrations-html-generating-blank-migrations" class="toc-item"><a href="generating-migrations.html#generating-blank-migrations">Generating Blank Migrations</a></li><li id="generating-migrations-html-diffing-using-the-orm" class="toc-item"><a href="generating-migrations.html#diffing-using-the-orm">Diffing Using the ORM</a></li><li id="generating-migrations-html-diffing-without-the-orm" class="toc-item"><a href="generating-migrations.html#diffing-without-the-orm">Diffing Without the ORM</a></li><li id="generating-migrations-html-formatted-sql" class="toc-item"><a href="generating-migrations.html#formatted-sql">Formatted SQL</a></li><li id="generating-migrations-html-ignoring-custom-tables" class="toc-item"><a href="generating-migrations.html#ignoring-custom-tables">Ignoring Custom Tables</a></li><li id="generating-migrations-html-merging-historical-migrations" class="toc-item"><a href="generating-migrations.html#merging-historical-migrations">Merging Historical Migrations</a></li></ul></li><li id="custom-configuration-html-custom-configuration" class="toc-item"><a href="custom-configuration.html#custom-configuration">Custom Configuration</a><ul><li id="custom-configuration-html-custom-migration-template" class="toc-item"><a href="custom-configuration.html#custom-migration-template">Custom migration template</a></li></ul></li><li id="events-html" class="toc-item"><a href="events.html">Migrations Events</a></li><li id="version-numbers-html" class="toc-item"><a href="version-numbers.html">Version Numbers</a></li><li id="integrations-html" class="toc-item"><a href="integrations.html">Integrations</a></li><li id="custom-integration-html" class="toc-item"><a href="custom-integration.html">Custom Integration</a></li></ul></div>
                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://www.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "Migrations",
            "item": "https://www.doctrine-project.org/projects/migrations.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://www.doctrine-project.org/projects/doctrine-migrations/en/3.9/index.html"
        },                {
            "@type": "ListItem",
            "position": 4,
            "name": "Custom Configuration",
            "item": "https://www.doctrine-project.org/projects/doctrine-migrations/en/3.9/reference/custom-configuration.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/migrations.html">Migrations</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-migrations/en/3.9/index.html">Documentation</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Custom Configuration</li>
                        </ol>
</nav>
                                    </div>

                    
    <div class="alert caution bg-light-yellow text-dark border">
    <table width="100%">
        <tr>
            <td width="10" class="align-top">
                <i class="fas fa-exclamation-circle text-warning mr-2"></i>
            </td>
            <td><p>You are browsing a version that has not yet been released.</p></td>
        </tr>
    </table>
</div>

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-migrations/en/3.9/reference/custom-configuration.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        3.9
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item active" href="/projects/doctrine-migrations/en/3.9/reference/custom-configuration.html">
                                                        3.9

                                                        
                                                                                                                    (upcoming)
                                                                                                            </a>
                                                                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-migrations/en/3.8/reference/custom-configuration.html">
                                                        3.8.0

                                                                                                                    (current)
                                                        
                                                                                                            </a>
                                                                                                                                    
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-migrations/en/3.7/reference/custom-configuration.html">3.7</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-migrations/en/3.6/reference/custom-configuration.html">3.6</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-migrations/en/3.5/reference/custom-configuration.html">3.5</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-migrations/en/3.4/reference/custom-configuration.html">3.4</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-migrations/en/3.3/reference/custom-configuration.html">3.3</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-migrations/en/3.2/reference/custom-configuration.html">3.2</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-migrations/en/3.1/reference/custom-configuration.html">3.1</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-migrations/en/3.0/reference/custom-configuration.html">3.0</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-migrations/en/2.3/reference/custom-configuration.html">2.3</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-migrations/en/2.2/reference/custom-configuration.html">2.2</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-migrations/en/2.1/reference/custom-configuration.html">2.1</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-migrations/en/2.0/reference/custom-configuration.html">2.0</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="">1.8</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="">1.7</a>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </div>
                                </div>
                            
                            
<div class="section"><a class="section-anchor" id="custom-configuration" name="custom-configuration"></a><h1 class="section-header"><a href="#custom-configuration">Custom Configuration<i class="fas fa-link"></i></a></h1>
<p>It is possible to build a custom configuration where you manually build the <code>Doctrine\Migrations\Configuration\Configuration</code>
instance instead of using YAML, XML, etc. In order to do this, you will need to setup a <a href="custom-integration.html">Custom Integration</a>.</p>
<p>Once you have your custom integration setup, you can modify it to look like the following:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="c164250103fec1021d7b1e1312e5a9237e701272"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="c164250103fec1021d7b1e1312e5a9237e701272"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-1" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-1">1</a></td><td class="code-line" rowspan="60"><span class="hljs-comment">#!/usr/bin/env php</span>
<span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">require_once</span> <span class="hljs-keyword">__DIR__</span>.<span class="hljs-string">'/vendor/autoload.php'</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">DBAL</span>\<span class="hljs-title">DriverManager</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Migrations</span>\<span class="hljs-title">Configuration</span>\<span class="hljs-title">Configuration</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Migrations</span>\<span class="hljs-title">Configuration</span>\<span class="hljs-title">Connection</span>\<span class="hljs-title">ExistingConnection</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Migrations</span>\<span class="hljs-title">Configuration</span>\<span class="hljs-title">Migration</span>\<span class="hljs-title">ExistingConfiguration</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Migrations</span>\<span class="hljs-title">DependencyFactory</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Migrations</span>\<span class="hljs-title">Metadata</span>\<span class="hljs-title">Storage</span>\<span class="hljs-title">TableMetadataStorageConfiguration</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Migrations</span>\<span class="hljs-title">Tools</span>\<span class="hljs-title">Console</span>\<span class="hljs-title">Command</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Console</span>\<span class="hljs-title">Application</span>;

$dbParams = [
    <span class="hljs-string">'dbname'</span> =&gt; <span class="hljs-string">'migrations_docs_example'</span>,
    <span class="hljs-string">'user'</span> =&gt; <span class="hljs-string">'root'</span>,
    <span class="hljs-string">'password'</span> =&gt; <span class="hljs-string">''</span>,
    <span class="hljs-string">'host'</span> =&gt; <span class="hljs-string">'localhost'</span>,
    <span class="hljs-string">'driver'</span> =&gt; <span class="hljs-string">'pdo_mysql'</span>,
];

$connection = DriverManager::getConnection($dbParams);

$configuration = <span class="hljs-keyword">new</span> Configuration($connection);

$configuration-&gt;addMigrationsDirectory(<span class="hljs-string">'MyProject\Migrations'</span>, <span class="hljs-string">'/data/doctrine/migrations-docs-example/lib/MyProject/Migrations'</span>);
$configuration-&gt;setAllOrNothing(<span class="hljs-keyword">true</span>);
$configuration-&gt;setCheckDatabasePlatform(<span class="hljs-keyword">false</span>);

$storageConfiguration = <span class="hljs-keyword">new</span> TableMetadataStorageConfiguration();
$storageConfiguration-&gt;setTableName(<span class="hljs-string">'doctrine_migration_versions'</span>);

$configuration-&gt;setMetadataStorageConfiguration($storageConfiguration);

$dependencyFactory = DependencyFactory::fromConnection(
    <span class="hljs-keyword">new</span> ExistingConfiguration($configuration),
    <span class="hljs-keyword">new</span> ExistingConnection($connection)
);

$cli = <span class="hljs-keyword">new</span> Application(<span class="hljs-string">'Doctrine Migrations'</span>);
$cli-&gt;setCatchExceptions(<span class="hljs-keyword">true</span>);

$cli-&gt;addCommands(<span class="hljs-keyword">array</span>(
    <span class="hljs-keyword">new</span> Command\CurrentCommand($dependencyFactory),
    <span class="hljs-keyword">new</span> Command\DiffCommand($dependencyFactory),
    <span class="hljs-keyword">new</span> Command\DumpSchemaCommand($dependencyFactory),
    <span class="hljs-keyword">new</span> Command\ExecuteCommand($dependencyFactory),
    <span class="hljs-keyword">new</span> Command\GenerateCommand($dependencyFactory),
    <span class="hljs-keyword">new</span> Command\LatestCommand($dependencyFactory),
    <span class="hljs-keyword">new</span> Command\ListCommand($dependencyFactory),
    <span class="hljs-keyword">new</span> Command\MigrateCommand($dependencyFactory),
    <span class="hljs-keyword">new</span> Command\RollupCommand($dependencyFactory),
    <span class="hljs-keyword">new</span> Command\StatusCommand($dependencyFactory),
    <span class="hljs-keyword">new</span> Command\SyncMetadataCommand($dependencyFactory),
    <span class="hljs-keyword">new</span> Command\UpToDateCommand($dependencyFactory),
    <span class="hljs-keyword">new</span> Command\VersionCommand($dependencyFactory),
));

$cli-&gt;run();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-2" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-3" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-4" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-5" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-6" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-7" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-8" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-9" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-10" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-11" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-12" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-13" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-14" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-15" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-16" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-17" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-18" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-19" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-20" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-21" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-22" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-23" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-24" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-25" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-26" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-27" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-27">27</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-28" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-28">28</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-29" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-29">29</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-30" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-30">30</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-31" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-31">31</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-32" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-32">32</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-33" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-33">33</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-34" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-34">34</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-35" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-35">35</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-36" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-36">36</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-37" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-37">37</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-38" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-38">38</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-39" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-39">39</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-40" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-40">40</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-41" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-41">41</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-42" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-42">42</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-43" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-43">43</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-44" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-44">44</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-45" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-45">45</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-46" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-46">46</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-47" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-47">47</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-48" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-48">48</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-49" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-49">49</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-50" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-50">50</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-51" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-51">51</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-52" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-52">52</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-53" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-53">53</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-54" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-54">54</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-55" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-55">55</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-56" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-56">56</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-57" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-57">57</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-58" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-58">58</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-59" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-59">59</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c164250103fec1021d7b1e1312e5a9237e701272-60" class="line-number-anchor" /><a href="#line-number-c164250103fec1021d7b1e1312e5a9237e701272-60">60</a></td></tr></table></div></code></pre>
<p><a href="events.html">Next Chapter: Migrations Events</a></p>
<p>It is possible to use multiple entity managers or connections, this is a way to configure your application:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="1e8fa088d9dce5d754a26f7b1b719208b3d5d41b"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="1e8fa088d9dce5d754a26f7b1b719208b3d5d41b"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-1" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-1">1</a></td><td class="code-line" rowspan="47"><span class="hljs-comment">#!/usr/bin/env php</span>
<span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">require_once</span> <span class="hljs-keyword">__DIR__</span>.<span class="hljs-string">'/vendor/autoload.php'</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">DBAL</span>\<span class="hljs-title">DriverManager</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Migrations</span>\<span class="hljs-title">Configuration</span>\<span class="hljs-title">Configuration</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Migrations</span>\<span class="hljs-title">Configuration</span>\<span class="hljs-title">Configuration</span>\<span class="hljs-title">ExistingConfiguration</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Migrations</span>\<span class="hljs-title">Configuration</span>\<span class="hljs-title">Connection</span>\<span class="hljs-title">ConnectionRegistryConnection</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Migrations</span>\<span class="hljs-title">DependencyFactory</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Migrations</span>\<span class="hljs-title">Tools</span>\<span class="hljs-title">Console</span>\<span class="hljs-title">Command</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Console</span>\<span class="hljs-title">Application</span>;

$connection1 = DriverManager::getConnection([...]);
$connection2 = DriverManager::getConnection([...]);

$connectionRegistry = <span class="hljs-keyword">new</span> <span class="hljs-class"><span class="hljs-keyword">class</span>(
    '<span class="hljs-title">some_registry</span>',
    ['<span class="hljs-title">foo</span>' =&gt; $<span class="hljs-title">connection1</span>, '<span class="hljs-title">bar</span>' =&gt; $<span class="hljs-title">connection2</span>],
    [], // <span class="hljs-title">entity</span> <span class="hljs-title">managers</span>
    '<span class="hljs-title">foo</span>', // <span class="hljs-title">default</span> <span class="hljs-title">connection</span>
    <span class="hljs-title">null</span>, // <span class="hljs-title">default</span> <span class="hljs-title">entity</span> <span class="hljs-title">manager</span>
    '<span class="hljs-title">Doctrine</span>\<span class="hljs-title">Persistence</span>\<span class="hljs-title">Proxy</span>' // <span class="hljs-title">proxy</span> <span class="hljs-title">class</span>
) <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractManagerRegistry</span> </span>{
    <span class="hljs-comment">// implement abstract methods here</span>
};

$configuration = <span class="hljs-keyword">new</span> Configuration($connection);
$configuration-&gt;addMigrationsDirectory(<span class="hljs-string">'MyProject\Migrations'</span>, <span class="hljs-string">'some path'</span>);
$configurationLoader = <span class="hljs-keyword">new</span> ExistingConfiguration($configuration);

$connectionLoader = ConnectionRegistryConnection::withSimpleDefault($connectionRegistry);

$dependencyFactory = DependencyFactory::fromConnection(
    $configurationLoader,
    $connectionLoader
);

$cli = <span class="hljs-keyword">new</span> Application(<span class="hljs-string">'Doctrine Migrations'</span>);
$cli-&gt;setCatchExceptions(<span class="hljs-keyword">true</span>);

$cli-&gt;addCommands(<span class="hljs-keyword">array</span>(
    <span class="hljs-keyword">new</span> Command\MigrateCommand($dependencyFactory),
    <span class="hljs-comment">// more commands here</span>
));

$cli-&gt;run();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-2" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-3" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-4" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-5" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-6" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-7" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-8" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-9" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-10" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-11" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-12" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-13" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-14" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-15" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-16" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-17" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-18" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-19" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-20" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-21" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-22" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-23" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-24" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-25" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-26" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-27" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-27">27</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-28" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-28">28</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-29" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-29">29</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-30" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-30">30</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-31" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-31">31</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-32" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-32">32</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-33" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-33">33</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-34" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-34">34</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-35" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-35">35</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-36" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-36">36</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-37" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-37">37</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-38" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-38">38</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-39" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-39">39</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-40" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-40">40</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-41" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-41">41</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-42" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-42">42</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-43" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-43">43</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-44" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-44">44</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-45" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-45">45</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-46" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-46">46</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-47" class="line-number-anchor" /><a href="#line-number-1e8fa088d9dce5d754a26f7b1b719208b3d5d41b-47">47</a></td></tr></table></div></code></pre>
<p>With this configuration you can use the <code>--conn</code> parameter to specify a connection that will be used for running
migrations. If the parameter is not passed, it will fallback to the one passed in the configuration,
and if that is also not provided it will fallback to the default connection name specified when creating
the connection registry.</p>
<div class="section"><a class="section-anchor" id="custom-migration-template" name="custom-migration-template"></a><h2 class="section-header"><a href="#custom-migration-template">Custom migration template<i class="fas fa-link"></i></a></h2>
<p>When the default generated migrations do not suit your needs, you may provide a custom migration template that will
be used to generate future migrations.</p>
<p>For example, if you don't need a <code>down</code> migration your template could look like this:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="a2afaa99b024ce1074686da4ec9560390614008a"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="a2afaa99b024ce1074686da4ec9560390614008a"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-a2afaa99b024ce1074686da4ec9560390614008a-1" class="line-number-anchor" /><a href="#line-number-a2afaa99b024ce1074686da4ec9560390614008a-1">1</a></td><td class="code-line" rowspan="16"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">declare</span>(strict_types=<span class="hljs-number">1</span>);

<span class="hljs-keyword">namespace</span> &lt;<span class="hljs-title">namespace</span>&gt;;

<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">DBAL</span>\<span class="hljs-title">Schema</span>\<span class="hljs-title">Schema</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Migrations</span>\<span class="hljs-title">AbstractMigration</span>;

<span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> &lt;<span class="hljs-title">className</span>&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractMigration</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">up</span><span class="hljs-params">(Schema $schema)</span>: <span class="hljs-title">void</span>
    </span>{
        &lt;up&gt;
    }
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-a2afaa99b024ce1074686da4ec9560390614008a-2" class="line-number-anchor" /><a href="#line-number-a2afaa99b024ce1074686da4ec9560390614008a-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a2afaa99b024ce1074686da4ec9560390614008a-3" class="line-number-anchor" /><a href="#line-number-a2afaa99b024ce1074686da4ec9560390614008a-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a2afaa99b024ce1074686da4ec9560390614008a-4" class="line-number-anchor" /><a href="#line-number-a2afaa99b024ce1074686da4ec9560390614008a-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a2afaa99b024ce1074686da4ec9560390614008a-5" class="line-number-anchor" /><a href="#line-number-a2afaa99b024ce1074686da4ec9560390614008a-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a2afaa99b024ce1074686da4ec9560390614008a-6" class="line-number-anchor" /><a href="#line-number-a2afaa99b024ce1074686da4ec9560390614008a-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a2afaa99b024ce1074686da4ec9560390614008a-7" class="line-number-anchor" /><a href="#line-number-a2afaa99b024ce1074686da4ec9560390614008a-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a2afaa99b024ce1074686da4ec9560390614008a-8" class="line-number-anchor" /><a href="#line-number-a2afaa99b024ce1074686da4ec9560390614008a-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a2afaa99b024ce1074686da4ec9560390614008a-9" class="line-number-anchor" /><a href="#line-number-a2afaa99b024ce1074686da4ec9560390614008a-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a2afaa99b024ce1074686da4ec9560390614008a-10" class="line-number-anchor" /><a href="#line-number-a2afaa99b024ce1074686da4ec9560390614008a-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a2afaa99b024ce1074686da4ec9560390614008a-11" class="line-number-anchor" /><a href="#line-number-a2afaa99b024ce1074686da4ec9560390614008a-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a2afaa99b024ce1074686da4ec9560390614008a-12" class="line-number-anchor" /><a href="#line-number-a2afaa99b024ce1074686da4ec9560390614008a-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a2afaa99b024ce1074686da4ec9560390614008a-13" class="line-number-anchor" /><a href="#line-number-a2afaa99b024ce1074686da4ec9560390614008a-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a2afaa99b024ce1074686da4ec9560390614008a-14" class="line-number-anchor" /><a href="#line-number-a2afaa99b024ce1074686da4ec9560390614008a-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a2afaa99b024ce1074686da4ec9560390614008a-15" class="line-number-anchor" /><a href="#line-number-a2afaa99b024ce1074686da4ec9560390614008a-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a2afaa99b024ce1074686da4ec9560390614008a-16" class="line-number-anchor" /><a href="#line-number-a2afaa99b024ce1074686da4ec9560390614008a-16">16</a></td></tr></table></div></code></pre>
<p>Placeholders (words inside <code>&lt; &gt;</code>) are replaced with correct code upon generation. All possible wildcards are:</p>
<table>
        <tbody>
                    <tr>
                                    <td>Placeholder</td>
                                    <td>Description</td>
                            </tr>
                    <tr>
                                    <td><code>&lt;namespace&gt;</code></td>
                                    <td>Namespace of the class, e.g. <code>App\Migrations</code></td>
                            </tr>
                    <tr>
                                    <td><code>&lt;className&gt;</code></td>
                                    <td>Classname, e.g. <code>Version20210212092730</code></td>
                            </tr>
                    <tr>
                                    <td><code>&lt;up&gt;</code></td>
                                    <td>SQL for migrating up</td>
                            </tr>
                    <tr>
                                    <td><code>&lt;down&gt;</code></td>
                                    <td>SQL for migrating down</td>
                            </tr>
            </tbody>
</table>
<p>The custom template needs to be configured.</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="bb2b2bbe1888a62101863611c36f0fc66059762e"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="bb2b2bbe1888a62101863611c36f0fc66059762e"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-bb2b2bbe1888a62101863611c36f0fc66059762e-1" class="line-number-anchor" /><a href="#line-number-bb2b2bbe1888a62101863611c36f0fc66059762e-1">1</a></td><td class="code-line" rowspan="1">$configuration-&gt;setCustomTemplate(<span class="hljs-keyword">__DIR__</span> . <span class="hljs-string">'/custom_template.tpl'</span>);</td></tr></table></div></code></pre>

</div>
</div>

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                    <footer class="footer">
                <div class="container">
                    <ul class="list-inline">
                        <li class="list-inline-item"><a href="/projects.html">Projects</a></li>
                        <li class="list-inline-item"><a href="/partners.html">Partners</a></li>
                        <li class="list-inline-item"><a href="/sponsorship.html">Sponsorship</a></li>
                        <li class="list-inline-item"><a href="/community/index.html">Community</a></li>
                        <li class="list-inline-item"><a href="/blog/index.html">Blog</a></li>
                    </ul>
                </div>
            </footer>
        
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?5364f3"
                            integrity="sha384-yT1xut8dmITuccyh+MOljcF0MzMJFhaP227UZREURvpogyieLsqm9J/duGcSbb6q"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'migrations';
            var versionSlug = '3.9';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search Migrations 3.9'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            </body>
</html>
