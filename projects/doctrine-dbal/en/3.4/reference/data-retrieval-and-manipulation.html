<!DOCTYPE html>
<html>
    <head>
        <title>        Data Retrieval And Manipulation - Doctrine Database Abstraction Layer (DBAL)
    </title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine Database Abstraction Layer Documentation: Data Retrieval And Manipulation ">

        <meta name="keywords" content="                    abstraction,database,dbal,db2,mariadb,mssql,mysql,pgsql,postgresql,oci8,oracle,pdo,queryobject,sasql,sql,sqlite,sqlserver,sqlsrv,documentation,data,retrieval,and,manipulation
    ">

                    <meta name="robots" content="index, follow">
        
        
                    <link rel="canonical" href="https://www.doctrine-project.org/projects/doctrine-dbal/en/4.3/reference/data-retrieval-and-manipulation.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?6e5d9f"
                        integrity="sha384-1gHMA2pCh3C7C5PdanZqLyU+p0j9aNUSKdqMxyST9hhhoAcooEmUcqk0Rj7owse5"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/projects/doctrine-dbal/en/3.4/reference/data-retrieval-and-manipulation.html" />
        <meta property="og:title" content="        Data Retrieval And Manipulation - Doctrine Database Abstraction Layer (DBAL)
    " />
        <meta property="og:description" content="Doctrine Database Abstraction Layer Documentation: Data Retrieval And Manipulation " />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine Database Abstraction Layer",
            "description": "Data Retrieval And Manipulation",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://www.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/sponsorship.html">Sponsorship</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/dbal/edit//docs/en/reference/data-retrieval-and-manipulation.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        

            <div class="toc">
    <ul class="menu-level">
    <li class="toc-item">
    <a href="introduction.html#introduction">Introduction</a>


</li>
    <li class="toc-item">
    <a href="architecture.html#architecture">Architecture</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="architecture.html#drivers">Drivers</a>


</li>
            <li class="toc-item">
    <a href="architecture.html#middlewares">Middlewares</a>


</li>
            <li class="toc-item">
    <a href="architecture.html#platforms">Platforms</a>


</li>
            <li class="toc-item">
    <a href="architecture.html#logging">Logging</a>


</li>
            <li class="toc-item">
    <a href="architecture.html#schema">Schema</a>


</li>
            <li class="toc-item">
    <a href="architecture.html#types">Types</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="configuration.html#configuration">Configuration</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="configuration.html#getting-a-connection">Getting a Connection</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="configuration.html#connecting-using-a-url">Connecting using a URL</a>


</li>
            <li class="toc-item">
    <a href="configuration.html#driver">Driver</a>


</li>
            <li class="toc-item">
    <a href="configuration.html#wrapper-class">Wrapper Class</a>


</li>
            <li class="toc-item">
    <a href="configuration.html#connection-details">Connection Details</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="configuration.html#pdo-sqlite">pdo_sqlite</a>


</li>
            <li class="toc-item">
    <a href="configuration.html#pdo-mysql">pdo_mysql</a>


</li>
            <li class="toc-item">
    <a href="configuration.html#mysqli">mysqli</a>


</li>
            <li class="toc-item">
    <a href="configuration.html#pdo-pgsql">pdo_pgsql</a>


</li>
            <li class="toc-item">
    <a href="configuration.html#pdo-oci-oci8">pdo_oci / oci8</a>


</li>
            <li class="toc-item">
    <a href="configuration.html#pdo-sqlsrv-sqlsrv">pdo_sqlsrv / sqlsrv</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="configuration.html#automatic-platform-version-detection">Automatic platform version detection</a>


</li>
            <li class="toc-item">
    <a href="configuration.html#custom-platform">Custom Platform</a>


</li>
            <li class="toc-item">
    <a href="configuration.html#custom-driver-options">Custom Driver Options</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item opened">
    <a href="#data-retrieval-and-manipulation">Data Retrieval And Manipulation</a>

        <ul class="section-level-1 opened-ul ">
            <li class="toc-item">
    <a href="#data-retrieval">Data Retrieval</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#dynamic-parameters-and-prepared-statements">Dynamic Parameters and Prepared Statements</a>


</li>
            <li class="toc-item">
    <a href="#using-prepared-statements">Using Prepared Statements</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="#binding-types">Binding Types</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#doctrine-dbal-types-conversion">DoctrineDBALTypes Conversion</a>


</li>
            <li class="toc-item">
    <a href="#list-of-parameters-conversion">List of Parameters Conversion</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="#api">API</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#prepare">prepare()</a>


</li>
            <li class="toc-item">
    <a href="#executestatement">executeStatement()</a>


</li>
            <li class="toc-item">
    <a href="#executequery">executeQuery()</a>


</li>
            <li class="toc-item">
    <a href="#fetchallassociative">fetchAllAssociative()</a>


</li>
            <li class="toc-item">
    <a href="#fetchallkeyvalue">fetchAllKeyValue()</a>


</li>
            <li class="toc-item">
    <a href="#fetchallassociativeindexed">fetchAllAssociativeIndexed()</a>


</li>
            <li class="toc-item">
    <a href="#fetchnumeric">fetchNumeric()</a>


</li>
            <li class="toc-item">
    <a href="#fetchone">fetchOne()</a>


</li>
            <li class="toc-item">
    <a href="#fetchassociative">fetchAssociative()</a>


</li>
            <li class="toc-item">
    <a href="#iteratekeyvalue">iterateKeyValue()</a>


</li>
            <li class="toc-item">
    <a href="#iterateassociativeindexed">iterateAssociativeIndexed()</a>


</li>
            <li class="toc-item">
    <a href="#delete">delete()</a>


</li>
            <li class="toc-item">
    <a href="#insert">insert()</a>


</li>
            <li class="toc-item">
    <a href="#update">update()</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="query-builder.html#sql-query-builder">SQL Query Builder</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="query-builder.html#security-safely-preventing-sql-injection">Security: Safely preventing SQL Injection</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#building-a-query">Building a Query</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder.html#distinct-clause">DISTINCT-Clause</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#where-clause">WHERE-Clause</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#table-alias">Table alias</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#group-by-and-having-clause">GROUP BY and HAVING Clause</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#join-clauses">Join Clauses</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#order-by-clause">Order-By Clause</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#limit-clause">Limit Clause</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#values-clause">VALUES Clause</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#set-clause">Set Clause</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder.html#building-expressions">Building Expressions</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#binding-parameters-to-placeholders">Binding Parameters to Placeholders</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#caching">Caching</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="transactions.html#transactions">Transactions</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="transactions.html#transaction-nesting">Transaction Nesting</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="transactions.html#dummy-mode">Dummy mode</a>


</li>
            <li class="toc-item">
    <a href="transactions.html#emulated-transaction-nesting-with-savepoints">Emulated Transaction Nesting with Savepoints</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="transactions.html#auto-commit-mode">Auto-commit mode</a>


</li>
            <li class="toc-item">
    <a href="transactions.html#error-handling">Error handling</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="platforms.html#platforms">Platforms</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="platforms.html#mysql">MySQL</a>


</li>
            <li class="toc-item">
    <a href="platforms.html#mariadb">MariaDB</a>


</li>
            <li class="toc-item">
    <a href="platforms.html#oracle">Oracle</a>


</li>
            <li class="toc-item">
    <a href="platforms.html#microsoft-sql-server">Microsoft SQL Server</a>


</li>
            <li class="toc-item">
    <a href="platforms.html#postgresql">PostgreSQL</a>


</li>
            <li class="toc-item">
    <a href="platforms.html#ibm-db2">IBM DB2</a>


</li>
            <li class="toc-item">
    <a href="platforms.html#sqlite">SQLite</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="types.html#types">Types</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="types.html#reference">Reference</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="types.html#numeric-types">Numeric types</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="types.html#integer-types">Integer types</a>

        <ul class="section-level-3">
            <li class="toc-item">
    <a href="types.html#smallint">smallint</a>


</li>
            <li class="toc-item">
    <a href="types.html#integer">integer</a>


</li>
            <li class="toc-item">
    <a href="types.html#bigint">bigint</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="types.html#decimal-types">Decimal types</a>

        <ul class="section-level-3">
            <li class="toc-item">
    <a href="types.html#decimal">decimal</a>


</li>
            <li class="toc-item">
    <a href="types.html#float">float</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="types.html#string-types">String types</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="types.html#character-string-types">Character string types</a>

        <ul class="section-level-3">
            <li class="toc-item">
    <a href="types.html#string">string</a>


</li>
            <li class="toc-item">
    <a href="types.html#ascii-string">ascii_string</a>


</li>
            <li class="toc-item">
    <a href="types.html#text">text</a>


</li>
            <li class="toc-item">
    <a href="types.html#guid">guid</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="types.html#binary-string-types">Binary string types</a>

        <ul class="section-level-3">
            <li class="toc-item">
    <a href="types.html#binary">binary</a>


</li>
            <li class="toc-item">
    <a href="types.html#blob">blob</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="types.html#bit-types">Bit types</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="types.html#boolean">boolean</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="types.html#date-and-time-types">Date and time types</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="types.html#date">date</a>


</li>
            <li class="toc-item">
    <a href="types.html#date-immutable">date_immutable</a>


</li>
            <li class="toc-item">
    <a href="types.html#datetime">datetime</a>


</li>
            <li class="toc-item">
    <a href="types.html#datetime-immutable">datetime_immutable</a>


</li>
            <li class="toc-item">
    <a href="types.html#datetimetz">datetimetz</a>


</li>
            <li class="toc-item">
    <a href="types.html#datetimetz-immutable">datetimetz_immutable</a>


</li>
            <li class="toc-item">
    <a href="types.html#time">time</a>


</li>
            <li class="toc-item">
    <a href="types.html#time-immutable">time_immutable</a>


</li>
            <li class="toc-item">
    <a href="types.html#dateinterval">dateinterval</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="types.html#array-types">Array types</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="types.html#array">array</a>


</li>
            <li class="toc-item">
    <a href="types.html#simple-array">simple_array</a>


</li>
            <li class="toc-item">
    <a href="types.html#json">json</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="types.html#object-types">Object types</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="types.html#object">object</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="types.html#mapping-matrix">Mapping Matrix</a>


</li>
            <li class="toc-item">
    <a href="types.html#detection-of-database-types">Detection of Database Types</a>


</li>
            <li class="toc-item">
    <a href="types.html#custom-mapping-types">Custom Mapping Types</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="schema-manager.html#schema-manager">Schema-Manager</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="schema-manager.html#listdatabases">listDatabases()</a>


</li>
            <li class="toc-item">
    <a href="schema-manager.html#listsequences">listSequences()</a>


</li>
            <li class="toc-item">
    <a href="schema-manager.html#listtablecolumns">listTableColumns()</a>


</li>
            <li class="toc-item">
    <a href="schema-manager.html#listtabledetails">listTableDetails()</a>


</li>
            <li class="toc-item">
    <a href="schema-manager.html#listtableforeignkeys">listTableForeignKeys()</a>


</li>
            <li class="toc-item">
    <a href="schema-manager.html#listtableindexes">listTableIndexes()</a>


</li>
            <li class="toc-item">
    <a href="schema-manager.html#listtables">listTables()</a>


</li>
            <li class="toc-item">
    <a href="schema-manager.html#listviews">listViews()</a>


</li>
            <li class="toc-item">
    <a href="schema-manager.html#createschema">createSchema()</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="schema-representation.html#schema-representation">Schema-Representation</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="schema-representation.html#schema-assets">Schema Assets</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="schema-representation.html#column">Column</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="schema-representation.html#portable-options">Portable options</a>


</li>
            <li class="toc-item">
    <a href="schema-representation.html#common-options">Common options</a>


</li>
            <li class="toc-item">
    <a href="schema-representation.html#vendor-specific-options">Vendor specific options</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="events.html#events">Events</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="events.html#postconnect-event">PostConnect Event</a>


</li>
            <li class="toc-item">
    <a href="events.html#schema-events">Schema Events</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="events.html#onschemacreatetable-event">OnSchemaCreateTable Event</a>


</li>
            <li class="toc-item">
    <a href="events.html#onschemacreatetablecolumn-event">OnSchemaCreateTableColumn Event</a>


</li>
            <li class="toc-item">
    <a href="events.html#onschemadroptable-event">OnSchemaDropTable Event</a>


</li>
            <li class="toc-item">
    <a href="events.html#onschemaaltertable-event">OnSchemaAlterTable Event</a>


</li>
            <li class="toc-item">
    <a href="events.html#onschemaaltertableaddcolumn-event">OnSchemaAlterTableAddColumn Event</a>


</li>
            <li class="toc-item">
    <a href="events.html#onschemaaltertableremovecolumn-event">OnSchemaAlterTableRemoveColumn Event</a>


</li>
            <li class="toc-item">
    <a href="events.html#onschemaaltertablechangecolumn-event">OnSchemaAlterTableChangeColumn Event</a>


</li>
            <li class="toc-item">
    <a href="events.html#onschemaaltertablerenamecolumn-event">OnSchemaAlterTableRenameColumn Event</a>


</li>
            <li class="toc-item">
    <a href="events.html#onschemacolumndefinition-event">OnSchemaColumnDefinition Event</a>


</li>
            <li class="toc-item">
    <a href="events.html#onschemaindexdefinition-event">OnSchemaIndexDefinition Event</a>


</li>
            <li class="toc-item">
    <a href="events.html#ontransactionbegin-event">OnTransactionBegin Event</a>


</li>
            <li class="toc-item">
    <a href="events.html#ontransactioncommit-event">OnTransactionCommit Event</a>


</li>
            <li class="toc-item">
    <a href="events.html#ontransactionrollback-event">OnTransactionRollBack Event</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="security.html#security">Security</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="security.html#sql-injection-safe-and-unsafe-apis-for-user-input">SQL Injection: Safe and Unsafe APIs for User Input</a>


</li>
            <li class="toc-item">
    <a href="security.html#user-input-in-your-queries">User input in your queries</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="security.html#wrong-string-concatenation">Wrong: String Concatenation</a>


</li>
            <li class="toc-item">
    <a href="security.html#right-prepared-statements">Right: Prepared Statements</a>


</li>
            <li class="toc-item">
    <a href="security.html#discouraged-quoting-escaping-values">Discouraged: Quoting/Escaping values</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="supporting-other-databases.html#supporting-other-databases">Supporting Other Databases</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="supporting-other-databases.html#implementation-steps-in-detail">Implementation Steps in Detail</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="portability.html#portability">Portability</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="portability.html#connection-wrapper">Connection Wrapper</a>


</li>
            <li class="toc-item">
    <a href="portability.html#database-platform">Database Platform</a>


</li>
            <li class="toc-item">
    <a href="portability.html#keyword-lists">Keyword Lists</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="caching.html#caching">Caching</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="caching.html#configuring-the-result-cache">Configuring the result cache</a>


</li>
            <li class="toc-item">
    <a href="caching.html#providing-a-cache-profile">Providing a cache profile</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="known-vendor-issues.html#known-vendor-issues">Known Vendor Issues</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="known-vendor-issues.html#postgresql">PostgreSQL</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="known-vendor-issues.html#datetime-datetimetz-and-time-types">DateTime, DateTimeTz and Time Types</a>


</li>
            <li class="toc-item">
    <a href="known-vendor-issues.html#timezones-and-datetimetz">Timezones and DateTimeTz</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="known-vendor-issues.html#mysql">MySQL</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="known-vendor-issues.html#datetimetz">DateTimeTz</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="known-vendor-issues.html#sqlite">Sqlite</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="known-vendor-issues.html#buffered-queries-and-isolation">Buffered Queries and Isolation</a>


</li>
            <li class="toc-item">
    <a href="known-vendor-issues.html#datetime">DateTime</a>


</li>
            <li class="toc-item">
    <a href="known-vendor-issues.html#datetimetz">DateTimeTz</a>


</li>
            <li class="toc-item">
    <a href="known-vendor-issues.html#reverse-engineering-primary-key-order">Reverse engineering primary key order</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="known-vendor-issues.html#ibm-db2">IBM DB2</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="known-vendor-issues.html#datetimetz">DateTimeTz</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="known-vendor-issues.html#oracle">Oracle</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="known-vendor-issues.html#datetimetz">DateTimeTz</a>


</li>
            <li class="toc-item">
    <a href="known-vendor-issues.html#oci-lob-instances">OCI-LOB instances</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="known-vendor-issues.html#microsoft-sql-server">Microsoft SQL Server</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="known-vendor-issues.html#unique-and-null">Unique and NULL</a>


</li>
            <li class="toc-item">
    <a href="known-vendor-issues.html#datetime-datetimetz-and-time-types">DateTime, DateTimeTz and Time Types</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="testing.html#testing-guidelines">Testing Guidelines</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="testing.html#requirements">Requirements</a>


</li>
            <li class="toc-item">
    <a href="testing.html#types-of-tests">Types of Tests</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="testing.html#unit-tests">Unit Tests</a>


</li>
            <li class="toc-item">
    <a href="testing.html#integration-tests">Integration Tests</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="testing.html#when-are-integration-tests-not-required">When are Integration Tests not Required?</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="testing.html#recommendations-on-writing-tests">Recommendations on Writing Tests</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="testing.html#writing-integration-tests">Writing Integration Tests</a>

        <ul class="section-level-3">
            <li class="toc-item">
    <a href="testing.html#data-fixtures-in-integration-tests">Data Fixtures in Integration Tests</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="testing.html#testing-different-database-platforms">Testing Different Database Platforms</a>


</li>
            <li class="toc-item">
    <a href="testing.html#using-unit-and-integration-tests-together">Using Unit and Integration Tests Together</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
                    </ul>
</li>
    </ul>
</div>
    

                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://www.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "DBAL",
            "item": "https://www.doctrine-project.org/projects/dbal.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://www.doctrine-project.org/projects/doctrine-dbal/en/3.4/index.html"
        },                {
            "@type": "ListItem",
            "position": 4,
            "name": "Data Retrieval And Manipulation",
            "item": "https://www.doctrine-project.org/projects/doctrine-dbal/en/3.4/reference/data-retrieval-and-manipulation.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/dbal.html">DBAL</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-dbal/en/3.4/index.html">Documentation</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Data Retrieval And Manipulation</li>
                        </ol>
</nav>
                                    </div>

                    
    <div class="alert caution bg-light-yellow text-dark border">
    <table width="100%">
        <tr>
            <td width="10" class="align-top">
                <i class="fas fa-exclamation-circle text-warning mr-2"></i>
            </td>
            <td><p>You are browsing a version that is no longer maintained.</p></td>
        </tr>
    </table>
</div>

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-dbal/en/3.4/reference/data-retrieval-and-manipulation.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        3.4.6
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-dbal/en/latest/reference/data-retrieval-and-manipulation.html">
                                                        5.0

                                                        
                                                                                                                    (upcoming)
                                                                                                            </a>
                                                                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-dbal/en/4.4/reference/data-retrieval-and-manipulation.html">
                                                        4.4

                                                        
                                                                                                                    (upcoming)
                                                                                                            </a>
                                                                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-dbal/en/4.3/reference/data-retrieval-and-manipulation.html">
                                                        4.3.0

                                                                                                                    (current)
                                                        
                                                                                                            </a>
                                                                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-dbal/en/3.10/reference/data-retrieval-and-manipulation.html">
                                                        3.10.0

                                                        
                                                                                                                    (upcoming)
                                                                                                            </a>
                                                                                                                                    
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-dbal/en/4.2/reference/data-retrieval-and-manipulation.html">4.2</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-dbal/en/4.1/reference/data-retrieval-and-manipulation.html">4.1</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-dbal/en/4.0/reference/data-retrieval-and-manipulation.html">4.0</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-dbal/en/3.9/reference/data-retrieval-and-manipulation.html">3.9</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-dbal/en/3.8/reference/data-retrieval-and-manipulation.html">3.8</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-dbal/en/3.7/reference/data-retrieval-and-manipulation.html">3.7</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-dbal/en/3.6/reference/data-retrieval-and-manipulation.html">3.6</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-dbal/en/3.5/reference/data-retrieval-and-manipulation.html">3.5</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item active" href="/projects/doctrine-dbal/en/3.4/reference/data-retrieval-and-manipulation.html">3.4</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-dbal/en/3.3/reference/data-retrieval-and-manipulation.html">3.3</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-dbal/en/3.2/reference/data-retrieval-and-manipulation.html">3.2</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-dbal/en/3.1/reference/data-retrieval-and-manipulation.html">3.1</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-dbal/en/3.0/reference/data-retrieval-and-manipulation.html">3.0</a>
                                                                                                                                                                        </div>
                                </div>
                            
                            

            <div class="section" id="data-retrieval-and-manipulation">
            <h1 class="section-header ">
    <a href="#data-retrieval-and-manipulation">
        Data Retrieval And Manipulation
        <i class="fas fa-link"></i>
    </a>
</h1>
            <div class="section" id="data-retrieval">
            <h2 class="section-header ">
    <a href="#data-retrieval">
        Data Retrieval
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Using a database implies retrieval of data. It is the primary use-case of a database.
For this purpose each database vendor exposes a Client API that can be integrated into
programming languages. PHP has a generic abstraction layer for this
kind of API called PDO (PHP Data Objects). However because of disagreements
between the PHP community there are often native extensions for each database
vendor that are much more maintained (OCI8 for example).</p>

            
    <p>Doctrine DBAL API integrates native extensions. If you already have an open connection
through the <code>Doctrine\DBAL\DriverManager::getConnection()</code> method you
can start using this API for data retrieval easily.</p>

            
    <p>Start writing an SQL query and pass it to the <code>query()</code> method of your
connection:</p>

                <pre class="code-block-table" id="619bcb2d8efbbc4e332a50f1ca090c54a2b2d7fe"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="619bcb2d8efbbc4e332a50f1ca090c54a2b2d7fe"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">DBAL</span>\<span class="hljs-title">DriverManager</span>;</code><code class="line language-php"></code><code class="line language-php">$conn = DriverManager::getConnection($params, $config);</code><code class="line language-php"></code><code class="line language-php">$sql = <span class="hljs-string">"SELECT * FROM articles"</span>;</code><code class="line language-php">$stmt = $conn-&gt;query($sql); <span class="hljs-comment">// Simple, but has several drawbacks</span></code><code class="empty"></code></pre>
            
    <p>The query method executes the SQL and returns a database statement object.
A database statement object can be iterated to retrieve all the rows that matched
the query until there are no more rows:</p>

                <pre class="code-block-table" id="336f19e2877d6ff58d061cdb4e811e1e412fdc90"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="336f19e2877d6ff58d061cdb4e811e1e412fdc90"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">while</span> (($row = $stmt-&gt;fetchAssociative()) !== <span class="hljs-keyword">false</span>) {</code><code class="line language-php">    <span class="hljs-keyword">echo</span> $row[<span class="hljs-string">'headline'</span>];</code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>The query method is the most simple one for fetching data, but it also has
several drawbacks:</p>

            

<ul>
    <li class="dash">There is no way to add dynamic parameters to the SQL query without modifying
<code>$sql</code> itself. This can easily lead to a category of security
holes called <strong>SQL injection</strong>, where a third party can modify the SQL executed
and even execute their own queries through clever exploiting of the security hole.</li>
    <li class="dash"><strong>Quoting</strong> dynamic parameters for an SQL query is tedious work and requires lots
of use of the <code>Doctrine\DBAL\Connection#quote()</code> method, which makes the
original SQL query hard to read/understand.</li>
    <li class="dash">Databases optimize SQL queries before they are executed. Using the query method
you will trigger the optimization process over and over again, although
it could re-use this information easily using a technique called <strong>prepared statements</strong>.</li>
</ul>

            
    <p>These three arguments and some more technical details hopefully convinced you to investigate
prepared statements for accessing your database.</p>

            <div class="section" id="dynamic-parameters-and-prepared-statements">
            <h3 class="section-header ">
    <a href="#dynamic-parameters-and-prepared-statements">
        Dynamic Parameters and Prepared Statements
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Consider the previous query, now parameterized to fetch only a single article by id.
Using <strong>ext/mysql</strong> (still the primary choice of MySQL access for many developers) you had to escape
every value passed into the query using <code>mysql_real_escape_string()</code> to avoid SQL injection:</p>

                <pre class="code-block-table" id="59512a500cfd275cd1037698dfbccee81c1e431d"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="59512a500cfd275cd1037698dfbccee81c1e431d"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$sql = <span class="hljs-string">"SELECT * FROM articles WHERE id = '"</span> . mysql_real_escape_string($id, $link) . <span class="hljs-string">"'"</span>;</code><code class="line language-php">$rs = mysql_query($sql);</code><code class="empty"></code></pre>
            
    <p>If you start adding more and more parameters to a query (for example in UPDATE or INSERT statements)
this approach might lead to complex to maintain SQL queries. The reason is simple, the actual
SQL query is not clearly separated from the input parameters. Prepared statements separate
these two concepts by requiring the developer to add <strong>placeholders</strong> to the SQL query (prepare) which
are then replaced by their actual values in a second step (execute).</p>

                <pre class="code-block-table" id="3224e9b7acb02c62d39a63f40450d174db0c2f41"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="3224e9b7acb02c62d39a63f40450d174db0c2f41"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-comment">// $conn instanceof Doctrine\DBAL\Connection</span></code><code class="line language-php"></code><code class="line language-php">$sql = <span class="hljs-string">"SELECT * FROM articles WHERE id = ?"</span>;</code><code class="line language-php">$stmt = $conn-&gt;prepare($sql);</code><code class="line language-php">$stmt-&gt;bindValue(<span class="hljs-number">1</span>, $id);</code><code class="line language-php">$resultSet = $stmt-&gt;executeQuery();</code><code class="empty"></code></pre>
            
    <p>Placeholders in prepared statements are either simple positional question marks (<code>?</code>) or named labels starting with
a colon (e.g. <code>:name1</code>). You cannot mix the positional and the named approach. You have to bind a parameter
to each placeholder.</p>

            
    <p>The approach using question marks is called positional, because the values are bound in order from left to right
to any question mark found in the previously prepared SQL query. That is why you specify the
position of the variable to bind into the <code>bindValue()</code> method:</p>

                <pre class="code-block-table" id="09222d7df6bf14ccb2ccc2a19ec45e66603bc386"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="09222d7df6bf14ccb2ccc2a19ec45e66603bc386"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-comment">// $conn instanceof Doctrine\DBAL\Connection</span></code><code class="line language-php"></code><code class="line language-php">$sql = <span class="hljs-string">"SELECT * FROM articles WHERE id = ? AND status = ?"</span>;</code><code class="line language-php">$stmt = $conn-&gt;prepare($sql);</code><code class="line language-php">$stmt-&gt;bindValue(<span class="hljs-number">1</span>, $id);</code><code class="line language-php">$stmt-&gt;bindValue(<span class="hljs-number">2</span>, $status);</code><code class="line language-php">$resultSet = $stmt-&gt;executeQuery();</code><code class="empty"></code></pre>
            
    <p>Named parameters have the advantage that their labels can be re-used and only need to be bound once:</p>

                <pre class="code-block-table" id="dcf0824fb3db747a741823bda892cc54877675fc"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="dcf0824fb3db747a741823bda892cc54877675fc"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-comment">// $conn instanceof Doctrine\DBAL\Connection</span></code><code class="line language-php"></code><code class="line language-php">$sql = <span class="hljs-string">"SELECT * FROM users WHERE name = :name OR username = :name"</span>;</code><code class="line language-php">$stmt = $conn-&gt;prepare($sql);</code><code class="line language-php">$stmt-&gt;bindValue(<span class="hljs-string">"name"</span>, $name);</code><code class="line language-php">$resultSet = $stmt-&gt;executeQuery();</code><code class="empty"></code></pre>
            
    <p>The following section describes the API of Doctrine DBAL with regard to prepared statements.</p>

                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>Support for positional and named prepared statements varies between the different
database extensions. PDO implements its own client side parser so that both approaches
are feasible for all PDO drivers. OCI8/Oracle only supports named parameters, but
Doctrine implements a client side parser to allow positional parameters also.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
            <div class="section" id="using-prepared-statements">
            <h3 class="section-header ">
    <a href="#using-prepared-statements">
        Using Prepared Statements
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>There are three low-level methods on <code>Doctrine\DBAL\Connection</code> that allow you to
use prepared statements:</p>

            

<ul>
    <li class="dash"><code>prepare($sql)</code> - Create a prepared statement of the type <code>Doctrine\DBAL\Statement</code>.
Using this method is preferred if you want to re-use the statement to execute several
queries with the same SQL statement only with different parameters.</li>
    <li class="dash"><code>executeQuery($sql, $params, $types)</code> - Create a prepared statement for the passed
SQL query, bind the given params with their binding types and execute the query.
This method returns the executed prepared statement for iteration and is useful
for SELECT statements.</li>
    <li class="dash"><code>executeStatement($sql, $params, $types)</code> - Create a prepared statement for the passed
SQL query, bind the given params with their binding types and execute the query.
This method returns the number of affected rows by the executed query and is useful
for UPDATE, DELETE and INSERT statements.</li>
</ul>

            
    <p>A simple usage of prepare was shown in the previous section, however it is useful to
dig into the features of a <code>Doctrine\DBAL\Statement</code> a little bit more. There are essentially
two different types of methods available on a statement. Methods for binding parameters and types
and methods to retrieve data from a statement.</p>

            

<ul>
    <li class="dash"><code>bindValue($pos, $value, $type)</code> - Bind a given value to the positional or named parameter
in the prepared statement.</li>
    <li class="dash"><code>bindParam($pos, &amp;$param, $type)</code> - Bind a given reference to the positional or
named parameter in the prepared statement.</li>
</ul>

            
    <p>If you are finished with binding parameters you have to call <code>executeQuery()</code> on the statement,
which will trigger a query to the database. After the query is finished, a <code>Doctrine\DBAL\Result</code>
instance is returned and you can access the results of this query using the fetch API of the result:</p>

            

<ul>
    <li class="dash"><code>fetchNumeric()</code> - Retrieves the next row from the statement or false if there are none.
The row is fetched as an array with numeric keys where the columns appear in the same order as
they were specified in the executed <code>SELECT</code> query.
Moves the pointer forward one row, so that consecutive calls will always return the next row.</li>
    <li class="dash"><code>fetchAssociative()</code> - Retrieves the next row from the statement or false if there are none.
The row is fetched as an associative array where the keys represent the column names as
specified in the executed <code>SELECT</code> query.
Moves the pointer forward one row, so that consecutive calls will always return the next row.</li>
    <li class="dash"><code>fetchOne()</code> - Retrieves the value of the first column of the next row from the statement
or false if there are none.
Moves the pointer forward one row, so that consecutive calls will always return the next row.</li>
    <li class="dash"><code>fetchAllNumeric()</code> - Retrieves all rows from the statement as arrays with numeric keys.</li>
    <li class="dash"><code>fetchAllAssociative()</code> - Retrieves all rows from the statement as associative arrays.</li>
    <li class="dash"><code>fetchFirstColumn()</code> - Retrieves the value of the first column of all rows.</li>
</ul>

            
    <p>The fetch API of a prepared statement obviously works only for <code>SELECT</code> queries. If you want to
execute a statement that does not yield a result set, like <code>INSERT</code>, <code>UPDATE</code> or <code>DELETE</code>
for instance, you might want to call <code>executeStatement()</code> instead of <code>executeQuery()</code>.</p>

            
    <p>If you find it tedious to write all the prepared statement code you can alternatively use
the <code>Doctrine\DBAL\Connection#executeQuery()</code> and <code>Doctrine\DBAL\Connection#executeStatement()</code>
methods. See the API section below on details how to use them.</p>

            
    <p>Additionally there are lots of convenience methods for data-retrieval and manipulation
on the Connection, which are all described in the API section below.</p>

    </div>
    </div>
            <div class="section" id="binding-types">
            <h2 class="section-header ">
    <a href="#binding-types">
        Binding Types
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Besides <code>Doctrine\DBAL\ParameterType</code> constants, you
can make use of two very powerful additional features.</p>

            <div class="section" id="doctrine-dbal-types-conversion">
            <h3 class="section-header ">
    <a href="#doctrine-dbal-types-conversion">
        DoctrineDBALTypes Conversion
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>If you don&#039;t specify an integer (through one of <code>Doctrine\DBAL\ParameterType</code> constants) to
any of the parameter binding methods but a string, Doctrine DBAL will
ask the type abstraction layer to convert the passed value from
its PHP to a database representation. This way you can pass <code>\DateTime</code>
instances to a prepared statement and have Doctrine convert them
to the appropriate vendors database format:</p>

                <pre class="code-block-table" id="64c47e283f6960a6f6490f89d1d9edca99ef8733"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="64c47e283f6960a6f6490f89d1d9edca99ef8733"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$date = <span class="hljs-keyword">new</span> \DateTime(<span class="hljs-string">"2011-03-05 14:00:21"</span>);</code><code class="line language-php">$stmt = $conn-&gt;prepare(<span class="hljs-string">"SELECT * FROM articles WHERE publish_date &gt; ?"</span>);</code><code class="line language-php">$stmt-&gt;bindValue(<span class="hljs-number">1</span>, $date, <span class="hljs-string">"datetime"</span>);</code><code class="line language-php">$resultSet = $stmt-&gt;executeQuery();</code><code class="empty"></code></pre>
            
    <p>If you take a look at <code>Doctrine\DBAL\Types\DateTimeType</code> you will see that
parts of the conversion are delegated to a method on the current database platform,
which means this code works independent of the database you are using.</p>

                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>Be aware this type conversion only works with <code>Statement#bindValue()</code>,
<code>Connection#executeQuery()</code> and <code>Connection#executeStatement()</code>. It
is not supported to pass a doctrine type name to <code>Statement#bindParam()</code>,
because this would not work with binding by reference.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
            <div class="section" id="list-of-parameters-conversion">
            <h3 class="section-header ">
    <a href="#list-of-parameters-conversion">
        List of Parameters Conversion
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>One rather annoying bit of missing functionality in SQL is the support for lists of parameters.
You cannot bind an array of values into a single prepared statement parameter. Consider
the following very common SQL statement:</p>

                <pre class="code-block-table" id="80ffba7bbe93e1cfb31ce87139d0a85865859459"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="80ffba7bbe93e1cfb31ce87139d0a85865859459"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-sql"><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> articles <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">IN</span> (?)</code><code class="empty"></code></pre>
            
    <p>Since you are using an <code>IN</code> expression you would really like to use it in the following way
(and I guess everybody has tried to do this once in his life, before realizing it doesn&#039;t work):</p>

                <pre class="code-block-table" id="05e6889727d4451f95d4bcb03a8819fbe5c41ea6"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="05e6889727d4451f95d4bcb03a8819fbe5c41ea6"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$stmt = $conn-&gt;prepare(<span class="hljs-string">'SELECT * FROM articles WHERE id IN (?)'</span>);</code><code class="line language-php"><span class="hljs-comment">// THIS WILL NOT WORK:</span></code><code class="line language-php">$stmt-&gt;bindValue(<span class="hljs-number">1</span>, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]);</code><code class="line language-php">$resultSet = $stmt-&gt;executeQuery();</code><code class="empty"></code></pre>
            
    <p>Implementing a generic way to handle this kind of query is tedious work. This is why most
developers fallback to inserting the parameters directly into the query, which can open
SQL injection possibilities if not handled carefully.</p>

            
    <p>Doctrine DBAL implements a very powerful parsing process that will make this kind of prepared
statement possible natively in the binding type system.
The parsing necessarily comes with a performance overhead, but only if you really use a list of parameters.
There are two special binding types that describe a list of integers or strings:</p>

            

<ul>
    <li class="dash"><code>\Doctrine\DBAL\Connection::PARAM_INT_ARRAY</code></li>
    <li class="dash"><code>\Doctrine\DBAL\Connection::PARAM_STR_ARRAY</code></li>
</ul>

            
    <p>Using one of these constants as a type you can activate the SQLParser inside Doctrine that rewrites
the SQL and flattens the specified values into the set of parameters. Consider our previous example:</p>

                <pre class="code-block-table" id="8dbbbab9a7b6ee834b9648f91117717688e34f6d"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="8dbbbab9a7b6ee834b9648f91117717688e34f6d"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$stmt = $conn-&gt;executeQuery(<span class="hljs-string">'SELECT * FROM articles WHERE id IN (?)'</span>,</code><code class="line language-php">    [[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]],</code><code class="line language-php">    [\Doctrine\DBAL\Connection::PARAM_INT_ARRAY]</code><code class="line language-php">);</code><code class="empty"></code></pre>
            
    <p>The SQL statement passed to <code>Connection#executeQuery</code> is not the one actually passed to the
database. It is internally rewritten to look like the following explicit code that could
be specified as well:</p>

                <pre class="code-block-table" id="9edbbf61d3b33997523505c989d96a627a51eb2e"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="9edbbf61d3b33997523505c989d96a627a51eb2e"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-comment">// Same SQL WITHOUT usage of Doctrine\DBAL\Connection::PARAM_INT_ARRAY</span></code><code class="line language-php">$stmt = $conn-&gt;executeQuery(<span class="hljs-string">'SELECT * FROM articles WHERE id IN (?, ?, ?, ?, ?, ?)'</span>,</code><code class="line language-php">    [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>],</code><code class="line language-php">    [</code><code class="line language-php">        ParameterType::INTEGER,</code><code class="line language-php">        ParameterType::INTEGER,</code><code class="line language-php">        ParameterType::INTEGER,</code><code class="line language-php">        ParameterType::INTEGER,</code><code class="line language-php">        ParameterType::INTEGER,</code><code class="line language-php">        ParameterType::INTEGER,</code><code class="line language-php">    ]</code><code class="line language-php">);</code><code class="empty"></code></pre>
            
    <p>This is much more complicated and is ugly to write generically.</p>

                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>The parameter list support only works with <code>Doctrine\DBAL\Connection::executeQuery()</code>
and <code>Doctrine\DBAL\Connection::executeStatement()</code>, NOT with the binding methods of
a prepared statement.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
    </div>
            <div class="section" id="api">
            <h2 class="section-header ">
    <a href="#api">
        API
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>The DBAL contains several methods for executing queries against
your configured database for data retrieval and manipulation.</p>

            
    <p>These DBAL methods retrieve data from the database using the underlying database driver and do not perform any type conversion.
So the result php type for a database column can vary between database drivers and php versions.</p>

            
    <p>Below we&#039;ll introduce these methods and provide some examples for each of
them.</p>

            <div class="section" id="prepare">
            <h3 class="section-header ">
    <a href="#prepare">
        prepare()
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Prepare a given SQL statement and return the
<code>\Doctrine\DBAL\Statement</code> instance:</p>

                <pre class="code-block-table" id="37887cf6a125127e77d9b2e379c2113d31950a1a"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="37887cf6a125127e77d9b2e379c2113d31950a1a"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$statement = $conn-&gt;prepare(<span class="hljs-string">'SELECT * FROM user'</span>);</code><code class="line language-php">$resultSet = $statement-&gt;executeQuery();</code><code class="line language-php">$users = $resultSet-&gt;fetchAllAssociative();</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/*</span></code><code class="line language-php"><span class="hljs-keyword">array</span>(</code><code class="line language-php">  <span class="hljs-number">0</span> =&gt; <span class="hljs-keyword">array</span>(</code><code class="line language-php">    <span class="hljs-string">'username'</span> =&gt; <span class="hljs-string">'jwage'</span>,</code><code class="line language-php">    <span class="hljs-string">'email'</span> =&gt; <span class="hljs-string">'j.wage@example.com'</span></code><code class="line language-php">  )</code><code class="line language-php">)</code><code class="line language-php">*/</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="executestatement">
            <h3 class="section-header ">
    <a href="#executestatement">
        executeStatement()
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Executes a prepared statement with the given SQL and parameters and
returns the affected rows count:</p>

                <pre class="code-block-table" id="a19de4ba53787ca8b1e1da361c16af31217f83b2"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="a19de4ba53787ca8b1e1da361c16af31217f83b2"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$count = $conn-&gt;executeStatement(<span class="hljs-string">'UPDATE user SET username = ? WHERE id = ?'</span>, [<span class="hljs-string">'jwage'</span>, <span class="hljs-number">1</span>]);</code><code class="line language-php"><span class="hljs-keyword">echo</span> $count; <span class="hljs-comment">// 1</span></code><code class="empty"></code></pre>
            
    <p>The <code>$types</code> variable contains the PDO or Doctrine Type constants
to perform necessary type conversions between actual input
parameters and expected database values. See the
<a href="types.html#mappingMatrix">Types</a> section for more information.</p>

    </div>
            <div class="section" id="executequery">
            <h3 class="section-header ">
    <a href="#executequery">
        executeQuery()
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Creates a prepared statement for the given SQL and passes the
parameters to the executeQuery method, then returning the result set:</p>

                <pre class="code-block-table" id="934d76a131479266cb92a2bb9467220da5baf105"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="934d76a131479266cb92a2bb9467220da5baf105"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$resultSet = $conn-&gt;executeQuery(<span class="hljs-string">'SELECT * FROM user WHERE username = ?'</span>, [<span class="hljs-string">'jwage'</span>]);</code><code class="line language-php">$user = $resultSet-&gt;fetchAssociative();</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/*</span></code><code class="line language-php"><span class="hljs-keyword">array</span>(</code><code class="line language-php">  <span class="hljs-number">0</span> =&gt; <span class="hljs-string">'jwage'</span>,</code><code class="line language-php">  <span class="hljs-number">1</span> =&gt; <span class="hljs-string">'j.wage@example.com'</span></code><code class="line language-php">)</code><code class="line language-php">*/</code><code class="empty"></code></pre>
            
    <p>The <code>$types</code> variable contains the PDO or Doctrine Type constants
to perform necessary type conversions between actual input
parameters and expected database values. See the
<a href="types.html#mappingMatrix">Types</a> section for more information.</p>

    </div>
            <div class="section" id="fetchallassociative">
            <h3 class="section-header ">
    <a href="#fetchallassociative">
        fetchAllAssociative()
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Execute the query and fetch all results into an array:</p>

                <pre class="code-block-table" id="6da04a952ec8a36789a31786f435959eace9aa0f"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="6da04a952ec8a36789a31786f435959eace9aa0f"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$users = $conn-&gt;fetchAllAssociative(<span class="hljs-string">'SELECT * FROM user'</span>);</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/*</span></code><code class="line language-php"><span class="hljs-keyword">array</span>(</code><code class="line language-php">  <span class="hljs-number">0</span> =&gt; <span class="hljs-keyword">array</span>(</code><code class="line language-php">    <span class="hljs-string">'username'</span> =&gt; <span class="hljs-string">'jwage'</span>,</code><code class="line language-php">    <span class="hljs-string">'email'</span> =&gt; <span class="hljs-string">'j.wage@example.com'</span></code><code class="line language-php">  )</code><code class="line language-php">)</code><code class="line language-php">*/</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="fetchallkeyvalue">
            <h3 class="section-header ">
    <a href="#fetchallkeyvalue">
        fetchAllKeyValue()
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Execute the query and fetch the first two columns into an associative array as keys and values respectively:</p>

                <pre class="code-block-table" id="bfab2acae2b20623be8cd4006178be9b04fb2a83"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="bfab2acae2b20623be8cd4006178be9b04fb2a83"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$users = $conn-&gt;fetchAllKeyValue(<span class="hljs-string">'SELECT username, email FROM user'</span>);</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/*</span></code><code class="line language-php"><span class="hljs-keyword">array</span>(</code><code class="line language-php">  <span class="hljs-string">'jwage'</span> =&gt; <span class="hljs-string">'j.wage@example.com'</span>,</code><code class="line language-php">)</code><code class="line language-php">*/</code><code class="empty"></code></pre>
                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>All additional columns will be ignored and are only allowed to be selected by DBAL for its internal purposes.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
            <div class="section" id="fetchallassociativeindexed">
            <h3 class="section-header ">
    <a href="#fetchallassociativeindexed">
        fetchAllAssociativeIndexed()
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Execute the query and fetch the data as an associative array where the key represents the first column and the value is
an associative array of the rest of the columns and their values:</p>

                <pre class="code-block-table" id="4decc99713b7a3f694e0a42b99c22f8890b9057b"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="4decc99713b7a3f694e0a42b99c22f8890b9057b"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$users = $conn-&gt;fetchAllAssociativeIndexed(<span class="hljs-string">'SELECT id, username, email FROM user'</span>);</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/*</span></code><code class="line language-php"><span class="hljs-keyword">array</span>(</code><code class="line language-php">    <span class="hljs-number">1</span> =&gt; <span class="hljs-keyword">array</span>(</code><code class="line language-php">      <span class="hljs-string">'username'</span> =&gt; <span class="hljs-string">'jwage'</span>,</code><code class="line language-php">      <span class="hljs-string">'email'</span> =&gt; <span class="hljs-string">'j.wage@example.com'</span></code><code class="line language-php">    )</code><code class="line language-php">)</code><code class="line language-php">*/</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="fetchnumeric">
            <h3 class="section-header ">
    <a href="#fetchnumeric">
        fetchNumeric()
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Numeric index retrieval of first result row of the given query:</p>

                <pre class="code-block-table" id="77eac66408da54a4aae7d1dbf71e64b50b293bc5"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="77eac66408da54a4aae7d1dbf71e64b50b293bc5"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$user = $conn-&gt;fetchNumeric(<span class="hljs-string">'SELECT * FROM user WHERE username = ?'</span>, [<span class="hljs-string">'jwage'</span>]);</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/*</span></code><code class="line language-php"><span class="hljs-keyword">array</span>(</code><code class="line language-php">  <span class="hljs-number">0</span> =&gt; <span class="hljs-string">'jwage'</span>,</code><code class="line language-php">  <span class="hljs-number">1</span> =&gt; <span class="hljs-string">'j.wage@example.com'</span></code><code class="line language-php">)</code><code class="line language-php">*/</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="fetchone">
            <h3 class="section-header ">
    <a href="#fetchone">
        fetchOne()
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Retrieve only the value of the first column of the first result row.</p>

                <pre class="code-block-table" id="e5031a3541e471276dbd03f6560f64c85a2845ca"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="e5031a3541e471276dbd03f6560f64c85a2845ca"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$username = $conn-&gt;fetchOne(<span class="hljs-string">'SELECT username FROM user WHERE id = ?'</span>, [<span class="hljs-number">1</span>], <span class="hljs-number">0</span>);</code><code class="line language-php"><span class="hljs-keyword">echo</span> $username; <span class="hljs-comment">// jwage</span></code><code class="empty"></code></pre>
    </div>
            <div class="section" id="fetchassociative">
            <h3 class="section-header ">
    <a href="#fetchassociative">
        fetchAssociative()
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Retrieve associative array of the first result row.</p>

                <pre class="code-block-table" id="452227b0d38613c5bc3b13f73a1df3beee1851fb"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="452227b0d38613c5bc3b13f73a1df3beee1851fb"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$user = $conn-&gt;fetchAssociative(<span class="hljs-string">'SELECT * FROM user WHERE username = ?'</span>, [<span class="hljs-string">'jwage'</span>]);</code><code class="line language-php"><span class="hljs-comment">/*</span></code><code class="line language-php"><span class="hljs-keyword">array</span>(</code><code class="line language-php">  <span class="hljs-string">'username'</span> =&gt; <span class="hljs-string">'jwage'</span>,</code><code class="line language-php">  <span class="hljs-string">'email'</span> =&gt; <span class="hljs-string">'j.wage@example.com'</span></code><code class="line language-php">)</code><code class="line language-php">*/</code><code class="empty"></code></pre>
            
    <p>There are also convenience methods for data manipulation queries:</p>

    </div>
            <div class="section" id="iteratekeyvalue">
            <h3 class="section-header ">
    <a href="#iteratekeyvalue">
        iterateKeyValue()
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Execute the query and iterate over the first two columns as keys and values respectively:</p>

                <pre class="code-block-table" id="73a4dbc08b46695bdd686de78ccbee04764e58e2"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="73a4dbc08b46695bdd686de78ccbee04764e58e2"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-keyword">foreach</span> ($conn-&gt;iterateKeyValue(<span class="hljs-string">'SELECT username, email FROM user'</span>) <span class="hljs-keyword">as</span> $username =&gt; $email) {</code><code class="line language-php">    <span class="hljs-comment">// ...</span></code><code class="line language-php">}</code><code class="empty"></code></pre>
                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>All additional columns will be ignored and are only allowed to be selected by DBAL for its internal purposes.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
            <div class="section" id="iterateassociativeindexed">
            <h3 class="section-header ">
    <a href="#iterateassociativeindexed">
        iterateAssociativeIndexed()
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Execute the query and iterate over the result with the key representing the first column and the value being
an associative array of the rest of the columns and their values:</p>

                <pre class="code-block-table" id="b1f9a00c27f9a58c437334a12c68e0505a8e1936"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="b1f9a00c27f9a58c437334a12c68e0505a8e1936"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-keyword">foreach</span> ($conn-&gt;iterateAssociativeIndexed(<span class="hljs-string">'SELECT id, username, email FROM user'</span>) <span class="hljs-keyword">as</span> $id =&gt; $data) {</code><code class="line language-php">    <span class="hljs-comment">// ...</span></code><code class="line language-php">}</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="delete">
            <h3 class="section-header ">
    <a href="#delete">
        delete()
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Delete all rows of a table matching the given identifier, where
keys are column names.</p>

                <pre class="code-block-table" id="19b530381778a66fbca0d47ff154def23fa5ed56"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="19b530381778a66fbca0d47ff154def23fa5ed56"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$conn-&gt;delete(<span class="hljs-string">'user'</span>, [<span class="hljs-string">'id'</span> =&gt; <span class="hljs-number">1</span>]);</code><code class="line language-php"><span class="hljs-comment">// DELETE FROM user WHERE id = ? (1)</span></code><code class="empty"></code></pre>
    </div>
            <div class="section" id="insert">
            <h3 class="section-header ">
    <a href="#insert">
        insert()
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Insert a row into the given table name using the key value pairs of
data.</p>

                <pre class="code-block-table" id="819f252756ebadcbf8888fb7eafbb6afe48d5099"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="819f252756ebadcbf8888fb7eafbb6afe48d5099"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$conn-&gt;insert(<span class="hljs-string">'user'</span>, [<span class="hljs-string">'username'</span> =&gt; <span class="hljs-string">'jwage'</span>]);</code><code class="line language-php"><span class="hljs-comment">// INSERT INTO user (username) VALUES (?) (jwage)</span></code><code class="empty"></code></pre>
    </div>
            <div class="section" id="update">
            <h3 class="section-header ">
    <a href="#update">
        update()
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Update all rows for the matching key value identifiers with the
given data.</p>

                <pre class="code-block-table" id="c87305d8a08e9a3519be516938004361f6fcce8e"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="c87305d8a08e9a3519be516938004361f6fcce8e"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$conn-&gt;update(<span class="hljs-string">'user'</span>, [<span class="hljs-string">'username'</span> =&gt; <span class="hljs-string">'jwage'</span>], [<span class="hljs-string">'id'</span> =&gt; <span class="hljs-number">1</span>]);</code><code class="line language-php"><span class="hljs-comment">// UPDATE user (username) VALUES (?) WHERE id = ? (jwage, 1)</span></code><code class="empty"></code></pre>
    </div>
    </div>
    </div>
        

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?1546fc"
                            integrity="sha384-ix9eb2EZyp9uayYpxmCQoylbz8msHl5wOg/aqZnD/3cxszNUGePN656MRg5GEgbm"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'dbal';
            var versionSlug = '3.4';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search DBAL 3.4'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            </body>
</html>
