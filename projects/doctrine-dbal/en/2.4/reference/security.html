<!DOCTYPE html>
<html>
    <head>
        <title>Security - Doctrine Database Abstraction Layer (DBAL)</title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine Database Abstraction Layer Documentation: Security ">

        <meta name="keywords" content="abstraction,database,dbal,db2,mariadb,mssql,mysql,pgsql,postgresql,oci8,oracle,pdo,queryobject,sasql,sql,sqlite,sqlserver,sqlsrv,documentation,security">

                    <meta name="robots" content="index, follow">
        
        
                    <link rel="canonical" href="https://www.doctrine-project.org/projects/doctrine-dbal/en/latest/reference/security.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?44b541"
                        integrity="sha384-8XfhfvnL/kdCCjhHXZQBX33XCU4qOmvFzeW0g80xRQD9j94Oo0FIP2hA+JZimref"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/projects/doctrine-dbal/en/2.4/reference/security.html" />
        <meta property="og:title" content="Security - Doctrine Database Abstraction Layer (DBAL)" />
        <meta property="og:description" content="Doctrine Database Abstraction Layer Documentation: Security " />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine Database Abstraction Layer",
            "description": "Security",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://www.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item notranslate" href="/projects/annotations.html">Annotations</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/cache.html">Cache</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/reflection.html">Reflection</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/rst-parser.html">RST Parser</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/skeleton-mapper.html">Skeleton Mapper</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/team/maintainers.html">Maintainers</a>
                                <a class="dropdown-item" href="/team/contributors.html">Contributors</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/events.html">Events</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/consulting.html">Consulting</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/dbal/edit//docs/en/reference/security.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>

                    <div class="google-translate-dropdown dropdown show d-inline-block mr-2">
                        <a class="btn btn-primary dropdown-toggle" href="#" role="button" id="translateDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Translate
                        </a>

                        <div class="dropdown-menu" aria-labelledby="translateDropdown">
                            <div class="dropdown-item" id="google_translate_element">Loading...</div>
                        </div>
                    </div>

                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        <div class="toc"><ul><li id="data-retrieval-and-manipulation-html-data-retrieval-and-manipulation" class="toc-item"><a href="data-retrieval-and-manipulation.html#data-retrieval-and-manipulation">Data Retrieval And Manipulation</a><ul><li id="data-retrieval-and-manipulation-html-data-retrieval" class="toc-item"><a href="data-retrieval-and-manipulation.html#data-retrieval">Data Retrieval</a><ul><li id="data-retrieval-and-manipulation-html-dynamic-parameters-and-prepared-statements" class="toc-item"><a href="data-retrieval-and-manipulation.html#dynamic-parameters-and-prepared-statements">Dynamic Parameters and Prepared Statements</a></li><li id="data-retrieval-and-manipulation-html-using-prepared-statements" class="toc-item"><a href="data-retrieval-and-manipulation.html#using-prepared-statements">Using Prepared Statements</a></li></ul></li><li id="data-retrieval-and-manipulation-html-binding-types" class="toc-item"><a href="data-retrieval-and-manipulation.html#binding-types">Binding Types</a><ul><li id="data-retrieval-and-manipulation-html-doctrine-dbal-types-conversion" class="toc-item"><a href="data-retrieval-and-manipulation.html#doctrine-dbal-types-conversion">Doctrine\DBAL\Types Conversion</a></li><li id="data-retrieval-and-manipulation-html-list-of-parameters-conversion" class="toc-item"><a href="data-retrieval-and-manipulation.html#list-of-parameters-conversion">List of Parameters Conversion</a></li></ul></li><li id="data-retrieval-and-manipulation-html-api" class="toc-item"><a href="data-retrieval-and-manipulation.html#api">API</a><ul><li id="data-retrieval-and-manipulation-html-prepare" class="toc-item"><a href="data-retrieval-and-manipulation.html#prepare">prepare()</a></li><li id="data-retrieval-and-manipulation-html-executeupdate" class="toc-item"><a href="data-retrieval-and-manipulation.html#executeupdate">executeUpdate()</a></li><li id="data-retrieval-and-manipulation-html-executequery" class="toc-item"><a href="data-retrieval-and-manipulation.html#executequery">executeQuery()</a></li><li id="data-retrieval-and-manipulation-html-fetchall" class="toc-item"><a href="data-retrieval-and-manipulation.html#fetchall">fetchAll()</a></li><li id="data-retrieval-and-manipulation-html-fetcharray" class="toc-item"><a href="data-retrieval-and-manipulation.html#fetcharray">fetchArray()</a></li><li id="data-retrieval-and-manipulation-html-fetchcolumn" class="toc-item"><a href="data-retrieval-and-manipulation.html#fetchcolumn">fetchColumn()</a></li><li id="data-retrieval-and-manipulation-html-fetchassoc" class="toc-item"><a href="data-retrieval-and-manipulation.html#fetchassoc">fetchAssoc()</a></li><li id="data-retrieval-and-manipulation-html-delete" class="toc-item"><a href="data-retrieval-and-manipulation.html#delete">delete()</a></li><li id="data-retrieval-and-manipulation-html-insert" class="toc-item"><a href="data-retrieval-and-manipulation.html#insert">insert()</a></li><li id="data-retrieval-and-manipulation-html-update" class="toc-item"><a href="data-retrieval-and-manipulation.html#update">update()</a></li><li id="data-retrieval-and-manipulation-html-quote" class="toc-item"><a href="data-retrieval-and-manipulation.html#quote">quote()</a></li><li id="data-retrieval-and-manipulation-html-quoteidentifier" class="toc-item"><a href="data-retrieval-and-manipulation.html#quoteidentifier">quoteIdentifier()</a></li></ul></li></ul></li><li id="caching-html-caching" class="toc-item"><a href="caching.html#caching">Caching</a></li><li id="platforms-html-platforms" class="toc-item"><a href="platforms.html#platforms">Platforms</a></li><li id="types-html-types" class="toc-item"><a href="types.html#types">Types</a><ul><li id="types-html-detection-of-database-types" class="toc-item"><a href="types.html#detection-of-database-types">Detection of Database Types</a></li><li id="types-html-custom-mapping-types" class="toc-item"><a href="types.html#custom-mapping-types">Custom Mapping Types</a></li></ul></li><li id="query-builder-html-sql-query-builder" class="toc-item"><a href="query-builder.html#sql-query-builder">SQL Query Builder</a></li><li id="supporting-other-databases-html-supporting-other-databases" class="toc-item"><a href="supporting-other-databases.html#supporting-other-databases">Supporting Other Databases</a><ul><li id="supporting-other-databases-html-implementation-steps-in-detail" class="toc-item"><a href="supporting-other-databases.html#implementation-steps-in-detail">Implementation Steps in Detail</a></li></ul></li><li id="schema-manager-html-schema-manager" class="toc-item"><a href="schema-manager.html#schema-manager">Schema-Manager</a><ul><li id="schema-manager-html-listdatabases" class="toc-item"><a href="schema-manager.html#listdatabases">listDatabases()</a></li><li id="schema-manager-html-listsequences" class="toc-item"><a href="schema-manager.html#listsequences">listSequences()</a></li><li id="schema-manager-html-listtablecolumns" class="toc-item"><a href="schema-manager.html#listtablecolumns">listTableColumns()</a></li><li id="schema-manager-html-listtabledetails" class="toc-item"><a href="schema-manager.html#listtabledetails">listTableDetails()</a></li><li id="schema-manager-html-listtableforeignkeys" class="toc-item"><a href="schema-manager.html#listtableforeignkeys">listTableForeignKeys()</a></li><li id="schema-manager-html-listtableindexes" class="toc-item"><a href="schema-manager.html#listtableindexes">listTableIndexes()</a></li><li id="schema-manager-html-listtables" class="toc-item"><a href="schema-manager.html#listtables">listTables()</a></li><li id="schema-manager-html-listviews" class="toc-item"><a href="schema-manager.html#listviews">listViews()</a></li><li id="schema-manager-html-createschema" class="toc-item"><a href="schema-manager.html#createschema">createSchema()</a></li></ul></li><li id="sharding-azure-tutorial-html-sqlazure-sharding-tutorial" class="toc-item"><a href="sharding_azure_tutorial.html#sqlazure-sharding-tutorial">SQLAzure Sharding Tutorial</a><ul><li id="sharding-azure-tutorial-html-install-doctrine" class="toc-item"><a href="sharding_azure_tutorial.html#install-doctrine">Install Doctrine</a></li><li id="sharding-azure-tutorial-html-setup-connection" class="toc-item"><a href="sharding_azure_tutorial.html#setup-connection">Setup Connection</a></li><li id="sharding-azure-tutorial-html-create-database" class="toc-item"><a href="sharding_azure_tutorial.html#create-database">Create Database</a></li><li id="sharding-azure-tutorial-html-create-schema" class="toc-item"><a href="sharding_azure_tutorial.html#create-schema">Create Schema</a></li><li id="sharding-azure-tutorial-html-view-federation-members" class="toc-item"><a href="sharding_azure_tutorial.html#view-federation-members">View Federation Members</a></li><li id="sharding-azure-tutorial-html-insert-data" class="toc-item"><a href="sharding_azure_tutorial.html#insert-data">Insert Data</a></li><li id="sharding-azure-tutorial-html-split-federation" class="toc-item"><a href="sharding_azure_tutorial.html#split-federation">Split Federation</a></li><li id="sharding-azure-tutorial-html-inserting-data-after-split" class="toc-item"><a href="sharding_azure_tutorial.html#inserting-data-after-split">Inserting Data after Split</a></li><li id="sharding-azure-tutorial-html-querying-data-with-filtering-off" class="toc-item"><a href="sharding_azure_tutorial.html#querying-data-with-filtering-off">Querying data with filtering off</a></li><li id="sharding-azure-tutorial-html-querying-data-with-filtering-on" class="toc-item"><a href="sharding_azure_tutorial.html#querying-data-with-filtering-on">Querying data with filtering on</a></li></ul></li><li id="events-html-events" class="toc-item"><a href="events.html#events">Events</a><ul><li id="events-html-postconnect-event" class="toc-item"><a href="events.html#postconnect-event">PostConnect Event</a></li></ul></li><li id="architecture-html-architecture" class="toc-item"><a href="architecture.html#architecture">Architecture</a><ul><li id="architecture-html-drivers" class="toc-item"><a href="architecture.html#drivers">Drivers</a></li><li id="architecture-html-platforms" class="toc-item"><a href="architecture.html#platforms">Platforms</a></li><li id="architecture-html-logging" class="toc-item"><a href="architecture.html#logging">Logging</a></li><li id="architecture-html-schema" class="toc-item"><a href="architecture.html#schema">Schema</a></li><li id="architecture-html-types" class="toc-item"><a href="architecture.html#types">Types</a></li></ul></li><li id="sharding-html-sharding" class="toc-item"><a href="sharding.html#sharding">Sharding</a><ul><li id="sharding-html-id-generation" class="toc-item"><a href="sharding.html#id-generation">ID Generation</a><ul><li id="sharding-html-use-guid-uuids" class="toc-item"><a href="sharding.html#use-guid-uuids">Use GUID/UUIDs</a></li><li id="sharding-html-table-generator" class="toc-item"><a href="sharding.html#table-generator">Table Generator</a></li><li id="sharding-html-natural-identifiers" class="toc-item"><a href="sharding.html#natural-identifiers">Natural Identifiers</a></li></ul></li><li id="sharding-html-transactions" class="toc-item"><a href="sharding.html#transactions">Transactions</a></li><li id="sharding-html-foreign-keys" class="toc-item"><a href="sharding.html#foreign-keys">Foreign Keys</a></li><li id="sharding-html-complex-queries" class="toc-item"><a href="sharding.html#complex-queries">Complex Queries</a></li><li id="sharding-html-shardmanager-interface" class="toc-item"><a href="sharding.html#shardmanager-interface">ShardManager Interface</a></li><li id="sharding-html-schema-operations-schemasynchronizer-interface" class="toc-item"><a href="sharding.html#schema-operations-schemasynchronizer-interface">Schema Operations: SchemaSynchronizer Interface</a></li><li id="sharding-html-sql-azure-federations" class="toc-item"><a href="sharding.html#sql-azure-federations">SQL Azure Federations</a><ul><li id="sharding-html-schema-operations" class="toc-item"><a href="sharding.html#schema-operations">Schema Operations</a></li><li id="sharding-html-sqlazure-filtering" class="toc-item"><a href="sharding.html#sqlazure-filtering">SQLAzure Filtering</a></li></ul></li><li id="sharding-html-generic-sql-sharding-support" class="toc-item"><a href="sharding.html#generic-sql-sharding-support">Generic SQL Sharding Support</a></li></ul></li><li id="schema-representation-html-schema-representation" class="toc-item"><a href="schema-representation.html#schema-representation">Schema-Representation</a></li><li id="configuration-html-configuration" class="toc-item"><a href="configuration.html#configuration">Configuration</a><ul><li id="configuration-html-getting-a-connection" class="toc-item"><a href="configuration.html#getting-a-connection">Getting a Connection</a><ul><li id="configuration-html-driver" class="toc-item"><a href="configuration.html#driver">Driver</a></li><li id="configuration-html-wrapper-class" class="toc-item"><a href="configuration.html#wrapper-class">Wrapper Class</a></li><li id="configuration-html-connection-details" class="toc-item"><a href="configuration.html#connection-details">Connection Details</a></li><li id="configuration-html-custom-platform" class="toc-item"><a href="configuration.html#custom-platform">Custom Platform</a></li><li id="configuration-html-custom-driver-options" class="toc-item"><a href="configuration.html#custom-driver-options">Custom Driver Options</a></li></ul></li></ul></li><li id="security-html-security" class="toc-item"><a href="security.html#security">Security</a><ul><li id="security-html-user-input-in-your-queries" class="toc-item"><a href="security.html#user-input-in-your-queries">User input in your queries</a><ul><li id="security-html-wrong-string-concatenation" class="toc-item"><a href="security.html#wrong-string-concatenation">Wrong: String Concatenation</a></li><li id="security-html-right-prepared-statements" class="toc-item"><a href="security.html#right-prepared-statements">Right: Prepared Statements</a></li><li id="security-html-right-quoting-escaping-values" class="toc-item"><a href="security.html#right-quoting-escaping-values">Right: Quoting/Escaping values</a></li></ul></li><li id="security-html-non-ascii-compatible-charsets-in-mysql" class="toc-item"><a href="security.html#non-ascii-compatible-charsets-in-mysql">Non-ASCII compatible Charsets in MySQL</a></li></ul></li><li id="transactions-html-transactions" class="toc-item"><a href="transactions.html#transactions">Transactions</a><ul><li id="transactions-html-transaction-nesting" class="toc-item"><a href="transactions.html#transaction-nesting">Transaction Nesting</a></li></ul></li><li id="portability-html-portability" class="toc-item"><a href="portability.html#portability">Portability</a><ul><li id="portability-html-connection-wrapper" class="toc-item"><a href="portability.html#connection-wrapper">Connection Wrapper</a></li><li id="portability-html-database-platform" class="toc-item"><a href="portability.html#database-platform">Database Platform</a></li><li id="portability-html-keyword-lists" class="toc-item"><a href="portability.html#keyword-lists">Keyword Lists</a></li></ul></li><li id="known-vendor-issues-html-known-vendor-issues" class="toc-item"><a href="known-vendor-issues.html#known-vendor-issues">Known Vendor Issues</a><ul><li id="known-vendor-issues-html-postgresql" class="toc-item"><a href="known-vendor-issues.html#postgresql">PostgreSQL</a><ul><li id="known-vendor-issues-html-datetime-datetimetz-and-time-types" class="toc-item"><a href="known-vendor-issues.html#datetime-datetimetz-and-time-types">DateTime, DateTimeTz and Time Types</a></li><li id="known-vendor-issues-html-timezones-and-datetimetz" class="toc-item"><a href="known-vendor-issues.html#timezones-and-datetimetz">Timezones and DateTimeTz</a></li></ul></li><li id="known-vendor-issues-html-mysql" class="toc-item"><a href="known-vendor-issues.html#mysql">MySQL</a><ul><li id="known-vendor-issues-html-datetimetz" class="toc-item"><a href="known-vendor-issues.html#datetimetz">DateTimeTz</a></li></ul></li><li id="known-vendor-issues-html-sqlite" class="toc-item"><a href="known-vendor-issues.html#sqlite">Sqlite</a><ul><li id="known-vendor-issues-html-datetimetz" class="toc-item"><a href="known-vendor-issues.html#datetimetz">DateTimeTz</a></li></ul></li><li id="known-vendor-issues-html-ibm-db2" class="toc-item"><a href="known-vendor-issues.html#ibm-db2">IBM DB2</a><ul><li id="known-vendor-issues-html-datetimetz" class="toc-item"><a href="known-vendor-issues.html#datetimetz">DateTimeTz</a></li></ul></li><li id="known-vendor-issues-html-oracle" class="toc-item"><a href="known-vendor-issues.html#oracle">Oracle</a><ul><li id="known-vendor-issues-html-datetimetz" class="toc-item"><a href="known-vendor-issues.html#datetimetz">DateTimeTz</a></li><li id="known-vendor-issues-html-oci8-sql-queries-with-question-marks" class="toc-item"><a href="known-vendor-issues.html#oci8-sql-queries-with-question-marks">OCI8: SQL Queries with Question Marks</a></li><li id="known-vendor-issues-html-oci-lob-instances" class="toc-item"><a href="known-vendor-issues.html#oci-lob-instances">OCI-LOB instances</a></li></ul></li><li id="known-vendor-issues-html-microsoft-sql-server" class="toc-item"><a href="known-vendor-issues.html#microsoft-sql-server">Microsoft SQL Server</a><ul><li id="known-vendor-issues-html-unique-and-null" class="toc-item"><a href="known-vendor-issues.html#unique-and-null">Unique and NULL</a></li><li id="known-vendor-issues-html-datetime-datetimetz-and-time-types" class="toc-item"><a href="known-vendor-issues.html#datetime-datetimetz-and-time-types">DateTime, DateTimeTz and Time Types</a></li></ul></li></ul></li><li id="introduction-html-introduction" class="toc-item"><a href="introduction.html#introduction">Introduction</a></li><li id="index-html-welcome-to-doctrine-dbal-s-documentation" class="toc-item"><a href="../index.html#welcome-to-doctrine-dbal-s-documentation">Welcome to Doctrine DBAL's documentation!</a></li><li id="index-html-indices-and-tables" class="toc-item"><a href="../index.html#indices-and-tables">Indices and tables</a></li></ul></div>
                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://www.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "DBAL",
            "item": "https://www.doctrine-project.org/projects/dbal.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://www.doctrine-project.org/projects/doctrine-dbal/en/2.4/index.html"
        },                {
            "@type": "ListItem",
            "position": 4,
            "name": "Security",
            "item": "https://www.doctrine-project.org/projects/doctrine-dbal/en/2.4/reference/security.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/dbal.html">DBAL</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-dbal/en/2.4/index.html">Documentation</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Security</li>
                        </ol>
</nav>
                                    </div>

                    
    <div class="alert caution bg-light-yellow text-dark border">
    <table width="100%">
        <tr>
            <td width="10" class="align-top">
                <i class="fas fa-exclamation-circle text-warning mr-2"></i>
            </td>
            <td><p>You are browsing a version that is no longer maintained.</p></td>
        </tr>
    </table>
</div>

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-dbal/en/2.4/reference/security.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        2.4.5
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                            
                                                <a class="project-version-switcher dropdown-item" href="/projects/doctrine-dbal/en/latest/reference/security.html">
                                                    3.0.0

                                                                                                            (current)
                                                    
                                                                                                    </a>
                                                                                            
                                                <a class="project-version-switcher dropdown-item" href="/projects/doctrine-dbal/en/2.12/reference/security.html">
                                                    2.12.1

                                                    
                                                                                                    </a>
                                                                                    
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-dbal/en/3.1/reference/security.html">3.1</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-dbal/en/2.13/reference/security.html">2.13</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-dbal/en/2.11/reference/security.html">2.11</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-dbal/en/2.10/reference/security.html">2.10</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-dbal/en/2.9/reference/security.html">2.9</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-dbal/en/2.8/reference/security.html">2.8</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-dbal/en/2.7/reference/security.html">2.7</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-dbal/en/2.6/reference/security.html">2.6</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-dbal/en/2.5/reference/security.html">2.5</a>
                                                                                            
                                                <a class="dropdown-item active" href="/projects/doctrine-dbal/en/2.4/reference/security.html">2.4</a>
                                                                                                                        </div>
                                </div>
                            
                            
<div class="section"><a class="section-anchor" id="security" name="security"></a><h1 class="section-header"><a href="#security">Security<i class="fas fa-link"></i></a></h1>
<p>Allowing users of your website to communicate with a database can possibly have security implications
that you should be aware of. Databases allow very powerful commands that not every user of your website
should be able to execute. Additionally the data in your database probably contains information that
should not be visible to everyone with access to the website.</p>
<p>The most dangerous security problem with regard to databases is the possibility of SQL injections.
An SQL injection security hole allows an attacker to execute new or modify existing SQL statements to
access information that he is not allowed to access.</p>
<p>Neither Doctrine DBAL nor ORM can prevent such attacks if you are careless as a developer. This section
explains to you the problems of SQL injection and how to prevent them.</p>
<div class="section"><a class="section-anchor" id="user-input-in-your-queries" name="user-input-in-your-queries"></a><h2 class="section-header"><a href="#user-input-in-your-queries">User input in your queries<i class="fas fa-link"></i></a></h2>
<p>A database application necessarily requires user-input to passed to your queries.
There are wrong and right ways to do this and is very important to be very strict about this:</p>
<div class="section"><a class="section-anchor" id="wrong-string-concatenation" name="wrong-string-concatenation"></a><h3 class="section-header"><a href="#wrong-string-concatenation">Wrong: String Concatenation<i class="fas fa-link"></i></a></h3>
<p>You should never ever build your queries dynamically and concatenate user-input into your
SQL or DQL query. For Example:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="790a10d5d92b9766712a28872c987c1ed57e92dd"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="790a10d5d92b9766712a28872c987c1ed57e92dd"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-790a10d5d92b9766712a28872c987c1ed57e92dd-1" class="line-number-anchor" /><a href="#line-number-790a10d5d92b9766712a28872c987c1ed57e92dd-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">// Very wrong!</span>
$sql = <span class="hljs-string">"SELECT * FROM users WHERE name = '"</span> . $_GET[<span class="hljs-string">'username'</span>]. <span class="hljs-string">"'"</span>;</td></tr>
<tr><td class="line-number noselect"><a name="line-number-790a10d5d92b9766712a28872c987c1ed57e92dd-2" class="line-number-anchor" /><a href="#line-number-790a10d5d92b9766712a28872c987c1ed57e92dd-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-790a10d5d92b9766712a28872c987c1ed57e92dd-3" class="line-number-anchor" /><a href="#line-number-790a10d5d92b9766712a28872c987c1ed57e92dd-3">3</a></td></tr></table></div></code></pre>
<p>An attacker could inject any value into the GET variable username to modify the query to his needs.</p>
<p>Although DQL is a wrapper around SQL that can prevent you from some security implications, the previous
example is also a thread to DQL queries.</p>
<blockquote><p>&lt;?php
// DQL is not safe against arbitrary user-input as well:
$dql = SELECT u FROM User u WHERE u.username = ' . $_GET['username'] . ';</p>
</blockquote>
<p>In this scenario an attacker could still pass a username set to ' OR 1 = 1 and create a valid DQL query.
Although DQL will make use of quoting functions when literals are used in a DQL statement, allowing
the attacker to modify the DQL statement with valid literals cannot be detected by the DQL parser, it
is your responsibility.</p>
</div>
<div class="section"><a class="section-anchor" id="right-prepared-statements" name="right-prepared-statements"></a><h3 class="section-header"><a href="#right-prepared-statements">Right: Prepared Statements<i class="fas fa-link"></i></a></h3>
<p>You should always use prepared statements to execute your queries. Prepared statements is a two-step
procedure, separating SQL query from the parameters. They are supported (and encouraged) for both
DBAL SQL queries and for ORM DQL queries.</p>
<p>Instead of using string concatenation to insert user-input into your SQL/DQL statements you just specify
either placeholders instead and then explain to the database driver which variable should be bound to
which placeholder. Each database vendor supports different placeholder styles:</p>
<ul><li class="dash"> All PDO Drivers support positional (using question marks) and named placeholders (:param1, :foo, :bar).</li>
<li class="dash"> OCI8 only supports named parameters, but Doctrine DBAL has a thin layer around OCI8 and
   also allows positional placeholders.</li>
<li class="dash"> Doctrine ORM DQL allows both named and positional parameters. The positional parameters however are not
   just question marks, but suffixed with a number (?1, ?2, ?3, ...).</li>
</ul>

<p>Following are examples of using prepared statements with SQL and DQL:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="9cf8e7f1da6cca1340d3508ec349516bbe02c270"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="9cf8e7f1da6cca1340d3508ec349516bbe02c270"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-1" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-1">1</a></td><td class="code-line" rowspan="24"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">// SQL Prepared Statements: Positional</span>
$sql = <span class="hljs-string">"SELECT * FROM users WHERE username = ?"</span>;
$stmt = $connection-&gt;prepare($sql);
$stmt-&gt;bindValue(<span class="hljs-number">1</span>, $_GET[<span class="hljs-string">'username'</span>]);
$stmt-&gt;execute();

<span class="hljs-comment">// SQL Prepared Statements: Named</span>
$sql = <span class="hljs-string">"SELECT * FROM users WHERE username = :user"</span>;
$stmt = $connection-&gt;prepare($sql);
$stmt-&gt;bindValue(<span class="hljs-string">"user"</span>, $_GET[<span class="hljs-string">'username'</span>]);
$stmt-&gt;execute();

<span class="hljs-comment">// DQL Prepared Statements: Positional</span>
$dql = <span class="hljs-string">"SELECT u FROM User u WHERE u.username = ?1"</span>;
$query = $em-&gt;createQuery($dql);
$query-&gt;setParameter(<span class="hljs-number">1</span>, $_GET[<span class="hljs-string">'username'</span>]);
$data = $query-&gt;getResult();

<span class="hljs-comment">// DQL Prepared Statements: Named</span>
$dql = <span class="hljs-string">"SELECT u FROM User u WHERE u.username = :name"</span>;
$query = $em-&gt;createQuery($dql);
$query-&gt;setParameter(<span class="hljs-string">"name"</span>, $_GET[<span class="hljs-string">'username'</span>]);
$data = $query-&gt;getResult();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-2" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-3" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-4" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-5" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-6" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-7" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-8" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-9" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-10" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-11" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-12" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-13" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-14" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-15" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-16" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-17" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-18" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-19" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-20" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-21" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-22" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-23" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-24" class="line-number-anchor" /><a href="#line-number-9cf8e7f1da6cca1340d3508ec349516bbe02c270-24">24</a></td></tr></table></div></code></pre>
<p>You can see this is a bit more tedious to write, but this is the only way to write secure queries. If you
are using just the DBAL there are also helper methods which simplify the usage quite alot:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="bebadab29159639865c2e700d490cf35a1cc1884"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="bebadab29159639865c2e700d490cf35a1cc1884"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-bebadab29159639865c2e700d490cf35a1cc1884-1" class="line-number-anchor" /><a href="#line-number-bebadab29159639865c2e700d490cf35a1cc1884-1">1</a></td><td class="code-line" rowspan="4"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">// bind parameters and execute query at once.</span>
$sql = <span class="hljs-string">"SELECT * FROM users WHERE username = ?"</span>;
$stmt = $connection-&gt;executeQuery($sql, <span class="hljs-keyword">array</span>($_GET[<span class="hljs-string">'username'</span>]));</td></tr>
<tr><td class="line-number noselect"><a name="line-number-bebadab29159639865c2e700d490cf35a1cc1884-2" class="line-number-anchor" /><a href="#line-number-bebadab29159639865c2e700d490cf35a1cc1884-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-bebadab29159639865c2e700d490cf35a1cc1884-3" class="line-number-anchor" /><a href="#line-number-bebadab29159639865c2e700d490cf35a1cc1884-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-bebadab29159639865c2e700d490cf35a1cc1884-4" class="line-number-anchor" /><a href="#line-number-bebadab29159639865c2e700d490cf35a1cc1884-4">4</a></td></tr></table></div></code></pre>
<p>There is also <code>executeUpdate</code> which does not return a statement but the number of affected rows.</p>
<p>Besides binding parameters you can also pass the type of the variable. This allows Doctrine or the underyling
vendor to not only escape but also cast the value to the correct type. See the docs on querying and DQL in the
respective chapters for more information.</p>
</div>
<div class="section"><a class="section-anchor" id="right-quoting-escaping-values" name="right-quoting-escaping-values"></a><h3 class="section-header"><a href="#right-quoting-escaping-values">Right: Quoting/Escaping values<i class="fas fa-link"></i></a></h3>
<p>Although previously we said string concatenation is wrong, there is a way to do it correctly using
the <code>Connection#quote</code> method:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="f47616e88bd1d78314e59f0f42147eb59d9efaeb"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="f47616e88bd1d78314e59f0f42147eb59d9efaeb"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-f47616e88bd1d78314e59f0f42147eb59d9efaeb-1" class="line-number-anchor" /><a href="#line-number-f47616e88bd1d78314e59f0f42147eb59d9efaeb-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">// Parameter quoting</span>
$sql = <span class="hljs-string">"SELECT * FROM users WHERE name = "</span> . $connection-&gt;quote($_GET[<span class="hljs-string">'username'</span>], \PDO::PARAM_STR);</td></tr>
<tr><td class="line-number noselect"><a name="line-number-f47616e88bd1d78314e59f0f42147eb59d9efaeb-2" class="line-number-anchor" /><a href="#line-number-f47616e88bd1d78314e59f0f42147eb59d9efaeb-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f47616e88bd1d78314e59f0f42147eb59d9efaeb-3" class="line-number-anchor" /><a href="#line-number-f47616e88bd1d78314e59f0f42147eb59d9efaeb-3">3</a></td></tr></table></div></code></pre>
<p>This method is only available for SQL, not for DQL. For DQL it is always encouraged to use prepared
statements not only for security, but also for caching reasons.</p>
</div>
</div>
</div>
<div class="section"><a class="section-anchor" id="non-ascii-compatible-charsets-in-mysql" name="non-ascii-compatible-charsets-in-mysql"></a><h2 class="section-header"><a href="#non-ascii-compatible-charsets-in-mysql">Non-ASCII compatible Charsets in MySQL<i class="fas fa-link"></i></a></h2>
<p>Up until PHP 5.3.6 PDO has a security problem when using non ascii compatible charsets. Even if specifying
the charset using SET NAMES, emulated prepared statements and <code>PDO#quote</code> could not reliably escape
values, opening up to potential SQL injections. If you are running PHP 5.3.6 you can solve this issue
by passing the driver option charset to Doctrine PDO MySQL driver. Using SET NAMES does not suffice!</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="41a867579b45a22ddb925eca9d86fbdeb4131c13"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="41a867579b45a22ddb925eca9d86fbdeb4131c13"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-41a867579b45a22ddb925eca9d86fbdeb4131c13-1" class="line-number-anchor" /><a href="#line-number-41a867579b45a22ddb925eca9d86fbdeb4131c13-1">1</a></td><td class="code-line" rowspan="5"><span class="hljs-meta">&lt;?php</span>    
$conn = DriverManager::getConnection(<span class="hljs-keyword">array</span>(
    <span class="hljs-string">'driver'</span> =&gt; <span class="hljs-string">'pdo_mysql'</span>,
    <span class="hljs-string">'charset'</span> =&gt; <span class="hljs-string">'UTF8'</span>,
));</td></tr>
<tr><td class="line-number noselect"><a name="line-number-41a867579b45a22ddb925eca9d86fbdeb4131c13-2" class="line-number-anchor" /><a href="#line-number-41a867579b45a22ddb925eca9d86fbdeb4131c13-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-41a867579b45a22ddb925eca9d86fbdeb4131c13-3" class="line-number-anchor" /><a href="#line-number-41a867579b45a22ddb925eca9d86fbdeb4131c13-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-41a867579b45a22ddb925eca9d86fbdeb4131c13-4" class="line-number-anchor" /><a href="#line-number-41a867579b45a22ddb925eca9d86fbdeb4131c13-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-41a867579b45a22ddb925eca9d86fbdeb4131c13-5" class="line-number-anchor" /><a href="#line-number-41a867579b45a22ddb925eca9d86fbdeb4131c13-5">5</a></td></tr></table></div></code></pre>

</div>

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                    <footer class="footer">
                <div class="container">
                    <ul class="list-inline">
                        <li class="list-inline-item"><a href="/projects.html">Projects</a></li>
                        <li class="list-inline-item"><a href="/partners.html">Partners</a></li>
                        <li class="list-inline-item"><a href="/sponsorship.html">Sponsorship</a></li>
                        <li class="list-inline-item"><a href="/community/index.html">Community</a></li>
                        <li class="list-inline-item"><a href="/blog/index.html">Blog</a></li>
                        <li class="list-inline-item"><a href="/events.html">Events</a></li>
                        <li class="list-inline-item"><a href="/consulting.html">Consulting</a></li>
                    </ul>
                </div>
            </footer>
        
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?5b3818"
                            integrity="sha384-fyrn6RNWHQbvjdZgboYZiPqKrNVycvMxvrO82FIf25RgB+5BeS7O7XJQuvJOJH3O"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'dbal';
            var versionSlug = '2.4';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search DBAL 2.4'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            </body>
</html>
