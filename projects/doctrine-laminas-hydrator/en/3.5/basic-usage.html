<!DOCTYPE html>
<html>
    <head>
        <title>        Basic Usage - Doctrine Doctrine Laminas Hydrators
    </title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine Doctrine Laminas Hydrators Documentation: Basic Usage ">

        <meta name="keywords" content="                    doctrine,hydrator,laminas,documentation,basic,usage
    ">

                    <meta name="robots" content="index, follow">
        
        
                    <link rel="canonical" href="https://www.doctrine-project.org/projects/doctrine-laminas-hydrator/en/3.7/basic-usage.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?209f12"
                        integrity="sha384-VMcQOaUBPJYirNpZMqv0kKw80RSt4Uye4T1Li/d7kiKYAfj1WSzYOgP2OTdON/HM"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/projects/doctrine-laminas-hydrator/en/3.5/basic-usage.html" />
        <meta property="og:title" content="        Basic Usage - Doctrine Doctrine Laminas Hydrators
    " />
        <meta property="og:description" content="Doctrine Doctrine Laminas Hydrators Documentation: Basic Usage " />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine Doctrine Laminas Hydrators",
            "description": "Basic Usage",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://www.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/sponsorship.html">Sponsorship</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/doctrine-laminas-hydrator/edit/3.5.x/docs/en/basic-usage.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        



                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://www.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "Doctrine Laminas Hydrators",
            "item": "https://www.doctrine-project.org/projects/doctrine-laminas-hydrator.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://www.doctrine-project.org/projects/doctrine-laminas-hydrator/en/3.5/index.html"
        },                {
            "@type": "ListItem",
            "position": 4,
            "name": "Basic Usage",
            "item": "https://www.doctrine-project.org/projects/doctrine-laminas-hydrator/en/3.5/basic-usage.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-laminas-hydrator.html">Doctrine Laminas Hydrators</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-laminas-hydrator/en/3.5/index.html">Documentation</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Basic Usage</li>
                        </ol>
</nav>
                                    </div>

                    
    <div class="alert caution bg-light-yellow text-dark border">
    <table width="100%">
        <tr>
            <td width="10" class="align-top">
                <i class="fas fa-exclamation-circle text-warning mr-2"></i>
            </td>
            <td><p>You are browsing a version that is no longer maintained.</p></td>
        </tr>
    </table>
</div>

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-laminas-hydrator/en/3.5/basic-usage.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        3.5.0
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-laminas-hydrator/en/3.8/basic-usage.html">
                                                        3.8

                                                        
                                                                                                                    (upcoming)
                                                                                                            </a>
                                                                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-laminas-hydrator/en/3.7/basic-usage.html">
                                                        3.7.0

                                                                                                                    (current)
                                                        
                                                                                                            </a>
                                                                                                                                    
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-laminas-hydrator/en/3.6/basic-usage.html">3.6</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item active" href="/projects/doctrine-laminas-hydrator/en/3.5/basic-usage.html">3.5</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-laminas-hydrator/en/3.4/basic-usage.html">3.4</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-laminas-hydrator/en/3.3/basic-usage.html">3.3</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-laminas-hydrator/en/3.2/basic-usage.html">3.2</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-laminas-hydrator/en/3.1/basic-usage.html">3.1</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-laminas-hydrator/en/3.0/basic-usage.html">3.0</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-laminas-hydrator/en/2.2/basic-usage.html">2.2</a>
                                                                                                                                                                                                                                                                                                                                                                </div>
                                </div>
                            
                            

            
    <p>:depth: 3</p>

                <blockquote>
    <p>index
basic-usage
collections-strategy
by-value-by-reference
laminas-form
enum-strategy
performance-considerations</p>
</blockquote>
                <div class="section" id="basic-usage">
            <h1 class="section-header ">
    <a href="#basic-usage">
        Basic Usage
        <i class="fas fa-link"></i>
    </a>
</h1>
            
    <p>This library ships with a powerful hydrator that allows almost any use-case.</p>

            <div class="section" id="create-a-hydrator">
            <h2 class="section-header ">
    <a href="#create-a-hydrator">
        Create a Hydrator
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Creating a Doctrine hydrator requires an object manager
(also named entity manager in Doctrine ORM or document manager
in Doctrine ODM):</p>

                <pre class="code-block-table" id="5eb329cd783ae7b12f0094a61e47c7d4bf7175b0"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="5eb329cd783ae7b12f0094a61e47c7d4bf7175b0"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Laminas</span>\<span class="hljs-title">Hydrator</span>\<span class="hljs-title">DoctrineObject</span> <span class="hljs-title">as</span> <span class="hljs-title">DoctrineHydrator</span>;</code><code class="line language-php"></code><code class="line language-php">$hydrator = <span class="hljs-keyword">new</span> DoctrineHydrator($objectManager);</code><code class="empty"></code></pre>
            
    <p>The hydrator constructor has an optional second parameter, <code>byValue</code>,
which is true by default. This allows changing the hydrator&#039;s way to
get/set data by either accessing the public API of your entity
(getters/setters) or directly get/set data through reflection, hence
bypassing any of your custom logic.</p>

    </div>
            <div class="section" id="example-1-simple-entity-with-no-associations">
            <h2 class="section-header ">
    <a href="#example-1-simple-entity-with-no-associations">
        Example 1: Simple Entity with no Associations
        <i class="fas fa-link"></i>
    </a>
</h2>
                <pre class="code-block-table" id="2f59d78084fe5f865bc18cd72aa54bdd73690a8d"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="2f59d78084fe5f865bc18cd72aa54bdd73690a8d"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Application</span>\<span class="hljs-title">Entity</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Mapping</span> <span class="hljs-title">as</span> <span class="hljs-title">ORM</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">#[ORM\Entity]</span></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">City</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">#[ORM\Id]</span></code><code class="line language-php">    <span class="hljs-comment">#[ORM\Column(type: 'integer')]</span></code><code class="line language-php">    <span class="hljs-comment">#[ORM\GeneratedValue(strategy: 'AUTO')]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> ?int $id = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">#[ORM\Column(type: 'string', length: 48)]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> ?string $name = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span>: ?<span class="hljs-title">int</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;id;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setName</span><span class="hljs-params">(string $name)</span>: <span class="hljs-title">void</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;name = $name;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getName</span><span class="hljs-params">()</span>: ?<span class="hljs-title">string</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;name;</code><code class="line language-php">    }</code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>Now, let’s use the Doctrine hydrator:</p>

                <pre class="code-block-table" id="91028456712c02b8cb164b06ff535581626107c0"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="91028456712c02b8cb164b06ff535581626107c0"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Laminas</span>\<span class="hljs-title">Hydrator</span>\<span class="hljs-title">DoctrineObject</span> <span class="hljs-title">as</span> <span class="hljs-title">DoctrineHydrator</span>;</code><code class="line language-php"></code><code class="line language-php">$hydrator = <span class="hljs-keyword">new</span> DoctrineHydrator($entityManager);</code><code class="line language-php">$city = <span class="hljs-keyword">new</span> City();</code><code class="line language-php">$data = [</code><code class="line language-php">    <span class="hljs-string">'name'</span> =&gt; <span class="hljs-string">'Paris'</span>,</code><code class="line language-php">];</code><code class="line language-php"></code><code class="line language-php">$city = $hydrator-&gt;hydrate($data, $city);</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">echo</span> $city-&gt;getName(); <span class="hljs-comment">// prints "Paris"</span></code><code class="line language-php"></code><code class="line language-php">$dataArray = $hydrator-&gt;extract($city);</code><code class="line language-php"><span class="hljs-keyword">echo</span> $dataArray[<span class="hljs-string">'name'</span>]; <span class="hljs-comment">// prints "Paris"</span></code><code class="empty"></code></pre>
            
    <p>As shows in this simple example, the Doctrine hydrator
provides nearly no benefits over a simpler hydrator like <code>ClassMethods</code>.
However, even in those cases, it provides benefitst such as
automatic conversion between types. For instance, it can convert
a timestamp to a <code>DateTime</code> instance:</p>

                <pre class="code-block-table" id="490438740446c6f5d0bdeaf9c94ac1da7b5a318d"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="490438740446c6f5d0bdeaf9c94ac1da7b5a318d"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Application</span>\<span class="hljs-title">Entity</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">DateTime</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Mapping</span> <span class="hljs-title">as</span> <span class="hljs-title">ORM</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">#[ORM\Entity]</span></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Appointment</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">#[ORM\Id]</span></code><code class="line language-php">    <span class="hljs-comment">#[ORM\Column(type: 'integer')]</span></code><code class="line language-php">    <span class="hljs-comment">#[ORM\GeneratedValue(strategy: 'AUTO')]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> ?int $id = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">#[ORM\Column(type: 'datetime')]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> ?DateTime $time = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span>: ?<span class="hljs-title">int</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;id;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setTime</span><span class="hljs-params">(DateTime $time)</span>: <span class="hljs-title">void</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;time = $time;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTime</span><span class="hljs-params">()</span>: ?<span class="hljs-title">DateTime</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;time;</code><code class="line language-php">    }</code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>Let’s use the hydrator:</p>

                <pre class="code-block-table" id="09987de8473e509eca3288d223fd9df4e1786e9a"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="09987de8473e509eca3288d223fd9df4e1786e9a"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Laminas</span>\<span class="hljs-title">Hydrator</span>\<span class="hljs-title">DoctrineObject</span> <span class="hljs-title">as</span> <span class="hljs-title">DoctrineHydrator</span>;</code><code class="line language-php"></code><code class="line language-php">$hydrator = <span class="hljs-keyword">new</span> DoctrineHydrator($entityManager);</code><code class="line language-php">$appointment = <span class="hljs-keyword">new</span> Appointment();</code><code class="line language-php">$data = [</code><code class="line language-php">    <span class="hljs-string">'time'</span> =&gt; <span class="hljs-string">'1357057334'</span>,</code><code class="line language-php">];</code><code class="line language-php"></code><code class="line language-php">$appointment = $hydrator-&gt;hydrate($data, $appointment);</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">echo</span> get_class($appointment-&gt;getTime()); <span class="hljs-comment">// prints "DateTime"</span></code><code class="empty"></code></pre>
            
    <p>As you can see, the hydrator automatically converted the timestamp to a
DateTime object during the hydration, hence allowing us to have a clean
API in our entity with a correct typehint.</p>

    </div>
            <div class="section" id="example-2-onetoone-manytoone-associations">
            <h2 class="section-header ">
    <a href="#example-2-onetoone-manytoone-associations">
        Example 2: OneToOne/ManyToOne Associations
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Doctrine hydrator is especially useful when dealing with associations
(OneToOne, OneToMany, ManyToOne) and integrates nicely with the
Form/Fieldset logic (<a href="https://docs.laminas.dev/laminas-form/collections/">learn more about this
here</a>).</p>

            
    <p>A simple example with BlogPost and User entities to
illustrate OneToOne association:</p>

                <pre class="code-block-table" id="00ddb4bf8078ba30ba958fcf2ea772368df55477"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="00ddb4bf8078ba30ba958fcf2ea772368df55477"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Application</span>\<span class="hljs-title">Entity</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Mapping</span> <span class="hljs-title">as</span> <span class="hljs-title">ORM</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">#[ORM\Entity]</span></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">#[ORM\Id]</span></code><code class="line language-php">    <span class="hljs-comment">#[ORM\Column(type: 'integer')]</span></code><code class="line language-php">    <span class="hljs-comment">#[ORM\GeneratedValue(strategy: 'AUTO')]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> ?int $id = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">#[ORM\Column(type: 'string', length: 48)]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> ?string $username = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">#[ORM\Column(type: 'string')]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> ?string $password = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span>: ?<span class="hljs-title">int</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;id;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setUsername</span><span class="hljs-params">(string $username)</span>: <span class="hljs-title">void</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;username = $username;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUsername</span><span class="hljs-params">()</span>: ?<span class="hljs-title">string</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;username;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setPassword</span><span class="hljs-params">(string $password)</span>: <span class="hljs-title">void</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;password = $password;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPassword</span><span class="hljs-params">()</span>: ?<span class="hljs-title">string</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;password;</code><code class="line language-php">    }</code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>And the BlogPost entity, with a ManyToOne association:</p>

                <pre class="code-block-table" id="ddfe7dd2eb66cd04d5221ac450862278628dd5a8"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="ddfe7dd2eb66cd04d5221ac450862278628dd5a8"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Application</span>\<span class="hljs-title">Entity</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Mapping</span> <span class="hljs-title">as</span> <span class="hljs-title">ORM</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">#[ORM\Entity]</span></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BlogPost</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">#[ORM\Id]</span></code><code class="line language-php">    <span class="hljs-comment">#[ORM\Column(type: 'integer')]</span></code><code class="line language-php">    <span class="hljs-comment">#[ORM\GeneratedValue(strategy: 'AUTO')]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> ?int $id = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">#[ORM\ManyToOne(targetEntity: User::class)]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> ?User $user = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">#[ORM\Column(type: 'string')]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> ?string $title = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span>: ?<span class="hljs-title">int</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;id;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setUser</span><span class="hljs-params">(User $user)</span>: <span class="hljs-title">void</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;user = $user;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUser</span><span class="hljs-params">()</span>: ?<span class="hljs-title">User</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;user;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setTitle</span><span class="hljs-params">(string $title)</span>: <span class="hljs-title">void</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;title = $title;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTitle</span><span class="hljs-params">()</span>: ?<span class="hljs-title">string</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;title;</code><code class="line language-php">    }</code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>There are two use cases that can arise when using OneToOne associations:
the toOne entity (in this case, the User) may already exist (which will
often be the case with a User and BlogPost example), or it needs to be
created. The Doctrined hydrator natively supports both cases.</p>

            <div class="section" id="existing-entity-in-the-association">
            <h3 class="section-header ">
    <a href="#existing-entity-in-the-association">
        Existing Entity in the Association
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>When the association’s entity already exists, all you need to do is
give the identifier of the association:</p>

                <pre class="code-block-table" id="6c5f0361c6d1886e5429b2263769ae614ed89b3d"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="6c5f0361c6d1886e5429b2263769ae614ed89b3d"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Laminas</span>\<span class="hljs-title">Hydrator</span>\<span class="hljs-title">DoctrineObject</span> <span class="hljs-title">as</span> <span class="hljs-title">DoctrineHydrator</span>;</code><code class="line language-php"></code><code class="line language-php">$hydrator = <span class="hljs-keyword">new</span> DoctrineHydrator($entityManager);</code><code class="line language-php">$blogPost = <span class="hljs-keyword">new</span> BlogPost();</code><code class="line language-php">$data = [</code><code class="line language-php">    <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'The best blog post in the world!'</span>,</code><code class="line language-php">    <span class="hljs-string">'user'</span>  =&gt; [</code><code class="line language-php">        <span class="hljs-string">'id'</span> =&gt; <span class="hljs-number">2</span>, <span class="hljs-comment">// Written by user 2</span></code><code class="line language-php">    ],</code><code class="line language-php">];</code><code class="line language-php"></code><code class="line language-php">$blogPost = $hydrator-&gt;hydrate($data, $blogPost);</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">echo</span> $blogPost-&gt;getTitle(); <span class="hljs-comment">// prints "The best blog post in the world!"</span></code><code class="line language-php"><span class="hljs-keyword">echo</span> $blogPost-&gt;getUser()-&gt;getId(); <span class="hljs-comment">// prints 2</span></code><code class="empty"></code></pre>
            
    <p><strong>NOTE</strong> : when using association whose primary key is not compound, you
can rewrite the following more succinctly:</p>

                <pre class="code-block-table" id="9d16b9bf48a1d8fafc661315d75e8f5f0e05b217"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="9d16b9bf48a1d8fafc661315d75e8f5f0e05b217"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">$data = [</code><code class="line language-php">    <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'The best blog post in the world!'</span>,</code><code class="line language-php">    <span class="hljs-string">'user'</span>  =&gt; [</code><code class="line language-php">        <span class="hljs-string">'id'</span> =&gt; <span class="hljs-number">2</span>, <span class="hljs-comment">// Written by user 2</span></code><code class="line language-php">    ],</code><code class="line language-php">];</code><code class="empty"></code></pre>
            
    <p>to:</p>

                <pre class="code-block-table" id="49d69853eec58cbf965dc6b8beb76ec1a726e57e"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="49d69853eec58cbf965dc6b8beb76ec1a726e57e"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">$data = [</code><code class="line language-php">    <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'The best blog post in the world!'</span>,</code><code class="line language-php">    <span class="hljs-string">'user'</span>  =&gt; <span class="hljs-number">2</span>,</code><code class="line language-php">];</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="non-existing-entity-in-the-association">
            <h3 class="section-header ">
    <a href="#non-existing-entity-in-the-association">
        Non-existing Entity in the Association
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>If the association’s entity does not exist, you just need to provide
the actual object to the hydrator:</p>

                <pre class="code-block-table" id="eda3b94c41d2b9d7a5caf6d5e9e3ce16a0b5d3eb"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="eda3b94c41d2b9d7a5caf6d5e9e3ce16a0b5d3eb"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Laminas</span>\<span class="hljs-title">Hydrator</span>\<span class="hljs-title">DoctrineObject</span> <span class="hljs-title">as</span> <span class="hljs-title">DoctrineHydrator</span>;</code><code class="line language-php"></code><code class="line language-php">$hydrator = <span class="hljs-keyword">new</span> DoctrineHydrator($entityManager);</code><code class="line language-php">$blogPost = <span class="hljs-keyword">new</span> BlogPost();</code><code class="line language-php">$user = <span class="hljs-keyword">new</span> User();</code><code class="line language-php">$user-&gt;setUsername(<span class="hljs-string">'bakura'</span>);</code><code class="line language-php">$user-&gt;setPassword(<span class="hljs-string">'p@$$w0rd'</span>);</code><code class="line language-php"></code><code class="line language-php">$data = [</code><code class="line language-php">    <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'The best blog post in the world!'</span>,</code><code class="line language-php">    <span class="hljs-string">'user'</span>  =&gt; $user,</code><code class="line language-php">];</code><code class="line language-php"></code><code class="line language-php">$blogPost = $hydrator-&gt;hydrate($data, $blogPost);</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">echo</span> $blogPost-&gt;getTitle(); <span class="hljs-comment">// prints "The best blog post in the world!"</span></code><code class="line language-php"><span class="hljs-keyword">echo</span> $blogPost-&gt;getUser()-&gt;getId(); <span class="hljs-comment">// prints 2</span></code><code class="empty"></code></pre>
            
    <p>For this to work, you must also slightly change your mapping, so that
Doctrine can persist new entities on associations (note the cascade
options on the ManyToOne association):</p>

                <pre class="code-block-table" id="fa8c58f1d515399fefc47db168c0c36629892430"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="fa8c58f1d515399fefc47db168c0c36629892430"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Application</span>\<span class="hljs-title">Entity</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Mapping</span> <span class="hljs-title">as</span> <span class="hljs-title">ORM</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">#[ORM\Entity]</span></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BlogPost</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">/** .. */</span></code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">#[ORM\ManyToOne(targetEntity: User::class, cascade: ['persist'])]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> ?User $user = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/** … */</span></code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>It’s also possible to use a nested fieldset for the User data. The
hydrator will use the mapping data to determine the identifiers for the
toOne relation and either attempt to find the existing record or
instanciate a new target instance which will be hydrated before it is
passed to the BlogPost entity.</p>

                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>Adding users via a blog post is not recommended.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
                <pre class="code-block-table" id="e1e4f994c97bce730219b88a7add45007d83210e"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="e1e4f994c97bce730219b88a7add45007d83210e"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Laminas</span>\<span class="hljs-title">Hydrator</span>\<span class="hljs-title">DoctrineObject</span> <span class="hljs-title">as</span> <span class="hljs-title">DoctrineHydrator</span>;</code><code class="line language-php"></code><code class="line language-php">$hydrator = <span class="hljs-keyword">new</span> DoctrineHydrator($entityManager, BlogPost::class);</code><code class="line language-php">$blogPost = <span class="hljs-keyword">new</span> BlogPost();</code><code class="line language-php"></code><code class="line language-php">$data = [</code><code class="line language-php">    <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'Art thou mad?'</span>,</code><code class="line language-php">    <span class="hljs-string">'user'</span> =&gt; [</code><code class="line language-php">        <span class="hljs-string">'id'</span> =&gt; <span class="hljs-string">''</span>,</code><code class="line language-php">        <span class="hljs-string">'username'</span> =&gt; <span class="hljs-string">'willshakes'</span>,</code><code class="line language-php">        <span class="hljs-string">'password'</span> =&gt; <span class="hljs-string">'2BorN0t2B'</span>,</code><code class="line language-php">    ],</code><code class="line language-php">];</code><code class="line language-php"></code><code class="line language-php">$blogPost = $hydrator-&gt;hydrate($data, $blogPost);</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">echo</span> $blogPost-&gt;getUser()-&gt;getUsername(); <span class="hljs-comment">// prints willshakes</span></code><code class="line language-php"><span class="hljs-keyword">echo</span> $blogPost-&gt;getUser()-&gt;getPassword(); <span class="hljs-comment">// prints 2BorN0t2B</span></code><code class="empty"></code></pre>
    </div>
    </div>
            <div class="section" id="example-3-onetomany-association">
            <h2 class="section-header ">
    <a href="#example-3-onetomany-association">
        Example 3: OneToMany Association
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Doctrine hydrator can also handle OneToMany relationships (when using a
<code>Laminas\Form\Element\Collection</code> element). Please refer to the
<a href="https://docs.laminas.dev/laminas-form/collections/">Laminas documentation</a> to learn more
about Collection elements.</p>

                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>Internally, for a given collection, if an array contains
identifiers, the hydrator automatically fetches the objects through
the Doctrine <code>find</code> function. However, this may cause problems if
one of the values of the collection is the empty string ’’ (as the
<code>find</code> will most likely fail). In order to solve this problem,
empty string identifiers are simply ignored during the hydration
phase. Therefore, if your database contains an empty string value as
a primary key, the hydrator may not work correctly (the simplest way
to avoid that is simply to not have an empty string primary key,
which should not happen if you use auto-increment primary keys,
anyway).</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
            
    <p>For example consider, again the BlogPost and Tag entities:</p>

                <pre class="code-block-table" id="01f8a50646159542e1cf5635a855ca697bebec34"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="01f8a50646159542e1cf5635a855ca697bebec34"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Application</span>\<span class="hljs-title">Entity</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Common</span>\<span class="hljs-title">Collections</span>\<span class="hljs-title">ArrayCollection</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Common</span>\<span class="hljs-title">Collections</span>\<span class="hljs-title">Collection</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Mapping</span> <span class="hljs-title">as</span> <span class="hljs-title">ORM</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">#[ORM\Entity]</span></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BlogPost</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">#[ORM\Id]</span></code><code class="line language-php">    <span class="hljs-comment">#[ORM\Column(type: 'integer')]</span></code><code class="line language-php">    <span class="hljs-comment">#[ORM\GeneratedValue(strategy: 'AUTO')]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> ?int $id = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">#[ORM\OneToMany(targetEntity: Tag::class, mappedBy: 'blogPost')]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> Collection $tags;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * Never forget to initialize your collections!</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;tags = <span class="hljs-keyword">new</span> ArrayCollection();</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span>: ?<span class="hljs-title">int</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;id;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addTags</span><span class="hljs-params">(Collection $tags)</span>: <span class="hljs-title">void</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">foreach</span> ($tags <span class="hljs-keyword">as</span> $tag) {</code><code class="line language-php">            $tag-&gt;setBlogPost(<span class="hljs-keyword">$this</span>);</code><code class="line language-php">            <span class="hljs-keyword">$this</span>-&gt;tags-&gt;add($tag);</code><code class="line language-php">        }</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeTags</span><span class="hljs-params">(Collection $tags)</span>: <span class="hljs-title">void</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">foreach</span> ($tags <span class="hljs-keyword">as</span> $tag) {</code><code class="line language-php">            $tag-&gt;setBlogPost(<span class="hljs-keyword">null</span>);</code><code class="line language-php">            <span class="hljs-keyword">$this</span>-&gt;tags-&gt;removeElement($tag);</code><code class="line language-php">        }</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTags</span><span class="hljs-params">()</span>: <span class="hljs-title">Collection</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;tags;</code><code class="line language-php">    }</code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>And the Tag entity:</p>

                <pre class="code-block-table" id="8b46b196bf12a2c787d83f01a66ac671a42e1202"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="8b46b196bf12a2c787d83f01a66ac671a42e1202"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Application</span>\<span class="hljs-title">Entity</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Mapping</span> <span class="hljs-title">as</span> <span class="hljs-title">ORM</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">#[ORM\Entity]</span></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Tag</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">#[ORM\Id]</span></code><code class="line language-php">    <span class="hljs-comment">#[ORM\Column(type: 'integer')]</span></code><code class="line language-php">    <span class="hljs-comment">#[ORM\GeneratedValue(strategy: 'AUTO')]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> ?int $id = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">#[ORM\ManyToOne(targetEntity: BlogPost::class, inversedBy: 'tags')]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> ?BlogPost $blogPost = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">#[ORM\Column(type: 'string')]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> ?string $name = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span>: ?<span class="hljs-title">int</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;id;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * Allow <span class="hljs-keyword">null</span> to remove association</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setBlogPost</span><span class="hljs-params">(?BlogPost $blogPost = null)</span>: <span class="hljs-title">void</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;blogPost = $blogPost;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getBlogPost</span><span class="hljs-params">()</span>: ?<span class="hljs-title">BlogPost</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;blogPost;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setName</span><span class="hljs-params">(string $name)</span>: <span class="hljs-title">void</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;name = $name;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getName</span><span class="hljs-params">()</span>: ?<span class="hljs-title">string</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;name;</code><code class="line language-php">    }</code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>Please note some interesting things in the BlogPost entity. There are defined
two functions: addTags and removeTags. Those functions must be always
defined and are called automatically by the Doctrine hydrator when dealing
with collections. This is not overkill and is preferred to just a
<code>setTags</code> function to replace the old collection with a new one:</p>

                <pre class="code-block-table" id="a9ecf2f48303f1c166bf7c546cd8165fd3c3a2f2"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="a9ecf2f48303f1c166bf7c546cd8165fd3c3a2f2"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setTags</span><span class="hljs-params">(Collection $tags)</span>: <span class="hljs-title">void</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-keyword">$this</span>-&gt;tags = $tags;</code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>This is considered a bad design because Doctrine collections
should not be swapped; mostly because collections are managed by an
object manager and must not be replaced by a new instance.</p>

            
    <p>Once again, two cases may arise: the tags already exist or they do not.</p>

            <div class="section" id="example-4-embedded-entities">
            <h3 class="section-header ">
    <a href="#example-4-embedded-entities">
        Example 4: Embedded Entities
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Doctrine provides so-called embeddables as a layer of abstraction that
allows reusing partial objects across entities. For example, one might
have an entity <code>Address</code> which is not only used for a <code>Person</code>, but
also for an <code>Organization</code>.
First, we have a <code>Tag</code> class, which will be our embeddable:</p>

                <pre class="code-block-table" id="897b07b987de923a09d2f4fb5362069b20f76414"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="897b07b987de923a09d2f4fb5362069b20f76414"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Application</span>\<span class="hljs-title">Entity</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Mapping</span> <span class="hljs-title">as</span> <span class="hljs-title">ORM</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/**</span></code><code class="line language-php"> * Address <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">for</span> <span class="hljs-title">embedding</span> <span class="hljs-title">in</span> <span class="hljs-title">entities</span>.</span></code><code class="line language-php"> */</code><code class="line language-php"><span class="hljs-comment">#[ORM\Embeddable]</span></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Tag</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">#[ORM\Column(type: 'string', nullable: true)]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> ?string $postalCode = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">#[ORM\Column(type: 'string', nullable: true)]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> ?string $city = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPostalCode</span><span class="hljs-params">()</span>: ?<span class="hljs-title">string</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;postalCode;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setPostalCode</span><span class="hljs-params">(?string $postalCode)</span>: <span class="hljs-title">void</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;postalCode = $postalCode;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCity</span><span class="hljs-params">()</span>: ?<span class="hljs-title">string</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;city;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setCity</span><span class="hljs-params">(?string $city)</span>: <span class="hljs-title">void</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;city = $city;</code><code class="line language-php">    }</code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>Then we have a corresponding <code>Person</code> entity, where the above
embeddable is used:</p>

                <pre class="code-block-table" id="7e66056b05637ea8b417846137060ebdcefed0f6"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="7e66056b05637ea8b417846137060ebdcefed0f6"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Application</span>\<span class="hljs-title">Entity</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Mapping</span> <span class="hljs-title">as</span> <span class="hljs-title">ORM</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">#[ORM\Entity]</span></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">#[ORM\Id]</span></code><code class="line language-php">    <span class="hljs-comment">#[ORM\GeneratedValue]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> ?int $id = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">#[ORM\Column(type: 'string', nullable: true)]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> ?string $name = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">#[ORM\Embedded(class: 'Address')]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> Address $address;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * Similar to collections you should initialize embeddables in the constructor!</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;address = <span class="hljs-keyword">new</span> Address();</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span>: ?<span class="hljs-title">int</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;id;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getName</span><span class="hljs-params">()</span>: ?<span class="hljs-title">string</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;name;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setName</span><span class="hljs-params">(?string $name)</span>: <span class="hljs-title">void</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;name = $name;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAddress</span><span class="hljs-params">()</span>: <span class="hljs-title">Address</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;address;</code><code class="line language-php">    }</code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>The hydrator provided by this module will require the data for the
embeddable to be in a separate array, as follows:</p>

                <pre class="code-block-table" id="1e293c39f3ea9ae4050c1c7b8036aea6831d4339"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="1e293c39f3ea9ae4050c1c7b8036aea6831d4339"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Laminas</span>\<span class="hljs-title">Hydrator</span>\<span class="hljs-title">DoctrineObject</span> <span class="hljs-title">as</span> <span class="hljs-title">DoctrineHydrator</span>;</code><code class="line language-php"></code><code class="line language-php">$hydrator = <span class="hljs-keyword">new</span> DoctrineHydrator($entityManager);</code><code class="line language-php">$person = <span class="hljs-keyword">new</span> Person();</code><code class="line language-php">$data = [</code><code class="line language-php">    <span class="hljs-string">'name'</span> =&gt; <span class="hljs-string">'Mr. Example'</span>,</code><code class="line language-php">    <span class="hljs-string">'address'</span>  =&gt; [</code><code class="line language-php">        [</code><code class="line language-php">            <span class="hljs-string">'postalCode'</span> =&gt; <span class="hljs-string">'48149'</span>,</code><code class="line language-php">            <span class="hljs-string">'city'</span> =&gt; <span class="hljs-string">'Münster'</span>,</code><code class="line language-php">        ],</code><code class="line language-php">    ],</code><code class="line language-php">];</code><code class="line language-php"></code><code class="line language-php">$person = $hydrator-&gt;hydrate($data, $person);</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">echo</span> $person-&gt;getAddress()-&gt;getPostalCode(); <span class="hljs-comment">// prints "48149"</span></code><code class="line language-php"><span class="hljs-keyword">echo</span> $person-&gt;getAddress()-&gt;getCity();       <span class="hljs-comment">// prints "Münster"</span></code><code class="empty"></code></pre>
    </div>
            <div class="section" id="existing-entity-in-the-association">
            <h3 class="section-header ">
    <a href="#existing-entity-in-the-association">
        Existing Entity in the Association
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>When the association’s entity already exists, just
provide the identifiers of these entities:</p>

                <pre class="code-block-table" id="ace9bc51629d943866f45d1b2623f9a478189334"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="ace9bc51629d943866f45d1b2623f9a478189334"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Laminas</span>\<span class="hljs-title">Hydrator</span>\<span class="hljs-title">DoctrineObject</span> <span class="hljs-title">as</span> <span class="hljs-title">DoctrineHydrator</span>;</code><code class="line language-php"></code><code class="line language-php">$hydrator = <span class="hljs-keyword">new</span> DoctrineHydrator($entityManager);</code><code class="line language-php">$blogPost = <span class="hljs-keyword">new</span> BlogPost();</code><code class="line language-php">$data = [</code><code class="line language-php">    <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'The best blog post in the world!'</span>,</code><code class="line language-php">    <span class="hljs-string">'tags'</span>  =&gt; [</code><code class="line language-php">        [<span class="hljs-string">'id'</span> =&gt; <span class="hljs-number">3</span>], <span class="hljs-comment">// add tag whose id is 3</span></code><code class="line language-php">        [<span class="hljs-string">'id'</span> =&gt; <span class="hljs-number">8</span>], <span class="hljs-comment">// also add tag whose id is 8</span></code><code class="line language-php">    ],</code><code class="line language-php">];</code><code class="line language-php"></code><code class="line language-php">$blogPost = $hydrator-&gt;hydrate($data, $blogPost);</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">echo</span> $blogPost-&gt;getTitle(); <span class="hljs-comment">// prints "The best blog post in the world!"</span></code><code class="line language-php"><span class="hljs-keyword">echo</span> count($blogPost-&gt;getTags()); <span class="hljs-comment">// prints 2</span></code><code class="empty"></code></pre>
            
    <p>Note, again, that</p>

                <pre class="code-block-table" id="560260008f428e29904b03a12bf8feeca4bdb195"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="560260008f428e29904b03a12bf8feeca4bdb195"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">$data = [</code><code class="line language-php">    <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'The best blog post in the world!'</span>,</code><code class="line language-php">    <span class="hljs-string">'tags'</span>  =&gt; [</code><code class="line language-php">        [<span class="hljs-string">'id'</span> =&gt; <span class="hljs-number">3</span>], <span class="hljs-comment">// add tag whose id is 3</span></code><code class="line language-php">        [<span class="hljs-string">'id'</span> =&gt; <span class="hljs-number">8</span>], <span class="hljs-comment">// also add tag whose id is 8</span></code><code class="line language-php">    ],</code><code class="line language-php">];</code><code class="empty"></code></pre>
            
    <p>can be written:</p>

                <pre class="code-block-table" id="247c062cd021b00064e8992be17a4ed3c444b2b1"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="247c062cd021b00064e8992be17a4ed3c444b2b1"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">$data = [</code><code class="line language-php">    <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'The best blog post in the world!'</span>,</code><code class="line language-php">    <span class="hljs-string">'tags'</span>  =&gt; [<span class="hljs-number">3</span>, <span class="hljs-number">8</span>],</code><code class="line language-php">];</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="non-existing-entity-in-the-association">
            <h3 class="section-header ">
    <a href="#non-existing-entity-in-the-association">
        Non-existing Entity in the Association
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>If the association’s entity does not exist, you need to provide
the actual object:</p>

                <pre class="code-block-table" id="b8ab803e9e8faa1368a5f4cc6fcc4468991d86b3"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="b8ab803e9e8faa1368a5f4cc6fcc4468991d86b3"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Laminas</span>\<span class="hljs-title">Hydrator</span>\<span class="hljs-title">DoctrineObject</span> <span class="hljs-title">as</span> <span class="hljs-title">DoctrineHydrator</span>;</code><code class="line language-php"></code><code class="line language-php">$hydrator = <span class="hljs-keyword">new</span> DoctrineHydrator($entityManager);</code><code class="line language-php">$blogPost = <span class="hljs-keyword">new</span> BlogPost();</code><code class="line language-php"></code><code class="line language-php">$tags = [];</code><code class="line language-php"></code><code class="line language-php">$tag1 = <span class="hljs-keyword">new</span> Tag();</code><code class="line language-php">$tag1-&gt;setName(<span class="hljs-string">'PHP'</span>);</code><code class="line language-php">$tags[] = $tag1;</code><code class="line language-php"></code><code class="line language-php">$tag2 = <span class="hljs-keyword">new</span> Tag();</code><code class="line language-php">$tag2-&gt;setName(<span class="hljs-string">'STL'</span>);</code><code class="line language-php">$tags[] = $tag2;</code><code class="line language-php"></code><code class="line language-php">$data = [</code><code class="line language-php">    <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'The best blog post in the world!'</span>,</code><code class="line language-php">    <span class="hljs-string">'tags'</span>  =&gt; $tags, <span class="hljs-comment">// Note that you can mix integers and entities without any problem</span></code><code class="line language-php">];</code><code class="line language-php"></code><code class="line language-php">$blogPost = $hydrator-&gt;hydrate($data, $blogPost);</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">echo</span> $blogPost-&gt;getTitle(); <span class="hljs-comment">// prints "The best blog post in the world!"</span></code><code class="line language-php"><span class="hljs-keyword">echo</span> count($blogPost-&gt;getTags()); <span class="hljs-comment">// prints 2</span></code><code class="empty"></code></pre>
            
    <p>For this to work, you must also slightly change your mapping, so that
Doctrine can persist new entities on associations (note the cascade
options on the OneToMany association):</p>

                <pre class="code-block-table" id="f8fb6c5330f62fdb152452ad34111737a30d405b"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="f8fb6c5330f62fdb152452ad34111737a30d405b"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Application</span>\<span class="hljs-title">Entity</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Mapping</span> <span class="hljs-title">as</span> <span class="hljs-title">ORM</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Common</span>\<span class="hljs-title">Collections</span>\<span class="hljs-title">Collection</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">#[ORM\Entity]</span></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BlogPost</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">/** .. */</span></code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">#[ORM\OneToMany(targetEntity: Tag::class, mappedBy: 'blogPost', cascade: ['persist'])]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> Collection $tags;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/** … */</span></code><code class="line language-php">}</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="handling-of-null-values">
            <h3 class="section-header ">
    <a href="#handling-of-null-values">
        Handling of Null Values
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>When a null value is passed to a OneToOne or ManyToOne field, for
example:</p>

                <pre class="code-block-table" id="3b4db20117d5e4d8c7f3db890677b55eadbde729"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="3b4db20117d5e4d8c7f3db890677b55eadbde729"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">$data = [</code><code class="line language-php">    <span class="hljs-string">'city'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">];</code><code class="empty"></code></pre>
            
    <p>The hydrator will check whether the setCity() method on the Entity
allows null values and act accordingly. The following describes the
process that happens when a null value is received:</p>

            
    
<ol start="1" type="1">
    <li value="1">If the setCity() method DOES NOT allow null values
i.e. <code>function setCity(City $city)</code>, the null is silently ignored
and will not be hydrated.</li>
    <li value="2">If the setCity() method DOES allow null values
i.e. <code>function setCity(City $city = null)</code>, the null value will be
hydrated.</li>
</ol>

    </div>
    </div>
    </div>
        

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?4a831b"
                            integrity="sha384-ygNM6vWkqMgvV0Lrk5BeKUupSk4CidmuzVPL3OkdAxEVjZQDo9cgbfC+FXAfoAse"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'doctrine-laminas-hydrator';
            var versionSlug = '3.5';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search Doctrine Laminas Hydrators 3.5'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            </body>
</html>
