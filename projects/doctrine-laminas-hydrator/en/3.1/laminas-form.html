<!DOCTYPE html>
<html>
    <head>
        <title>        A Complete Example using Laminas\Form - Doctrine Doctrine Laminas Hydrators
    </title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine Doctrine Laminas Hydrators Documentation: A Complete Example using Laminas\Form ">

        <meta name="keywords" content="                    doctrine,hydrator,laminas,documentation,a,complete,example,using,laminas\form
    ">

                    <meta name="robots" content="index, follow">
        
        
                    <link rel="canonical" href="https://www.doctrine-project.org/projects/doctrine-laminas-hydrator/en/3.6/laminas-form.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?9cdf7c"
                        integrity="sha384-5h/0UfqMSMxW3p7/1/qyk7097ag/ba4tVnSliH/Ya6HzNi5cU6qqSJimrKcIMsQ5"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/projects/doctrine-laminas-hydrator/en/3.1/laminas-form.html" />
        <meta property="og:title" content="        A Complete Example using Laminas\Form - Doctrine Doctrine Laminas Hydrators
    " />
        <meta property="og:description" content="Doctrine Doctrine Laminas Hydrators Documentation: A Complete Example using Laminas\Form " />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine Doctrine Laminas Hydrators",
            "description": "A Complete Example using Laminas\Form",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://www.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/sponsorship.html">Sponsorship</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/doctrine-laminas-hydrator/edit/3.1.x/docs/en/laminas-form.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        

            <div class="toc">
    <ul class="menu-level">
    <li class="toc-item">
    <a href="index.html#introduction">Introduction</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="index.html#installation">Installation</a>


</li>
            <li class="toc-item">
    <a href="index.html#next-steps">Next Steps</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="basic-usage.html#basic-usage">Basic Usage</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="basic-usage.html#create-a-hydrator">Create a Hydrator</a>


</li>
            <li class="toc-item">
    <a href="basic-usage.html#example-1-simple-entity-with-no-associations">Example 1: Simple Entity with no Associations</a>


</li>
            <li class="toc-item">
    <a href="basic-usage.html#example-2-onetoone-manytoone-associations">Example 2: OneToOne/ManyToOne Associations</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="basic-usage.html#existing-entity-in-the-association">Existing Entity in the Association</a>


</li>
            <li class="toc-item">
    <a href="basic-usage.html#non-existing-entity-in-the-association">Non-existing Entity in the Association</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="basic-usage.html#example-3-onetomany-association">Example 3: OneToMany Association</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="basic-usage.html#example-4-embedded-entities">Example 4: Embedded Entities</a>


</li>
            <li class="toc-item">
    <a href="basic-usage.html#existing-entity-in-the-association">Existing Entity in the Association</a>


</li>
            <li class="toc-item">
    <a href="basic-usage.html#non-existing-entity-in-the-association">Non-existing Entity in the Association</a>


</li>
            <li class="toc-item">
    <a href="basic-usage.html#handling-of-null-values">Handling of Null Values</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="collections-strategy.html#collections-strategy">Collections Strategy</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="collections-strategy.html#changing-the-strategy">Changing the Strategy</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="by-value-by-reference.html#by-value-and-by-reference">By Value and by Reference</a>


</li>
    <li class="toc-item opened">
    <a href="#a-complete-example-using-laminas-form">A Complete Example using Laminas\Form</a>

        <ul class="section-level-1 opened-ul ">
            <li class="toc-item">
    <a href="#the-entities">The Entities</a>


</li>
            <li class="toc-item">
    <a href="#fieldsets">Fieldsets</a>


</li>
            <li class="toc-item">
    <a href="#form">Form</a>


</li>
            <li class="toc-item">
    <a href="#controller">Controller</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#creation">Creation</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="enum-strategy.html#using-enums-with-php-8-1">Using Enums with PHP 8.1</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="enum-strategy.html#the-enum-and-entity">The Enum and Entity</a>


</li>
            <li class="toc-item">
    <a href="enum-strategy.html#custom-hydration-strategy">Custom Hydration Strategy</a>


</li>
            <li class="toc-item">
    <a href="enum-strategy.html#usage-example">Usage Example</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="performance-considerations.html#performance-considerations">Performance Considerations</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="performance-considerations.html#unwanted-side-effects">Unwanted Side-Effects</a>


</li>
                    </ul>
</li>
    </ul>
</div>
    

                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://www.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "Doctrine Laminas Hydrators",
            "item": "https://www.doctrine-project.org/projects/doctrine-laminas-hydrator.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://www.doctrine-project.org/projects/doctrine-laminas-hydrator/en/3.1/index.html"
        },                {
            "@type": "ListItem",
            "position": 4,
            "name": "A Complete Example using Laminas\Form",
            "item": "https://www.doctrine-project.org/projects/doctrine-laminas-hydrator/en/3.1/laminas-form.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-laminas-hydrator.html">Doctrine Laminas Hydrators</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-laminas-hydrator/en/3.1/index.html">Documentation</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">A Complete Example using Laminas\Form</li>
                        </ol>
</nav>
                                    </div>

                    
    <div class="alert caution bg-light-yellow text-dark border">
    <table width="100%">
        <tr>
            <td width="10" class="align-top">
                <i class="fas fa-exclamation-circle text-warning mr-2"></i>
            </td>
            <td><p>You are browsing a version that is no longer maintained.</p></td>
        </tr>
    </table>
</div>

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-laminas-hydrator/en/3.1/laminas-form.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        3.1.0
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-laminas-hydrator/en/3.7/laminas-form.html">
                                                        3.7

                                                        
                                                                                                                    (upcoming)
                                                                                                            </a>
                                                                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-laminas-hydrator/en/3.6/laminas-form.html">
                                                        3.6.1

                                                                                                                    (current)
                                                        
                                                                                                            </a>
                                                                                                                                    
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-laminas-hydrator/en/3.5/laminas-form.html">3.5</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-laminas-hydrator/en/3.4/laminas-form.html">3.4</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-laminas-hydrator/en/3.3/laminas-form.html">3.3</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-laminas-hydrator/en/3.2/laminas-form.html">3.2</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item active" href="/projects/doctrine-laminas-hydrator/en/3.1/laminas-form.html">3.1</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-laminas-hydrator/en/3.0/laminas-form.html">3.0</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-laminas-hydrator/en/2.2/laminas-form.html">2.2</a>
                                                                                                                                                                                                                                                                                                                                                                </div>
                                </div>
                            
                            

            <div class="section" id="a-complete-example-using-laminas-form">
            <h1 class="section-header ">
    <a href="#a-complete-example-using-laminas-form">
        A Complete Example using Laminas\Form
        <i class="fas fa-link"></i>
    </a>
</h1>
            
    <p>This documentation covers how the hydrator integrates into the
Laminas Form component.  This interaction will be exemplified
using BlogPost and Tag entities.</p>

            <div class="section" id="the-entities">
            <h2 class="section-header ">
    <a href="#the-entities">
        The Entities
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>The BlogPost entity:</p>

                <pre class="code-block-table" id="e53e684a0e50da4746424131468c994c2abfc425"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="e53e684a0e50da4746424131468c994c2abfc425"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Application</span>\<span class="hljs-title">Entity</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Common</span>\<span class="hljs-title">Collections</span>\<span class="hljs-title">ArrayCollection</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Common</span>\<span class="hljs-title">Collections</span>\<span class="hljs-title">Collection</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Mapping</span> <span class="hljs-title">as</span> <span class="hljs-title">ORM</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">#[ORM\Entity]</span></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BlogPost</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">#[ORM\Id]</span></code><code class="line language-php">    <span class="hljs-comment">#[ORM\Column(type: 'integer')]</span></code><code class="line language-php">    <span class="hljs-comment">#[ORM\GeneratedValue(strategy: 'AUTO')]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> ?int $id = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">#[ORM\OneToMany(targetEntity: Tag::class, mappedBy: 'blogPost', cascade: ['persist'])]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> Collection $tags;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * Never forget to initialize your collections!</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;tags = <span class="hljs-keyword">new</span> ArrayCollection();</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span>: ?<span class="hljs-title">int</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;id;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addTags</span><span class="hljs-params">(Collection $tags)</span>: <span class="hljs-title">void</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">foreach</span> ($tags <span class="hljs-keyword">as</span> $tag) {</code><code class="line language-php">            $tag-&gt;setBlogPost(<span class="hljs-keyword">$this</span>);</code><code class="line language-php">            <span class="hljs-keyword">$this</span>-&gt;tags-&gt;add($tag);</code><code class="line language-php">        }</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeTags</span><span class="hljs-params">(Collection $tags)</span>: <span class="hljs-title">void</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">foreach</span> ($tags <span class="hljs-keyword">as</span> $tag) {</code><code class="line language-php">            $tag-&gt;setBlogPost(<span class="hljs-keyword">null</span>);</code><code class="line language-php">            <span class="hljs-keyword">$this</span>-&gt;tags-&gt;removeElement($tag);</code><code class="line language-php">        }</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTags</span><span class="hljs-params">()</span>: <span class="hljs-title">Collection</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;tags;</code><code class="line language-php">    }</code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>The Tag entity:</p>

                <pre class="code-block-table" id="8b46b196bf12a2c787d83f01a66ac671a42e1202"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="8b46b196bf12a2c787d83f01a66ac671a42e1202"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Application</span>\<span class="hljs-title">Entity</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Mapping</span> <span class="hljs-title">as</span> <span class="hljs-title">ORM</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">#[ORM\Entity]</span></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Tag</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">#[ORM\Id]</span></code><code class="line language-php">    <span class="hljs-comment">#[ORM\Column(type: 'integer')]</span></code><code class="line language-php">    <span class="hljs-comment">#[ORM\GeneratedValue(strategy: 'AUTO')]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> ?int $id = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">#[ORM\ManyToOne(targetEntity: BlogPost::class, inversedBy: 'tags')]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> ?BlogPost $blogPost = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">#[ORM\Column(type: 'string')]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> ?string $name = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span>: ?<span class="hljs-title">int</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;id;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * Allow <span class="hljs-keyword">null</span> to remove association</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setBlogPost</span><span class="hljs-params">(?BlogPost $blogPost = null)</span>: <span class="hljs-title">void</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;blogPost = $blogPost;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getBlogPost</span><span class="hljs-params">()</span>: ?<span class="hljs-title">BlogPost</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;blogPost;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setName</span><span class="hljs-params">(string $name)</span>: <span class="hljs-title">void</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;name = $name;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getName</span><span class="hljs-params">()</span>: ?<span class="hljs-title">string</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;name;</code><code class="line language-php">    }</code><code class="line language-php">}</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="fieldsets">
            <h2 class="section-header ">
    <a href="#fieldsets">
        Fieldsets
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Fieldsets will be required for each entity.  With Laminas it&#039;s a good
practice to create one fieldset per entity in order to reuse them
across many forms.</p>

            
    <p>The Tag Fieldset:</p>

            
    <p>Note in this example the hidden &quot;id&quot; input.  This is needed for editing.
Usually when a BlogPost is created it will have no tags and this &quot;id&quot;
will be empty.  But when the BlogPost is edited tags may already exist
in the database and will be referenced by this &quot;id&quot; input. This
allows modification of a tag name by modifying an existing Tag entity
without creating a new tag and removing the old one.</p>

                <pre class="code-block-table" id="04ef2907161691ab7f77fdeae31cd616040a9b2b"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="04ef2907161691ab7f77fdeae31cd616040a9b2b"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Application</span>\<span class="hljs-title">Form</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Application</span>\<span class="hljs-title">Entity</span>\<span class="hljs-title">Tag</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Laminas</span>\<span class="hljs-title">Hydrator</span>\<span class="hljs-title">DoctrineObject</span> <span class="hljs-title">as</span> <span class="hljs-title">DoctrineHydrator</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Persistence</span>\<span class="hljs-title">ObjectManager</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Laminas</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Element</span>\<span class="hljs-title">Hidden</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Laminas</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Element</span>\<span class="hljs-title">Text</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Laminas</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Fieldset</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Laminas</span>\<span class="hljs-title">InputFilter</span>\<span class="hljs-title">InputFilterProviderInterface</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TagFieldset</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Fieldset</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">InputFilterProviderInterface</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(ObjectManager $objectManager)</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">parent</span>::__construct(<span class="hljs-string">'tag'</span>);</code><code class="line language-php"></code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;setHydrator(<span class="hljs-keyword">new</span> DoctrineHydrator($objectManager))</code><code class="line language-php">             -&gt;setObject(<span class="hljs-keyword">new</span> Tag());</code><code class="line language-php"></code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;add([</code><code class="line language-php">            <span class="hljs-string">'type'</span> =&gt; Hidden::class,</code><code class="line language-php">            <span class="hljs-string">'name'</span> =&gt; <span class="hljs-string">'id'</span>,</code><code class="line language-php">        ]);</code><code class="line language-php"></code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;add([</code><code class="line language-php">            <span class="hljs-string">'type'</span>    =&gt; Text::class,</code><code class="line language-php">            <span class="hljs-string">'name'</span>    =&gt; <span class="hljs-string">'name'</span>,</code><code class="line language-php">            <span class="hljs-string">'options'</span> =&gt; [</code><code class="line language-php">                <span class="hljs-string">'label'</span> =&gt; <span class="hljs-string">'Tag'</span>,</code><code class="line language-php">            ],</code><code class="line language-php">        ]);</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getInputFilterSpecification</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> [</code><code class="line language-php">            <span class="hljs-string">'id'</span> =&gt; [</code><code class="line language-php">                <span class="hljs-string">'required'</span> =&gt; <span class="hljs-keyword">false</span>,</code><code class="line language-php">            ],</code><code class="line language-php">            <span class="hljs-string">'name'</span> =&gt; [</code><code class="line language-php">                <span class="hljs-string">'required'</span> =&gt; <span class="hljs-keyword">true</span>,</code><code class="line language-php">            ],</code><code class="line language-php">        ];</code><code class="line language-php">    }</code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>The BlogPost Fieldset:</p>

                <pre class="code-block-table" id="d5aa165bac92c6cb0848ed36b1f665929c2f9a23"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="d5aa165bac92c6cb0848ed36b1f665929c2f9a23"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Application</span>\<span class="hljs-title">Form</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Application</span>\<span class="hljs-title">Entity</span>\<span class="hljs-title">BlogPost</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Laminas</span>\<span class="hljs-title">Hydrator</span>\<span class="hljs-title">DoctrineObject</span> <span class="hljs-title">as</span> <span class="hljs-title">DoctrineHydrator</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Persistence</span>\<span class="hljs-title">ObjectManager</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Laminas</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Element</span>\<span class="hljs-title">Collection</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Laminas</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Element</span>\<span class="hljs-title">Text</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Laminas</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Fieldset</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Laminas</span>\<span class="hljs-title">InputFilter</span>\<span class="hljs-title">InputFilterProviderInterface</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BlogPostFieldset</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Fieldset</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">InputFilterProviderInterface</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(ObjectManager $objectManager)</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">parent</span>::__construct(<span class="hljs-string">'blog-post'</span>);</code><code class="line language-php"></code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;setHydrator(<span class="hljs-keyword">new</span> DoctrineHydrator($objectManager))</code><code class="line language-php">             -&gt;setObject(<span class="hljs-keyword">new</span> BlogPost());</code><code class="line language-php"></code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;add([</code><code class="line language-php">            <span class="hljs-string">'type'</span> =&gt; Text::class,</code><code class="line language-php">            <span class="hljs-string">'name'</span> =&gt; <span class="hljs-string">'title'</span>,</code><code class="line language-php">        ]);</code><code class="line language-php"></code><code class="line language-php">        $tagFieldset = <span class="hljs-keyword">new</span> TagFieldset($objectManager);</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;add([</code><code class="line language-php">            <span class="hljs-string">'type'</span>    =&gt; Collection::class,</code><code class="line language-php">            <span class="hljs-string">'name'</span>    =&gt; <span class="hljs-string">'tags'</span>,</code><code class="line language-php">            <span class="hljs-string">'options'</span> =&gt; [</code><code class="line language-php">                <span class="hljs-string">'count'</span>          =&gt; <span class="hljs-number">2</span>,</code><code class="line language-php">                <span class="hljs-string">'target_element'</span> =&gt; $tagFieldset,</code><code class="line language-php">            ],</code><code class="line language-php">        ]);</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getInputFilterSpecification</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> [</code><code class="line language-php">            <span class="hljs-string">'title'</span> =&gt; [</code><code class="line language-php">                <span class="hljs-string">'required'</span> =&gt; <span class="hljs-keyword">true</span>,</code><code class="line language-php">            ],</code><code class="line language-php">        ];</code><code class="line language-php">    }</code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>The blog post is a simple fieldset with an element
of type <code>Laminas\Form\Element\Collection</code> that represents the
ManyToOne association to tags.</p>

    </div>
            <div class="section" id="form">
            <h2 class="section-header ">
    <a href="#form">
        Form
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Two forms will be necessary; one for creating and one for updating.
Forms are the &quot;glue&quot; between fieldsets.  For this example each form
will be identical, but that is not always the case
(for instance, you may want to disallow modification of the title
of the blog post when updating).</p>

            
    <p>The CreateBlogPostForm:</p>

                <pre class="code-block-table" id="63c0b3f85b4bc75734680718163eca44ce26e4b2"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="63c0b3f85b4bc75734680718163eca44ce26e4b2"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Application</span>\<span class="hljs-title">Form</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Laminas</span>\<span class="hljs-title">Hydrator</span>\<span class="hljs-title">DoctrineObject</span> <span class="hljs-title">as</span> <span class="hljs-title">DoctrineHydrator</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Persistence</span>\<span class="hljs-title">ObjectManager</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Laminas</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Form</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CreateBlogPostForm</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Form</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(ObjectManager $objectManager)</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">parent</span>::__construct(<span class="hljs-string">'create-blog-post-form'</span>);</code><code class="line language-php"></code><code class="line language-php">        <span class="hljs-comment">// The form will hydrate an object of type "BlogPost"</span></code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;setHydrator(<span class="hljs-keyword">new</span> DoctrineHydrator($objectManager));</code><code class="line language-php"></code><code class="line language-php">        <span class="hljs-comment">// Add the BlogPost fieldset, and set it as the base fieldset</span></code><code class="line language-php">        $blogPostFieldset = <span class="hljs-keyword">new</span> BlogPostFieldset($objectManager);</code><code class="line language-php">        $blogPostFieldset-&gt;setUseAsBaseFieldset(<span class="hljs-keyword">true</span>);</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;add($blogPostFieldset);</code><code class="line language-php"></code><code class="line language-php">        <span class="hljs-comment">// … add CSRF and submit elements …</span></code><code class="line language-php"></code><code class="line language-php">        <span class="hljs-comment">// Optionally set your validation group here</span></code><code class="line language-php">    }</code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>The UpdateBlogPostForm:</p>

                <pre class="code-block-table" id="234dafbca0da2533e501575577f1e4f835ab628a"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="234dafbca0da2533e501575577f1e4f835ab628a"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Application</span>\<span class="hljs-title">Form</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Laminas</span>\<span class="hljs-title">Hydrator</span>\<span class="hljs-title">DoctrineObject</span> <span class="hljs-title">as</span> <span class="hljs-title">DoctrineHydrator</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Persistence</span>\<span class="hljs-title">ObjectManager</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Laminas</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Form</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UpdateBlogPostForm</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Form</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(ObjectManager $objectManager)</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">parent</span>::__construct(<span class="hljs-string">'update-blog-post-form'</span>);</code><code class="line language-php"></code><code class="line language-php">        <span class="hljs-comment">// The form will hydrate an object of type "BlogPost"</span></code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;setHydrator(<span class="hljs-keyword">new</span> DoctrineHydrator($objectManager));</code><code class="line language-php"></code><code class="line language-php">        <span class="hljs-comment">// Add the BlogPost fieldset, and set it as the base fieldset</span></code><code class="line language-php">        $blogPostFieldset = <span class="hljs-keyword">new</span> BlogPostFieldset($objectManager);</code><code class="line language-php">        $blogPostFieldset-&gt;setUseAsBaseFieldset(<span class="hljs-keyword">true</span>);</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;add($blogPostFieldset);</code><code class="line language-php"></code><code class="line language-php">        <span class="hljs-comment">// … add CSRF and submit elements …</span></code><code class="line language-php"></code><code class="line language-php">        <span class="hljs-comment">// Optionally set your validation group here</span></code><code class="line language-php">    }</code><code class="line language-php">}</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="controller">
            <h2 class="section-header ">
    <a href="#controller">
        Controller
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Using the ServiceManager, inject your Doctrine object manager into
a controller.</p>

                <pre class="code-block-table" id="4c6d02d31fdec847a8b6d4ab2fe28a14656f8ccb"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="4c6d02d31fdec847a8b6d4ab2fe28a14656f8ccb"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Application</span>\<span class="hljs-title">Controller</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">EntityManager</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Laminas</span>\<span class="hljs-title">Mvc</span>\<span class="hljs-title">Controller</span>\<span class="hljs-title">AbstractActionController</span></code><code class="line language-php"></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MySampleController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractActionController</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-keyword">private</span> EntityManager $entityManager;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(EntityManager $entityManager)</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;entityManager = $entityManager;</code><code class="line language-php">    }</code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>For the ServiceManager, you will need a factory for the controller.  This is an
example of using the <a href="https://docs.laminas.dev/laminas-servicemanager/reflection-abstract-factory/">reflection-based
factory</a>,
which injects all dependencies automatically.</p>

                <pre class="code-block-table" id="4c66aec5d125c8f443b763dd2d45625390f1aeb7"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="4c66aec5d125c8f443b763dd2d45625390f1aeb7"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Application</span>\<span class="hljs-title">Controller</span>\<span class="hljs-title">MySampleController</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Laminas</span>\<span class="hljs-title">ServiceManager</span>\<span class="hljs-title">AbstractFactory</span>\<span class="hljs-title">ReflectionBasedAbstractFactory</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">return</span> [</code><code class="line language-php">    <span class="hljs-comment">/* … */</span></code><code class="line language-php">    <span class="hljs-string">'controllers'</span> =&gt; [</code><code class="line language-php">        <span class="hljs-string">'factories'</span> =&gt; [</code><code class="line language-php">            MySampleController::class =&gt; ReflectionBasedAbstractFactory::class,</code><code class="line language-php">        ],</code><code class="line language-php">    ],</code><code class="line language-php">    <span class="hljs-comment">/* … */</span></code><code class="empty"></code></pre>
            
    <p>You may generate individual factories automatically using the <a href="https://docs.laminas.dev/laminas-servicemanager/console-tools/">console
tools</a>
provided by Laminas.</p>

            <div class="section" id="creation">
            <h3 class="section-header ">
    <a href="#creation">
        Creation
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>In the controller&#039;s createAction, create a new BlogPost and all the
associated tags. As a consequence, the hidden ids for the tags will by
empty because they have not been persisted yet.</p>

            
    <p>The controller createAction:</p>

                <pre class="code-block-table" id="8f5b5033657d9dc6ed56d5849b343c4c89b80007"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="8f5b5033657d9dc6ed56d5849b343c4c89b80007"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createAction</span><span class="hljs-params">()</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">// Create the form and inject the EntityManager</span></code><code class="line language-php">    $form = <span class="hljs-keyword">new</span> CreateBlogPostForm(<span class="hljs-keyword">$this</span>-&gt;entityManager);</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">// Create a new, empty entity and bind it to the form</span></code><code class="line language-php">    $blogPost = <span class="hljs-keyword">new</span> BlogPost();</code><code class="line language-php">    $form-&gt;bind($blogPost);</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">$this</span>-&gt;request-&gt;isPost()) {</code><code class="line language-php">        $form-&gt;setData(<span class="hljs-keyword">$this</span>-&gt;request-&gt;getPost());</code><code class="line language-php"></code><code class="line language-php">        <span class="hljs-keyword">if</span> ($form-&gt;isValid()) {</code><code class="line language-php">            $objectManager-&gt;persist($blogPost);</code><code class="line language-php">            $objectManager-&gt;flush();</code><code class="line language-php">        }</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">return</span> [<span class="hljs-string">'form'</span> =&gt; $form];</code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>The update form is similar but uses an existing blog post
instead of creating a new one:</p>

                <pre class="code-block-table" id="820e7cc335ca0df7f4d9f7af9b5c0a34be7a2c57"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="820e7cc335ca0df7f4d9f7af9b5c0a34be7a2c57"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">editAction</span><span class="hljs-params">()</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">// Create the form and inject the EntityManager</span></code><code class="line language-php">    $form = <span class="hljs-keyword">new</span> UpdateBlogPostForm(<span class="hljs-keyword">$this</span>-&gt;entityManager);</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">// Fetch the existing BlogPost from storage and bind it to the form.</span></code><code class="line language-php">    <span class="hljs-comment">// This will pre-fill form field values</span></code><code class="line language-php">    $blogPost = <span class="hljs-keyword">$this</span>-&gt;userService-&gt;get(<span class="hljs-keyword">$this</span>-&gt;params(<span class="hljs-string">'blogPost_id'</span>));</code><code class="line language-php">    $form-&gt;bind($blogPost);</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">$this</span>-&gt;request-&gt;isPost()) {</code><code class="line language-php">        $form-&gt;setData(<span class="hljs-keyword">$this</span>-&gt;request-&gt;getPost());</code><code class="line language-php"></code><code class="line language-php">        <span class="hljs-keyword">if</span> ($form-&gt;isValid()) {</code><code class="line language-php">            <span class="hljs-comment">// Save the changes</span></code><code class="line language-php">            $objectManager-&gt;flush();</code><code class="line language-php">        }</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">return</span> [<span class="hljs-string">'form'</span> =&gt; $form];</code><code class="line language-php">}</code><code class="empty"></code></pre>
    </div>
    </div>
    </div>
        

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?4a831b"
                            integrity="sha384-ygNM6vWkqMgvV0Lrk5BeKUupSk4CidmuzVPL3OkdAxEVjZQDo9cgbfC+FXAfoAse"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'doctrine-laminas-hydrator';
            var versionSlug = '3.1';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search Doctrine Laminas Hydrators 3.1'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            </body>
</html>
