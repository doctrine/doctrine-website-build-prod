<!DOCTYPE html>
<html>
    <head>
        <title>        Handling Annotations - Doctrine Annotations
    </title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine Annotations Documentation: Handling Annotations ">

        <meta name="keywords" content="                    annotations,docblock,parser,documentation,handling,annotations
    ">

                    <meta name="robots" content="index, follow">
        
        
                    <link rel="canonical" href="https://www.doctrine-project.org/projects/doctrine-annotations/en/2.0/annotations.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?6e5d9f"
                        integrity="sha384-1gHMA2pCh3C7C5PdanZqLyU+p0j9aNUSKdqMxyST9hhhoAcooEmUcqk0Rj7owse5"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/projects/doctrine-annotations/en/1.8/annotations.html" />
        <meta property="og:title" content="        Handling Annotations - Doctrine Annotations
    " />
        <meta property="og:description" content="Doctrine Annotations Documentation: Handling Annotations " />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine Annotations",
            "description": "Handling Annotations",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://www.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/sponsorship.html">Sponsorship</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/annotations/edit/1.8/docs/en/annotations.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        

            <div class="toc">
    <ul class="menu-level">
    <li class="toc-item">
    <a href="index.html#introduction">Introduction</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="index.html#ide-support">IDE Support</a>


</li>
                    </ul>
</li>
    <li class="toc-item opened">
    <a href="#handling-annotations">Handling Annotations</a>

        <ul class="section-level-1 opened-ul ">
            <li class="toc-item">
    <a href="#setup-and-configuration">Setup and Configuration</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#registering-annotations">Registering Annotations</a>


</li>
            <li class="toc-item">
    <a href="#ignoring-missing-exceptions">Ignoring missing exceptions</a>


</li>
            <li class="toc-item">
    <a href="#php-imports">PHP Imports</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="custom.html#custom-annotation-classes">Custom Annotation Classes</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="custom.html#inject-annotation-values">Inject annotation values</a>


</li>
            <li class="toc-item">
    <a href="custom.html#annotation-target">Annotation Target</a>


</li>
            <li class="toc-item">
    <a href="custom.html#attribute-types">Attribute types</a>


</li>
            <li class="toc-item">
    <a href="custom.html#annotation-required">Annotation Required</a>


</li>
            <li class="toc-item">
    <a href="custom.html#enumerated-values">Enumerated values</a>


</li>
            <li class="toc-item">
    <a href="custom.html#constants">Constants</a>


</li>
            <li class="toc-item">
    <a href="custom.html#usage">Usage</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="custom.html#reader-api">Reader API</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="custom.html#access-all-annotations-of-a-class">Access all annotations of a class</a>


</li>
            <li class="toc-item">
    <a href="custom.html#access-one-annotation-of-a-class">Access one annotation of a class</a>


</li>
            <li class="toc-item">
    <a href="custom.html#access-all-annotations-of-a-method">Access all annotations of a method</a>


</li>
            <li class="toc-item">
    <a href="custom.html#access-one-annotation-of-a-method">Access one annotation of a method</a>


</li>
            <li class="toc-item">
    <a href="custom.html#access-all-annotations-of-a-property">Access all annotations of a property</a>


</li>
            <li class="toc-item">
    <a href="custom.html#access-one-annotation-of-a-property">Access one annotation of a property</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
                    </ul>
</li>
    </ul>
</div>
    

                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://www.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "Annotations",
            "item": "https://www.doctrine-project.org/projects/annotations.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://www.doctrine-project.org/projects/doctrine-annotations/en/1.8/index.html"
        },                {
            "@type": "ListItem",
            "position": 4,
            "name": "Handling Annotations",
            "item": "https://www.doctrine-project.org/projects/doctrine-annotations/en/1.8/annotations.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/annotations.html">Annotations</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-annotations/en/1.8/index.html">Documentation</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Handling Annotations</li>
                        </ol>
</nav>
                                    </div>

                    
    <div class="alert caution bg-light-yellow text-dark border">
    <table width="100%">
        <tr>
            <td width="10" class="align-top">
                <i class="fas fa-exclamation-circle text-warning mr-2"></i>
            </td>
            <td><p>This project is not being actively maintained. If you are interested in helping to maintain this project, take a look at the open issues on <a href="https://github.com/doctrine/annotations/" target="_blank" rel="noopener noreferrer">GitHub</a> and submit pull requests.</p></td>
        </tr>
    </table>
</div>

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-annotations/en/1.8/annotations.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        1.8.0
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-annotations/en/2.0/annotations.html">
                                                        2.0.2

                                                                                                                    (current)
                                                        
                                                                                                            </a>
                                                                                                                                    
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-annotations/en/1.14/annotations.html">1.14</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-annotations/en/1.13/annotations.html">1.13</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-annotations/en/1.12/annotations.html">1.12</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-annotations/en/1.11/annotations.html">1.11</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-annotations/en/1.10/annotations.html">1.10</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-annotations/en/1.9/annotations.html">1.9</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item active" href="/projects/doctrine-annotations/en/1.8/annotations.html">1.8</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-annotations/en/1.7/annotations.html">1.7</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-annotations/en/1.6/annotations.html">1.6</a>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </div>
                                </div>
                            
                            

            <div class="section" id="handling-annotations">
            <h1 class="section-header ">
    <a href="#handling-annotations">
        Handling Annotations
        <i class="fas fa-link"></i>
    </a>
</h1>
            
    <p>There are several different approaches to handling annotations in PHP.
Doctrine Annotations maps docblock annotations to PHP classes. Because
not all docblock annotations are used for metadata purposes a filter is
applied to ignore or skip classes that are not Doctrine annotations.</p>

            
    <p>Take a look at the following code snippet:</p>

                <pre class="code-block-table" id="f0c9b8b46e5e5213a43e9e2e68fff0010b89a9ea"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="f0c9b8b46e5e5213a43e9e2e68fff0010b89a9ea"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">MyProject</span>\<span class="hljs-title">Entities</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Mapping</span> <span class="hljs-title">AS</span> <span class="hljs-title">ORM</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validation</span>\<span class="hljs-title">Constraints</span> <span class="hljs-title">AS</span> <span class="hljs-title">Assert</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/**</span></code><code class="line language-php"> * @author Benjamin Eberlei</code><code class="line language-php"> * @ORM\Entity</code><code class="line language-php"> * @MyProject\Annotations\Foobarable</code><code class="line language-php"> */</code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @ORM\Id @ORM\Column @ORM\GeneratedValue</code><code class="line language-php">     * @dummy</code><code class="line language-php">     * @<span class="hljs-keyword">var</span> int</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $id;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * @ORM\Column(type=<span class="hljs-string">"string"</span>)</code><code class="line language-php">     * @Assert\NotEmpty</code><code class="line language-php">     * @Assert\Email</code><code class="line language-php">     * @<span class="hljs-keyword">var</span> string</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">private</span> $email;</code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>In this snippet you can see a variety of different docblock annotations:</p>

            

<ul>
    <li class="dash">Documentation annotations such as <code>@var</code> and <code>@author</code>. These
annotations are on a blacklist and never considered for throwing an
exception due to wrongly used annotations.</li>
    <li class="dash">Annotations imported through use statements. The statement `<code>use
Doctrine\ORM\Mapping AS ORM</code>` makes all classes under that namespace
available as <code>@ORM\ClassName</code>. Same goes for the import of
<code>@Assert</code>.</li>
    <li class="dash">The <code>@dummy</code> annotation. It is not a documentation annotation and
not blacklisted. For Doctrine Annotations it is not entirely clear how
to handle this annotation. Depending on the configuration an exception
(unknown annotation) will be thrown when parsing this annotation.</li>
    <li class="dash">The fully qualified annotation <code>@MyProject\Annotations\Foobarable</code>.
This is transformed directly into the given class name.</li>
</ul>

            
    <p>How are these annotations loaded? From looking at the code you could
guess that the ORM Mapping, Assert Validation and the fully qualified
annotation can just be loaded using
the defined PHP autoloaders. This is not the case however: For error
handling reasons every check for class existence inside the
<code>AnnotationReader</code> sets the second parameter $autoload
of <code>class_exists($name, $autoload)</code> to false. To work flawlessly the
<code>AnnotationReader</code> requires silent autoloaders which many autoloaders are
not. Silent autoloading is NOT part of the <a href="https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-0.md">PSR-0 specification</a>
for autoloading.</p>

            
    <p>This is why Doctrine Annotations uses its own autoloading mechanism
through a global registry. If you are wondering about the annotation
registry being global, there is no other way to solve the architectural
problems of autoloading annotation classes in a straightforward fashion.
Additionally if you think about PHP autoloading then you recognize it is
a global as well.</p>

            
    <p>To anticipate the configuration section, making the above PHP class work
with Doctrine Annotations requires this setup:</p>

                <pre class="code-block-table" id="b97d9cf40e511488671dec622709391b1d1c17d6"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="b97d9cf40e511488671dec622709391b1d1c17d6"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Common</span>\<span class="hljs-title">Annotations</span>\<span class="hljs-title">AnnotationReader</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Common</span>\<span class="hljs-title">Annotations</span>\<span class="hljs-title">AnnotationRegistry</span>;</code><code class="line language-php"></code><code class="line language-php">AnnotationRegistry::registerFile(<span class="hljs-string">"/path/to/doctrine/lib/Doctrine/ORM/Mapping/Driver/DoctrineAnnotations.php"</span>);</code><code class="line language-php">AnnotationRegistry::registerAutoloadNamespace(<span class="hljs-string">"Symfony\Component\Validator\Constraint"</span>, <span class="hljs-string">"/path/to/symfony/src"</span>);</code><code class="line language-php">AnnotationRegistry::registerAutoloadNamespace(<span class="hljs-string">"MyProject\Annotations"</span>, <span class="hljs-string">"/path/to/myproject/src"</span>);</code><code class="line language-php"></code><code class="line language-php">$reader = <span class="hljs-keyword">new</span> AnnotationReader();</code><code class="line language-php">AnnotationReader::addGlobalIgnoredName(<span class="hljs-string">'dummy'</span>);</code><code class="empty"></code></pre>
            
    <p>The second block with the annotation registry calls registers all the
three different annotation namespaces that are used.
Doctrine Annotations saves all its annotations in a single file, that is
why <code>AnnotationRegistry#registerFile</code> is used in contrast to
<code>AnnotationRegistry#registerAutoloadNamespace</code> which creates a PSR-0
compatible loading mechanism for class to file names.</p>

            
    <p>In the third block, we create the actual <code>AnnotationReader</code> instance.
Note that we also add <code>dummy</code> to the global list of ignored
annotations for which we do not throw exceptions. Setting this is
necessary in our example case, otherwise <code>@dummy</code> would trigger an
exception to be thrown during the parsing of the docblock of
<code>MyProject\Entities\User#id</code>.</p>

            <div class="section" id="setup-and-configuration">
            <h2 class="section-header ">
    <a href="#setup-and-configuration">
        Setup and Configuration
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>To use the annotations library is simple, you just need to create a new
<code>AnnotationReader</code> instance:</p>

                <pre class="code-block-table" id="321c7605859d91af519245d003ed328e1cd8f82a"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="321c7605859d91af519245d003ed328e1cd8f82a"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">$reader = <span class="hljs-keyword">new</span> \Doctrine\Common\Annotations\AnnotationReader();</code><code class="empty"></code></pre>
            
    <p>This creates a simple annotation reader with no caching other than in
memory (in php arrays). Since parsing docblocks can be expensive you
should cache this process by using a caching reader.</p>

            
    <p>You can use a file caching reader:</p>

                <pre class="code-block-table" id="f0bde2193a3e1fc85ed4e6dbab3599b9d2af903e"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="f0bde2193a3e1fc85ed4e6dbab3599b9d2af903e"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Common</span>\<span class="hljs-title">Annotations</span>\<span class="hljs-title">FileCacheReader</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Common</span>\<span class="hljs-title">Annotations</span>\<span class="hljs-title">AnnotationReader</span>;</code><code class="line language-php"></code><code class="line language-php">$reader = <span class="hljs-keyword">new</span> FileCacheReader(</code><code class="line language-php">    <span class="hljs-keyword">new</span> AnnotationReader(),</code><code class="line language-php">    <span class="hljs-string">"/path/to/cache"</span>,</code><code class="line language-php">    $debug = <span class="hljs-keyword">true</span></code><code class="line language-php">);</code><code class="empty"></code></pre>
            
    <p>If you set the <code>debug</code> flag to <code>true</code> the cache reader will check
for changes in the original files, which is very important during
development. If you don&#039;t set it to <code>true</code> you have to delete the
directory to clear the cache. This gives faster performance, however
should only be used in production, because of its inconvenience during
development.</p>

            
    <p>You can also use one of the <code>Doctrine\Common\Cache\Cache</code> cache
implementations to cache the annotations:</p>

                <pre class="code-block-table" id="f190ed2a29963926669fed22e618b9a2b0577da0"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="f190ed2a29963926669fed22e618b9a2b0577da0"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Common</span>\<span class="hljs-title">Annotations</span>\<span class="hljs-title">AnnotationReader</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Common</span>\<span class="hljs-title">Annotations</span>\<span class="hljs-title">CachedReader</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Common</span>\<span class="hljs-title">Cache</span>\<span class="hljs-title">ApcCache</span>;</code><code class="line language-php"></code><code class="line language-php">$reader = <span class="hljs-keyword">new</span> CachedReader(</code><code class="line language-php">    <span class="hljs-keyword">new</span> AnnotationReader(),</code><code class="line language-php">    <span class="hljs-keyword">new</span> ApcCache(),</code><code class="line language-php">    $debug = <span class="hljs-keyword">true</span></code><code class="line language-php">);</code><code class="empty"></code></pre>
            
    <p>The <code>debug</code> flag is used here as well to invalidate the cache files
when the PHP class with annotations changed and should be used during
development.</p>

            
    <p>By default the annotation reader returns a list of annotations with
numeric indexes. If you want your annotations to be indexed by their
class name you can wrap the reader in an <code>IndexedReader</code>:</p>

                <pre class="code-block-table" id="2c93a67e7b56f96e1b28e0c69db22baa8a0c473c"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="2c93a67e7b56f96e1b28e0c69db22baa8a0c473c"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Common</span>\<span class="hljs-title">Annotations</span>\<span class="hljs-title">AnnotationReader</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Common</span>\<span class="hljs-title">Annotations</span>\<span class="hljs-title">IndexedReader</span>;</code><code class="line language-php"></code><code class="line language-php">$reader = <span class="hljs-keyword">new</span> IndexedReader(<span class="hljs-keyword">new</span> AnnotationReader());</code><code class="empty"></code></pre>
                        <div class="alert warning-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-exclamation-circle text-warning mr-2"></i></td>
            <td>
                                                
    <p>You should never wrap the indexed reader inside a cached reader,
only the other way around. This way you can re-use the cache with
indexed or numeric keys, otherwise your code may experience failures
due to caching in a numerical or indexed format.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
            <div class="section" id="registering-annotations">
            <h3 class="section-header ">
    <a href="#registering-annotations">
        Registering Annotations
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>As explained in the introduction, Doctrine Annotations uses its own
autoloading mechanism to determine if a given annotation has a
corresponding PHP class that can be autoloaded. For annotation
autoloading you have to configure the
<code>Doctrine\Common\Annotations\AnnotationRegistry</code>. There are three
different mechanisms to configure annotation autoloading:</p>

            

<ul>
    <li class="dash">Calling <code>AnnotationRegistry#registerFile($file)</code> to register a file
that contains one or more annotation classes.</li>
    <li class="dash">Calling `<code>AnnotationRegistry#registerNamespace($namespace, $dirs =
null)</code>` to register that the given namespace contains annotations and
that their base directory is located at the given $dirs or in the
include path if <code>NULL</code> is passed. The given directories should <em>NOT</em>
be the directory where classes of the namespace are in, but the base
directory of the root namespace. The AnnotationRegistry uses a
namespace to directory separator approach to resolve the correct path.</li>
    <li class="dash">Calling <code>AnnotationRegistry#registerLoader($callable)</code> to register
an autoloader callback. The callback accepts the class as first and
only parameter and has to return <code>true</code> if the corresponding file
was found and included.</li>
</ul>

                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>Loaders have to fail silently, if a class is not found even if it
matches for example the namespace prefix of that loader. Never is a
loader to throw a warning or exception if the loading failed
otherwise parsing doc block annotations will become a huge pain.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
            
    <p>A sample loader callback could look like:</p>

                <pre class="code-block-table" id="4419b0873b5428b72242e2a70dc1cae852b91895"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="4419b0873b5428b72242e2a70dc1cae852b91895"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Common</span>\<span class="hljs-title">Annotations</span>\<span class="hljs-title">AnnotationRegistry</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">ClassLoader</span>\<span class="hljs-title">UniversalClassLoader</span>;</code><code class="line language-php"></code><code class="line language-php">AnnotationRegistry::registerLoader(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($class)</span> </span>{</code><code class="line language-php">    $file = str_replace(<span class="hljs-string">"\\"</span>, DIRECTORY_SEPARATOR, $class) . <span class="hljs-string">".php"</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">if</span> (file_exists(<span class="hljs-string">"/my/base/path/"</span> . $file)) {</code><code class="line language-php">        <span class="hljs-comment">// file_exists() makes sure that the loader fails silently</span></code><code class="line language-php">        <span class="hljs-keyword">require</span> <span class="hljs-string">"/my/base/path/"</span> . $file;</code><code class="line language-php">    }</code><code class="line language-php">});</code><code class="line language-php"></code><code class="line language-php">$loader = <span class="hljs-keyword">new</span> UniversalClassLoader();</code><code class="line language-php">AnnotationRegistry::registerLoader(<span class="hljs-keyword">array</span>($loader, <span class="hljs-string">"loadClass"</span>));</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="ignoring-missing-exceptions">
            <h3 class="section-header ">
    <a href="#ignoring-missing-exceptions">
        Ignoring missing exceptions
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>By default an exception is thrown from the <code>AnnotationReader</code> if an
annotation was found that:</p>

            

<ul>
    <li class="dash">is not part of the blacklist of ignored &quot;documentation annotations&quot;;</li>
    <li class="dash">was not imported through a use statement;</li>
    <li class="dash">is not a fully qualified class that exists.</li>
</ul>

            
    <p>You can disable this behavior for specific names if your docblocks do
not follow strict requirements:</p>

                <pre class="code-block-table" id="9115068dcd7eaa148f760f3b399cced03f2346bd"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="9115068dcd7eaa148f760f3b399cced03f2346bd"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">$reader = <span class="hljs-keyword">new</span> \Doctrine\Common\Annotations\AnnotationReader();</code><code class="line language-php">AnnotationReader::addGlobalIgnoredName(<span class="hljs-string">'foo'</span>);</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="php-imports">
            <h3 class="section-header ">
    <a href="#php-imports">
        PHP Imports
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>By default the annotation reader parses the use-statement of a php file
to gain access to the import rules and register them for the annotation
processing. Only if you are using PHP Imports can you validate the
correct usage of annotations and throw exceptions if you misspelled an
annotation. This mechanism is enabled by default.</p>

            
    <p>To ease the upgrade path, we still allow you to disable this mechanism.
Note however that we will remove this in future versions:</p>

                <pre class="code-block-table" id="7e0816bb79d53c9a24324b023f2bfea172737788"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="7e0816bb79d53c9a24324b023f2bfea172737788"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">$reader = <span class="hljs-keyword">new</span> \Doctrine\Common\Annotations\AnnotationReader();</code><code class="line language-php">$reader-&gt;setEnabledPhpImports(<span class="hljs-keyword">false</span>);</code><code class="empty"></code></pre>
    </div>
    </div>
    </div>
        

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?1546fc"
                            integrity="sha384-ix9eb2EZyp9uayYpxmCQoylbz8msHl5wOg/aqZnD/3cxszNUGePN656MRg5GEgbm"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'annotations';
            var versionSlug = '1.8';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search Annotations 1.8'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            </body>
</html>
