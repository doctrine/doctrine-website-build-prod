<!DOCTYPE html>
<html>
    <head>
        <title>        Views and Map-Reduce Queries - Doctrine CouchDB Object Document Mapper (CouchDB ODM)
    </title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine CouchDB Object Document Mapper Documentation: Views and Map-Reduce Queries ">

        <meta name="keywords" content="                    persistence,couchdb,odm,data,mapper,mapping,object,documentation,views,and,map-reduce,queries
    ">

                    <meta name="robots" content="index, follow">
        
        
                    <link rel="canonical" href="https://www.doctrine-project.org/projects/doctrine-couchdb-odm/en/latest/reference/map-reduce-queries.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?5cc46a"
                        integrity="sha384-vonb47KM6nk2/R9Sju3ZEm6yxaL1E02sUWkUGIgcfejb0VD6cFCFZzEvb1r14grl"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/projects/doctrine-couchdb-odm/en/latest/reference/map-reduce-queries.html" />
        <meta property="og:title" content="        Views and Map-Reduce Queries - Doctrine CouchDB Object Document Mapper (CouchDB ODM)
    " />
        <meta property="og:description" content="Doctrine CouchDB Object Document Mapper Documentation: Views and Map-Reduce Queries " />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine CouchDB Object Document Mapper",
            "description": "Views and Map-Reduce Queries",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://www.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/sponsorship.html">Sponsorship</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/couchdb-odm/edit/master/docs/en/reference/map-reduce-queries.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        

            <div class="toc">
    <ul class="menu-level">
    <li class="toc-item">
    <a href="association-mapping.html#association-mapping">Association Mapping</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="association-mapping.html#graph-traversal-and-identity-map">Graph Traversal and Identity Map</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#different-association-mappings">Different Association Mappings</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="association-mapping.html#referenceone">ReferenceOne</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#referencemany">ReferenceMany</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#inverse-referencemany">Inverse ReferenceMany</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#embedone">EmbedOne</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#embedmany">EmbedMany</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="attachments.html#attachments">Attachments</a>


</li>
    <li class="toc-item">
    <a href="basic-mapping.html#basic-mapping">Basic Mapping</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="basic-mapping.html#introduction-to-docblock-annotations">Introduction to Docblock Annotations</a>


</li>
            <li class="toc-item">
    <a href="basic-mapping.html#persistent-classes">Persistent classes</a>


</li>
            <li class="toc-item">
    <a href="basic-mapping.html#doctrine-mapping-types">Doctrine Mapping Types</a>


</li>
            <li class="toc-item">
    <a href="basic-mapping.html#field-mapping">Field Mapping</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="basic-mapping.html#indexing-fields">Indexing Fields</a>


</li>
            <li class="toc-item">
    <a href="basic-mapping.html#json-names">Json Names</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="basic-mapping.html#id-mapping">Id Mapping</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="basic-mapping.html#id-generation-strategies">Id Generation Strategies</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="basic-mapping.html#attachments">Attachments</a>


</li>
            <li class="toc-item">
    <a href="basic-mapping.html#document-repositories">Document Repositories</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="configuration.html#configuration">Configuration</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="configuration.html#obtaining-the-documentmanager">Obtaining the DocumentManager</a>


</li>
            <li class="toc-item">
    <a href="configuration.html#couchdbclient">CouchDBClient</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="configuration.html#http-client-required">HTTP Client (*REQUIRED*)</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="configuration.html#configuration-options">Configuration Options</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="configuration.html#proxy-directory-required">Proxy Directory (*REQUIRED*)</a>


</li>
            <li class="toc-item">
    <a href="configuration.html#proxy-namespace-optional">Proxy Namespace (*OPTIONAL*)</a>


</li>
            <li class="toc-item">
    <a href="configuration.html#metadata-driver-required">Metadata Driver (*REQUIRED*)</a>


</li>
            <li class="toc-item">
    <a href="configuration.html#metadata-cache-recommended">Metadata Cache (*RECOMMENDED*)</a>


</li>
            <li class="toc-item">
    <a href="configuration.html#lucene-handler-name-optional">Lucene Handler Name (*OPTIONAL*)</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="configuration.html#proxy-objects">Proxy Objects</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="configuration.html#reference-proxies">Reference Proxies</a>


</li>
            <li class="toc-item">
    <a href="configuration.html#association-proxies">Association proxies</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="inheritance-mapping.html#inheritance-mapping">Inheritance Mapping</a>


</li>
    <li class="toc-item">
    <a href="installation.html#installation">Installation</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="installation.html#pear">PEAR</a>


</li>
            <li class="toc-item">
    <a href="installation.html#download">Download</a>


</li>
            <li class="toc-item">
    <a href="installation.html#git-github">Git/Github</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="introduction.html#introduction">Introduction</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="introduction.html#features">Features</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#architecture">Architecture</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="introduction.html#write-behind">Write-Behind</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#querying">Querying</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#object-graph-traversal">Object-Graph Traversal</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="introduction.html#why-nosql">Why NoSQL?</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#couchdb-document-structure">CouchDB Document Structure</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="introduction.html#document-type">Document Type</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#associations">Associations</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#indexes">Indexes</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="lucene-queries.html#couchdb-lucene-queries">CouchDB Lucene Queries</a>


</li>
    <li class="toc-item opened">
    <a href="#views-and-map-reduce-queries">Views and Map-Reduce Queries</a>

        <ul class="section-level-1 opened-ul ">
            <li class="toc-item">
    <a href="#creating-and-managing-views">Creating and Managing Views</a>


</li>
            <li class="toc-item">
    <a href="#querying-views">Querying Views</a>


</li>
            <li class="toc-item">
    <a href="#view-results">View Results</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="tools.html#tools-and-maintenance">Tools and Maintenance</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="tools.html#couchdb-migrate">couchdb:migrate</a>


</li>
            <li class="toc-item">
    <a href="tools.html#couchdb-maintenance-compact-database">couchdb:maintenance:compact-database</a>


</li>
            <li class="toc-item">
    <a href="tools.html#couchdb-maintenance-compact-view">couchdb:maintenance:compact-view</a>


</li>
            <li class="toc-item">
    <a href="tools.html#couchdb-maintenance-view-cleanup">couchdb:maintenance:view-cleanup</a>


</li>
            <li class="toc-item">
    <a href="tools.html#couchdb-odm-update-design-doc">couchdb:odm:update-design-doc</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="working-with-objects.html#working-with-objects">Working with Objects</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="working-with-objects.html#understanding">Understanding</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="working-with-objects.html#the-size-of-a-unit-of-work">The size of a Unit of Work</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#the-cost-of-flush">The cost of flush()</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#direct-access-to-a-unit-of-work">Direct access to a Unit of Work</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="working-with-objects.html#persisting-documents">Persisting documents</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#removing-documents">Removing documents</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#detaching-documents">Detaching documents</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#merging-documents">Merging documents</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#references">References</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#establishing-references">Establishing References</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#removing-references">Removing References</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#transitive-persistence">Transitive persistence</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#querying">Querying</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="working-with-objects.html#by-primary-key">By Primary Key</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#by-simple-conditions">By Simple Conditions</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#by-lazy-loading">By Lazy Loading</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#by-query-objects">By Query Objects</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#custom-repositories">Custom Repositories</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    </ul>
</div>
    

                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://www.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "CouchDB ODM",
            "item": "https://www.doctrine-project.org/projects/couchdb-odm.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://www.doctrine-project.org/projects/doctrine-couchdb-odm/en/latest/index.html"
        },                {
            "@type": "ListItem",
            "position": 4,
            "name": "Views and Map-Reduce Queries",
            "item": "https://www.doctrine-project.org/projects/doctrine-couchdb-odm/en/latest/reference/map-reduce-queries.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/couchdb-odm.html">CouchDB ODM</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-couchdb-odm/en/latest/index.html">Documentation</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Views and Map-Reduce Queries</li>
                        </ol>
</nav>
                                    </div>

                    
    <div class="alert caution bg-light-yellow text-dark border">
    <table width="100%">
        <tr>
            <td width="10" class="align-top">
                <i class="fas fa-exclamation-circle text-warning mr-2"></i>
            </td>
            <td><p>This project is not being actively maintained. If you are interested in helping to maintain this project, take a look at the open issues on <a href="https://github.com/doctrine/couchdb-odm/" target="_blank" rel="noopener noreferrer">GitHub</a> and submit pull requests.</p></td>
        </tr>
    </table>
</div>

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-couchdb-odm/en/latest/reference/map-reduce-queries.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        master
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item active" href="/projects/doctrine-couchdb-odm/en/latest/reference/map-reduce-queries.html">
                                                        master

                                                        
                                                                                                            </a>
                                                                                                                                    
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                                                                                                                                                    </div>
                                </div>
                            
                            

            <div class="section" id="views-and-map-reduce-queries">
            <h1 class="section-header ">
    <a href="#views-and-map-reduce-queries">
        Views and Map-Reduce Queries
        <i class="fas fa-link"></i>
    </a>
</h1>
            
    <p>CouchDB uses views filtered through map-reduce to query all the documents of your database. Each view
has a map- and optionally a reduce-function. Doctrine CouchDB ODM allows you to create and query views
in your application.</p>

            <div class="section" id="creating-and-managing-views">
            <h2 class="section-header ">
    <a href="#creating-and-managing-views">
        Creating and Managing Views
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Views are best managed as a folder structure in the filesystem. Create a Directory &quot;couchdb/views&quot;
and instantiate a <code>FolderDesignDocument</code> in the following way and create the
design document in the database:</p>

                <pre class="code-block-table" id="8d56bf57b495c0aeeeaf238a5dd8d8ae5bee4673"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="8d56bf57b495c0aeeeaf238a5dd8d8ae5bee4673"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">CouchDB</span>\<span class="hljs-title">View</span>\<span class="hljs-title">FolderDesignDocument</span>;</code><code class="line language-php"></code><code class="line language-php">$view = <span class="hljs-keyword">new</span> FolderDesignDocument(<span class="hljs-string">"path/to/app/couchdb"</span>);</code><code class="line language-php">$designDocJson = $view-&gt;getData();</code><code class="line language-php"></code><code class="line language-php">$couchClient-&gt;createDesignDocument(<span class="hljs-string">"myapp"</span>, $view);</code><code class="empty"></code></pre>
            
    <p>If the directory structure now looked like the following:</p>

                <div class="console">
        <pre><code class="console">couchdb/
    views/
        username/
            map.js
        article-dates/
            map.js
            reduce.js</code></pre>
    </div>

            
    <p>It will create two views &quot;username&quot; and &quot;article-dates&quot; with
corresponding map and reduce functions. For example
the username map.js might look like:</p>

                <pre class="code-block-table" id="c40dd2b82cf790f351d3db4767e4f99824c40eed"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="c40dd2b82cf790f351d3db4767e4f99824c40eed"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">doc</span>) </span>{</code><code class="line language-javascript">    <span class="hljs-keyword">if</span> (doc.type == <span class="hljs-string">'Doctrine.Tests.Models.CMS.CmsUser'</span>) {</code><code class="line language-javascript">        emit(doc.username, doc._id);</code><code class="line language-javascript">    }</code><code class="line language-javascript">}</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="querying-views">
            <h2 class="section-header ">
    <a href="#querying-views">
        Querying Views
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>To query a view from Doctrine CouchDB ODM you have to register it with its design document name
in the CouchDB ODM Configuration:</p>

                <pre class="code-block-table" id="1a7fc25597df32daa98396f0effeb7afa1100066"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="1a7fc25597df32daa98396f0effeb7afa1100066"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"></code><code class="line language-php">$config = $dm-&gt;getConfiguration();</code><code class="line language-php">$config-&gt;addDesignDocument(</code><code class="line language-php">    <span class="hljs-string">"myapp"</span>, </code><code class="line language-php">    <span class="hljs-string">"Doctrine\CouchDB\View\FolderDesignDocument"</span>,</code><code class="line language-php">    <span class="hljs-string">"path/to/app/couchdb"</span></code><code class="line language-php">);</code><code class="empty"></code></pre>
            
    <p>You can then create either a native or a odm-query by calling
either <code>DocumentManager#createNativeQuery($designDocName, $viewName)</code> or
<code>DocumentManager#createQuery($designDocName, $viewName)</code>.</p>

            
    <p>The difference between both queries is their result and some parameters. The ODM query will
return instances of php objects that map to the CouchDB documents and
the native query will return only convert the json to arrays that have been fetched from
the CouchDB.</p>

            
    <p>Both queries have a common base class with a simple API:</p>

                <pre class="code-block-table" id="cfa9de8b1257b2d5ec65ca1bd44016ca9568441e"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="cfa9de8b1257b2d5ec65ca1bd44016ca9568441e"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">CouchDB</span>\<span class="hljs-title">View</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AbstractQuery</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * Get HTTP Query Parameter </code><code class="line language-php">     *</code><code class="line language-php">     * @param  string $key</code><code class="line language-php">     * @<span class="hljs-keyword">return</span> mixed</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getParameter</span><span class="hljs-params">($key)</span></span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * Query the view with the current params.</code><code class="line language-php">     *</code><code class="line language-php">     * @<span class="hljs-keyword">return</span> Doctrine\CouchDB\View\Result</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">execute</span><span class="hljs-params">()</span></span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * Create design document <span class="hljs-keyword">for</span> this query.</code><code class="line language-php">     *</code><code class="line language-php">     * Method is used internally when querying the view <span class="hljs-keyword">and</span> it doesnt exist yet.</code><code class="line language-php">     *</code><code class="line language-php">     * @<span class="hljs-keyword">return</span> void</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createDesignDocument</span><span class="hljs-params">()</span></span>;</code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>With both query types you just call execute() to retrieve the result from the database.</p>

            
    <p>The following query parameter related methods exist in both the native and odm-query:</p>

                <pre class="code-block-table" id="0a1a730e8e922cda6631440ecc940d459f6e9044"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="0a1a730e8e922cda6631440ecc940d459f6e9044"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">CouchDB</span>\<span class="hljs-title">View</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Query</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractQuery</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * Find key in view.</code><code class="line language-php">     *</code><code class="line language-php">     * @param  string $val</code><code class="line language-php">     * @<span class="hljs-keyword">return</span> Query</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setKey</span><span class="hljs-params">($val)</span></span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * Set starting key to query view <span class="hljs-keyword">for</span>.</code><code class="line language-php">     *</code><code class="line language-php">     * @param  string $val</code><code class="line language-php">     * @<span class="hljs-keyword">return</span> Query</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setStartKey</span><span class="hljs-params">($val)</span></span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * Set ending key to query view <span class="hljs-keyword">for</span>.</code><code class="line language-php">     *</code><code class="line language-php">     * @param  string $val</code><code class="line language-php">     * @<span class="hljs-keyword">return</span> Query</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setEndKey</span><span class="hljs-params">($val)</span></span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * Document id to start with</code><code class="line language-php">     *</code><code class="line language-php">     * @param  string $val</code><code class="line language-php">     * @<span class="hljs-keyword">return</span> Query</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setStartKeyDocId</span><span class="hljs-params">($val)</span></span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * Last document id to <span class="hljs-keyword">include</span> in the output</code><code class="line language-php">     *</code><code class="line language-php">     * @param  string $val</code><code class="line language-php">     * @<span class="hljs-keyword">return</span> Query</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setEndKeyDocId</span><span class="hljs-params">($val)</span></span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * Limit the number of documents in the output</code><code class="line language-php">     *</code><code class="line language-php">     * @param  int $val</code><code class="line language-php">     * @<span class="hljs-keyword">return</span> Query</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setLimit</span><span class="hljs-params">($val)</span></span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * Skip n number of documents</code><code class="line language-php">     *</code><code class="line language-php">     * @param  int $val</code><code class="line language-php">     * @<span class="hljs-keyword">return</span> Query</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setSkip</span><span class="hljs-params">($val)</span></span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * <span class="hljs-keyword">If</span> stale=ok is set CouchDB will not refresh the view even <span class="hljs-keyword">if</span> it is stalled.</code><code class="line language-php">     *</code><code class="line language-php">     * @param  bool $flag</code><code class="line language-php">     * @<span class="hljs-keyword">return</span> Query</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setStale</span><span class="hljs-params">($flag)</span></span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * reverse the output</code><code class="line language-php">     *</code><code class="line language-php">     * @param  bool $flag</code><code class="line language-php">     * @<span class="hljs-keyword">return</span> Query</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setDescending</span><span class="hljs-params">($flag)</span></span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * The group option controls whether the reduce <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">reduces</span> <span class="hljs-title">to</span> <span class="hljs-title">a</span> <span class="hljs-title">set</span> <span class="hljs-title">of</span> <span class="hljs-title">distinct</span> <span class="hljs-title">keys</span> <span class="hljs-title">or</span> <span class="hljs-title">to</span> <span class="hljs-title">a</span> <span class="hljs-title">single</span> <span class="hljs-title">result</span> <span class="hljs-title">row</span>.</span></code><code class="line language-php">     *</code><code class="line language-php">     * @param  bool $flag</code><code class="line language-php">     * @<span class="hljs-keyword">return</span> Query</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setGroup</span><span class="hljs-params">($flag)</span></span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setGroupLevel</span><span class="hljs-params">($level)</span></span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * <span class="hljs-keyword">Use</span> <span class="hljs-title">the</span> <span class="hljs-title">reduce</span> <span class="hljs-title">function</span> <span class="hljs-title">of</span> <span class="hljs-title">the</span> <span class="hljs-title">view</span>. <span class="hljs-title">It</span> <span class="hljs-title">defaults</span> <span class="hljs-title">to</span> <span class="hljs-title">true</span>, <span class="hljs-title">if</span> <span class="hljs-title">a</span> <span class="hljs-title">reduce</span> <span class="hljs-title">function</span> <span class="hljs-title">is</span> <span class="hljs-title">defined</span> <span class="hljs-title">and</span> <span class="hljs-title">to</span> <span class="hljs-title">false</span> <span class="hljs-title">otherwise</span>.</code><code class="line language-php">     *</code><code class="line language-php">     * @param  bool $flag</code><code class="line language-php">     * @<span class="hljs-keyword">return</span> Query</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setReduce</span><span class="hljs-params">($flag)</span></span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * Controls whether the endkey is included in the result. It defaults to <span class="hljs-keyword">true</span>.</code><code class="line language-php">     *</code><code class="line language-php">     * @param  bool $flag</code><code class="line language-php">     * @<span class="hljs-keyword">return</span> Query</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setInclusiveEnd</span><span class="hljs-params">($flag)</span></span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">/**</span></code><code class="line language-php">     * Automatically fetch <span class="hljs-keyword">and</span> <span class="hljs-keyword">include</span> the document which emitted each view entry</code><code class="line language-php">     *</code><code class="line language-php">     * @param  bool $flag</code><code class="line language-php">     * @<span class="hljs-keyword">return</span> Query</code><code class="line language-php">     */</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setIncludeDocs</span><span class="hljs-params">($flag)</span></span>;</code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>There is a single additional method on the ODM Query that specifies if
you just want to return the documents associated with a view result:</p>

                <pre class="code-block-table" id="4e67e4aec384d87511c7c900b0bb0a0086c665a3"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="4e67e4aec384d87511c7c900b0bb0a0086c665a3"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ODM</span>\<span class="hljs-title">CouchDB</span>\<span class="hljs-title">View</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ODMQuery</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Query</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onlyDocs</span><span class="hljs-params">($flag)</span></span>;</code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>An example execution of the username view given above looks like:</p>

                <pre class="code-block-table" id="4191eea15cc4c8917ec1b9335cd8e94f75721c1f"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="4191eea15cc4c8917ec1b9335cd8e94f75721c1f"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"></code><code class="line language-php">$query = $dm-&gt;createQuery(<span class="hljs-string">"myapp"</span>, <span class="hljs-string">"username"</span>);</code><code class="line language-php">$result = $query-&gt;setStartKey(<span class="hljs-string">"b"</span>)</code><code class="line language-php">      -&gt;setEndKey(<span class="hljs-string">"c"</span>)</code><code class="line language-php">      -&gt;setLimit(<span class="hljs-number">100</span>)</code><code class="line language-php">      -&gt;setSkip(<span class="hljs-number">20</span>)</code><code class="line language-php">      -&gt;onlyDocs(<span class="hljs-keyword">true</span>)</code><code class="line language-php">      -&gt;execute();</code><code class="empty"></code></pre>
            
    <p>This will return all usernames starting with &quot;b&quot; and ending with &quot;c&quot;,
skipping the first 20 results and limiting the result to 100 documents.</p>

    </div>
            <div class="section" id="view-results">
            <h2 class="section-header ">
    <a href="#view-results">
        View Results
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>The result of a view is an instance of <code>Doctrine\CouchDB\View\Result</code>.
It implements <code>Countable</code>, <code>IteratorAggregate</code> and <code>ArrayAccess</code>.
If you specify <code>onlyDocs(true)</code> each result-row will contain only
the associated document, otherwise the document is on the row index &quot;doc&quot;
of the query.</p>

            
    <p>The following snippet shows the difference:</p>

                <pre class="code-block-table" id="5d5d2310b535712e973bbe43581672304a529cda"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="5d5d2310b535712e973bbe43581672304a529cda"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"></code><code class="line language-php">$query = $dm-&gt;createQuery(<span class="hljs-string">"myapp"</span>, <span class="hljs-string">"username"</span>);</code><code class="line language-php">$result = $query-&gt;setStartKey(<span class="hljs-string">"b"</span>)</code><code class="line language-php">      -&gt;setEndKey(<span class="hljs-string">"c"</span>)</code><code class="line language-php">      -&gt;setLimit(<span class="hljs-number">100</span>)</code><code class="line language-php">      -&gt;setSkip(<span class="hljs-number">20</span>)</code><code class="line language-php">      -&gt;onlyDocs(<span class="hljs-keyword">true</span>)</code><code class="line language-php">      -&gt;execute();</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">foreach</span> ($result <span class="hljs-keyword">AS</span> $user) {</code><code class="line language-php">    <span class="hljs-keyword">echo</span> $user-&gt;getUsername() . <span class="hljs-string">"\n"</span>;</code><code class="line language-php">}</code><code class="line language-php"></code><code class="line language-php">$query-&gt;onlyDocs(<span class="hljs-keyword">false</span>);</code><code class="line language-php">$result = $query-&gt;execute();</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">foreach</span> ($result <span class="hljs-keyword">AS</span> $userRow) {</code><code class="line language-php">    <span class="hljs-keyword">echo</span> $userRow[<span class="hljs-string">'doc'</span>]-&gt;getUsername() . <span class="hljs-string">"\n"</span>;</code><code class="line language-php">}</code><code class="empty"></code></pre>
    </div>
    </div>
        

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?1546fc"
                            integrity="sha384-ix9eb2EZyp9uayYpxmCQoylbz8msHl5wOg/aqZnD/3cxszNUGePN656MRg5GEgbm"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'couchdb-odm';
            var versionSlug = 'latest';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search CouchDB ODM master'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            </body>
</html>
