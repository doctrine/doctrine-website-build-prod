<!DOCTYPE html>
<html>
    <head>
        <title>Basic Mapping - Doctrine CouchDB Object Document Mapper (CouchDB ODM)</title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine CouchDB Object Document Mapper Documentation: Basic Mapping ">

        <meta name="keywords" content="persistence,couchdb,odm,data,mapper,mapping,object,documentation,basic,mapping">

                    <meta name="robots" content="index, follow">
        
        
                    <link rel="canonical" href="https://www.doctrine-project.org/projects/doctrine-couchdb-odm/en/latest/reference/basic-mapping.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?a69a42"
                        integrity="sha384-vjjIpFyscl9M4dpU7DEbHd6yPSqkM8zd1EeZ/PvGeCT2VPHl5rQoBiaf7N5xrG36"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/projects/doctrine-couchdb-odm/en/latest/reference/basic-mapping.html" />
        <meta property="og:title" content="Basic Mapping - Doctrine CouchDB Object Document Mapper (CouchDB ODM)" />
        <meta property="og:description" content="Doctrine CouchDB Object Document Mapper Documentation: Basic Mapping " />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/images/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine CouchDB Object Document Mapper",
            "description": "Basic Mapping",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://www.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/images/doctrine-logo.svg?c1fd47" />Doctrine</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item notranslate" href="/projects/annotations.html">Annotations</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/cache.html">Cache</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/mongodb.html">MongoDB</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/reflection.html">Reflection</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/rst-parser.html">RST Parser</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/skeleton-mapper.html">Skeleton Mapper</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/team/maintainers.html">Maintainers</a>
                                <a class="dropdown-item" href="/team/contributors.html">Contributors</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/events.html">Events</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/consulting.html">Consulting</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/couchdb-odm/edit/master/docs/en/reference/basic-mapping.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>

                    <div class="google-translate-dropdown dropdown show d-inline-block mr-2">
                        <a class="btn btn-primary dropdown-toggle" href="#" role="button" id="translateDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Translate
                        </a>

                        <div class="dropdown-menu" aria-labelledby="translateDropdown">
                            <div class="dropdown-item" id="google_translate_element">Loading...</div>
                        </div>
                    </div>

                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        <div class="toc"><ul><li id="lucene-queries-html-couchdb-lucene-queries" class="toc-item"><a href="lucene-queries.html#couchdb-lucene-queries">CouchDB Lucene Queries</a></li><li id="tools-html-tools-and-maintenance" class="toc-item"><a href="tools.html#tools-and-maintenance">Tools and Maintenance</a><ul><li id="tools-html-7cdfcd10f5ee4391b40676f1dd34d3a1f8017856" class="toc-item"><a href="tools.html#7cdfcd10f5ee4391b40676f1dd34d3a1f8017856">7cdfcd10f5ee4391b40676f1dd34d3a1f8017856</a></li><li id="tools-html-d74562584d1cd8ecb77ce5870190fbc742050e13" class="toc-item"><a href="tools.html#d74562584d1cd8ecb77ce5870190fbc742050e13">d74562584d1cd8ecb77ce5870190fbc742050e13</a></li><li id="tools-html-2047ba5436a9b2f97ffdd92e1a1f6199b951c11f" class="toc-item"><a href="tools.html#2047ba5436a9b2f97ffdd92e1a1f6199b951c11f">2047ba5436a9b2f97ffdd92e1a1f6199b951c11f</a></li><li id="tools-html-97e33ff54d28f42f6c5875011a5e62b1a5929d9e" class="toc-item"><a href="tools.html#97e33ff54d28f42f6c5875011a5e62b1a5929d9e">97e33ff54d28f42f6c5875011a5e62b1a5929d9e</a></li><li id="tools-html-40c60cf4fc4f66a6c067172977800a2881d76f89" class="toc-item"><a href="tools.html#40c60cf4fc4f66a6c067172977800a2881d76f89">40c60cf4fc4f66a6c067172977800a2881d76f89</a></li></ul></li><li id="attachments-html-attachments" class="toc-item"><a href="attachments.html#attachments">Attachments</a></li><li id="association-mapping-html-association-mapping" class="toc-item"><a href="association-mapping.html#association-mapping">Association Mapping</a><ul><li id="association-mapping-html-graph-traversal-and-identity-map" class="toc-item"><a href="association-mapping.html#graph-traversal-and-identity-map">Graph Traversal and Identity Map</a></li><li id="association-mapping-html-different-association-mappings" class="toc-item"><a href="association-mapping.html#different-association-mappings">Different Association Mappings</a><ul><li id="association-mapping-html-referenceone" class="toc-item"><a href="association-mapping.html#referenceone">ReferenceOne</a></li><li id="association-mapping-html-referencemany" class="toc-item"><a href="association-mapping.html#referencemany">ReferenceMany</a></li><li id="association-mapping-html-inverse-referencemany" class="toc-item"><a href="association-mapping.html#inverse-referencemany">Inverse ReferenceMany</a></li><li id="association-mapping-html-embedone" class="toc-item"><a href="association-mapping.html#embedone">EmbedOne</a></li><li id="association-mapping-html-embedmany" class="toc-item"><a href="association-mapping.html#embedmany">EmbedMany</a></li></ul></li></ul></li><li id="installation-html-installation" class="toc-item"><a href="installation.html#installation">Installation</a><ul><li id="installation-html-pear" class="toc-item"><a href="installation.html#pear">PEAR</a></li><li id="installation-html-download" class="toc-item"><a href="installation.html#download">Download</a></li><li id="installation-html-git-github" class="toc-item"><a href="installation.html#git-github">Git/Github</a></li></ul></li><li id="map-reduce-queries-html-views-and-map-reduce-queries" class="toc-item"><a href="map-reduce-queries.html#views-and-map-reduce-queries">Views and Map-Reduce Queries</a><ul><li id="map-reduce-queries-html-creating-and-managing-views" class="toc-item"><a href="map-reduce-queries.html#creating-and-managing-views">Creating and Managing Views</a></li><li id="map-reduce-queries-html-querying-views" class="toc-item"><a href="map-reduce-queries.html#querying-views">Querying Views</a></li><li id="map-reduce-queries-html-view-results" class="toc-item"><a href="map-reduce-queries.html#view-results">View Results</a></li></ul></li><li id="inheritance-mapping-html-inheritance-mapping" class="toc-item"><a href="inheritance-mapping.html#inheritance-mapping">Inheritance Mapping</a></li><li id="configuration-html-configuration" class="toc-item"><a href="configuration.html#configuration">Configuration</a><ul><li id="configuration-html-obtaining-the-documentmanager" class="toc-item"><a href="configuration.html#obtaining-the-documentmanager">Obtaining the DocumentManager</a></li><li id="configuration-html-couchdbclient" class="toc-item"><a href="configuration.html#couchdbclient">CouchDBClient</a><ul><li id="configuration-html-http-client-required" class="toc-item"><a href="configuration.html#http-client-required">HTTP Client (***REQUIRED***)</a></li></ul></li><li id="configuration-html-configuration-options" class="toc-item"><a href="configuration.html#configuration-options">Configuration Options</a><ul><li id="configuration-html-proxy-directory-required" class="toc-item"><a href="configuration.html#proxy-directory-required">Proxy Directory (***REQUIRED***)</a></li><li id="configuration-html-proxy-namespace-optional" class="toc-item"><a href="configuration.html#proxy-namespace-optional">Proxy Namespace (***OPTIONAL***)</a></li><li id="configuration-html-metadata-driver-required" class="toc-item"><a href="configuration.html#metadata-driver-required">Metadata Driver (***REQUIRED***)</a></li><li id="configuration-html-metadata-cache-recommended" class="toc-item"><a href="configuration.html#metadata-cache-recommended">Metadata Cache (***RECOMMENDED***)</a></li><li id="configuration-html-lucene-handler-name-optional" class="toc-item"><a href="configuration.html#lucene-handler-name-optional">Lucene Handler Name (***OPTIONAL***)</a></li></ul></li><li id="configuration-html-proxy-objects" class="toc-item"><a href="configuration.html#proxy-objects">Proxy Objects</a><ul><li id="configuration-html-reference-proxies" class="toc-item"><a href="configuration.html#reference-proxies">Reference Proxies</a></li><li id="configuration-html-association-proxies" class="toc-item"><a href="configuration.html#association-proxies">Association proxies</a></li></ul></li></ul></li><li id="working-with-objects-html-working-with-objects" class="toc-item"><a href="working-with-objects.html#working-with-objects">Working with Objects</a><ul><li id="working-with-objects-html-understanding" class="toc-item"><a href="working-with-objects.html#understanding">Understanding</a><ul><li id="working-with-objects-html-the-size-of-a-unit-of-work" class="toc-item"><a href="working-with-objects.html#the-size-of-a-unit-of-work">The size of a Unit of Work</a></li><li id="working-with-objects-html-the-cost-of-flush" class="toc-item"><a href="working-with-objects.html#the-cost-of-flush">The cost of flush()</a></li><li id="working-with-objects-html-direct-access-to-a-unit-of-work" class="toc-item"><a href="working-with-objects.html#direct-access-to-a-unit-of-work">Direct access to a Unit of Work</a></li></ul></li><li id="working-with-objects-html-persisting-documents" class="toc-item"><a href="working-with-objects.html#persisting-documents">Persisting documents</a></li><li id="working-with-objects-html-removing-documents" class="toc-item"><a href="working-with-objects.html#removing-documents">Removing documents</a></li><li id="working-with-objects-html-detaching-documents" class="toc-item"><a href="working-with-objects.html#detaching-documents">Detaching documents</a></li><li id="working-with-objects-html-merging-documents" class="toc-item"><a href="working-with-objects.html#merging-documents">Merging documents</a></li><li id="working-with-objects-html-references" class="toc-item"><a href="working-with-objects.html#references">References</a></li><li id="working-with-objects-html-establishing-references" class="toc-item"><a href="working-with-objects.html#establishing-references">Establishing References</a></li><li id="working-with-objects-html-removing-references" class="toc-item"><a href="working-with-objects.html#removing-references">Removing References</a></li><li id="working-with-objects-html-transitive-persistence" class="toc-item"><a href="working-with-objects.html#transitive-persistence">Transitive persistence</a></li><li id="working-with-objects-html-querying" class="toc-item"><a href="working-with-objects.html#querying">Querying</a><ul><li id="working-with-objects-html-by-primary-key" class="toc-item"><a href="working-with-objects.html#by-primary-key">By Primary Key</a></li><li id="working-with-objects-html-by-simple-conditions" class="toc-item"><a href="working-with-objects.html#by-simple-conditions">By Simple Conditions</a></li><li id="working-with-objects-html-by-lazy-loading" class="toc-item"><a href="working-with-objects.html#by-lazy-loading">By Lazy Loading</a></li><li id="working-with-objects-html-by-query-objects" class="toc-item"><a href="working-with-objects.html#by-query-objects">By Query Objects</a></li><li id="working-with-objects-html-custom-repositories" class="toc-item"><a href="working-with-objects.html#custom-repositories">Custom Repositories</a></li></ul></li></ul></li><li id="basic-mapping-html-basic-mapping" class="toc-item"><a href="basic-mapping.html#basic-mapping">Basic Mapping</a><ul><li id="basic-mapping-html-introduction-to-docblock-annotations" class="toc-item"><a href="basic-mapping.html#introduction-to-docblock-annotations">Introduction to Docblock Annotations</a></li><li id="basic-mapping-html-persistent-classes" class="toc-item"><a href="basic-mapping.html#persistent-classes">Persistent classes</a></li><li id="basic-mapping-html-doctrine-mapping-types" class="toc-item"><a href="basic-mapping.html#doctrine-mapping-types">Doctrine Mapping Types</a></li><li id="basic-mapping-html-field-mapping" class="toc-item"><a href="basic-mapping.html#field-mapping">Field Mapping</a><ul><li id="basic-mapping-html-indexing-fields" class="toc-item"><a href="basic-mapping.html#indexing-fields">Indexing Fields</a></li><li id="basic-mapping-html-json-names" class="toc-item"><a href="basic-mapping.html#json-names">Json Names</a></li></ul></li><li id="basic-mapping-html-id-mapping" class="toc-item"><a href="basic-mapping.html#id-mapping">Id Mapping</a><ul><li id="basic-mapping-html-id-generation-strategies" class="toc-item"><a href="basic-mapping.html#id-generation-strategies">Id Generation Strategies</a></li></ul></li><li id="basic-mapping-html-attachments" class="toc-item"><a href="basic-mapping.html#attachments">Attachments</a></li><li id="basic-mapping-html-document-repositories" class="toc-item"><a href="basic-mapping.html#document-repositories">Document Repositories</a></li></ul></li><li id="introduction-html-introduction" class="toc-item"><a href="introduction.html#introduction">Introduction</a><ul><li id="introduction-html-features" class="toc-item"><a href="introduction.html#features">Features</a></li><li id="introduction-html-architecture" class="toc-item"><a href="introduction.html#architecture">Architecture</a><ul><li id="introduction-html-write-behind" class="toc-item"><a href="introduction.html#write-behind">Write-Behind</a></li><li id="introduction-html-querying" class="toc-item"><a href="introduction.html#querying">Querying</a></li><li id="introduction-html-object-graph-traversal" class="toc-item"><a href="introduction.html#object-graph-traversal">Object-Graph Traversal</a></li></ul></li><li id="introduction-html-why-nosql" class="toc-item"><a href="introduction.html#why-nosql">Why NoSQL?</a></li><li id="introduction-html-couchdb-document-structure" class="toc-item"><a href="introduction.html#couchdb-document-structure">CouchDB Document Structure</a><ul><li id="introduction-html-document-type" class="toc-item"><a href="introduction.html#document-type">Document Type</a></li><li id="introduction-html-associations" class="toc-item"><a href="introduction.html#associations">Associations</a></li><li id="introduction-html-indexes" class="toc-item"><a href="introduction.html#indexes">Indexes</a></li></ul></li></ul></li><li id="index-html-welcome-to-doctrine-couchdb-documentation" class="toc-item"><a href="../index.html#welcome-to-doctrine-couchdb-documentation">Welcome to Doctrine CouchDB documentation</a></li></ul></div>
                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://www.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "CouchDB ODM",
            "item": "https://www.doctrine-project.org/projects/couchdb-odm.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://www.doctrine-project.org/projects/doctrine-couchdb-odm/en/latest/index.html"
        },                {
            "@type": "ListItem",
            "position": 4,
            "name": "Basic Mapping",
            "item": "https://www.doctrine-project.org/projects/doctrine-couchdb-odm/en/latest/reference/basic-mapping.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/couchdb-odm.html">CouchDB ODM</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-couchdb-odm/en/latest/index.html">Documentation</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Basic Mapping</li>
                        </ol>
</nav>
                                    </div>

                    
    <div class="alert caution bg-light-yellow text-dark border">
    <table width="100%">
        <tr>
            <td width="10" class="align-top">
                <i class="fas fa-exclamation-circle text-warning mr-2"></i>
            </td>
            <td><p>This project is not being actively maintained. If you are interested in helping to maintain this project, take a look at the open issues on <a href="https://github.com/doctrine/{{ project.repositoryName }}/" target="_blank" rel="noopener noreferrer">GitHub</a> and submit pull requests.</p></td>
        </tr>
    </table>
</div>

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-couchdb-odm/en/latest/reference/basic-mapping.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        master
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                            
                                                <a class="project-version-switcher dropdown-item active" href="/projects/doctrine-couchdb-odm/en/latest/reference/basic-mapping.html">
                                                    master

                                                    
                                                                                                    </a>
                                                                                    
                                                                            </div>
                                </div>
                            
                            
<div class="section"><a class="section-anchor" id="basic-mapping" name="basic-mapping"></a><h1 class="section-header"><a href="#basic-mapping">Basic Mapping<i class="fas fa-link"></i></a></h1>
<p>This chapter explains the basic mapping of objects and properties.
Mapping of associations will be covered in the next chapter
Association Mapping.</p>
<div class="section"><a class="section-anchor" id="introduction-to-docblock-annotations" name="introduction-to-docblock-annotations"></a><h2 class="section-header"><a href="#introduction-to-docblock-annotations">Introduction to Docblock Annotations<i class="fas fa-link"></i></a></h2>
<p>You've probably used docblock annotations in some form already,
most likely to provide documentation metadata for a tool like
<code>PHPDocumentor</code> (@author, @link, ...). Docblock annotations are a
tool to embed metadata inside the documentation section which can
then be processed by some tool. Doctrine generalizes the concept
of docblock annotations so that they can be used for any kind of
metadata and so that it is easy to define new docblock annotations.
In order to allow more involved annotation values and to reduce the
chances of clashes with other docblock annotations, the Doctrine 2
docblock annotations feature an alternative syntax that is heavily
inspired by the Annotation syntax introduced in Java 5.</p>
<p>The implementation of these enhanced docblock annotations is
located in the <code>Doctrine\Common\Annotations</code> namespace and
therefore part of the Common package. Doctrine docblock
annotations support namespaces and nested annotations among other
things. The Doctrine CouchDB ODM defines its own set of docblock
annotations for supplying object-relational mapping metadata.</p>
<blockquote><p><strong>NOTE</strong> If you're not comfortable with the concept of docblock
annotations, don't worry, as mentioned earlier Doctrine 2 provides
XML and YAML alternatives and you could easily implement your own
favourite mechanism for defining metadata.</p>
</blockquote>
</div>
<div class="section"><a class="section-anchor" id="persistent-classes" name="persistent-classes"></a><h2 class="section-header"><a href="#persistent-classes">Persistent classes<i class="fas fa-link"></i></a></h2>
<p>In order to mark a class for CouchDB persistence it needs
to be designated as an document. This can be done through the
<code>@Document</code> marker annotation.</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="7072c3fe3da16ac14376d7b12e505f5038d86e41"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="7072c3fe3da16ac14376d7b12e505f5038d86e41"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-7072c3fe3da16ac14376d7b12e505f5038d86e41-1" class="line-number-anchor" /><a href="#line-number-7072c3fe3da16ac14376d7b12e505f5038d86e41-1">1</a></td><td class="code-line" rowspan="6"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">/** <span class="hljs-doctag">@Document</span> */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyPersistentClass</span>
</span>{
    <span class="hljs-comment">//...</span>
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-7072c3fe3da16ac14376d7b12e505f5038d86e41-2" class="line-number-anchor" /><a href="#line-number-7072c3fe3da16ac14376d7b12e505f5038d86e41-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7072c3fe3da16ac14376d7b12e505f5038d86e41-3" class="line-number-anchor" /><a href="#line-number-7072c3fe3da16ac14376d7b12e505f5038d86e41-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7072c3fe3da16ac14376d7b12e505f5038d86e41-4" class="line-number-anchor" /><a href="#line-number-7072c3fe3da16ac14376d7b12e505f5038d86e41-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7072c3fe3da16ac14376d7b12e505f5038d86e41-5" class="line-number-anchor" /><a href="#line-number-7072c3fe3da16ac14376d7b12e505f5038d86e41-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7072c3fe3da16ac14376d7b12e505f5038d86e41-6" class="line-number-anchor" /><a href="#line-number-7072c3fe3da16ac14376d7b12e505f5038d86e41-6">6</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="doctrine-mapping-types" name="doctrine-mapping-types"></a><h2 class="section-header"><a href="#doctrine-mapping-types">Doctrine Mapping Types<i class="fas fa-link"></i></a></h2>
<p>A Doctrine Mapping Type defines the mapping between a PHP type and
an JSON type. Since CouchDB speaks JSON there has to be a transformation
between PHP and JSON values. You can even write your own
custom mapping types that map PHP values or objects to JSON-able PHP
scalar or array values.</p>
<p>Here is a quick overview of the built-in mapping types:</p>
<ul><li class="dash"> <code>string</code>: Type that maps a JSON String to a PHP string.</li>
<li class="dash"> <code>datetime</code>: Type that maps an stringified Date to a PHP
   DateTime object.</li>
<li class="dash"> <code>mixed</code>: Type that saves and retrives any value unconverted into the Couch.</li>
<li class="dash"> <code>integer</code>: Type that ensures the value to be an integer.</li>
<li class="dash"> <code>boolean</code>: Type that ensures the value to be a boolean.</li>
</ul>

</div>
<div class="section"><a class="section-anchor" id="field-mapping" name="field-mapping"></a><h2 class="section-header"><a href="#field-mapping">Field Mapping<i class="fas fa-link"></i></a></h2>
<p>After a class has been marked as an entity it can specify mappings
for its instance fields. Here we will only look at simple fields
that hold scalar values like strings, numbers, etc. Associations to
other objects are covered in the chapter Association Mapping.</p>
<p>To mark a property for relational persistence the <code>@Field</code>
docblock annotation is used. This annotation usually requires at
least one attribute to be set, the <code>type</code>. The <code>type</code> attribute
specifies the Doctrine Mapping Type to use for the field. If the
type is not specified, 'mixed' is used as the default mapping type
since it is the most flexible.</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="1a2b208148e20cba09462f62eb5156c8887b45b7"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="1a2b208148e20cba09462f62eb5156c8887b45b7"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-1a2b208148e20cba09462f62eb5156c8887b45b7-1" class="line-number-anchor" /><a href="#line-number-1a2b208148e20cba09462f62eb5156c8887b45b7-1">1</a></td><td class="code-line" rowspan="7"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">/** <span class="hljs-doctag">@Document</span> */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyPersistentClass</span>
</span>{
    <span class="hljs-comment">/** <span class="hljs-doctag">@Field</span>(type="string") */</span>
    <span class="hljs-keyword">private</span> $name;
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-1a2b208148e20cba09462f62eb5156c8887b45b7-2" class="line-number-anchor" /><a href="#line-number-1a2b208148e20cba09462f62eb5156c8887b45b7-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1a2b208148e20cba09462f62eb5156c8887b45b7-3" class="line-number-anchor" /><a href="#line-number-1a2b208148e20cba09462f62eb5156c8887b45b7-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1a2b208148e20cba09462f62eb5156c8887b45b7-4" class="line-number-anchor" /><a href="#line-number-1a2b208148e20cba09462f62eb5156c8887b45b7-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1a2b208148e20cba09462f62eb5156c8887b45b7-5" class="line-number-anchor" /><a href="#line-number-1a2b208148e20cba09462f62eb5156c8887b45b7-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1a2b208148e20cba09462f62eb5156c8887b45b7-6" class="line-number-anchor" /><a href="#line-number-1a2b208148e20cba09462f62eb5156c8887b45b7-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1a2b208148e20cba09462f62eb5156c8887b45b7-7" class="line-number-anchor" /><a href="#line-number-1a2b208148e20cba09462f62eb5156c8887b45b7-7">7</a></td></tr></table></div></code></pre>
<div class="section"><a class="section-anchor" id="indexing-fields" name="indexing-fields"></a><h3 class="section-header"><a href="#indexing-fields">Indexing Fields<i class="fas fa-link"></i></a></h3>
<p>CouchDB uses map-reduce to query documents. Except querying for the ID of a document
there is no additional query capability available for fields. Doctrine CouchDB ODM
allows you to use a predefined view that allows equality comparisons on fields:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="d411d6cd2abd634f51730b48584fcb3cc304d572"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="d411d6cd2abd634f51730b48584fcb3cc304d572"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-d411d6cd2abd634f51730b48584fcb3cc304d572-1" class="line-number-anchor" /><a href="#line-number-d411d6cd2abd634f51730b48584fcb3cc304d572-1">1</a></td><td class="code-line" rowspan="10"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">/** <span class="hljs-doctag">@Document</span> */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyPersistentClass</span>
</span>{
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@Index</span>
     * <span class="hljs-doctag">@Field</span>(type="string")
     */</span>
    <span class="hljs-keyword">private</span> $name;
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-d411d6cd2abd634f51730b48584fcb3cc304d572-2" class="line-number-anchor" /><a href="#line-number-d411d6cd2abd634f51730b48584fcb3cc304d572-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d411d6cd2abd634f51730b48584fcb3cc304d572-3" class="line-number-anchor" /><a href="#line-number-d411d6cd2abd634f51730b48584fcb3cc304d572-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d411d6cd2abd634f51730b48584fcb3cc304d572-4" class="line-number-anchor" /><a href="#line-number-d411d6cd2abd634f51730b48584fcb3cc304d572-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d411d6cd2abd634f51730b48584fcb3cc304d572-5" class="line-number-anchor" /><a href="#line-number-d411d6cd2abd634f51730b48584fcb3cc304d572-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d411d6cd2abd634f51730b48584fcb3cc304d572-6" class="line-number-anchor" /><a href="#line-number-d411d6cd2abd634f51730b48584fcb3cc304d572-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d411d6cd2abd634f51730b48584fcb3cc304d572-7" class="line-number-anchor" /><a href="#line-number-d411d6cd2abd634f51730b48584fcb3cc304d572-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d411d6cd2abd634f51730b48584fcb3cc304d572-8" class="line-number-anchor" /><a href="#line-number-d411d6cd2abd634f51730b48584fcb3cc304d572-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d411d6cd2abd634f51730b48584fcb3cc304d572-9" class="line-number-anchor" /><a href="#line-number-d411d6cd2abd634f51730b48584fcb3cc304d572-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d411d6cd2abd634f51730b48584fcb3cc304d572-10" class="line-number-anchor" /><a href="#line-number-d411d6cd2abd634f51730b48584fcb3cc304d572-10">10</a></td></tr></table></div></code></pre>
<p>All indexed fields can be queried in <code>DocumentRepository::findBy()</code> and <code>DocumentRepository:findOneBy()</code>:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="777b8b733feb709e0c6a8c6121aeab0c2c74499a"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="777b8b733feb709e0c6a8c6121aeab0c2c74499a"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-777b8b733feb709e0c6a8c6121aeab0c2c74499a-1" class="line-number-anchor" /><a href="#line-number-777b8b733feb709e0c6a8c6121aeab0c2c74499a-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$repository = $documentManager-&gt;getRepository(<span class="hljs-string">"MyApp\Document\MyPersistentClass"</span>);
$john = $repository-&gt;findOneBy(<span class="hljs-keyword">array</span>(<span class="hljs-string">"name"</span> =&gt; <span class="hljs-string">"John Galt"</span>));</td></tr>
<tr><td class="line-number noselect"><a name="line-number-777b8b733feb709e0c6a8c6121aeab0c2c74499a-2" class="line-number-anchor" /><a href="#line-number-777b8b733feb709e0c6a8c6121aeab0c2c74499a-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-777b8b733feb709e0c6a8c6121aeab0c2c74499a-3" class="line-number-anchor" /><a href="#line-number-777b8b733feb709e0c6a8c6121aeab0c2c74499a-3">3</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="json-names" name="json-names"></a><h3 class="section-header"><a href="#json-names">Json Names<i class="fas fa-link"></i></a></h3>
<p>If your fields for some reason have different names in the PHP class and CouchDB document you<br />can use the attribute jsonName to specify the name of the key in the json document.</p>
</div>
</div>
</div>
<div class="section"><a class="section-anchor" id="id-mapping" name="id-mapping"></a><h2 class="section-header"><a href="#id-mapping">Id Mapping<i class="fas fa-link"></i></a></h2>
<p>CouchDB documents have a special field _id that contains the globally
unique identifier of a document in the database. This is always a string,
so it suffices to specify only the @Id annotation on the property:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="fddc1e7abd489427f1061bf780f6c7ac58c7b6bd"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="fddc1e7abd489427f1061bf780f6c7ac58c7b6bd"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-fddc1e7abd489427f1061bf780f6c7ac58c7b6bd-1" class="line-number-anchor" /><a href="#line-number-fddc1e7abd489427f1061bf780f6c7ac58c7b6bd-1">1</a></td><td class="code-line" rowspan="7"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">/** <span class="hljs-doctag">@Document</span> */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyPersistentClass</span>
</span>{
    <span class="hljs-comment">/** <span class="hljs-doctag">@Id</span> */</span>
    <span class="hljs-keyword">private</span> $id;
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-fddc1e7abd489427f1061bf780f6c7ac58c7b6bd-2" class="line-number-anchor" /><a href="#line-number-fddc1e7abd489427f1061bf780f6c7ac58c7b6bd-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fddc1e7abd489427f1061bf780f6c7ac58c7b6bd-3" class="line-number-anchor" /><a href="#line-number-fddc1e7abd489427f1061bf780f6c7ac58c7b6bd-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fddc1e7abd489427f1061bf780f6c7ac58c7b6bd-4" class="line-number-anchor" /><a href="#line-number-fddc1e7abd489427f1061bf780f6c7ac58c7b6bd-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fddc1e7abd489427f1061bf780f6c7ac58c7b6bd-5" class="line-number-anchor" /><a href="#line-number-fddc1e7abd489427f1061bf780f6c7ac58c7b6bd-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fddc1e7abd489427f1061bf780f6c7ac58c7b6bd-6" class="line-number-anchor" /><a href="#line-number-fddc1e7abd489427f1061bf780f6c7ac58c7b6bd-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fddc1e7abd489427f1061bf780f6c7ac58c7b6bd-7" class="line-number-anchor" /><a href="#line-number-fddc1e7abd489427f1061bf780f6c7ac58c7b6bd-7">7</a></td></tr></table></div></code></pre>
<div class="section"><a class="section-anchor" id="id-generation-strategies" name="id-generation-strategies"></a><h3 class="section-header"><a href="#id-generation-strategies">Id Generation Strategies<i class="fas fa-link"></i></a></h3>
<p>By default the ODM uses CouchDBs batch UUID generation mechanism
to generate a UUID for a document as soon as it is registered with
the DocumentManager. You can configure different strategies to generate
IDs, here is a list:</p>
<ul><li class="dash">  @Id(strategy=&quot;UUID&quot;) - Uses CouchDB UUID generation. This is the implicitly
    selected strategy if you do not specify the strategy argument</li>
<li class="dash">  @Id(strategy=&quot;ASSIGNED&quot;) - Assumes that you as developer have assigned a unique
    identifier before passing the document to the DocumentManager for the first time.</li>
</ul>

</div>
</div>
<div class="section"><a class="section-anchor" id="attachments" name="attachments"></a><h2 class="section-header"><a href="#attachments">Attachments<i class="fas fa-link"></i></a></h2>
<p>You can map an array of all CouchDB attachments to a document to a field in your PHP class:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="14b3859ea59dbda31e27ee221af7fc0d709b596f"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="14b3859ea59dbda31e27ee221af7fc0d709b596f"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-14b3859ea59dbda31e27ee221af7fc0d709b596f-1" class="line-number-anchor" /><a href="#line-number-14b3859ea59dbda31e27ee221af7fc0d709b596f-1">1</a></td><td class="code-line" rowspan="7"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">/** <span class="hljs-doctag">@Document</span> */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyPersistentClass</span>
</span>{
    <span class="hljs-comment">/** <span class="hljs-doctag">@Attachments</span> */</span>
    <span class="hljs-keyword">private</span> $attachments;
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-14b3859ea59dbda31e27ee221af7fc0d709b596f-2" class="line-number-anchor" /><a href="#line-number-14b3859ea59dbda31e27ee221af7fc0d709b596f-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-14b3859ea59dbda31e27ee221af7fc0d709b596f-3" class="line-number-anchor" /><a href="#line-number-14b3859ea59dbda31e27ee221af7fc0d709b596f-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-14b3859ea59dbda31e27ee221af7fc0d709b596f-4" class="line-number-anchor" /><a href="#line-number-14b3859ea59dbda31e27ee221af7fc0d709b596f-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-14b3859ea59dbda31e27ee221af7fc0d709b596f-5" class="line-number-anchor" /><a href="#line-number-14b3859ea59dbda31e27ee221af7fc0d709b596f-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-14b3859ea59dbda31e27ee221af7fc0d709b596f-6" class="line-number-anchor" /><a href="#line-number-14b3859ea59dbda31e27ee221af7fc0d709b596f-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-14b3859ea59dbda31e27ee221af7fc0d709b596f-7" class="line-number-anchor" /><a href="#line-number-14b3859ea59dbda31e27ee221af7fc0d709b596f-7">7</a></td></tr></table></div></code></pre>
<p>The mapped field is indexed by filename and contains instances of <code>Doctrine\CouchDB\Attachment</code>.
Contents of the attachments are loaded lazily by using the stub details inside the CouchDB document.</p>
</div>
<div class="section"><a class="section-anchor" id="document-repositories" name="document-repositories"></a><h2 class="section-header"><a href="#document-repositories">Document Repositories<i class="fas fa-link"></i></a></h2>
<p>A repository is a finder class for your documents. Every document automatically has a repository
of the type <code>Doctrine\ODM\CouchDB\DocumentRepository</code>. You can specify your own repository classes
that extend the base repository and provide additional finder methods:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="64abc1577a6317b138989b6e554cd68d2397bde5"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="64abc1577a6317b138989b6e554cd68d2397bde5"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-64abc1577a6317b138989b6e554cd68d2397bde5-1" class="line-number-anchor" /><a href="#line-number-64abc1577a6317b138989b6e554cd68d2397bde5-1">1</a></td><td class="code-line" rowspan="7"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">/** <span class="hljs-doctag">@Document</span>(repositoryClass="MyApp\Repository\MyPersistentRepository") */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyPersistentClass</span>
</span>{
    <span class="hljs-comment">/** <span class="hljs-doctag">@Attachments</span> */</span>
    <span class="hljs-keyword">private</span> $attachments;
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-64abc1577a6317b138989b6e554cd68d2397bde5-2" class="line-number-anchor" /><a href="#line-number-64abc1577a6317b138989b6e554cd68d2397bde5-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-64abc1577a6317b138989b6e554cd68d2397bde5-3" class="line-number-anchor" /><a href="#line-number-64abc1577a6317b138989b6e554cd68d2397bde5-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-64abc1577a6317b138989b6e554cd68d2397bde5-4" class="line-number-anchor" /><a href="#line-number-64abc1577a6317b138989b6e554cd68d2397bde5-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-64abc1577a6317b138989b6e554cd68d2397bde5-5" class="line-number-anchor" /><a href="#line-number-64abc1577a6317b138989b6e554cd68d2397bde5-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-64abc1577a6317b138989b6e554cd68d2397bde5-6" class="line-number-anchor" /><a href="#line-number-64abc1577a6317b138989b6e554cd68d2397bde5-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-64abc1577a6317b138989b6e554cd68d2397bde5-7" class="line-number-anchor" /><a href="#line-number-64abc1577a6317b138989b6e554cd68d2397bde5-7">7</a></td></tr></table></div></code></pre>
<p>Then when calling <code>DocumentManager#getRepository</code> you will get an instance of your repository subclass:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="6d7b1c87d01f2c2bbcbb55f77d4643b61f6d7833"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="6d7b1c87d01f2c2bbcbb55f77d4643b61f6d7833"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-6d7b1c87d01f2c2bbcbb55f77d4643b61f6d7833-1" class="line-number-anchor" /><a href="#line-number-6d7b1c87d01f2c2bbcbb55f77d4643b61f6d7833-1">1</a></td><td class="code-line" rowspan="2"><span class="hljs-meta">&lt;?php</span>
$repository = $documentManager-&gt;getRepository(<span class="hljs-string">"MyApp\Document\MyPersistentClass"</span>);</td></tr>
<tr><td class="line-number noselect"><a name="line-number-6d7b1c87d01f2c2bbcbb55f77d4643b61f6d7833-2" class="line-number-anchor" /><a href="#line-number-6d7b1c87d01f2c2bbcbb55f77d4643b61f6d7833-2">2</a></td></tr></table></div></code></pre>

</div>

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                    <footer class="footer">
                <div class="container">
                    <ul class="list-inline">
                        <li class="list-inline-item"><a href="/projects.html">Projects</a></li>
                        <li class="list-inline-item"><a href="/partners.html">Partners</a></li>
                        <li class="list-inline-item"><a href="/sponsorship.html">Sponsorship</a></li>
                        <li class="list-inline-item"><a href="/community/index.html">Community</a></li>
                        <li class="list-inline-item"><a href="/blog/index.html">Blog</a></li>
                        <li class="list-inline-item"><a href="/events.html">Events</a></li>
                        <li class="list-inline-item"><a href="/consulting.html">Consulting</a></li>
                    </ul>
                </div>
            </footer>
        
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?5b3818"
                            integrity="sha384-fyrn6RNWHQbvjdZgboYZiPqKrNVycvMxvrO82FIf25RgB+5BeS7O7XJQuvJOJH3O"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'couchdb-odm';
            var versionSlug = 'latest';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search CouchDB ODM master'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            </body>
</html>
