<!DOCTYPE html>
<html>
    <head>
        <title>        Doctrine Query Language - Doctrine Object Relational Mapper (ORM)
    </title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine Object Relational Mapper Documentation: Doctrine Query Language ">

        <meta name="keywords" content="                    orm,database,documentation,doctrine,query,language
    ">

                    <meta name="robots" content="index, follow">
        
        
                    <link rel="canonical" href="https://www.doctrine-project.org/projects/doctrine-orm/en/3.5/reference/dql-doctrine-query-language.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?9cdf7c"
                        integrity="sha384-5h/0UfqMSMxW3p7/1/qyk7097ag/ba4tVnSliH/Ya6HzNi5cU6qqSJimrKcIMsQ5"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/projects/doctrine-orm/en/3.0/reference/dql-doctrine-query-language.html" />
        <meta property="og:title" content="        Doctrine Query Language - Doctrine Object Relational Mapper (ORM)
    " />
        <meta property="og:description" content="Doctrine Object Relational Mapper Documentation: Doctrine Query Language " />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine Object Relational Mapper",
            "description": "Doctrine Query Language",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://www.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/sponsorship.html">Sponsorship</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/orm/edit//docs/en/reference/dql-doctrine-query-language.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        

            <div class="toc-section">
<h2 class="toc-header">Tutorials</h2><div class="toc">
    <ul class="menu-level">
    <li class="toc-item">
    <a href="../tutorials/getting-started.html#getting-started-with-doctrine">Getting Started with Doctrine</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="../tutorials/getting-started.html#guide-assumptions">Guide Assumptions</a>


</li>
            <li class="toc-item">
    <a href="../tutorials/getting-started.html#what-is-doctrine">What is Doctrine?</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="../tutorials/getting-started.html#what-are-entities">What are Entities?</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="../tutorials/getting-started.html#an-example-model-bug-tracker">An Example Model: Bug Tracker</a>


</li>
            <li class="toc-item">
    <a href="../tutorials/getting-started.html#project-setup">Project Setup</a>


</li>
            <li class="toc-item">
    <a href="../tutorials/getting-started.html#obtaining-the-entitymanager">Obtaining the EntityManager</a>


</li>
            <li class="toc-item">
    <a href="../tutorials/getting-started.html#generating-the-database-schema">Generating the Database Schema</a>


</li>
            <li class="toc-item">
    <a href="../tutorials/getting-started.html#starting-with-the-product-entity">Starting with the Product Entity</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="../tutorials/getting-started.html#adding-behavior-to-entities">Adding behavior to Entities</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="../tutorials/getting-started.html#adding-bug-and-user-entities">Adding Bug and User Entities</a>


</li>
            <li class="toc-item">
    <a href="../tutorials/getting-started.html#implementing-more-requirements">Implementing more Requirements</a>


</li>
            <li class="toc-item">
    <a href="../tutorials/getting-started.html#queries-for-application-use-cases">Queries for Application Use-Cases</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="../tutorials/getting-started.html#list-of-bugs">List of Bugs</a>


</li>
            <li class="toc-item">
    <a href="../tutorials/getting-started.html#array-hydration-of-the-bug-list">Array Hydration of the Bug List</a>


</li>
            <li class="toc-item">
    <a href="../tutorials/getting-started.html#find-by-primary-key">Find by Primary Key</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="../tutorials/getting-started.html#dashboard-of-the-user">Dashboard of the User</a>


</li>
            <li class="toc-item">
    <a href="../tutorials/getting-started.html#number-of-bugs">Number of Bugs</a>


</li>
            <li class="toc-item">
    <a href="../tutorials/getting-started.html#updating-entities">Updating Entities</a>


</li>
            <li class="toc-item">
    <a href="../tutorials/getting-started.html#entity-repositories">Entity Repositories</a>


</li>
            <li class="toc-item">
    <a href="../tutorials/getting-started.html#conclusion">Conclusion</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="../tutorials/getting-started-database.html#getting-started-database-first">Getting Started: Database First</a>


</li>
    <li class="toc-item">
    <a href="../tutorials/getting-started-models.html#getting-started-model-first">Getting Started: Model First</a>


</li>
    <li class="toc-item">
    <a href="../tutorials/working-with-indexed-associations.html#working-with-indexed-associations">Working with Indexed Associations</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="../tutorials/working-with-indexed-associations.html#mapping-indexed-associations">Mapping Indexed Associations</a>


</li>
            <li class="toc-item">
    <a href="../tutorials/working-with-indexed-associations.html#querying-indexed-associations">Querying indexed associations</a>


</li>
            <li class="toc-item">
    <a href="../tutorials/working-with-indexed-associations.html#outlook-into-the-future">Outlook into the Future</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="../tutorials/extra-lazy-associations.html#extra-lazy-associations">Extra Lazy Associations</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="../tutorials/extra-lazy-associations.html#enabling-extra-lazy-associations">Enabling Extra-Lazy Associations</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="../tutorials/composite-primary-keys.html#composite-and-foreign-keys-as-primary-key">Composite and Foreign Keys as Primary Key</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="../tutorials/composite-primary-keys.html#general-considerations">General Considerations</a>


</li>
            <li class="toc-item">
    <a href="../tutorials/composite-primary-keys.html#primitive-types-only">Primitive Types only</a>


</li>
            <li class="toc-item">
    <a href="../tutorials/composite-primary-keys.html#identity-through-foreign-entities">Identity through foreign Entities</a>


</li>
            <li class="toc-item">
    <a href="../tutorials/composite-primary-keys.html#use-case-1-dynamic-attributes">Use-Case 1: Dynamic Attributes</a>


</li>
            <li class="toc-item">
    <a href="../tutorials/composite-primary-keys.html#use-case-2-simple-derived-identity">Use-Case 2: Simple Derived Identity</a>


</li>
            <li class="toc-item">
    <a href="../tutorials/composite-primary-keys.html#use-case-3-join-table-with-metadata">Use-Case 3: Join-Table with Metadata</a>


</li>
            <li class="toc-item">
    <a href="../tutorials/composite-primary-keys.html#performance-considerations">Performance Considerations</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="../tutorials/ordered-associations.html#ordering-to-many-associations">Ordering To-Many Associations</a>


</li>
    <li class="toc-item">
    <a href="../tutorials/override-field-association-mappings-in-subclasses.html#override-field-association-mappings-in-subclasses">Override Field Association Mappings In Subclasses</a>


</li>
    <li class="toc-item">
    <a href="../tutorials/pagination.html#pagination">Pagination</a>


</li>
    <li class="toc-item">
    <a href="../tutorials/embeddables.html#separating-concerns-using-embeddables">Separating Concerns using Embeddables</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="../tutorials/embeddables.html#initializing-embeddables">Initializing embeddables</a>


</li>
            <li class="toc-item">
    <a href="../tutorials/embeddables.html#column-prefixing">Column Prefixing</a>


</li>
            <li class="toc-item">
    <a href="../tutorials/embeddables.html#dql">DQL</a>


</li>
                    </ul>
</li>
    </ul>
</div>
</div><div class="toc-section">
<h2 class="toc-header">Reference</h2><div class="toc">
    <ul class="menu-level">
    <li class="toc-item">
    <a href="architecture.html#architecture">Architecture</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="architecture.html#using-an-object-relational-mapper">Using an Object-Relational Mapper</a>


</li>
            <li class="toc-item">
    <a href="architecture.html#requirements">Requirements</a>


</li>
            <li class="toc-item">
    <a href="architecture.html#doctrine-orm-packages">Doctrine ORM Packages</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="architecture.html#collection-event-manager-and-persistence">Collection, Event Manager and Persistence</a>


</li>
            <li class="toc-item">
    <a href="architecture.html#the-dbal-package">The DBAL Package</a>


</li>
            <li class="toc-item">
    <a href="architecture.html#the-orm-package">The ORM Package</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="architecture.html#terminology">Terminology</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="architecture.html#entities">Entities</a>


</li>
            <li class="toc-item">
    <a href="architecture.html#mapped-superclasses">Mapped Superclasses</a>


</li>
            <li class="toc-item">
    <a href="architecture.html#transient-classes">Transient Classes</a>


</li>
            <li class="toc-item">
    <a href="architecture.html#entity-states">Entity states</a>


</li>
            <li class="toc-item">
    <a href="architecture.html#persistent-fields">Persistent fields</a>


</li>
            <li class="toc-item">
    <a href="architecture.html#serializing-entities">Serializing entities</a>


</li>
            <li class="toc-item">
    <a href="architecture.html#the-entitymanager">The EntityManager</a>


</li>
            <li class="toc-item">
    <a href="architecture.html#transactional-write-behind">Transactional write-behind</a>


</li>
            <li class="toc-item">
    <a href="architecture.html#the-unit-of-work">The Unit of Work</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="configuration.html#installation-and-configuration">Installation and Configuration</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="configuration.html#class-loading">Class loading</a>


</li>
            <li class="toc-item">
    <a href="configuration.html#obtaining-an-entitymanager">Obtaining an EntityManager</a>


</li>
            <li class="toc-item">
    <a href="configuration.html#setting-up-the-commandline-tool">Setting up the Commandline Tool</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="faq.html#frequently-asked-questions">Frequently Asked Questions</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="faq.html#database-schema">Database Schema</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="faq.html#how-do-i-set-the-charset-and-collation-for-mysql-tables">How do I set the charset and collation for MySQL tables?</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="faq.html#entity-classes">Entity Classes</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="faq.html#how-can-i-add-default-values-to-a-column">How can I add default values to a column?</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="faq.html#mapping">Mapping</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="faq.html#why-do-i-get-exceptions-about-unique-constraint-failures-during-em-flush">Why do I get exceptions about unique constraint failures during $em-&gt;flush()?</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="faq.html#associations">Associations</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="faq.html#what-is-wrong-when-i-get-an-invalidargumentexception-a-new-entity-was-found-through-the-relationship">What is wrong when I get an InvalidArgumentException &quot;A new entity was found through the relationship..&quot;?</a>


</li>
            <li class="toc-item">
    <a href="faq.html#how-can-i-filter-an-association">How can I filter an association?</a>


</li>
            <li class="toc-item">
    <a href="faq.html#i-call-clear-on-a-one-to-many-collection-but-the-entities-are-not-deleted">I call clear() on a One-To-Many collection but the entities are not deleted</a>


</li>
            <li class="toc-item">
    <a href="faq.html#how-can-i-add-columns-to-a-many-to-many-table">How can I add columns to a many-to-many table?</a>


</li>
            <li class="toc-item">
    <a href="faq.html#how-can-i-paginate-fetch-joined-collections">How can i paginate fetch-joined collections?</a>


</li>
            <li class="toc-item">
    <a href="faq.html#why-does-pagination-not-work-correctly-with-fetch-joins">Why does pagination not work correctly with fetch joins?</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="faq.html#inheritance">Inheritance</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="faq.html#can-i-use-inheritance-with-doctrine-orm">Can I use Inheritance with Doctrine ORM?</a>


</li>
            <li class="toc-item">
    <a href="faq.html#why-does-doctrine-not-create-proxy-objects-for-my-inheritance-hierarchy">Why does Doctrine not create proxy objects for my inheritance hierarchy?</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="faq.html#entitygenerator">EntityGenerator</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="faq.html#why-does-the-entitygenerator-not-do-x">Why does the EntityGenerator not do X?</a>


</li>
            <li class="toc-item">
    <a href="faq.html#why-does-the-entitygenerator-not-generate-inheritance-correctly">Why does the EntityGenerator not generate inheritance correctly?</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="faq.html#performance">Performance</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="faq.html#why-is-an-extra-sql-query-executed-every-time-i-fetch-an-entity-with-a-one-to-one-relation">Why is an extra SQL query executed every time I fetch an entity with a one-to-one relation?</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="faq.html#doctrine-query-language">Doctrine Query Language</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="faq.html#what-is-dql">What is DQL?</a>


</li>
            <li class="toc-item">
    <a href="faq.html#can-i-sort-by-a-function-for-example-order-by-rand-in-dql">Can I sort by a function (for example ORDER BY RAND()) in DQL?</a>


</li>
            <li class="toc-item">
    <a href="faq.html#is-it-better-to-write-dql-or-to-generate-it-with-the-query-builder">Is it better to write DQL or to generate it with the query builder?</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="faq.html#a-query-fails-how-can-i-debug-it">A Query fails, how can I debug it?</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="basic-mapping.html#basic-mapping">Basic Mapping</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="basic-mapping.html#creating-classes-for-the-database">Creating Classes for the Database</a>


</li>
            <li class="toc-item">
    <a href="basic-mapping.html#property-mapping">Property Mapping</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="basic-mapping.html#php-types-mapping">PHP Types Mapping</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="basic-mapping.html#doctrine-mapping-types">Doctrine Mapping Types</a>


</li>
            <li class="toc-item">
    <a href="basic-mapping.html#identifiers-primary-keys">Identifiers / Primary Keys</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="basic-mapping.html#identifier-generation-strategies">Identifier Generation Strategies</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="basic-mapping.html#sequence-generator">Sequence Generator</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="basic-mapping.html#composite-keys">Composite Keys</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="basic-mapping.html#quoting-reserved-words">Quoting Reserved Words</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="association-mapping.html#association-mapping">Association Mapping</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="association-mapping.html#many-to-one-unidirectional">Many-To-One, Unidirectional</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#one-to-one-unidirectional">One-To-One, Unidirectional</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#one-to-one-bidirectional">One-To-One, Bidirectional</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#one-to-one-self-referencing">One-To-One, Self-referencing</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#one-to-many-bidirectional">One-To-Many, Bidirectional</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#one-to-many-unidirectional-with-join-table">One-To-Many, Unidirectional with Join Table</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#one-to-many-self-referencing">One-To-Many, Self-referencing</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#many-to-many-unidirectional">Many-To-Many, Unidirectional</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#many-to-many-bidirectional">Many-To-Many, Bidirectional</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="association-mapping.html#owning-and-inverse-side-on-a-manytomany-association">Owning and Inverse Side on a ManyToMany Association</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="association-mapping.html#many-to-many-self-referencing">Many-To-Many, Self-referencing</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#mapping-defaults">Mapping Defaults</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#collections">Collections</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#initializing-collections">Initializing Collections</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="inheritance-mapping.html#inheritance-mapping">Inheritance Mapping</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="inheritance-mapping.html#mapped-superclasses">Mapped Superclasses</a>


</li>
            <li class="toc-item">
    <a href="inheritance-mapping.html#entity-inheritance">Entity Inheritance</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="inheritance-mapping.html#performance-impact-on-to-one-associations">Performance impact on to-one associations</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="inheritance-mapping.html#single-table-inheritance">Single Table Inheritance</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="inheritance-mapping.html#design-time-considerations">Design-time considerations</a>


</li>
            <li class="toc-item">
    <a href="inheritance-mapping.html#performance-impact">Performance impact</a>


</li>
            <li class="toc-item">
    <a href="inheritance-mapping.html#sql-schema-considerations">SQL Schema considerations</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="inheritance-mapping.html#class-table-inheritance">Class Table Inheritance</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="inheritance-mapping.html#design-time-considerations">Design-time considerations</a>


</li>
            <li class="toc-item">
    <a href="inheritance-mapping.html#performance-impact">Performance impact</a>


</li>
            <li class="toc-item">
    <a href="inheritance-mapping.html#sql-schema-considerations">SQL Schema considerations</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="inheritance-mapping.html#overrides">Overrides</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="inheritance-mapping.html#association-override">Association Override</a>


</li>
            <li class="toc-item">
    <a href="inheritance-mapping.html#attribute-override">Attribute Override</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="inheritance-mapping.html#query-the-type">Query the Type</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="working-with-objects.html#working-with-objects">Working with Objects</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="working-with-objects.html#entities-and-the-identity-map">Entities and the Identity Map</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#entity-object-graph-traversal">Entity Object Graph Traversal</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#persisting-entities">Persisting entities</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#removing-entities">Removing entities</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="working-with-objects.html#join-table-management-when-removing-from-many-to-many-collections">Join-table management when removing from many-to-many collections</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#performance-of-different-deletion-strategies">Performance of different deletion strategies</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="working-with-objects.html#detaching-entities">Detaching entities</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#synchronization-with-the-database">Synchronization with the Database</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="working-with-objects.html#effects-of-database-and-unitofwork-being-out-of-sync">Effects of Database and UnitOfWork being Out-Of-Sync</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#synchronizing-new-and-managed-entities">Synchronizing New and Managed Entities</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#synchronizing-removed-entities">Synchronizing Removed Entities</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#the-size-of-a-unit-of-work">The size of a Unit of Work</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#the-cost-of-flushing">The cost of flushing</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#direct-access-to-a-unit-of-work">Direct access to a Unit of Work</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#entity-state">Entity State</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="working-with-objects.html#querying">Querying</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="working-with-objects.html#by-primary-key">By Primary Key</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#by-simple-conditions">By Simple Conditions</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#by-criteria">By Criteria</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#by-eager-loading">By Eager Loading</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#by-lazy-loading">By Lazy Loading</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#by-dql">By DQL</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#by-native-queries">By Native Queries</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#custom-repositories">Custom Repositories</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="working-with-associations.html#working-with-associations">Working with Associations</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="working-with-associations.html#association-example-entities">Association Example Entities</a>


</li>
            <li class="toc-item">
    <a href="working-with-associations.html#establishing-associations">Establishing Associations</a>


</li>
            <li class="toc-item">
    <a href="working-with-associations.html#removing-associations">Removing Associations</a>


</li>
            <li class="toc-item">
    <a href="working-with-associations.html#association-management-methods">Association Management Methods</a>


</li>
            <li class="toc-item">
    <a href="working-with-associations.html#synchronizing-bidirectional-collections">Synchronizing Bidirectional Collections</a>


</li>
            <li class="toc-item">
    <a href="working-with-associations.html#transitive-persistence-cascade-operations">Transitive persistence / Cascade Operations</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="working-with-associations.html#persistence-by-reachability-cascade-persist">Persistence by Reachability: Cascade Persist</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="working-with-associations.html#orphan-removal">Orphan Removal</a>


</li>
            <li class="toc-item">
    <a href="working-with-associations.html#filtering-collections">Filtering Collections</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="typedfieldmapper.html#implementing-a-typedfieldmapper">Implementing a TypedFieldMapper</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="typedfieldmapper.html#defaulttypedfieldmapper">DefaultTypedFieldMapper</a>


</li>
            <li class="toc-item">
    <a href="typedfieldmapper.html#typedfieldmapper-interface">TypedFieldMapper interface</a>


</li>
            <li class="toc-item">
    <a href="typedfieldmapper.html#chaintypedfieldmapper">ChainTypedFieldMapper</a>


</li>
            <li class="toc-item">
    <a href="typedfieldmapper.html#implementing-a-typedfieldmapper">Implementing a TypedFieldMapper</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="events.html#events">Events</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="events.html#the-event-system">The Event System</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="events.html#registering-event-handlers">Registering Event Handlers</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="events.html#events-overview">Events Overview</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="events.html#naming-convention">Naming convention</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="events.html#lifecycle-callbacks">Lifecycle Callbacks</a>


</li>
            <li class="toc-item">
    <a href="events.html#lifecycle-callbacks-event-argument">Lifecycle Callbacks Event Argument</a>


</li>
            <li class="toc-item">
    <a href="events.html#listening-and-subscribing-to-lifecycle-events">Listening and subscribing to Lifecycle Events</a>


</li>
            <li class="toc-item">
    <a href="events.html#implementing-event-listeners">Implementing Event Listeners</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="events.html#prepersist">prePersist</a>


</li>
            <li class="toc-item">
    <a href="events.html#preremove">preRemove</a>


</li>
            <li class="toc-item">
    <a href="events.html#preflush">preFlush</a>


</li>
            <li class="toc-item">
    <a href="events.html#onflush">onFlush</a>


</li>
            <li class="toc-item">
    <a href="events.html#postflush">postFlush</a>


</li>
            <li class="toc-item">
    <a href="events.html#preupdate">preUpdate</a>


</li>
            <li class="toc-item">
    <a href="events.html#postupdate-postremove-postpersist">postUpdate, postRemove, postPersist</a>


</li>
            <li class="toc-item">
    <a href="events.html#postload">postLoad</a>


</li>
            <li class="toc-item">
    <a href="events.html#onclear">onClear</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="events.html#entity-listeners">Entity listeners</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="events.html#entity-listeners-class">Entity listeners class</a>


</li>
            <li class="toc-item">
    <a href="events.html#entity-listeners-resolver">Entity listeners resolver</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="events.html#load-classmetadata-event">Load ClassMetadata Event</a>


</li>
            <li class="toc-item">
    <a href="events.html#schematool-events">SchemaTool Events</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="events.html#postgenerateschematable">postGenerateSchemaTable</a>


</li>
            <li class="toc-item">
    <a href="events.html#postgenerateschema">postGenerateSchema</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="unitofwork.html#doctrine-internals-explained">Doctrine Internals explained</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="unitofwork.html#how-doctrine-keeps-track-of-objects">How Doctrine keeps track of Objects</a>


</li>
            <li class="toc-item">
    <a href="unitofwork.html#how-doctrine-detects-changes">How Doctrine Detects Changes</a>


</li>
            <li class="toc-item">
    <a href="unitofwork.html#query-internals">Query Internals</a>


</li>
            <li class="toc-item">
    <a href="unitofwork.html#the-different-orm-layers">The different ORM Layers</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="unitofwork.html#hydration">Hydration</a>


</li>
            <li class="toc-item">
    <a href="unitofwork.html#persisters">Persisters</a>


</li>
            <li class="toc-item">
    <a href="unitofwork.html#unitofwork">UnitOfWork</a>


</li>
            <li class="toc-item">
    <a href="unitofwork.html#resultsetmapping">ResultSetMapping</a>


</li>
            <li class="toc-item">
    <a href="unitofwork.html#dql-parser">DQL Parser</a>


</li>
            <li class="toc-item">
    <a href="unitofwork.html#sqlwalker">SQLWalker</a>


</li>
            <li class="toc-item">
    <a href="unitofwork.html#entitymanager">EntityManager</a>


</li>
            <li class="toc-item">
    <a href="unitofwork.html#classmetadatafactory">ClassMetadataFactory</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="unitofwork-associations.html#association-updates-owning-side-and-inverse-side">Association Updates: Owning Side and Inverse Side</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="unitofwork-associations.html#bidirectional-associations">Bidirectional Associations</a>


</li>
            <li class="toc-item">
    <a href="unitofwork-associations.html#important-concepts">Important concepts</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="transactions-and-concurrency.html#transactions-and-concurrency">Transactions and Concurrency</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="transactions-and-concurrency.html#transaction-demarcation">Transaction Demarcation</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="transactions-and-concurrency.html#approach-1-implicitly">Approach 1: Implicitly</a>


</li>
            <li class="toc-item">
    <a href="transactions-and-concurrency.html#approach-2-explicitly">Approach 2: Explicitly</a>


</li>
            <li class="toc-item">
    <a href="transactions-and-concurrency.html#exception-handling">Exception Handling</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="transactions-and-concurrency.html#locking-support">Locking Support</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="transactions-and-concurrency.html#optimistic-locking">Optimistic Locking</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="transactions-and-concurrency.html#important-implementation-notes">Important Implementation Notes</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="transactions-and-concurrency.html#pessimistic-locking">Pessimistic Locking</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="batch-processing.html#batch-processing">Batch Processing</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="batch-processing.html#bulk-inserts">Bulk Inserts</a>


</li>
            <li class="toc-item">
    <a href="batch-processing.html#bulk-updates">Bulk Updates</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="batch-processing.html#dql-update">DQL UPDATE</a>


</li>
            <li class="toc-item">
    <a href="batch-processing.html#iterating-results">Iterating results</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="batch-processing.html#bulk-deletes">Bulk Deletes</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="batch-processing.html#dql-delete">DQL DELETE</a>


</li>
            <li class="toc-item">
    <a href="batch-processing.html#iterating-results">Iterating results</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="batch-processing.html#iterating-large-results-for-data-processing">Iterating Large Results for Data-Processing</a>


</li>
                    </ul>
</li>
    <li class="toc-item opened">
    <a href="#doctrine-query-language">Doctrine Query Language</a>

        <ul class="section-level-1 opened-ul ">
            <li class="toc-item">
    <a href="#types-of-dql-queries">Types of DQL queries</a>


</li>
            <li class="toc-item">
    <a href="#select-queries">SELECT queries</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#dql-select-clause">DQL SELECT clause</a>


</li>
            <li class="toc-item">
    <a href="#result-format">Result format</a>


</li>
            <li class="toc-item">
    <a href="#joins">Joins</a>


</li>
            <li class="toc-item">
    <a href="#named-and-positional-parameters">Named and Positional Parameters</a>


</li>
            <li class="toc-item">
    <a href="#dql-select-examples">DQL SELECT Examples</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#new-operator-syntax">&quot;NEW&quot; Operator Syntax</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="#using-index-by">Using INDEX BY</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="#update-queries">UPDATE queries</a>


</li>
            <li class="toc-item">
    <a href="#delete-queries">DELETE queries</a>


</li>
            <li class="toc-item">
    <a href="#comments-in-queries">Comments in queries</a>


</li>
            <li class="toc-item">
    <a href="#functions-operators-aggregates">Functions, Operators, Aggregates</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#dql-functions">DQL Functions</a>


</li>
            <li class="toc-item">
    <a href="#arithmetic-operators">Arithmetic operators</a>


</li>
            <li class="toc-item">
    <a href="#aggregate-functions">Aggregate Functions</a>


</li>
            <li class="toc-item">
    <a href="#other-expressions">Other Expressions</a>


</li>
            <li class="toc-item">
    <a href="#adding-your-own-functions-to-the-dql-language">Adding your own functions to the DQL language</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="#querying-inherited-classes">Querying Inherited Classes</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#single-table">Single Table</a>


</li>
            <li class="toc-item">
    <a href="#class-table-inheritance">Class Table Inheritance</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="#the-query-class">The Query class</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#query-result-formats">Query Result Formats</a>


</li>
            <li class="toc-item">
    <a href="#pure-and-mixed-results">Pure and Mixed Results</a>


</li>
            <li class="toc-item">
    <a href="#fetching-multiple-from-entities">Fetching Multiple FROM Entities</a>


</li>
            <li class="toc-item">
    <a href="#hydration-modes">Hydration Modes</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#object-hydration">Object Hydration</a>


</li>
            <li class="toc-item">
    <a href="#array-hydration">Array Hydration</a>


</li>
            <li class="toc-item">
    <a href="#scalar-hydration">Scalar Hydration</a>


</li>
            <li class="toc-item">
    <a href="#single-scalar-hydration">Single Scalar Hydration</a>


</li>
            <li class="toc-item">
    <a href="#scalar-column-hydration">Scalar Column Hydration</a>


</li>
            <li class="toc-item">
    <a href="#custom-hydration-modes">Custom Hydration Modes</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="#iterating-large-result-sets">Iterating Large Result Sets</a>


</li>
            <li class="toc-item">
    <a href="#functions">Functions</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#parameters">Parameters</a>


</li>
            <li class="toc-item">
    <a href="#cache-related-api">Cache related API</a>


</li>
            <li class="toc-item">
    <a href="#query-hints">Query Hints</a>


</li>
            <li class="toc-item">
    <a href="#query-cache-dql-query-only">Query Cache (DQL Query Only)</a>


</li>
            <li class="toc-item">
    <a href="#first-and-max-result-items-dql-query-only">First and Max Result Items (DQL Query Only)</a>


</li>
            <li class="toc-item">
    <a href="#temporarily-change-fetch-mode-in-dql">Temporarily change fetch mode in DQL</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="#ebnf">EBNF</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#document-syntax">Document syntax:</a>


</li>
            <li class="toc-item">
    <a href="#terminals">Terminals</a>


</li>
            <li class="toc-item">
    <a href="#query-language">Query Language</a>


</li>
            <li class="toc-item">
    <a href="#statements">Statements</a>


</li>
            <li class="toc-item">
    <a href="#identifiers">Identifiers</a>


</li>
            <li class="toc-item">
    <a href="#path-expressions">Path Expressions</a>


</li>
            <li class="toc-item">
    <a href="#clauses">Clauses</a>


</li>
            <li class="toc-item">
    <a href="#items">Items</a>


</li>
            <li class="toc-item">
    <a href="#from-join-and-index-by">From, Join and Index by</a>


</li>
            <li class="toc-item">
    <a href="#select-expressions">Select Expressions</a>


</li>
            <li class="toc-item">
    <a href="#conditional-expressions">Conditional Expressions</a>


</li>
            <li class="toc-item">
    <a href="#collection-expressions">Collection Expressions</a>


</li>
            <li class="toc-item">
    <a href="#literal-values">Literal Values</a>


</li>
            <li class="toc-item">
    <a href="#input-parameter">Input Parameter</a>


</li>
            <li class="toc-item">
    <a href="#arithmetic-expressions">Arithmetic Expressions</a>


</li>
            <li class="toc-item">
    <a href="#scalar-and-type-expressions">Scalar and Type Expressions</a>


</li>
            <li class="toc-item">
    <a href="#aggregate-expressions">Aggregate Expressions</a>


</li>
            <li class="toc-item">
    <a href="#case-expressions">Case Expressions</a>


</li>
            <li class="toc-item">
    <a href="#other-expressions">Other Expressions</a>


</li>
            <li class="toc-item">
    <a href="#functions">Functions</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="query-builder.html#the-querybuilder">The QueryBuilder</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="query-builder.html#constructing-a-new-querybuilder-object">Constructing a new QueryBuilder object</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#working-with-querybuilder">Working with QueryBuilder</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder.html#high-level-api-methods">High level API methods</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#binding-parameters-to-your-query">Binding parameters to your query</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#limiting-the-result">Limiting the Result</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#executing-a-query">Executing a Query</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#the-expr-class">The Expr class</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#adding-a-criteria-to-a-query">Adding a Criteria to a Query</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#low-level-api">Low Level API</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#expr-classes">Expr* classes</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="native-sql.html#native-sql">Native SQL</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="native-sql.html#the-nativequery-class">The NativeQuery class</a>


</li>
            <li class="toc-item">
    <a href="native-sql.html#resultsetmappingbuilder">ResultSetMappingBuilder</a>


</li>
            <li class="toc-item">
    <a href="native-sql.html#the-resultsetmapping">The ResultSetMapping</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="native-sql.html#entity-results">Entity results</a>


</li>
            <li class="toc-item">
    <a href="native-sql.html#joined-entity-results">Joined entity results</a>


</li>
            <li class="toc-item">
    <a href="native-sql.html#field-results">Field results</a>


</li>
            <li class="toc-item">
    <a href="native-sql.html#scalar-results">Scalar results</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="native-sql.html#special-case-dtos">Special case: DTOs</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="native-sql.html#meta-results">Meta results</a>


</li>
            <li class="toc-item">
    <a href="native-sql.html#discriminator-column">Discriminator Column</a>


</li>
            <li class="toc-item">
    <a href="native-sql.html#examples">Examples</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="change-tracking-policies.html#change-tracking-policies">Change Tracking Policies</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="change-tracking-policies.html#deferred-implicit">Deferred Implicit</a>


</li>
            <li class="toc-item">
    <a href="change-tracking-policies.html#deferred-explicit">Deferred Explicit</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="attributes-reference.html#attributes-reference">Attributes Reference</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="attributes-reference.html#index">Index</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#reference">Reference</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-reference.html#associationoverride">#[AssociationOverride]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#attributeoverride">#[AttributeOverride]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#column">#[Column]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#cache">#[Cache]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#changetrackingpolicy">#[ChangeTrackingPolicy]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#customidgenerator">#[CustomIdGenerator]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#discriminatorcolumn">#[DiscriminatorColumn]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#discriminatormap">#[DiscriminatorMap]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#embeddable">#[Embeddable]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#embedded">#[Embedded]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#entity">#[Entity]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#generatedvalue">#[GeneratedValue]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#haslifecyclecallbacks">#[HasLifecycleCallbacks]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#index">#[Index]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#id">#[Id]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#inheritancetype">#[InheritanceType]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#joincolumn-inversejoincolumn">#[JoinColumn], #[InverseJoinColumn]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#jointable">#[JoinTable]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#manytoone">#[ManyToOne]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#manytomany">#[ManyToMany]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#mappedsuperclass">#[MappedSuperclass]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#onetoone">#[OneToOne]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#onetomany">#[OneToMany]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#orderby">#[OrderBy]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#postload">#[PostLoad]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#postpersist">#[PostPersist]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#postremove">#[PostRemove]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#postupdate">#[PostUpdate]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#prepersist">#[PrePersist]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#preremove">#[PreRemove]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#preupdate">#[PreUpdate]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#sequencegenerator">#[SequenceGenerator]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#table">#[Table]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#uniqueconstraint">#[UniqueConstraint]</a>


</li>
            <li class="toc-item">
    <a href="attributes-reference.html#version">#[Version]</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="xml-mapping.html#xml-mapping">XML Mapping</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="xml-mapping.html#simplified-xml-driver">Simplified XML Driver</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="xml-mapping.html#example">Example</a>


</li>
            <li class="toc-item">
    <a href="xml-mapping.html#xml-element-reference">XML-Element Reference</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="xml-mapping.html#defining-an-entity">Defining an Entity</a>


</li>
            <li class="toc-item">
    <a href="xml-mapping.html#defining-fields">Defining Fields</a>


</li>
            <li class="toc-item">
    <a href="xml-mapping.html#defining-identity-and-generator-strategies">Defining Identity and Generator Strategies</a>


</li>
            <li class="toc-item">
    <a href="xml-mapping.html#defining-a-mapped-superclass">Defining a Mapped Superclass</a>


</li>
            <li class="toc-item">
    <a href="xml-mapping.html#defining-inheritance-mappings">Defining Inheritance Mappings</a>


</li>
            <li class="toc-item">
    <a href="xml-mapping.html#defining-lifecycle-callbacks">Defining Lifecycle Callbacks</a>


</li>
            <li class="toc-item">
    <a href="xml-mapping.html#defining-one-to-one-relations">Defining One-To-One Relations</a>


</li>
            <li class="toc-item">
    <a href="xml-mapping.html#defining-many-to-one-associations">Defining Many-To-One Associations</a>


</li>
            <li class="toc-item">
    <a href="xml-mapping.html#defining-one-to-many-associations">Defining One-To-Many Associations</a>


</li>
            <li class="toc-item">
    <a href="xml-mapping.html#defining-many-to-many-associations">Defining Many-To-Many Associations</a>


</li>
            <li class="toc-item">
    <a href="xml-mapping.html#cascade-element">Cascade Element</a>


</li>
            <li class="toc-item">
    <a href="xml-mapping.html#join-column-element">Join Column Element</a>


</li>
            <li class="toc-item">
    <a href="xml-mapping.html#defining-order-of-to-many-associations">Defining Order of To-Many Associations</a>


</li>
            <li class="toc-item">
    <a href="xml-mapping.html#defining-indexes-or-unique-constraints">Defining Indexes or Unique Constraints</a>


</li>
            <li class="toc-item">
    <a href="xml-mapping.html#derived-entities-id-syntax">Derived Entities ID syntax</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="php-mapping.html#php-mapping">PHP Mapping</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="php-mapping.html#static-function">Static Function</a>


</li>
            <li class="toc-item">
    <a href="php-mapping.html#classmetadatabuilder">ClassMetadataBuilder</a>


</li>
            <li class="toc-item">
    <a href="php-mapping.html#classmetadata-api">ClassMetadata API</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="php-mapping.html#general-setters">General Setters</a>


</li>
            <li class="toc-item">
    <a href="php-mapping.html#inheritance-setters">Inheritance Setters</a>


</li>
            <li class="toc-item">
    <a href="php-mapping.html#field-mapping-setters">Field Mapping Setters</a>


</li>
            <li class="toc-item">
    <a href="php-mapping.html#lifecycle-callback-setters">Lifecycle Callback Setters</a>


</li>
            <li class="toc-item">
    <a href="php-mapping.html#versioning-setters">Versioning Setters</a>


</li>
            <li class="toc-item">
    <a href="php-mapping.html#general-getters">General Getters</a>


</li>
            <li class="toc-item">
    <a href="php-mapping.html#identifier-getters">Identifier Getters</a>


</li>
            <li class="toc-item">
    <a href="php-mapping.html#inheritance-getters">Inheritance Getters</a>


</li>
            <li class="toc-item">
    <a href="php-mapping.html#change-tracking-getters">Change Tracking Getters</a>


</li>
            <li class="toc-item">
    <a href="php-mapping.html#field-association-getters">Field &amp; Association Getters</a>


</li>
            <li class="toc-item">
    <a href="php-mapping.html#lifecycle-callback-getters">Lifecycle Callback Getters</a>


</li>
            <li class="toc-item">
    <a href="php-mapping.html#runtime-reflection-methods">Runtime reflection methods</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="caching.html#caching">Caching</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="caching.html#types-of-caches">Types of Caches</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="caching.html#query-cache">Query Cache</a>


</li>
            <li class="toc-item">
    <a href="caching.html#result-cache">Result Cache</a>


</li>
            <li class="toc-item">
    <a href="caching.html#metadata-cache">Metadata Cache</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="caching.html#clearing-the-cache">Clearing the Cache</a>


</li>
            <li class="toc-item">
    <a href="caching.html#cache-chaining">Cache Chaining</a>


</li>
            <li class="toc-item">
    <a href="caching.html#cache-slams">Cache Slams</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="improving-performance.html#improving-performance">Improving Performance</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="improving-performance.html#bytecode-cache">Bytecode Cache</a>


</li>
            <li class="toc-item">
    <a href="improving-performance.html#metadata-and-query-caches">Metadata and Query caches</a>


</li>
            <li class="toc-item">
    <a href="improving-performance.html#alternative-query-result-formats">Alternative Query Result Formats</a>


</li>
            <li class="toc-item">
    <a href="improving-performance.html#read-only-entities">Read-Only Entities</a>


</li>
            <li class="toc-item">
    <a href="improving-performance.html#extra-lazy-collections">Extra-Lazy Collections</a>


</li>
            <li class="toc-item">
    <a href="improving-performance.html#temporarily-change-fetch-mode-in-dql">Temporarily change fetch mode in DQL</a>


</li>
            <li class="toc-item">
    <a href="improving-performance.html#apply-best-practices">Apply Best Practices</a>


</li>
            <li class="toc-item">
    <a href="improving-performance.html#change-tracking-policies">Change Tracking policies</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="tools.html#tools">Tools</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="tools.html#doctrine-console">Doctrine Console</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="tools.html#setting-up-the-console">Setting Up the Console</a>


</li>
            <li class="toc-item">
    <a href="tools.html#display-help-information">Display Help Information</a>


</li>
            <li class="toc-item">
    <a href="tools.html#command-overview">Command Overview</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="tools.html#database-schema-generation">Database Schema Generation</a>


</li>
            <li class="toc-item">
    <a href="tools.html#runtime-vs-development-mapping-validation">Runtime vs Development Mapping Validation</a>


</li>
            <li class="toc-item">
    <a href="tools.html#adding-own-commands">Adding own commands</a>


</li>
            <li class="toc-item">
    <a href="tools.html#re-use-console-application">Re-use console application</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="metadata-drivers.html#metadata-drivers">Metadata Drivers</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="metadata-drivers.html#core-metadata-drivers">Core Metadata Drivers</a>


</li>
            <li class="toc-item">
    <a href="metadata-drivers.html#implementing-metadata-drivers">Implementing Metadata Drivers</a>


</li>
            <li class="toc-item">
    <a href="metadata-drivers.html#classmetadata">ClassMetadata</a>


</li>
            <li class="toc-item">
    <a href="metadata-drivers.html#getting-classmetadata-instances">Getting ClassMetadata Instances</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="best-practices.html#best-practices">Best Practices</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="best-practices.html#constrain-relationships-as-much-as-possible">Constrain relationships as much as possible</a>


</li>
            <li class="toc-item">
    <a href="best-practices.html#avoid-composite-keys">Avoid composite keys</a>


</li>
            <li class="toc-item">
    <a href="best-practices.html#use-events-judiciously">Use events judiciously</a>


</li>
            <li class="toc-item">
    <a href="best-practices.html#use-cascades-judiciously">Use cascades judiciously</a>


</li>
            <li class="toc-item">
    <a href="best-practices.html#don-t-use-special-characters">Don&#039;t use special characters</a>


</li>
            <li class="toc-item">
    <a href="best-practices.html#don-t-use-identifier-quoting">Don&#039;t use identifier quoting</a>


</li>
            <li class="toc-item">
    <a href="best-practices.html#initialize-collections-in-the-constructor">Initialize collections in the constructor</a>


</li>
            <li class="toc-item">
    <a href="best-practices.html#don-t-map-foreign-keys-to-fields-in-an-entity">Don&#039;t map foreign keys to fields in an entity</a>


</li>
            <li class="toc-item">
    <a href="best-practices.html#use-explicit-transaction-demarcation">Use explicit transaction demarcation</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="limitations-and-known-issues.html#limitations-and-known-issues">Limitations and Known Issues</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="limitations-and-known-issues.html#current-limitations">Current Limitations</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="limitations-and-known-issues.html#join-columns-with-non-primary-keys">Join-Columns with non-primary keys</a>


</li>
            <li class="toc-item">
    <a href="limitations-and-known-issues.html#mapping-arrays-to-a-join-table">Mapping Arrays to a Join Table</a>


</li>
            <li class="toc-item">
    <a href="limitations-and-known-issues.html#custom-persisters">Custom Persisters</a>


</li>
            <li class="toc-item">
    <a href="limitations-and-known-issues.html#persist-keys-of-collections">Persist Keys of Collections</a>


</li>
            <li class="toc-item">
    <a href="limitations-and-known-issues.html#mapping-many-tables-to-one-entity">Mapping many tables to one entity</a>


</li>
            <li class="toc-item">
    <a href="limitations-and-known-issues.html#behaviors">Behaviors</a>


</li>
            <li class="toc-item">
    <a href="limitations-and-known-issues.html#nested-set">Nested Set</a>


</li>
            <li class="toc-item">
    <a href="limitations-and-known-issues.html#using-traits-in-entity-classes">Using Traits in Entity Classes</a>


</li>
            <li class="toc-item">
    <a href="limitations-and-known-issues.html#mapping-multiple-private-fields-of-the-same-name">Mapping multiple private fields of the same name</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="limitations-and-known-issues.html#known-issues">Known Issues</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="limitations-and-known-issues.html#identifier-quoting-and-legacy-databases">Identifier Quoting and Legacy Databases</a>


</li>
            <li class="toc-item">
    <a href="limitations-and-known-issues.html#microsoft-sql-server-and-doctrine-datetime">Microsoft SQL Server and Doctrine &quot;datetime&quot;</a>


</li>
            <li class="toc-item">
    <a href="limitations-and-known-issues.html#mysql-with-myisam-tables">MySQL with MyISAM tables</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="../tutorials/pagination.html#pagination">Pagination</a>


</li>
    <li class="toc-item">
    <a href="filters.html#filters">Filters</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="filters.html#example-filter-class">Example filter class</a>


</li>
            <li class="toc-item">
    <a href="filters.html#configuration">Configuration</a>


</li>
            <li class="toc-item">
    <a href="filters.html#disabling-enabling-filters-and-setting-parameters">Disabling/Enabling Filters and Setting Parameters</a>


</li>
            <li class="toc-item">
    <a href="filters.html#suspending-restoring-filters">Suspending/Restoring Filters</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="namingstrategy.html#implementing-a-namingstrategy">Implementing a NamingStrategy</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="namingstrategy.html#configuring-a-naming-strategy">Configuring a naming strategy</a>


</li>
            <li class="toc-item">
    <a href="namingstrategy.html#underscore-naming-strategy">Underscore naming strategy</a>


</li>
            <li class="toc-item">
    <a href="namingstrategy.html#naming-strategy-interface">Naming strategy interface</a>


</li>
            <li class="toc-item">
    <a href="namingstrategy.html#implementing-a-naming-strategy">Implementing a naming strategy</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="advanced-configuration.html#advanced-configuration">Advanced Configuration</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="advanced-configuration.html#doctrine-and-caching">Doctrine and Caching</a>


</li>
            <li class="toc-item">
    <a href="advanced-configuration.html#configuration-options">Configuration Options</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="advanced-configuration.html#proxy-directory-required">Proxy Directory (*REQUIRED*)</a>


</li>
            <li class="toc-item">
    <a href="advanced-configuration.html#proxy-namespace-required">Proxy Namespace (*REQUIRED*)</a>


</li>
            <li class="toc-item">
    <a href="advanced-configuration.html#metadata-driver-required">Metadata Driver (*REQUIRED*)</a>


</li>
            <li class="toc-item">
    <a href="advanced-configuration.html#metadata-cache-recommended">Metadata Cache (*RECOMMENDED*)</a>


</li>
            <li class="toc-item">
    <a href="advanced-configuration.html#query-cache-recommended">Query Cache (*RECOMMENDED*)</a>


</li>
            <li class="toc-item">
    <a href="advanced-configuration.html#sql-logger-optional">SQL Logger (*Optional*)</a>


</li>
            <li class="toc-item">
    <a href="advanced-configuration.html#auto-generating-proxy-classes-optional">Auto-generating Proxy Classes (*OPTIONAL*)</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="advanced-configuration.html#development-vs-production-configuration">Development vs Production Configuration</a>


</li>
            <li class="toc-item">
    <a href="advanced-configuration.html#connection">Connection</a>


</li>
            <li class="toc-item">
    <a href="advanced-configuration.html#proxy-objects">Proxy Objects</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="advanced-configuration.html#reference-proxies">Reference Proxies</a>


</li>
            <li class="toc-item">
    <a href="advanced-configuration.html#association-proxies">Association proxies</a>


</li>
            <li class="toc-item">
    <a href="advanced-configuration.html#generating-proxy-classes">Generating Proxy classes</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="advanced-configuration.html#autoloading-proxies">Autoloading Proxies</a>


</li>
            <li class="toc-item">
    <a href="advanced-configuration.html#multiple-metadata-sources">Multiple Metadata Sources</a>


</li>
            <li class="toc-item">
    <a href="advanced-configuration.html#default-repository-optional">Default Repository (*OPTIONAL*)</a>


</li>
            <li class="toc-item">
    <a href="advanced-configuration.html#ignoring-entities-optional">Ignoring entities (*OPTIONAL*)</a>


</li>
            <li class="toc-item">
    <a href="advanced-configuration.html#setting-up-the-console">Setting up the Console</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="second-level-cache.html#the-second-level-cache">The Second Level Cache</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="second-level-cache.html#caching-regions">Caching Regions</a>


</li>
            <li class="toc-item">
    <a href="second-level-cache.html#cache-regions">Cache Regions</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="second-level-cache.html#cache-region">Cache region</a>


</li>
            <li class="toc-item">
    <a href="second-level-cache.html#concurrent-cache-region">Concurrent cache region</a>


</li>
            <li class="toc-item">
    <a href="second-level-cache.html#timestamp-region">Timestamp region</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="second-level-cache.html#caching-mode">Caching mode</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="second-level-cache.html#built-in-cached-persisters">Built-in cached persisters</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="second-level-cache.html#configuration">Configuration</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="second-level-cache.html#enable-second-level-cache">Enable Second Level Cache</a>


</li>
            <li class="toc-item">
    <a href="second-level-cache.html#cache-factory">Cache Factory</a>


</li>
            <li class="toc-item">
    <a href="second-level-cache.html#region-lifetime">Region Lifetime</a>


</li>
            <li class="toc-item">
    <a href="second-level-cache.html#cache-log">Cache Log</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="second-level-cache.html#entity-cache-definition">Entity cache definition</a>


</li>
            <li class="toc-item">
    <a href="second-level-cache.html#association-cache-definition">Association cache definition</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="second-level-cache.html#cache-usage">Cache usage</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="second-level-cache.html#using-the-query-cache">Using the query cache</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="second-level-cache.html#cache-mode">Cache mode</a>


</li>
            <li class="toc-item">
    <a href="second-level-cache.html#delete-update-queries">DELETE / UPDATE queries</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="second-level-cache.html#using-the-repository-query-cache">Using the repository query cache</a>


</li>
            <li class="toc-item">
    <a href="second-level-cache.html#cache-api">Cache API</a>


</li>
            <li class="toc-item">
    <a href="second-level-cache.html#limitations">Limitations</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="second-level-cache.html#composite-primary-key">Composite primary key</a>


</li>
            <li class="toc-item">
    <a href="second-level-cache.html#distributed-environments">Distributed environments</a>


</li>
            <li class="toc-item">
    <a href="second-level-cache.html#paginator">Paginator</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="security.html#security">Security</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="security.html#user-input-and-doctrine-orm">User input and Doctrine ORM</a>


</li>
            <li class="toc-item">
    <a href="security.html#preventing-mass-assignment-vulnerabilities">Preventing Mass Assignment Vulnerabilities</a>


</li>
                    </ul>
</li>
    </ul>
</div>
</div><div class="toc-section">
<h2 class="toc-header">Cookbook</h2><div class="toc">
    <ul class="menu-level">
    <li class="toc-item">
    <a href="../cookbook/aggregate-fields.html#aggregate-fields">Aggregate Fields</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="../cookbook/aggregate-fields.html#an-example-model">An example model</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/aggregate-fields.html#using-dql">Using DQL</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/aggregate-fields.html#using-your-domain-model">Using your Domain Model</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/aggregate-fields.html#using-an-aggregate-field">Using an Aggregate Field</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/aggregate-fields.html#tackling-race-conditions-with-aggregate-fields">Tackling Race Conditions with Aggregate Fields</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/aggregate-fields.html#keeping-updates-and-deletes-in-sync">Keeping Updates and Deletes in Sync</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/aggregate-fields.html#conclusion">Conclusion</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="../cookbook/custom-mapping-types.html#custom-mapping-types">Custom Mapping Types</a>


</li>
    <li class="toc-item">
    <a href="../cookbook/decorator-pattern.html#persisting-the-decorator-pattern">Persisting the Decorator Pattern</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="../cookbook/decorator-pattern.html#component">Component</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/decorator-pattern.html#concretecomponent">ConcreteComponent</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/decorator-pattern.html#decorator">Decorator</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/decorator-pattern.html#concretedecorator">ConcreteDecorator</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/decorator-pattern.html#examples">Examples</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="../cookbook/dql-custom-walkers.html#extending-dql-in-doctrine-orm-custom-ast-walkers">Extending DQL in Doctrine ORM: Custom AST Walkers</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="../cookbook/dql-custom-walkers.html#generic-count-query-for-pagination">Generic count query for pagination</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/dql-custom-walkers.html#modify-the-output-walker-to-generate-vendor-specific-sql">Modify the Output Walker to generate Vendor specific SQL</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="../cookbook/dql-user-defined-functions.html#dql-user-defined-functions">DQL User Defined Functions</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="../cookbook/dql-user-defined-functions.html#registering-your-own-dql-functions">Registering your own DQL functions</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/dql-user-defined-functions.html#date-diff">Date Diff</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/dql-user-defined-functions.html#date-add">Date Add</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/dql-user-defined-functions.html#conclusion">Conclusion</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="../cookbook/implementing-arrayaccess-for-domain-objects.html#implementing-arrayaccess-for-domain-objects">Implementing ArrayAccess for Domain Objects</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="../cookbook/implementing-arrayaccess-for-domain-objects.html#option-1">Option 1</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/implementing-arrayaccess-for-domain-objects.html#option-2">Option 2</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/implementing-arrayaccess-for-domain-objects.html#read-only">Read-only</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="../cookbook/resolve-target-entity-listener.html#keeping-your-modules-independent">Keeping your Modules independent</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="../cookbook/resolve-target-entity-listener.html#background">Background</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/resolve-target-entity-listener.html#set-up">Set up</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/resolve-target-entity-listener.html#final-thoughts">Final Thoughts</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="../cookbook/sql-table-prefixes.html#sql-table-prefixes">SQL-Table Prefixes</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="../cookbook/sql-table-prefixes.html#implementing-the-listener">Implementing the listener</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/sql-table-prefixes.html#telling-the-entitymanager-about-our-listener">Telling the EntityManager about our listener</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="../cookbook/strategy-cookbook-introduction.html#strategy-pattern">Strategy-Pattern</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="../cookbook/strategy-cookbook-introduction.html#scenario-problem">Scenario / Problem</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/strategy-cookbook-introduction.html#solution">Solution</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="../cookbook/validation-of-entities.html#validation-of-entities">Validation of Entities</a>


</li>
    <li class="toc-item">
    <a href="../cookbook/working-with-datetime.html#working-with-datetime-instances">Working with DateTime Instances</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="../cookbook/working-with-datetime.html#datetime-changes-are-detected-by-reference">DateTime changes are detected by Reference</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/working-with-datetime.html#default-timezone-gotcha">Default Timezone Gotcha</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/working-with-datetime.html#handling-different-timezones-with-the-datetime-type">Handling different Timezones with the DateTime Type</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="../cookbook/mysql-enums.html#mysql-enums">Mysql Enums</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="../cookbook/mysql-enums.html#solution-1-mapping-to-varchars">Solution 1: Mapping to Varchars</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/mysql-enums.html#solution-2-defining-a-type">Solution 2: Defining a Type</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="../cookbook/advanced-field-value-conversion-using-custom-mapping-types.html#advanced-field-value-conversion-using-custom-mapping-types">Advanced field value conversion using custom mapping types</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="../cookbook/advanced-field-value-conversion-using-custom-mapping-types.html#the-entity">The entity</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/advanced-field-value-conversion-using-custom-mapping-types.html#the-mapping-type">The mapping type</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/advanced-field-value-conversion-using-custom-mapping-types.html#example-usage">Example usage</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="../cookbook/entities-in-session.html#entities-in-the-session">Entities in the Session</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="../cookbook/entities-in-session.html#updating-an-entity">Updating an entity</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="../cookbook/entities-in-session.html#working-with-scalars">Working with scalars</a>


</li>
            <li class="toc-item">
    <a href="../cookbook/entities-in-session.html#working-with-custom-data-transfer-objects">Working with custom data transfer objects</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="../cookbook/entities-in-session.html#serializing-entity-into-the-session">Serializing entity into the session</a>


</li>
                    </ul>
</li>
    </ul>
</div>
</div>
    

                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://www.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "ORM",
            "item": "https://www.doctrine-project.org/projects/orm.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://www.doctrine-project.org/projects/doctrine-orm/en/3.0/index.html"
        },                {
            "@type": "ListItem",
            "position": 4,
            "name": "Doctrine Query Language",
            "item": "https://www.doctrine-project.org/projects/doctrine-orm/en/3.0/reference/dql-doctrine-query-language.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/orm.html">ORM</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-orm/en/3.0/index.html">Documentation</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Doctrine Query Language</li>
                        </ol>
</nav>
                                    </div>

                    
    <div class="alert caution bg-light-yellow text-dark border">
    <table width="100%">
        <tr>
            <td width="10" class="align-top">
                <i class="fas fa-exclamation-circle text-warning mr-2"></i>
            </td>
            <td><p>You are browsing a version that is no longer maintained.</p></td>
        </tr>
    </table>
</div>

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-orm/en/3.0/reference/dql-doctrine-query-language.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        3.0.3
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-orm/en/latest/reference/dql-doctrine-query-language.html">
                                                        4.0

                                                        
                                                                                                                    (upcoming)
                                                                                                            </a>
                                                                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-orm/en/3.6/reference/dql-doctrine-query-language.html">
                                                        3.6

                                                        
                                                                                                                    (upcoming)
                                                                                                            </a>
                                                                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-orm/en/3.5/reference/dql-doctrine-query-language.html">
                                                        3.5.2

                                                                                                                    (current)
                                                        
                                                                                                            </a>
                                                                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-orm/en/2.21/reference/dql-doctrine-query-language.html">
                                                        2.21

                                                        
                                                                                                                    (upcoming)
                                                                                                            </a>
                                                                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-orm/en/2.20/reference/dql-doctrine-query-language.html">
                                                        2.20.6

                                                        
                                                                                                            </a>
                                                                                                                                    
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/3.4/reference/dql-doctrine-query-language.html">3.4</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/3.3/reference/dql-doctrine-query-language.html">3.3</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/3.2/reference/dql-doctrine-query-language.html">3.2</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/3.1/reference/dql-doctrine-query-language.html">3.1</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item active" href="/projects/doctrine-orm/en/3.0/reference/dql-doctrine-query-language.html">3.0</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/2.19/reference/dql-doctrine-query-language.html">2.19</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/2.18/reference/dql-doctrine-query-language.html">2.18</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/2.17/reference/dql-doctrine-query-language.html">2.17</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/2.16/reference/dql-doctrine-query-language.html">2.16</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/2.15/reference/dql-doctrine-query-language.html">2.15</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/2.14/reference/dql-doctrine-query-language.html">2.14</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/2.13/reference/dql-doctrine-query-language.html">2.13</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/2.12/reference/dql-doctrine-query-language.html">2.12</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/2.11/reference/dql-doctrine-query-language.html">2.11</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/2.10/reference/dql-doctrine-query-language.html">2.10</a>
                                                                                                                                                                        </div>
                                </div>
                            
                            

            <div class="section" id="doctrine-query-language">
            <h1 class="section-header ">
    <a href="#doctrine-query-language">
        Doctrine Query Language
        <i class="fas fa-link"></i>
    </a>
</h1>
            
    <p>DQL stands for Doctrine Query Language and is an Object
Query Language derivative that is very similar to the Hibernate
Query Language (HQL) or the Java Persistence Query Language (JPQL).</p>

            
    <p>In essence, DQL provides powerful querying capabilities over your
object model. Imagine all your objects lying around in some storage
(like an object database). When writing DQL queries, think about
querying that storage to pick a certain subset of your objects.</p>

                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>A common mistake for beginners is to mistake DQL for
being just some form of SQL and therefore trying to use table names
and column names or join arbitrary tables together in a query. You
need to think about DQL as a query language for your object model,
not for your relational schema.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
            
    <p>DQL is case in-sensitive, except for namespace, class and field
names, which are case sensitive.</p>

            <div class="section" id="types-of-dql-queries">
            <h2 class="section-header ">
    <a href="#types-of-dql-queries">
        Types of DQL queries
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>DQL as a query language has SELECT, UPDATE and DELETE constructs
that map to their corresponding SQL statement types. INSERT
statements are not allowed in DQL, because entities and their
relations have to be introduced into the persistence context
through <code>EntityManager#persist()</code> to ensure consistency of your
object model.</p>

            
    <p>DQL SELECT statements are a very powerful way of retrieving parts
of your domain model that are not accessible via associations.
Additionally they allow you to retrieve entities and their associations
in one single SQL select statement which can make a huge difference
in performance compared to using several queries.</p>

            
    <p>DQL UPDATE and DELETE statements offer a way to execute bulk
changes on the entities of your domain model. This is often
necessary when you cannot load all the affected entities of a bulk
update into memory.</p>

    </div>
            <div class="section" id="select-queries">
            <h2 class="section-header ">
    <a href="#select-queries">
        SELECT queries
        <i class="fas fa-link"></i>
    </a>
</h2>
            <div class="section" id="dql-select-clause">
            <h3 class="section-header ">
    <a href="#dql-select-clause">
        DQL SELECT clause
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Here is an example that selects all users with an age &gt; 20:</p>

                <pre class="code-block-table" id="8fe5f46598592d1b97f4552a8bf2898bb423addf"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="8fe5f46598592d1b97f4552a8bf2898bb423addf"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM MyProject\Model\User u WHERE u.age &gt; 20'</span>);</code><code class="line language-php">$users = $query-&gt;getResult();</code><code class="empty"></code></pre>
            
    <p>Lets examine the query:</p>

            

<ul>
    <li class="dash"><code>u</code> is a so called identification variable or alias that
refers to the <code>MyProject\Model\User</code> class. By placing this alias
in the SELECT clause we specify that we want all instances of the
User class that are matched by this query to appear in the query
result.</li>
    <li class="dash">The FROM keyword is always followed by a fully-qualified class
name which in turn is followed by an identification variable or
alias for that class name. This class designates a root of our
query from which we can navigate further via joins (explained
later) and path expressions.</li>
    <li class="dash">The expression <code>u.age</code> in the WHERE clause is a path
expression. Path expressions in DQL are easily identified by the
use of the &#039;.&#039; operator that is used for constructing paths. The
path expression <code>u.age</code> refers to the <code>age</code> field on the User
class.</li>
</ul>

            
    <p>The result of this query would be a list of User objects where all
users are older than 20.</p>

    </div>
            <div class="section" id="result-format">
            <h3 class="section-header ">
    <a href="#result-format">
        Result format
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>The composition of the expressions in the SELECT clause also
influences the nature of the query result. There are three
cases:</p>

            
    <p><strong>All objects</strong></p>

                <pre class="code-block-table" id="7a7c332e4ed28ce5adb17677cc69f9aad7c15cff"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="7a7c332e4ed28ce5adb17677cc69f9aad7c15cff"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-sql"><span class="hljs-keyword">SELECT</span> u, p, n <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">Users</span> u...</code><code class="empty"></code></pre>
            
    <p>In this case, the result will be an array of User objects because of
the FROM clause, with children <code>p</code> and <code>n</code> hydrated because of
their inclusion in the SELECT clause.</p>

            
    <p><strong>All scalars</strong></p>

                <pre class="code-block-table" id="1a6ace34856bba1318d08b99e3431c010be0d4f6"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="1a6ace34856bba1318d08b99e3431c010be0d4f6"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-sql"><span class="hljs-keyword">SELECT</span> u.name, u.address <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">Users</span> u...</code><code class="empty"></code></pre>
            
    <p>In this case, the result will be an array of arrays.  In the example
above, each element of the result array would be an array of the
scalar name and address values.</p>

            
    <p>You can select scalars from any entity in the query.</p>

            
    <p><strong>Mixed</strong></p>

                <pre class="code-block-table" id="47cda3979bd1d04f77ee9481be706f52f0ad3034"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="47cda3979bd1d04f77ee9481be706f52f0ad3034"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-sql"><span class="hljs-keyword">SELECT</span> u, p.quantity <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">Users</span> u...</code><code class="empty"></code></pre>
            
    <p>Here, the result will again be an array of arrays, with each element
being an array made up of a User object and the scalar value
<code>p.quantity</code>.</p>

            
    <p>Multiple FROM clauses are allowed, which would cause the result
array elements to cycle through the classes included in the
multiple FROM clauses.</p>

                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>You cannot select other entities unless you also select the
root of the selection (which is the first entity in FROM).</p>

    <p>For example, <code>SELECT p,n FROM Users u...</code> would be wrong because
<code>u</code> is not part of the SELECT</p>

    <p>Doctrine throws an exception if you violate this constraint.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
            <div class="section" id="joins">
            <h3 class="section-header ">
    <a href="#joins">
        Joins
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>A SELECT query can contain joins. There are 2 types of JOINs:
&quot;Regular&quot; Joins and &quot;Fetch&quot; Joins.</p>

            
    <p><strong>Regular Joins</strong>: Used to limit the results and/or compute
aggregate values.</p>

            
    <p><strong>Fetch Joins</strong>: In addition to the uses of regular joins: Used to
fetch related entities and include them in the hydrated result of a
query.</p>

            
    <p>There is no special DQL keyword that distinguishes a regular join
from a fetch join. A join (be it an inner or outer join) becomes a
&quot;fetch join&quot; as soon as fields of the joined entity appear in the
SELECT part of the DQL query outside of an aggregate function.
Otherwise its a &quot;regular join&quot;.</p>

            
    <p>Example:</p>

            
    <p>Regular join of the address:</p>

                <pre class="code-block-table" id="4e3ab2367c9f5025da7db2252c71c1e6585051ca"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="4e3ab2367c9f5025da7db2252c71c1e6585051ca"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">"SELECT u FROM User u JOIN u.address a WHERE a.city = 'Berlin'"</span>);</code><code class="line language-php">$users = $query-&gt;getResult();</code><code class="empty"></code></pre>
            
    <p>Fetch join of the address:</p>

                <pre class="code-block-table" id="05ada9883eb25e1c49b94f19a4e571edef507204"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="05ada9883eb25e1c49b94f19a4e571edef507204"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">"SELECT u, a FROM User u JOIN u.address a WHERE a.city = 'Berlin'"</span>);</code><code class="line language-php">$users = $query-&gt;getResult();</code><code class="empty"></code></pre>
            
    <p>When Doctrine hydrates a query with fetch-join it returns the class
in the FROM clause on the root level of the result array. In the
previous example an array of User instances is returned and the
address of each user is fetched and hydrated into the
<code>User#address</code> variable. If you access the address Doctrine does
not need to lazy load the association with another query.</p>

                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>Doctrine allows you to walk all the associations between
all the objects in your domain model. Objects that were not already
loaded from the database are replaced with lazy-loading proxy
instances. Non-loaded Collections are also replaced by lazy-loading
instances that fetch all the contained objects upon first access.
However relying on the lazy-loading mechanism leads to many small
queries executed against the database, which can significantly
affect the performance of your application. <strong>Fetch Joins</strong> are the
solution to hydrate most or all of the entities that you need in a
single SELECT query.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
            <div class="section" id="named-and-positional-parameters">
            <h3 class="section-header ">
    <a href="#named-and-positional-parameters">
        Named and Positional Parameters
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>DQL supports both named and positional parameters, however in
contrast to many SQL dialects positional parameters are specified
with numbers, for example &quot;?1&quot;, &quot;?2&quot; and so on. Named parameters
are specified with &quot;:name1&quot;, &quot;:name2&quot; and so on.</p>

            
    <p>When referencing the parameters in <code>Query#setParameter($param, $value)</code>
both named and positional parameters are used <strong>without</strong> their prefixes.</p>

    </div>
            <div class="section" id="dql-select-examples">
            <h3 class="section-header ">
    <a href="#dql-select-examples">
        DQL SELECT Examples
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>This section contains a large set of DQL queries and some
explanations of what is happening. The actual result also depends
on the hydration mode.</p>

            
    <p>Hydrate all User entities:</p>

                <pre class="code-block-table" id="c1899dfc144b3609ccf963c11604f4fd3a462eb9"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="c1899dfc144b3609ccf963c11604f4fd3a462eb9"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM MyProject\Model\User u'</span>);</code><code class="line language-php">$users = $query-&gt;getResult(); <span class="hljs-comment">// array of User objects</span></code><code class="empty"></code></pre>
            
    <p>Retrieve the IDs of all CmsUsers:</p>

                <pre class="code-block-table" id="777864ee221a2f379258ba99a7479c2e5b58b24a"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="777864ee221a2f379258ba99a7479c2e5b58b24a"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u.id FROM CmsUser u'</span>);</code><code class="line language-php">$ids = $query-&gt;getResult(); <span class="hljs-comment">// array of CmsUser ids</span></code><code class="empty"></code></pre>
            
    <p>Retrieve the IDs of all users that have written an article:</p>

                <pre class="code-block-table" id="d57f4df2a8296ee63097064db543e83f52684367"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="d57f4df2a8296ee63097064db543e83f52684367"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT DISTINCT u.id FROM CmsArticle a JOIN a.user u'</span>);</code><code class="line language-php">$ids = $query-&gt;getResult(); <span class="hljs-comment">// array of CmsUser ids</span></code><code class="empty"></code></pre>
            
    <p>Retrieve all articles and sort them by the name of the articles
users instance:</p>

                <pre class="code-block-table" id="e573ed66d9884a134899b79082fb37fb1771db4e"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="e573ed66d9884a134899b79082fb37fb1771db4e"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT a FROM CmsArticle a JOIN a.user u ORDER BY u.name ASC'</span>);</code><code class="line language-php">$articles = $query-&gt;getResult(); <span class="hljs-comment">// array of CmsArticle objects</span></code><code class="empty"></code></pre>
            
    <p>Retrieve the Username and Name of a CmsUser:</p>

                <pre class="code-block-table" id="1ad6ce3eb31f620452dc0687d302431bfdeeea6a"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="1ad6ce3eb31f620452dc0687d302431bfdeeea6a"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u.username, u.name FROM CmsUser u'</span>);</code><code class="line language-php">$users = $query-&gt;getResult(); <span class="hljs-comment">// array of CmsUser username and name values</span></code><code class="line language-php"><span class="hljs-keyword">echo</span> $users[<span class="hljs-number">0</span>][<span class="hljs-string">'username'</span>];</code><code class="empty"></code></pre>
            
    <p>Retrieve a ForumUser and its single associated entity:</p>

                <pre class="code-block-table" id="5bf883cfe15bc3090fc87eaa6be8338b9b2f4902"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="5bf883cfe15bc3090fc87eaa6be8338b9b2f4902"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u, a FROM ForumUser u JOIN u.avatar a'</span>);</code><code class="line language-php">$users = $query-&gt;getResult(); <span class="hljs-comment">// array of ForumUser objects with the avatar association loaded</span></code><code class="line language-php"><span class="hljs-keyword">echo</span> get_class($users[<span class="hljs-number">0</span>]-&gt;getAvatar());</code><code class="empty"></code></pre>
            
    <p>Retrieve a CmsUser and fetch join all the phonenumbers it has:</p>

                <pre class="code-block-table" id="1236e53e74e0cef71daf59c219ec293b81579e93"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="1236e53e74e0cef71daf59c219ec293b81579e93"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u, p FROM CmsUser u JOIN u.phonenumbers p'</span>);</code><code class="line language-php">$users = $query-&gt;getResult(); <span class="hljs-comment">// array of CmsUser objects with the phonenumbers association loaded</span></code><code class="line language-php">$phonenumbers = $users[<span class="hljs-number">0</span>]-&gt;getPhonenumbers();</code><code class="empty"></code></pre>
            
    <p>Hydrate a result in Ascending:</p>

                <pre class="code-block-table" id="f4f4d6e19235f3526359363ed87f29e6211d7e18"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="f4f4d6e19235f3526359363ed87f29e6211d7e18"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM ForumUser u ORDER BY u.id ASC'</span>);</code><code class="line language-php">$users = $query-&gt;getResult(); <span class="hljs-comment">// array of ForumUser objects</span></code><code class="empty"></code></pre>
            
    <p>Or in Descending Order:</p>

                <pre class="code-block-table" id="f2d08f4887c6848680bd3766d3d4fefc40c81992"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="f2d08f4887c6848680bd3766d3d4fefc40c81992"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM ForumUser u ORDER BY u.id DESC'</span>);</code><code class="line language-php">$users = $query-&gt;getResult(); <span class="hljs-comment">// array of ForumUser objects</span></code><code class="empty"></code></pre>
            
    <p>Using Aggregate Functions:</p>

                <pre class="code-block-table" id="15cad9011e45ad73fccbe71b82aabac7bca5c5ed"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="15cad9011e45ad73fccbe71b82aabac7bca5c5ed"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT COUNT(u.id) FROM Entities\User u'</span>);</code><code class="line language-php">$count = $query-&gt;getSingleScalarResult();</code><code class="line language-php"></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u, count(g.id) FROM Entities\User u JOIN u.groups g GROUP BY u.id'</span>);</code><code class="line language-php">$result = $query-&gt;getResult();</code><code class="empty"></code></pre>
            
    <p>With WHERE Clause and Positional Parameter:</p>

                <pre class="code-block-table" id="94970120fab45118feb69b4d69495fc8e407f563"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="94970120fab45118feb69b4d69495fc8e407f563"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM ForumUser u WHERE u.id = ?1'</span>);</code><code class="line language-php">$query-&gt;setParameter(<span class="hljs-number">1</span>, <span class="hljs-number">321</span>);</code><code class="line language-php">$users = $query-&gt;getResult(); <span class="hljs-comment">// array of ForumUser objects</span></code><code class="empty"></code></pre>
            
    <p>With WHERE Clause and Named Parameter:</p>

                <pre class="code-block-table" id="ac820f9a413732d0eb5e4af782606f9b91f651bf"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="ac820f9a413732d0eb5e4af782606f9b91f651bf"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM ForumUser u WHERE u.username = :name'</span>);</code><code class="line language-php">$query-&gt;setParameter(<span class="hljs-string">'name'</span>, <span class="hljs-string">'Bob'</span>);</code><code class="line language-php">$users = $query-&gt;getResult(); <span class="hljs-comment">// array of ForumUser objects</span></code><code class="empty"></code></pre>
            
    <p>With Nested Conditions in WHERE Clause:</p>

                <pre class="code-block-table" id="db92b77fc85339c92bbfefdcb08acf9ee9f21ddf"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="db92b77fc85339c92bbfefdcb08acf9ee9f21ddf"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM ForumUser u WHERE (u.username = :name OR u.username = :name2) AND u.id = :id'</span>);</code><code class="line language-php">$query-&gt;setParameters([</code><code class="line language-php">    <span class="hljs-string">'name'</span> =&gt; <span class="hljs-string">'Bob'</span>,</code><code class="line language-php">    <span class="hljs-string">'name2'</span> =&gt; <span class="hljs-string">'Alice'</span>,</code><code class="line language-php">    <span class="hljs-string">'id'</span> =&gt; <span class="hljs-number">321</span>,</code><code class="line language-php">]);</code><code class="line language-php">$users = $query-&gt;getResult(); <span class="hljs-comment">// array of ForumUser objects</span></code><code class="empty"></code></pre>
            
    <p>With COUNT DISTINCT:</p>

                <pre class="code-block-table" id="ffe1db4b38cbab177480d0d822b5f3be72317d61"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="ffe1db4b38cbab177480d0d822b5f3be72317d61"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT COUNT(DISTINCT u.name) FROM CmsUser'</span>);</code><code class="line language-php">$users = $query-&gt;getResult(); <span class="hljs-comment">// array of ForumUser objects</span></code><code class="empty"></code></pre>
            
    <p>With Arithmetic Expression in WHERE clause:</p>

                <pre class="code-block-table" id="5f3e5955bc6eea3c8597bbfadf6a18af7ed45160"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="5f3e5955bc6eea3c8597bbfadf6a18af7ed45160"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM CmsUser u WHERE ((u.id + 5000) * u.id + 3) &lt; 10000000'</span>);</code><code class="line language-php">$users = $query-&gt;getResult(); <span class="hljs-comment">// array of ForumUser objects</span></code><code class="empty"></code></pre>
            
    <p>Retrieve user entities with Arithmetic Expression in ORDER clause, using the <code>HIDDEN</code> keyword:</p>

                <pre class="code-block-table" id="82ef03b4753c475211e7001c982454bacc0c3c81"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="82ef03b4753c475211e7001c982454bacc0c3c81"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u, u.posts_count + u.likes_count AS HIDDEN score FROM CmsUser u ORDER BY score'</span>);</code><code class="line language-php">$users = $query-&gt;getResult(); <span class="hljs-comment">// array of User objects</span></code><code class="empty"></code></pre>
            
    <p>Using a LEFT JOIN to hydrate all user-ids and optionally associated
article-ids:</p>

                <pre class="code-block-table" id="551c89600aeb6adcbb4e83dd69b89b6f52192d99"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="551c89600aeb6adcbb4e83dd69b89b6f52192d99"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u.id, a.id as article_id FROM CmsUser u LEFT JOIN u.articles a'</span>);</code><code class="line language-php">$results = $query-&gt;getResult(); <span class="hljs-comment">// array of user ids and every article_id for each user</span></code><code class="empty"></code></pre>
            
    <p>Restricting a JOIN clause by additional conditions specified by
WITH:</p>

                <pre class="code-block-table" id="a47e1736bf70895f8b9ee1f06098de711c8a5fe7"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="a47e1736bf70895f8b9ee1f06098de711c8a5fe7"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">"SELECT u FROM CmsUser u LEFT JOIN u.articles a WITH a.topic LIKE :foo"</span>);</code><code class="line language-php">$query-&gt;setParameter(<span class="hljs-string">'foo'</span>, <span class="hljs-string">'%foo%'</span>);</code><code class="line language-php">$users = $query-&gt;getResult();</code><code class="empty"></code></pre>
            
    <p>Using several Fetch JOINs:</p>

                <pre class="code-block-table" id="1c0a87ae41e7d4f9cf1f3f42d93e9bfce08ccc03"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="1c0a87ae41e7d4f9cf1f3f42d93e9bfce08ccc03"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u, a, p, c FROM CmsUser u JOIN u.articles a JOIN u.phonenumbers p JOIN a.comments c'</span>);</code><code class="line language-php">$users = $query-&gt;getResult();</code><code class="empty"></code></pre>
            
    <p>BETWEEN in WHERE clause:</p>

                <pre class="code-block-table" id="88458f228a502dc5c3ea6b14c987c6cd204e0370"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="88458f228a502dc5c3ea6b14c987c6cd204e0370"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u.name FROM CmsUser u WHERE u.id BETWEEN ?1 AND ?2'</span>);</code><code class="line language-php">$query-&gt;setParameter(<span class="hljs-number">1</span>, <span class="hljs-number">123</span>);</code><code class="line language-php">$query-&gt;setParameter(<span class="hljs-number">2</span>, <span class="hljs-number">321</span>);</code><code class="line language-php">$usernames = $query-&gt;getResult();</code><code class="empty"></code></pre>
            
    <p>DQL Functions in WHERE clause:</p>

                <pre class="code-block-table" id="84c2066cc244776a5129a7d7644c709de325a7a1"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="84c2066cc244776a5129a7d7644c709de325a7a1"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">"SELECT u.name FROM CmsUser u WHERE TRIM(u.name) = 'someone'"</span>);</code><code class="line language-php">$usernames = $query-&gt;getResult();</code><code class="empty"></code></pre>
            
    <p>IN() Expression:</p>

                <pre class="code-block-table" id="16d16dc6fcabc21970abd9367ff939a6bb676995"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="16d16dc6fcabc21970abd9367ff939a6bb676995"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u.name FROM CmsUser u WHERE u.id IN(46)'</span>);</code><code class="line language-php">$usernames = $query-&gt;getResult();</code><code class="line language-php"></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM CmsUser u WHERE u.id IN (1, 2)'</span>);</code><code class="line language-php">$users = $query-&gt;getResult();</code><code class="line language-php"></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM CmsUser u WHERE u.id NOT IN (1)'</span>);</code><code class="line language-php">$users = $query-&gt;getResult();</code><code class="empty"></code></pre>
            
    <p>CONCAT() DQL Function:</p>

                <pre class="code-block-table" id="a1b5aada1213cc1857ea50ed09dabf4a8e3553e3"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="a1b5aada1213cc1857ea50ed09dabf4a8e3553e3"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">"SELECT u.id FROM CmsUser u WHERE CONCAT(u.name, 's') = ?1"</span>);</code><code class="line language-php">$query-&gt;setParameter(<span class="hljs-number">1</span>, <span class="hljs-string">'Jess'</span>);</code><code class="line language-php">$ids = $query-&gt;getResult();</code><code class="line language-php"></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT CONCAT(u.id, u.name) FROM CmsUser u WHERE u.id = ?1'</span>);</code><code class="line language-php">$query-&gt;setParameter(<span class="hljs-number">1</span>, <span class="hljs-number">321</span>);</code><code class="line language-php">$idUsernames = $query-&gt;getResult();</code><code class="empty"></code></pre>
            
    <p>EXISTS in WHERE clause with correlated Subquery</p>

                <pre class="code-block-table" id="7b948509ad96b0f6be1aa4f4f84e557b475aa37b"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="7b948509ad96b0f6be1aa4f4f84e557b475aa37b"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u.id FROM CmsUser u WHERE EXISTS (SELECT p.phonenumber FROM CmsPhonenumber p WHERE p.user = u.id)'</span>);</code><code class="line language-php">$ids = $query-&gt;getResult();</code><code class="empty"></code></pre>
            
    <p>Get all users who are members of $group.</p>

                <pre class="code-block-table" id="c4ee557b7a8631aa6eabbaae8b18dbb3e382a6ab"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="c4ee557b7a8631aa6eabbaae8b18dbb3e382a6ab"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u.id FROM CmsUser u WHERE :groupId MEMBER OF u.groups'</span>);</code><code class="line language-php">$query-&gt;setParameter(<span class="hljs-string">'groupId'</span>, $group);</code><code class="line language-php">$ids = $query-&gt;getResult();</code><code class="empty"></code></pre>
            
    <p>Get all users that have more than 1 phonenumber</p>

                <pre class="code-block-table" id="98b11d1ead70ea98c2e9d166609551dfffde5432"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="98b11d1ead70ea98c2e9d166609551dfffde5432"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM CmsUser u WHERE SIZE(u.phonenumbers) &gt; 1'</span>);</code><code class="line language-php">$users = $query-&gt;getResult();</code><code class="empty"></code></pre>
            
    <p>Get all users that have no phonenumber</p>

                <pre class="code-block-table" id="f35989ea08aff947b4d340b6c7f1c464755aded9"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="f35989ea08aff947b4d340b6c7f1c464755aded9"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM CmsUser u WHERE u.phonenumbers IS EMPTY'</span>);</code><code class="line language-php">$users = $query-&gt;getResult();</code><code class="empty"></code></pre>
            
    <p>Get all instances of a specific type, for use with inheritance
hierarchies:</p>

                <pre class="code-block-table" id="25f1f3bd3389d5a783337b94940618036c6f0471"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="25f1f3bd3389d5a783337b94940618036c6f0471"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM Doctrine\Tests\Models\Company\CompanyPerson u WHERE u INSTANCE OF Doctrine\Tests\Models\Company\CompanyEmployee'</span>);</code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM Doctrine\Tests\Models\Company\CompanyPerson u WHERE u INSTANCE OF ?1'</span>);</code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM Doctrine\Tests\Models\Company\CompanyPerson u WHERE u NOT INSTANCE OF ?1'</span>);</code><code class="line language-php">$query-&gt;setParameter(<span class="hljs-number">0</span>, $em-&gt;getClassMetadata(CompanyEmployee::class));</code><code class="empty"></code></pre>
                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>To use a class as parameter, you have to bind its class metadata:
<code>$query-&gt;setParameter(0, $em-&gt;getClassMetadata(CompanyEmployee::class);</code>.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
            
    <p>Get all users visible on a given website that have chosen certain gender:</p>

                <pre class="code-block-table" id="d6de7192aa7ab1bdc66636a9f6af225487cc7351"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="d6de7192aa7ab1bdc66636a9f6af225487cc7351"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM User u WHERE u.gender IN (SELECT IDENTITY(agl.gender) FROM Site s JOIN s.activeGenderList agl WHERE s.id = ?1)'</span>);</code><code class="empty"></code></pre>
            
    <p>The IDENTITY() DQL function also works for composite primary keys</p>

                <pre class="code-block-table" id="02c4f7e085d7243786b1e0ef0655af238f4dd428"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="02c4f7e085d7243786b1e0ef0655af238f4dd428"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">"SELECT IDENTITY(c.location, 'latitude') AS latitude, IDENTITY(c.location, 'longitude') AS longitude FROM Checkpoint c WHERE c.user = ?1"</span>);</code><code class="empty"></code></pre>
            
    <p>Joins between entities without associations are available,
where you can generate an arbitrary join with the following syntax:</p>

                <pre class="code-block-table" id="459d8ac9783927cffd67b612b20f2b113484939d"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="459d8ac9783927cffd67b612b20f2b113484939d"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM User u JOIN Banlist b WITH u.email = b.email'</span>);</code><code class="empty"></code></pre>
            
    <p>With an arbitrary join the result differs from the joins using a mapped property.
The result of an arbitrary join is an one dimensional array with a mix of the entity from the <code>SELECT</code>
and the joined entity fitting to the filtering of the query. In case of the example with <code>User</code>
and <code>Banlist</code>, it can look like this:</p>

            

<ul>
    <li class="dash">User</li>
    <li class="dash">Banlist</li>
    <li class="dash">Banlist</li>
    <li class="dash">User</li>
    <li class="dash">Banlist</li>
    <li class="dash">User</li>
    <li class="dash">Banlist</li>
    <li class="dash">Banlist</li>
    <li class="dash">Banlist</li>
</ul>

            
    <p>In this form of join, the <code>Banlist</code> entities found by the filtering in the <code>WITH</code> part are not fetched by an accessor
method on <code>User</code>, but are already part of the result. In case the accessor method for Banlists is invoked on a User instance,
it loads all the related <code>Banlist</code> objects corresponding to this <code>User</code>. This change of behaviour needs to be considered
when the DQL is switched to an arbitrary join.</p>

                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>The differences between WHERE, WITH and HAVING clauses may be
confusing.</p>


<ul>
    <li class="dash">WHERE is applied to the results of an entire query</li>
    <li class="dash">WITH is applied to a join as an additional condition. For
arbitrary joins (SELECT f, b FROM Foo f, Bar b WITH f.id = b.id)
the WITH is required, even if it is 1 = 1</li>
    <li class="dash">HAVING is applied to the results of a query after
aggregation (GROUP BY)</li>
</ul>

            </td>
        </tr>
        </tbody>
    </table>
</div>
            <div class="section" id="new-operator-syntax">
            <h4 class="section-header ">
    <a href="#new-operator-syntax">
        &quot;NEW&quot; Operator Syntax
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Using the <code>NEW</code> operator you can construct Data Transfer Objects (DTOs) directly from DQL queries.</p>

            

<ul>
    <li class="dash">When using <code>SELECT NEW</code> you don&#039;t need to specify a mapped entity.</li>
    <li class="dash">You can specify any PHP class, it only requires that the constructor of this class matches the <code>NEW</code> statement.</li>
    <li class="dash">This approach involves determining exactly which columns you really need,
and instantiating a data-transfer object that contains a constructor with those arguments.</li>
</ul>

            
    <p>If you want to select data-transfer objects you should create a class:</p>

                <pre class="code-block-table" id="b275f58905f6fed80e2516519514ef3e8f80f520"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="b275f58905f6fed80e2516519514ef3e8f80f520"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomerDTO</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">($name, $email, $city, $value = null)</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-comment">// Bind values to the object properties.</span></code><code class="line language-php">    }</code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>And then use the <code>NEW</code> DQL keyword :</p>

                <pre class="code-block-table" id="34f74443340116e5583b7a584a284188ec03ac63"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="34f74443340116e5583b7a584a284188ec03ac63"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT NEW CustomerDTO(c.name, e.email, a.city) FROM Customer c JOIN c.email e JOIN c.address a'</span>);</code><code class="line language-php">$users = $query-&gt;getResult(); <span class="hljs-comment">// array of CustomerDTO</span></code><code class="empty"></code></pre>
                <pre class="code-block-table" id="292087aece0359d34fe86226c6e13ab45ef03c24"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="292087aece0359d34fe86226c6e13ab45ef03c24"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT NEW CustomerDTO(c.name, e.email, a.city, SUM(o.value)) FROM Customer c JOIN c.email e JOIN c.address a JOIN c.orders o GROUP BY c'</span>);</code><code class="line language-php">$users = $query-&gt;getResult(); <span class="hljs-comment">// array of CustomerDTO</span></code><code class="empty"></code></pre>
            
    <p>Note that you can only pass scalar expressions to the constructor.</p>

    </div>
    </div>
            <div class="section" id="using-index-by">
            <h3 class="section-header ">
    <a href="#using-index-by">
        Using INDEX BY
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>The INDEX BY construct is nothing that directly translates into SQL
but that affects object and array hydration. After each FROM and
JOIN clause you specify by which field this class should be indexed
in the result. By default a result is incremented by numerical keys
starting with 0. However with INDEX BY you can specify any other
column to be the key of your result, it really only makes sense
with primary or unique fields though:</p>

                <pre class="code-block-table" id="70a654cbfed685c8829b46d06619326759f71782"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="70a654cbfed685c8829b46d06619326759f71782"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-sql"><span class="hljs-keyword">SELECT</span> u.id, u.status, <span class="hljs-keyword">upper</span>(u.name) nameUpper <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">User</span> u <span class="hljs-keyword">INDEX</span> <span class="hljs-keyword">BY</span> u.id</code><code class="line language-sql">JOIN u.phonenumbers p INDEX BY p.phonenumber</code><code class="empty"></code></pre>
            
    <p>Returns an array of the following kind, indexed by both user-id
then phonenumber-id:</p>

                <pre class="code-block-table" id="9c07cad859f5ff20163a685e32f804f005901301"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="9c07cad859f5ff20163a685e32f804f005901301"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">array</span></code><code class="line language-php">  <span class="hljs-number">0</span> =&gt;</code><code class="line language-php">    <span class="hljs-keyword">array</span></code><code class="line language-php">      <span class="hljs-number">1</span> =&gt;</code><code class="line language-php">        object(stdClass)[<span class="hljs-number">299</span>]</code><code class="line language-php">          <span class="hljs-keyword">public</span> <span class="hljs-string">'__CLASS__'</span> =&gt; string <span class="hljs-string">'Doctrine\Tests\Models\CMS\CmsUser'</span> (length=<span class="hljs-number">33</span>)</code><code class="line language-php">          <span class="hljs-keyword">public</span> <span class="hljs-string">'id'</span> =&gt; int <span class="hljs-number">1</span></code><code class="line language-php">          ..</code><code class="line language-php">      <span class="hljs-string">'nameUpper'</span> =&gt; string <span class="hljs-string">'ROMANB'</span> (length=<span class="hljs-number">6</span>)</code><code class="line language-php">  <span class="hljs-number">1</span> =&gt;</code><code class="line language-php">    <span class="hljs-keyword">array</span></code><code class="line language-php">      <span class="hljs-number">2</span> =&gt;</code><code class="line language-php">        object(stdClass)[<span class="hljs-number">298</span>]</code><code class="line language-php">          <span class="hljs-keyword">public</span> <span class="hljs-string">'__CLASS__'</span> =&gt; string <span class="hljs-string">'Doctrine\Tests\Models\CMS\CmsUser'</span> (length=<span class="hljs-number">33</span>)</code><code class="line language-php">          <span class="hljs-keyword">public</span> <span class="hljs-string">'id'</span> =&gt; int <span class="hljs-number">2</span></code><code class="line language-php">          ...</code><code class="line language-php">      <span class="hljs-string">'nameUpper'</span> =&gt; string <span class="hljs-string">'JWAGE'</span> (length=<span class="hljs-number">5</span>)</code><code class="empty"></code></pre>
            
    <p>You can also index by a to-one association, which will use the id of
the associated entity (the join column) as the key in the result set:</p>

                <pre class="code-block-table" id="cc07cfde1ca7a5189a32f0fce2026ca55921ac6c"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="cc07cfde1ca7a5189a32f0fce2026ca55921ac6c"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-sql"><span class="hljs-keyword">SELECT</span> p, u <span class="hljs-keyword">FROM</span> Participant <span class="hljs-keyword">INDEX</span> <span class="hljs-keyword">BY</span> p.user <span class="hljs-keyword">JOIN</span> p.user u <span class="hljs-keyword">WHERE</span> p.event = <span class="hljs-number">3</span></code><code class="empty"></code></pre>
    </div>
    </div>
            <div class="section" id="update-queries">
            <h2 class="section-header ">
    <a href="#update-queries">
        UPDATE queries
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>DQL not only allows to select your Entities using field names, you
can also execute bulk updates on a set of entities using an
DQL-UPDATE query. The Syntax of an UPDATE query works as expected,
as the following example shows:</p>

                <pre class="code-block-table" id="15d1aa7cd24f9f867a4e31c1d0912ef2ea04b811"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="15d1aa7cd24f9f867a4e31c1d0912ef2ea04b811"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-sql"><span class="hljs-keyword">UPDATE</span> MyProject\<span class="hljs-keyword">Model</span>\<span class="hljs-keyword">User</span> u <span class="hljs-keyword">SET</span> u.password = <span class="hljs-string">'new'</span> <span class="hljs-keyword">WHERE</span> u.id <span class="hljs-keyword">IN</span> (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)</code><code class="empty"></code></pre>
            
    <p>References to related entities are only possible in the WHERE
clause and using sub-selects.</p>

                        <div class="alert warning-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-exclamation-circle text-warning mr-2"></i></td>
            <td>
                                                
    <p>DQL UPDATE statements are ported directly into a
Database UPDATE statement and therefore bypass any locking scheme, events
and do not increment the version column. Entities that are already
loaded into the persistence context will <em>NOT</em> be synced with the
updated database state. It is recommended to call
<code>EntityManager#clear()</code> and retrieve new instances of any
affected entity.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
            <div class="section" id="delete-queries">
            <h2 class="section-header ">
    <a href="#delete-queries">
        DELETE queries
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>DELETE queries can also be specified using DQL and their syntax is
as simple as the UPDATE syntax:</p>

                <pre class="code-block-table" id="b5fa2f0a2293e14c75d9f7720de70edbec4b700c"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="b5fa2f0a2293e14c75d9f7720de70edbec4b700c"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-sql"><span class="hljs-keyword">DELETE</span> MyProject\<span class="hljs-keyword">Model</span>\<span class="hljs-keyword">User</span> u <span class="hljs-keyword">WHERE</span> u.id = <span class="hljs-number">4</span></code><code class="empty"></code></pre>
            
    <p>The same restrictions apply for the reference of related entities.</p>

                        <div class="alert warning-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-exclamation-circle text-warning mr-2"></i></td>
            <td>
                                                
    <p>DQL DELETE statements are ported directly into an SQL DELETE statement.
Therefore, some limitations apply:</p>


<ul>
    <li class="dash">Lifecycle events for the affected entities are not executed.</li>
    <li class="dash">A cascading <code>remove</code> operation (as indicated e. g. by <code>cascade: [&#039;remove&#039;]</code>
or <code>cascade: [&#039;all&#039;]</code> in the mapping configuration) is not being performed
for associated entities. You can rely on database level cascade operations by
configuring each join column with the <code>onDelete</code> option.</li>
    <li class="dash">Checks for the version column are bypassed if they are not explicitly added
to the WHERE clause of the query.</li>
</ul>

    <p>When you rely on one of these features, one option is to use the
<code>EntityManager#remove($entity)</code> method. This, however, is costly performance-wise:
It means collections and related entities are fetched into memory
(even if they are marked as lazy). Pulling object graphs into memory on cascade
can cause considerable performance overhead, especially when the cascaded collections
are large. Make sure to weigh the benefits and downsides.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
            <div class="section" id="comments-in-queries">
            <h2 class="section-header ">
    <a href="#comments-in-queries">
        Comments in queries
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>We can use comments with the SQL syntax of comments.</p>

                <pre class="code-block-table" id="de170f610db3ed4156fcd1a3081ce1388a526bb5"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="de170f610db3ed4156fcd1a3081ce1388a526bb5"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-sql"><span class="hljs-keyword">SELECT</span> u <span class="hljs-keyword">FROM</span> MyProject\<span class="hljs-keyword">Model</span>\<span class="hljs-keyword">User</span> u</code><code class="line language-sql"><span class="hljs-comment">-- my comment</span></code><code class="line language-sql">WHERE u.age &gt; 20 <span class="hljs-comment">-- comment at the end of a line</span></code><code class="empty"></code></pre>
    </div>
            <div class="section" id="functions-operators-aggregates">
            <h2 class="section-header ">
    <a href="#functions-operators-aggregates">
        Functions, Operators, Aggregates
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>It is possible to wrap both fields and identification values into
aggregation and DQL functions. Numerical fields can be part of
computations using mathematical operations.</p>

            <div class="section" id="dql-functions">
            <h3 class="section-header ">
    <a href="#dql-functions">
        DQL Functions
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>The following functions are supported in SELECT, WHERE and HAVING
clauses:</p>

            

<ul>
    <li class="dash"><code>IDENTITY(single_association_path_expression [, fieldMapping])</code> -
Retrieve the foreign key column of association of the owning side</li>
    <li class="dash"><code>ABS(arithmetic_expression)</code></li>
    <li class="dash"><code>CONCAT(str1, str2)</code></li>
    <li class="dash"><code>CURRENT_DATE()</code> - Return the current date</li>
    <li class="dash"><code>CURRENT_TIME()</code> - Returns the current time</li>
    <li class="dash"><code>CURRENT_TIMESTAMP()</code> - Returns a timestamp of the current date
and time.</li>
    <li class="dash"><code>LENGTH(str)</code> - Returns the length of the given string</li>
    <li class="dash"><code>LOCATE(needle, haystack [, offset])</code> - Locate the first
occurrence of the substring in the string.</li>
    <li class="dash"><code>LOWER(str)</code> - returns the string lowercased.</li>
    <li class="dash"><code>MOD(a, b)</code> - Return a MOD b.</li>
    <li class="dash"><code>SIZE(collection)</code> - Return the number of elements in the
specified collection</li>
    <li class="dash"><code>SQRT(q)</code> - Return the square-root of q.</li>
    <li class="dash"><code>SUBSTRING(str, start [, length])</code> - Return substring of given
string.</li>
    <li class="dash"><code>TRIM([LEADING | TRAILING | BOTH] [&#039;trchar&#039; FROM] str)</code> - Trim
the string by the given trim char, defaults to whitespaces.</li>
    <li class="dash"><code>UPPER(str)</code> - Return the upper-case of the given string.</li>
    <li class="dash"><code>DATE_ADD(date, value, unit)</code> - Add the given time to a given date.
(Supported units are <code>SECOND</code>, <code>MINUTE</code>, <code>HOUR</code>, <code>DAY</code>,
<code>WEEK</code>, <code>MONTH</code>, <code>YEAR</code>)</li>
    <li class="dash"><code>DATE_SUB(date, value, unit)</code> - Subtract the given time from a
given date. (Supported units are <code>SECOND</code>, <code>MINUTE</code>, <code>HOUR</code>,
<code>DAY</code>, <code>WEEK</code>, <code>MONTH</code>, <code>YEAR</code>)</li>
    <li class="dash"><code>DATE_DIFF(date1, date2)</code> - Calculate the difference in days
between date1-date2.</li>
</ul>

    </div>
            <div class="section" id="arithmetic-operators">
            <h3 class="section-header ">
    <a href="#arithmetic-operators">
        Arithmetic operators
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>You can do math in DQL using numeric values, for example:</p>

                <pre class="code-block-table" id="b6098ffe16e6232fa509699e73d8f0819b9b3590"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="b6098ffe16e6232fa509699e73d8f0819b9b3590"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-sql"><span class="hljs-keyword">SELECT</span> person.salary * <span class="hljs-number">1.5</span> <span class="hljs-keyword">FROM</span> CompanyPerson person <span class="hljs-keyword">WHERE</span> person.salary &lt; <span class="hljs-number">100000</span></code><code class="empty"></code></pre>
    </div>
            <div class="section" id="aggregate-functions">
            <h3 class="section-header ">
    <a href="#aggregate-functions">
        Aggregate Functions
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>The following aggregate functions are allowed in SELECT and GROUP
BY clauses: AVG, COUNT, MIN, MAX, SUM</p>

    </div>
            <div class="section" id="other-expressions">
            <h3 class="section-header ">
    <a href="#other-expressions">
        Other Expressions
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>DQL offers a wide-range of additional expressions that are known
from SQL, here is a list of all the supported constructs:</p>

            

<ul>
    <li class="dash"><code>ALL/ANY/SOME</code> - Used in a WHERE clause followed by a
sub-select this works like the equivalent constructs in SQL.</li>
    <li class="dash"><code>BETWEEN a AND b</code> and <code>NOT BETWEEN a AND b</code> can be used to
match ranges of arithmetic values.</li>
    <li class="dash"><code>IN (x1, x2, ...)</code> and <code>NOT IN (x1, x2, ..)</code> can be used to
match a set of given values.</li>
    <li class="dash"><code>LIKE ..</code> and <code>NOT LIKE ..</code> match parts of a string or text
using % as a wildcard.</li>
    <li class="dash"><code>IS NULL</code> and <code>IS NOT NULL</code> to check for null values</li>
    <li class="dash"><code>EXISTS</code> and <code>NOT EXISTS</code> in combination with a sub-select</li>
</ul>

    </div>
            <div class="section" id="adding-your-own-functions-to-the-dql-language">
            <h3 class="section-header ">
    <a href="#adding-your-own-functions-to-the-dql-language">
        Adding your own functions to the DQL language
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>By default DQL comes with functions that are part of a large basis
of underlying databases. However you will most likely choose a
database platform at the beginning of your project and most likely
never change it. For this cases you can easily extend the DQL
parser with own specialized platform functions.</p>

            
    <p>You can register custom DQL functions in your ORM Configuration:</p>

                <pre class="code-block-table" id="895c17aa4fadaac69ba17966728f1f920c0f9fcd"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="895c17aa4fadaac69ba17966728f1f920c0f9fcd"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$config = <span class="hljs-keyword">new</span> \Doctrine\ORM\Configuration();</code><code class="line language-php">$config-&gt;addCustomStringFunction($name, $class);</code><code class="line language-php">$config-&gt;addCustomNumericFunction($name, $class);</code><code class="line language-php">$config-&gt;addCustomDatetimeFunction($name, $class);</code><code class="line language-php"></code><code class="line language-php">$em = <span class="hljs-keyword">new</span> EntityManager($connection, $config);</code><code class="empty"></code></pre>
            
    <p>The functions have to return either a string, numeric or datetime
value depending on the registered function type. As an example we
will add a MySQL specific FLOOR() functionality. All the given
classes have to implement the base class :</p>

                <pre class="code-block-table" id="ecced2dea0f47a3bd4cc175251484c0320ef2c03"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="ecced2dea0f47a3bd4cc175251484c0320ef2c03"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">MyProject</span>\<span class="hljs-title">Query</span>\<span class="hljs-title">AST</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Query</span>\<span class="hljs-title">AST</span>\<span class="hljs-title">Functions</span>\<span class="hljs-title">FunctionNode</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Query</span>\<span class="hljs-title">TokenType</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MysqlFloor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">FunctionNode</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-keyword">public</span> $simpleArithmeticExpression;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSql</span><span class="hljs-params">(\Doctrine\ORM\Query\SqlWalker $sqlWalker)</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-string">'FLOOR('</span> . $sqlWalker-&gt;walkSimpleArithmeticExpression(</code><code class="line language-php">            <span class="hljs-keyword">$this</span>-&gt;simpleArithmeticExpression</code><code class="line language-php">        ) . <span class="hljs-string">')'</span>;</code><code class="line language-php">    }</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parse</span><span class="hljs-params">(\Doctrine\ORM\Query\Parser $parser)</span></span></code><code class="line language-php">    {</code><code class="line language-php">        $parser-&gt;match(TokenType::T_IDENTIFIER);</code><code class="line language-php">        $parser-&gt;match(TokenType::T_OPEN_PARENTHESIS);</code><code class="line language-php"></code><code class="line language-php">        <span class="hljs-keyword">$this</span>-&gt;simpleArithmeticExpression = $parser-&gt;SimpleArithmeticExpression();</code><code class="line language-php"></code><code class="line language-php">        $parser-&gt;match(TokenType::T_CLOSE_PARENTHESIS);</code><code class="line language-php">    }</code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>We will register the function by calling and can then use it:</p>

                <pre class="code-block-table" id="aa143edebcfc9977c638d67d576eb4b4609a9b49"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="aa143edebcfc9977c638d67d576eb4b4609a9b49"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$config = $em-&gt;getConfiguration();</code><code class="line language-php">$config-&gt;registerNumericFunction(<span class="hljs-string">'FLOOR'</span>, <span class="hljs-string">'MyProject\Query\MysqlFloor'</span>);</code><code class="line language-php"></code><code class="line language-php">$dql = <span class="hljs-string">"SELECT FLOOR(person.salary * 1.75) FROM CompanyPerson person"</span>;</code><code class="empty"></code></pre>
    </div>
    </div>
            <div class="section" id="querying-inherited-classes">
            <h2 class="section-header ">
    <a href="#querying-inherited-classes">
        Querying Inherited Classes
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>This section demonstrates how you can query inherited classes and
what type of results to expect.</p>

            <div class="section" id="single-table">
            <h3 class="section-header ">
    <a href="#single-table">
        Single Table
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p><a href="https://martinfowler.com/eaaCatalog/singleTableInheritance.html">Single Table Inheritance</a>
is an inheritance mapping strategy where all classes of a hierarchy
are mapped to a single database table. In order to distinguish
which row represents which type in the hierarchy a so-called
discriminator column is used.</p>

            
    <p>First we need to setup an example set of entities to use. In this
scenario it is a generic Person and Employee example:</p>

                <pre class="code-block-table" id="d1cf269ec6f9032975e43c9fc723bd448da82710"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="d1cf269ec6f9032975e43c9fc723bd448da82710"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Entities</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">#[Entity]</span></code><code class="line language-php"><span class="hljs-comment">#[InheritanceType('SINGLE_TABLE')]</span></code><code class="line language-php"><span class="hljs-comment">#[DiscriminatorColumn(name: 'discr', type: 'string')]</span></code><code class="line language-php"><span class="hljs-comment">#[DiscriminatorMap(['person' =&gt; 'Person', 'employee' =&gt; 'Employee'])]</span></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">#[Id, Column(type: 'integer')]</span></code><code class="line language-php">    <span class="hljs-comment">#[GeneratedValue]</span></code><code class="line language-php">    <span class="hljs-keyword">protected</span> int|<span class="hljs-keyword">null</span> $id = <span class="hljs-keyword">null</span>;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">#[Column(type: 'string', length: 50)]</span></code><code class="line language-php">    <span class="hljs-keyword">protected</span> string $name;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">// ...</span></code><code class="line language-php">}</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">#[Entity]</span></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Employee</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Person</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">#[Column(type: 'string', length: 50)]</span></code><code class="line language-php">    <span class="hljs-keyword">private</span> $department;</code><code class="line language-php"></code><code class="line language-php">    <span class="hljs-comment">// ...</span></code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>First notice that the generated SQL to create the tables for these
entities looks like the following:</p>

                <pre class="code-block-table" id="9484bb9e2da28f7655473cf95e8ebfdbdc7ca5cf"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="9484bb9e2da28f7655473cf95e8ebfdbdc7ca5cf"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> Person (</code><code class="line language-sql">    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,</code><code class="line language-sql">    name VARCHAR(50) NOT NULL,</code><code class="line language-sql">    discr VARCHAR(255) NOT NULL,</code><code class="line language-sql">    department VARCHAR(50) NOT NULL</code><code class="line language-sql">)</code><code class="empty"></code></pre>
            
    <p>Now when persist a new <code>Employee</code> instance it will set the
discriminator value for us automatically:</p>

                <pre class="code-block-table" id="6626a87ce4d21ec0be0e539525249d0201cb25b8"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="6626a87ce4d21ec0be0e539525249d0201cb25b8"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$employee = <span class="hljs-keyword">new</span> \Entities\Employee();</code><code class="line language-php">$employee-&gt;setName(<span class="hljs-string">'test'</span>);</code><code class="line language-php">$employee-&gt;setDepartment(<span class="hljs-string">'testing'</span>);</code><code class="line language-php">$em-&gt;persist($employee);</code><code class="line language-php">$em-&gt;flush();</code><code class="empty"></code></pre>
            
    <p>Now lets run a simple query to retrieve the <code>Employee</code> we just
created:</p>

                <pre class="code-block-table" id="bb50ea58b537df585e894a8cf157d2d9cb2ba3d9"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="bb50ea58b537df585e894a8cf157d2d9cb2ba3d9"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-sql"><span class="hljs-keyword">SELECT</span> e <span class="hljs-keyword">FROM</span> Entities\Employee e <span class="hljs-keyword">WHERE</span> e.name = <span class="hljs-string">'test'</span></code><code class="empty"></code></pre>
            
    <p>If we check the generated SQL you will notice it has some special
conditions added to ensure that we will only get back <code>Employee</code>
entities:</p>

                <pre class="code-block-table" id="00ec15a38e04353d5baa44bb87f337f9910f8910"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="00ec15a38e04353d5baa44bb87f337f9910f8910"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-sql"><span class="hljs-keyword">SELECT</span> p0_.id <span class="hljs-keyword">AS</span> id0, p0_.name <span class="hljs-keyword">AS</span> name1, p0_.department <span class="hljs-keyword">AS</span> department2,</code><code class="line language-sql">       p0_.discr AS discr3 FROM Person p0_</code><code class="line language-sql">WHERE (p0_.name = ?) AND p0_.discr IN ('employee')</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="class-table-inheritance">
            <h3 class="section-header ">
    <a href="#class-table-inheritance">
        Class Table Inheritance
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p><a href="https://martinfowler.com/eaaCatalog/classTableInheritance.html">Class Table Inheritance</a>
is an inheritance mapping strategy where each class in a hierarchy
is mapped to several tables: its own table and the tables of all
parent classes. The table of a child class is linked to the table
of a parent class through a foreign key constraint. Doctrine ORM
implements this strategy through the use of a discriminator column
in the topmost table of the hierarchy because this is the easiest
way to achieve polymorphic queries with Class Table Inheritance.</p>

            
    <p>The example for class table inheritance is the same as single
table, you just need to change the inheritance type from
<code>SINGLE_TABLE</code> to <code>JOINED</code>:</p>

                <pre class="code-block-table" id="29f0386b90ddaa398f80ebd658d0a7eb46cb4b76"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="29f0386b90ddaa398f80ebd658d0a7eb46cb4b76"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">#[Entity]</span></code><code class="line language-php"><span class="hljs-comment">#[InheritanceType('JOINED')]</span></code><code class="line language-php"><span class="hljs-comment">#[DiscriminatorColumn(name: 'discr', type: 'string')]</span></code><code class="line language-php"><span class="hljs-comment">#[DiscriminatorMap(['person' =&gt; 'Person', 'employee' =&gt; 'Employee'])]</span></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-comment">// ...</span></code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>Now take a look at the SQL which is generated to create the table,
you&#039;ll notice some differences:</p>

                <pre class="code-block-table" id="f21313b04eb2d024e2c651f984b422ed242fcf35"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="f21313b04eb2d024e2c651f984b422ed242fcf35"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> Person (</code><code class="line language-sql">    id INT AUTO_INCREMENT NOT NULL,</code><code class="line language-sql">    name VARCHAR(50) NOT NULL,</code><code class="line language-sql">    discr VARCHAR(255) NOT NULL,</code><code class="line language-sql">    PRIMARY KEY(id)</code><code class="line language-sql">) ENGINE = InnoDB;</code><code class="line language-sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> Employee (</code><code class="line language-sql">    id INT NOT NULL,</code><code class="line language-sql">    department VARCHAR(50) NOT NULL,</code><code class="line language-sql">    PRIMARY KEY(id)</code><code class="line language-sql">) ENGINE = InnoDB;</code><code class="line language-sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> Employee <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (<span class="hljs-keyword">id</span>) <span class="hljs-keyword">REFERENCES</span> Person(<span class="hljs-keyword">id</span>) <span class="hljs-keyword">ON</span> <span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">CASCADE</span></code><code class="empty"></code></pre>
            

<ul>
    <li class="dash">The data is split between two tables</li>
    <li class="dash">A foreign key exists between the two tables</li>
</ul>

            
    <p>Now if were to insert the same <code>Employee</code> as we did in the
<code>SINGLE_TABLE</code> example and run the same example query it will
generate different SQL joining the <code>Person</code> information
automatically for you:</p>

                <pre class="code-block-table" id="3d6f821ba5231021e900e35efc557d257717c214"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="3d6f821ba5231021e900e35efc557d257717c214"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-sql"><span class="hljs-keyword">SELECT</span> p0_.id <span class="hljs-keyword">AS</span> id0, p0_.name <span class="hljs-keyword">AS</span> name1, e1_.department <span class="hljs-keyword">AS</span> department2,</code><code class="line language-sql">       p0_.discr AS discr3</code><code class="line language-sql">FROM Employee e1_ INNER JOIN Person p0_ ON e1_.id = p0_.id</code><code class="line language-sql">WHERE p0_.name = ?</code><code class="empty"></code></pre>
    </div>
    </div>
            <div class="section" id="the-query-class">
            <h2 class="section-header ">
    <a href="#the-query-class">
        The Query class
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>An instance of the <code>Doctrine\ORM\Query</code> class represents a DQL
query. You create a Query instance be calling
<code>EntityManager#createQuery($dql)</code>, passing the DQL query string.
Alternatively you can create an empty <code>Query</code> instance and invoke
<code>Query#setDQL($dql)</code> afterwards. Here are some examples:</p>

                <pre class="code-block-table" id="dcbe9b6207f53379ac7a2d8671afca35d350647f"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="dcbe9b6207f53379ac7a2d8671afca35d350647f"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-comment">// $em instanceof EntityManager</span></code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">// example1: passing a DQL string</span></code><code class="line language-php">$q = $em-&gt;createQuery(<span class="hljs-string">'select u from MyProject\Model\User u'</span>);</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">// example2: using setDQL</span></code><code class="line language-php">$q = $em-&gt;createQuery();</code><code class="line language-php">$q-&gt;setDQL(<span class="hljs-string">'select u from MyProject\Model\User u'</span>);</code><code class="empty"></code></pre>
            <div class="section" id="query-result-formats">
            <h3 class="section-header ">
    <a href="#query-result-formats">
        Query Result Formats
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>The format in which the result of a DQL SELECT query is returned
can be influenced by a so-called <code>hydration mode</code>. A hydration
mode specifies a particular way in which a SQL result set is
transformed. Each hydration mode has its own dedicated method on
the Query class. Here they are:</p>

            

<ul>
    <li class="dash"><code>Query#getResult()</code>: Retrieves a collection of objects. The
result is either a plain collection of objects (pure) or an array
where the objects are nested in the result rows (mixed).</li>
    <li class="dash"><code>Query#getSingleResult()</code>: Retrieves a single object. If the
result contains more than one object, an <code>NonUniqueResultException</code>
is thrown. If the result contains no objects, an <code>NoResultException</code>
is thrown. The pure/mixed distinction does not apply.</li>
    <li class="dash"><code>Query#getOneOrNullResult()</code>: Retrieve a single object. If the
result contains more than one object, a <code>NonUniqueResultException</code>
is thrown. If no object is found null will be returned.</li>
    <li class="dash">
    <p><code>Query#getArrayResult()</code>: Retrieves an array graph (a nested
array) that is largely interchangeable with the object graph
generated by <code>Query#getResult()</code> for read-only purposes.</p>
<blockquote>            <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>An array graph can differ from the corresponding object
graph in certain scenarios due to the difference of the identity
semantics between arrays and objects.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div></blockquote></li>
    <li class="dash"><code>Query#getScalarResult()</code>: Retrieves a flat/rectangular result
set of scalar values that can contain duplicate data. The
pure/mixed distinction does not apply.</li>
    <li class="dash"><code>Query#getSingleScalarResult()</code>: Retrieves a single scalar
value from the result returned by the dbms. If the result contains
more than a single scalar value, an exception is thrown. The
pure/mixed distinction does not apply.</li>
</ul>

            
    <p>Instead of using these methods, you can alternatively use the
general-purpose method
<code>Query#execute(array $params = [], $hydrationMode = Query::HYDRATE_OBJECT)</code>.
Using this method you can directly supply the hydration mode as the
second parameter via one of the Query constants. In fact, the
methods mentioned earlier are just convenient shortcuts for the
execute method. For example, the method <code>Query#getResult()</code>
internally invokes execute, passing in <code>Query::HYDRATE_OBJECT</code> as
the hydration mode.</p>

            
    <p>The use of the methods mentioned earlier is generally preferred as
it leads to more concise code.</p>

    </div>
            <div class="section" id="pure-and-mixed-results">
            <h3 class="section-header ">
    <a href="#pure-and-mixed-results">
        Pure and Mixed Results
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>The nature of a result returned by a DQL SELECT query retrieved
through <code>Query#getResult()</code> or <code>Query#getArrayResult()</code> can be
of 2 forms: <strong>pure</strong> and <strong>mixed</strong>. In the previous simple
examples, you already saw a &quot;pure&quot; query result, with only objects.
By default, the result type is <strong>pure</strong> but
<strong>as soon as scalar values, such as aggregate values or other scalar values that do not belong to an entity, appear in the SELECT part of the DQL query, the result becomes mixed</strong>.
A mixed result has a different structure than a pure result in
order to accommodate for the scalar values.</p>

            
    <p>A pure result usually looks like this:</p>

                <pre class="code-block-table" id="0889ac6d991e2d7a54b616dbc93a8c45395028de"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="0889ac6d991e2d7a54b616dbc93a8c45395028de"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">$dql = <span class="hljs-string">"SELECT u FROM User u"</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">array</span></code><code class="line language-php">    [<span class="hljs-number">0</span>] =&gt; Object</code><code class="line language-php">    [<span class="hljs-number">1</span>] =&gt; Object</code><code class="line language-php">    [<span class="hljs-number">2</span>] =&gt; Object</code><code class="line language-php">    ...</code><code class="empty"></code></pre>
            
    <p>A mixed result on the other hand has the following general
structure:</p>

                <pre class="code-block-table" id="ec288edf2695347a59ef880d24c5a19aa6cbf7d0"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="ec288edf2695347a59ef880d24c5a19aa6cbf7d0"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">$dql = <span class="hljs-string">"SELECT u, 'some scalar string', count(g.id) AS num FROM User u JOIN u.groups g GROUP BY u.id"</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">array</span></code><code class="line language-php">    [<span class="hljs-number">0</span>]</code><code class="line language-php">        [<span class="hljs-number">0</span>] =&gt; Object</code><code class="line language-php">        [<span class="hljs-number">1</span>] =&gt; <span class="hljs-string">"some scalar string"</span></code><code class="line language-php">        [<span class="hljs-string">'num'</span>] =&gt; <span class="hljs-number">42</span></code><code class="line language-php">        <span class="hljs-comment">// ... more scalar values, either indexed numerically or with a name</span></code><code class="line language-php">    [<span class="hljs-number">1</span>]</code><code class="line language-php">        [<span class="hljs-number">0</span>] =&gt; Object</code><code class="line language-php">        [<span class="hljs-number">1</span>] =&gt; <span class="hljs-string">"some scalar string"</span></code><code class="line language-php">        [<span class="hljs-string">'num'</span>] =&gt; <span class="hljs-number">42</span></code><code class="line language-php">        <span class="hljs-comment">// ... more scalar values, either indexed numerically or with a name</span></code><code class="empty"></code></pre>
            
    <p>To better understand mixed results, consider the following DQL
query:</p>

                <pre class="code-block-table" id="ca12e193586ceeababf47057d392b9c784a6f81c"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="ca12e193586ceeababf47057d392b9c784a6f81c"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-sql"><span class="hljs-keyword">SELECT</span> u, <span class="hljs-keyword">UPPER</span>(u.name) nameUpper <span class="hljs-keyword">FROM</span> MyProject\<span class="hljs-keyword">Model</span>\<span class="hljs-keyword">User</span> u</code><code class="empty"></code></pre>
            
    <p>This query makes use of the <code>UPPER</code> DQL function that returns a
scalar value and because there is now a scalar value in the SELECT
clause, we get a mixed result.</p>

            
    <p>Conventions for mixed results are as follows:</p>

            

<ul>
    <li class="dash">The object fetched in the FROM clause is always positioned with the key &#039;0&#039;.</li>
    <li class="dash">Every scalar without a name is numbered in the order given in the query, starting with 1.</li>
    <li class="dash">Every aliased scalar is given with its alias-name as the key. The case of the name is kept.</li>
    <li class="dash">If several objects are fetched from the FROM clause they alternate every row.</li>
</ul>

            
    <p>Here is how the result could look like:</p>

                <pre class="code-block-table" id="bf80ce3a2385ca87753d9342a8f43e2e804cecdd"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="bf80ce3a2385ca87753d9342a8f43e2e804cecdd"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">array</span></code><code class="line language-php">    <span class="hljs-keyword">array</span></code><code class="line language-php">        [<span class="hljs-number">0</span>] =&gt; User (Object)</code><code class="line language-php">        [<span class="hljs-string">'nameUpper'</span>] =&gt; <span class="hljs-string">"ROMAN"</span></code><code class="line language-php">    <span class="hljs-keyword">array</span></code><code class="line language-php">        [<span class="hljs-number">0</span>] =&gt; User (Object)</code><code class="line language-php">        [<span class="hljs-string">'nameUpper'</span>] =&gt; <span class="hljs-string">"JONATHAN"</span></code><code class="line language-php">    ...</code><code class="empty"></code></pre>
            
    <p>And here is how you would access it in PHP code:</p>

                <pre class="code-block-table" id="01bd6f40fc5ad7c4d5702a6ec6631c634b5995f3"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="01bd6f40fc5ad7c4d5702a6ec6631c634b5995f3"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-keyword">foreach</span> ($results <span class="hljs-keyword">as</span> $row) {</code><code class="line language-php">    <span class="hljs-keyword">echo</span> <span class="hljs-string">"Name: "</span> . $row[<span class="hljs-number">0</span>]-&gt;getName();</code><code class="line language-php">    <span class="hljs-keyword">echo</span> <span class="hljs-string">"Name UPPER: "</span> . $row[<span class="hljs-string">'nameUpper'</span>];</code><code class="line language-php">}</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="fetching-multiple-from-entities">
            <h3 class="section-header ">
    <a href="#fetching-multiple-from-entities">
        Fetching Multiple FROM Entities
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>If you fetch multiple entities that are listed in the FROM clause then the hydration
will return the rows iterating the different top-level entities.</p>

                <pre class="code-block-table" id="6693503a2d5a4a00f85be51bbd47acdb1ecc6de1"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="6693503a2d5a4a00f85be51bbd47acdb1ecc6de1"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">$dql = <span class="hljs-string">"SELECT u, g FROM User u, Group g"</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">array</span></code><code class="line language-php">    [<span class="hljs-number">0</span>] =&gt; Object (User)</code><code class="line language-php">    [<span class="hljs-number">1</span>] =&gt; Object (Group)</code><code class="line language-php">    [<span class="hljs-number">2</span>] =&gt; Object (User)</code><code class="line language-php">    [<span class="hljs-number">3</span>] =&gt; Object (Group)</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="hydration-modes">
            <h3 class="section-header ">
    <a href="#hydration-modes">
        Hydration Modes
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Each of the Hydration Modes makes assumptions about how the result
is returned to user land. You should know about all the details to
make best use of the different result formats:</p>

            
    <p>The constants for the different hydration modes are:</p>

            

<ul>
    <li class="dash"><code>Query::HYDRATE_OBJECT</code></li>
    <li class="dash"><code>Query::HYDRATE_ARRAY</code></li>
    <li class="dash"><code>Query::HYDRATE_SCALAR</code></li>
    <li class="dash"><code>Query::HYDRATE_SINGLE_SCALAR</code></li>
    <li class="dash"><code>Query::HYDRATE_SCALAR_COLUMN</code></li>
</ul>

            <div class="section" id="object-hydration">
            <h4 class="section-header ">
    <a href="#object-hydration">
        Object Hydration
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Object hydration hydrates the result set into the object graph:</p>

                <pre class="code-block-table" id="6d4928c0897fa7b5ebd2b478212a4bb443a3f90c"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="6d4928c0897fa7b5ebd2b478212a4bb443a3f90c"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM CmsUser u'</span>);</code><code class="line language-php">$users = $query-&gt;getResult(Query::HYDRATE_OBJECT);</code><code class="empty"></code></pre>
            
    <p>Sometimes the behavior in the object hydrator can be confusing, which is
why we are listing as many of the assumptions here for reference:</p>

            

<ul>
    <li class="dash">Objects fetched in a FROM clause are returned as a Set, that means every
object is only ever included in the resulting array once. This is the case
even when using JOIN or GROUP BY in ways that return the same row for an
object multiple times. If the hydrator sees the same object multiple times,
then it makes sure it is only returned once.</li>
    <li class="dash">If an object is already in memory from a previous query of any kind, then
then the previous object is used, even if the database may contain more
recent data. Data from the database is discarded. This even happens if the
previous object is still an unloaded proxy.</li>
</ul>

            
    <p>This list might be incomplete.</p>

    </div>
            <div class="section" id="array-hydration">
            <h4 class="section-header ">
    <a href="#array-hydration">
        Array Hydration
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>You can run the same query with array hydration and the result set
is hydrated into an array that represents the object graph:</p>

                <pre class="code-block-table" id="1fef026159c7448f84fabdb51967485bc2672111"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="1fef026159c7448f84fabdb51967485bc2672111"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM CmsUser u'</span>);</code><code class="line language-php">$users = $query-&gt;getResult(Query::HYDRATE_ARRAY);</code><code class="empty"></code></pre>
            
    <p>You can use the <code>getArrayResult()</code> shortcut as well:</p>

                <pre class="code-block-table" id="6d4ecf1771648be924160903a9b8373dda8ed4c5"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="6d4ecf1771648be924160903a9b8373dda8ed4c5"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$users = $query-&gt;getArrayResult();</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="scalar-hydration">
            <h4 class="section-header ">
    <a href="#scalar-hydration">
        Scalar Hydration
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>If you want to return a flat rectangular result set instead of an
object graph you can use scalar hydration:</p>

                <pre class="code-block-table" id="2986e678cb41a8592a3711e0b2813a14fa6a8282"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="2986e678cb41a8592a3711e0b2813a14fa6a8282"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM CmsUser u'</span>);</code><code class="line language-php">$users = $query-&gt;getResult(Query::HYDRATE_SCALAR);</code><code class="line language-php"><span class="hljs-keyword">echo</span> $users[<span class="hljs-number">0</span>][<span class="hljs-string">'u_id'</span>];</code><code class="empty"></code></pre>
            
    <p>The following assumptions are made about selected fields using
Scalar Hydration:</p>

            
    
<ol start="1" type="1">
    <li value="1">Fields from classes are prefixed by the DQL alias in the result.
A query of the kind &#039;SELECT u.name ..&#039; returns a key &#039;u_name&#039; in
the result rows.</li>
</ol>

    </div>
            <div class="section" id="single-scalar-hydration">
            <h4 class="section-header ">
    <a href="#single-scalar-hydration">
        Single Scalar Hydration
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>If you have a query which returns just a single scalar value you can use
single scalar hydration:</p>

                <pre class="code-block-table" id="92c8da46c3f7cadf06e1be44c0d1b251f83c6e82"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="92c8da46c3f7cadf06e1be44c0d1b251f83c6e82"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT COUNT(a.id) FROM CmsUser u LEFT JOIN u.articles a WHERE u.username = ?1 GROUP BY u.id'</span>);</code><code class="line language-php">$query-&gt;setParameter(<span class="hljs-number">1</span>, <span class="hljs-string">'jwage'</span>);</code><code class="line language-php">$numArticles = $query-&gt;getResult(Query::HYDRATE_SINGLE_SCALAR);</code><code class="empty"></code></pre>
            
    <p>You can use the <code>getSingleScalarResult()</code> shortcut as well:</p>

                <pre class="code-block-table" id="69baab5aff6bec48256dcdcd265614360a2c2ec4"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="69baab5aff6bec48256dcdcd265614360a2c2ec4"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$numArticles = $query-&gt;getSingleScalarResult();</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="scalar-column-hydration">
            <h4 class="section-header ">
    <a href="#scalar-column-hydration">
        Scalar Column Hydration
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>If you have a query which returns a one-dimensional array of scalar values
you can use scalar column hydration:</p>

                <pre class="code-block-table" id="fbbc56730e3309aaacee0bf1bbecb3fbc937d3a1"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="fbbc56730e3309aaacee0bf1bbecb3fbc937d3a1"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT a.id FROM CmsUser u'</span>);</code><code class="line language-php">$ids = $query-&gt;getResult(Query::HYDRATE_SCALAR_COLUMN);</code><code class="empty"></code></pre>
            
    <p>You can use the <code>getSingleColumnResult()</code> shortcut as well:</p>

                <pre class="code-block-table" id="9cf1613f2b8443c17d63268939e5085f33d2ca44"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="9cf1613f2b8443c17d63268939e5085f33d2ca44"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$ids = $query-&gt;getSingleColumnResult();</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="custom-hydration-modes">
            <h4 class="section-header ">
    <a href="#custom-hydration-modes">
        Custom Hydration Modes
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>You can easily add your own custom hydration modes by first
creating a class which extends <code>AbstractHydrator</code>:</p>

                <pre class="code-block-table" id="902b2e955d4d7d082d15d22a26ae87ffb4fee124"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="902b2e955d4d7d082d15d22a26ae87ffb4fee124"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">MyProject</span>\<span class="hljs-title">Hydrators</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Internal</span>\<span class="hljs-title">Hydration</span>\<span class="hljs-title">AbstractHydrator</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomHydrator</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractHydrator</span></span></code><code class="line language-php">{</code><code class="line language-php">    <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_hydrateAll</span><span class="hljs-params">()</span></span></code><code class="line language-php">    {</code><code class="line language-php">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;_stmt-&gt;fetchAllAssociative();</code><code class="line language-php">    }</code><code class="line language-php">}</code><code class="empty"></code></pre>
            
    <p>Next you just need to add the class to the ORM configuration:</p>

                <pre class="code-block-table" id="b3faab73f099cfd6a368b60b5fd615929e520991"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="b3faab73f099cfd6a368b60b5fd615929e520991"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$em-&gt;getConfiguration()-&gt;addCustomHydrationMode(<span class="hljs-string">'CustomHydrator'</span>, <span class="hljs-string">'MyProject\Hydrators\CustomHydrator'</span>);</code><code class="empty"></code></pre>
            
    <p>Now the hydrator is ready to be used in your queries:</p>

                <pre class="code-block-table" id="4f45a14efe814b1b8e01cedcf0651b340c896b4e"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="4f45a14efe814b1b8e01cedcf0651b340c896b4e"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM CmsUser u'</span>);</code><code class="line language-php">$results = $query-&gt;getResult(<span class="hljs-string">'CustomHydrator'</span>);</code><code class="empty"></code></pre>
    </div>
    </div>
            <div class="section" id="iterating-large-result-sets">
            <h3 class="section-header ">
    <a href="#iterating-large-result-sets">
        Iterating Large Result Sets
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>There are situations when a query you want to execute returns a
very large result-set that needs to be processed. All the
previously described hydration modes completely load a result-set
into memory which might not be feasible with large result sets. See
the <a href="batch-processing.html">Batch Processing</a> section on
details how to iterate large result sets.</p>

    </div>
            <div class="section" id="functions">
            <h3 class="section-header ">
    <a href="#functions">
        Functions
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>The following methods exist on the <code>AbstractQuery</code> which both
<code>Query</code> and <code>NativeQuery</code> extend from.</p>

            <div class="section" id="parameters">
            <h4 class="section-header ">
    <a href="#parameters">
        Parameters
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Prepared Statements that use numerical or named wildcards require
additional parameters to be executable against the database. To
pass parameters to the query the following methods can be used:</p>

            

<ul>
    <li class="dash"><code>AbstractQuery::setParameter($param, $value)</code> - Set the
numerical or named wildcard to the given value.</li>
    <li class="dash"><code>AbstractQuery::setParameters(array $params)</code> - Set an array
of parameter key-value pairs.</li>
    <li class="dash"><code>AbstractQuery::getParameter($param)</code></li>
    <li class="dash"><code>AbstractQuery::getParameters()</code></li>
</ul>

            
    <p>Both named and positional parameters are passed to these methods without their ? or : prefix.</p>

    </div>
            <div class="section" id="cache-related-api">
            <h4 class="section-header ">
    <a href="#cache-related-api">
        Cache related API
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>You can cache query results based either on all variables that
define the result (SQL, Hydration Mode, Parameters and Hints) or on
user-defined cache keys. However by default query results are not
cached at all. You have to enable the result cache on a per query
basis. The following example shows a complete workflow using the
Result Cache API:</p>

                <pre class="code-block-table" id="2f509f8da0f09f0cf9ec51f74616be91042f34fb"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="2f509f8da0f09f0cf9ec51f74616be91042f34fb"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM MyProject\Model\User u WHERE u.id = ?1'</span>);</code><code class="line language-php">$query-&gt;setParameter(<span class="hljs-number">1</span>, <span class="hljs-number">12</span>);</code><code class="line language-php"></code><code class="line language-php">$query-&gt;setResultCacheDriver(<span class="hljs-keyword">new</span> ApcCache());</code><code class="line language-php"></code><code class="line language-php">$query-&gt;useResultCache(<span class="hljs-keyword">true</span>)</code><code class="line language-php">      -&gt;setResultCacheLifeTime(<span class="hljs-number">3600</span>);</code><code class="line language-php"></code><code class="line language-php">$result = $query-&gt;getResult(); <span class="hljs-comment">// cache miss</span></code><code class="line language-php"></code><code class="line language-php">$query-&gt;expireResultCache(<span class="hljs-keyword">true</span>);</code><code class="line language-php">$result = $query-&gt;getResult(); <span class="hljs-comment">// forced expire, cache miss</span></code><code class="line language-php"></code><code class="line language-php">$query-&gt;setResultCacheId(<span class="hljs-string">'my_query_result'</span>);</code><code class="line language-php">$result = $query-&gt;getResult(); <span class="hljs-comment">// saved in given result cache id.</span></code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">// or call useResultCache() with all parameters:</span></code><code class="line language-php">$query-&gt;useResultCache(<span class="hljs-keyword">true</span>, <span class="hljs-number">3600</span>, <span class="hljs-string">'my_query_result'</span>);</code><code class="line language-php">$result = $query-&gt;getResult(); <span class="hljs-comment">// cache hit!</span></code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">// Introspection</span></code><code class="line language-php">$queryCacheProfile = $query-&gt;getQueryCacheProfile();</code><code class="line language-php">$cacheDriver = $query-&gt;getResultCacheDriver();</code><code class="line language-php">$lifetime = $query-&gt;getLifetime();</code><code class="line language-php">$key = $query-&gt;getCacheKey();</code><code class="empty"></code></pre>
                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>You can set the Result Cache Driver globally on the
<code>Doctrine\ORM\Configuration</code> instance so that it is passed to
every <code>Query</code> and <code>NativeQuery</code> instance.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
            <div class="section" id="query-hints">
            <h4 class="section-header ">
    <a href="#query-hints">
        Query Hints
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>You can pass hints to the query parser and hydrators by using the
<code>AbstractQuery::setHint($name, $value)</code> method. Currently there
exist mostly internal query hints that are not be consumed in
userland. However the following few hints are to be used in
userland:</p>

            

<ul>
    <li class="dash"><code>Query::HINT_REFRESH</code> - This query is used internally by
<code>EntityManager::refresh()</code> and can be used in userland as well.
If you specify this hint and a query returns the data for an entity
that is already managed by the UnitOfWork, the fields of the
existing entity will be refreshed. In normal operation a result-set
that loads data of an already existing entity is discarded in favor
of the already existing entity.</li>
    <li class="dash"><code>Query::HINT_CUSTOM_TREE_WALKERS</code> - An array of additional
<code>Doctrine\ORM\Query\TreeWalker</code> instances that are attached to
the DQL query parsing process.</li>
</ul>

    </div>
            <div class="section" id="query-cache-dql-query-only">
            <h4 class="section-header ">
    <a href="#query-cache-dql-query-only">
        Query Cache (DQL Query Only)
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Parsing a DQL query and converting it into a SQL query against the
underlying database platform obviously has some overhead in
contrast to directly executing Native SQL queries. That is why
there is a dedicated Query Cache for caching the DQL parser
results. In combination with the use of wildcards you can reduce
the number of parsed queries in production to zero.</p>

            
    <p>The Query Cache Driver is passed from the
<code>Doctrine\ORM\Configuration</code> instance to each
<code>Doctrine\ORM\Query</code> instance by default and is also enabled by
default. This also means you don&#039;t regularly need to fiddle with
the parameters of the Query Cache, however if you do there are
several methods to interact with it:</p>

            

<ul>
    <li class="dash"><code>Query::setQueryCacheDriver($driver)</code> - Allows to set a Cache
instance</li>
    <li class="dash"><code>Query::setQueryCacheLifeTime($seconds)</code> - Set lifetime
of the query caching.</li>
    <li class="dash"><code>Query::expireQueryCache($bool)</code> - Enforce the expiring of the
query cache if set to true.</li>
    <li class="dash"><code>Query::getExpireQueryCache()</code></li>
    <li class="dash"><code>Query::getQueryCacheDriver()</code></li>
    <li class="dash"><code>Query::getQueryCacheLifeTime()</code></li>
</ul>

    </div>
            <div class="section" id="first-and-max-result-items-dql-query-only">
            <h4 class="section-header ">
    <a href="#first-and-max-result-items-dql-query-only">
        First and Max Result Items (DQL Query Only)
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>You can limit the number of results returned from a DQL query as
well as specify the starting offset, Doctrine then uses a strategy
of manipulating the select query to return only the requested
number of results:</p>

            

<ul>
    <li class="dash"><code>Query::setMaxResults($maxResults)</code></li>
    <li class="dash"><code>Query::setFirstResult($offset)</code></li>
</ul>

                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>If your query contains a fetch-joined collection
specifying the result limit methods are not working as you would
expect. Set Max Results restricts the number of database result
rows, however in the case of fetch-joined collections one root
entity might appear in many rows, effectively hydrating less than
the specified number of results.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
            <div class="section" id="temporarily-change-fetch-mode-in-dql">
            <a id="dql-temporarily-change-fetch-mode"></a>
            <h4 class="section-header ">
    <a href="#temporarily-change-fetch-mode-in-dql">
        Temporarily change fetch mode in DQL
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>While normally all your associations are marked as lazy or extra lazy you will have cases where you are using DQL and don&#039;t want to
fetch join a second, third or fourth level of entities into your result, because of the increased cost of the SQL JOIN. You
can mark a many-to-one or one-to-one association as fetched temporarily to batch fetch these entities using a WHERE .. IN query.</p>

                <pre class="code-block-table" id="bab5c27d8fe9be2d09b120f07feccd7b07128989"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="bab5c27d8fe9be2d09b120f07feccd7b07128989"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-meta">&lt;?php</span></code><code class="line language-php">$query = $em-&gt;createQuery(<span class="hljs-string">"SELECT u FROM MyProject\User u"</span>);</code><code class="line language-php">$query-&gt;setFetchMode(<span class="hljs-string">"MyProject\User"</span>, <span class="hljs-string">"address"</span>, \Doctrine\ORM\Mapping\ClassMetadata::FETCH_EAGER);</code><code class="line language-php">$query-&gt;execute();</code><code class="empty"></code></pre>
            
    <p>Given that there are 10 users and corresponding addresses in the database the executed queries will look something like:</p>

                <pre class="code-block-table" id="5659885951d0c99f1f410d4dfe535298e3ecd8a2"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="5659885951d0c99f1f410d4dfe535298e3ecd8a2"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-sql"><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">users</span>;</code><code class="line language-sql"><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> address <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">IN</span> (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>);</code><code class="empty"></code></pre>
                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>Changing the fetch mode during a query mostly makes sense for one-to-one and many-to-one relations. In that case,
all the necessary IDs are available after the root entity (<code>user</code> in the above example) has been loaded. So, one
query per association can be executed to fetch all the referred-to entities (<code>address</code>).</p>

    <p>For one-to-many relations, changing the fetch mode to eager will cause to execute one query <strong>for every root entity
loaded</strong>. This gives no improvement over the <code>lazy</code> fetch mode which will also initialize the associations on
a one-by-one basis once they are accessed.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
    </div>
    </div>
            <div class="section" id="ebnf">
            <a id="dql_ebnf_grammar"></a>
            <h2 class="section-header ">
    <a href="#ebnf">
        EBNF
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>The following context-free grammar, written in an EBNF variant,
describes the Doctrine Query Language. You can consult this grammar
whenever you are unsure about what is possible with DQL or what the
correct syntax for a particular query should be.</p>

            <div class="section" id="document-syntax">
            <h3 class="section-header ">
    <a href="#document-syntax">
        Document syntax:
        <i class="fas fa-link"></i>
    </a>
</h3>
            

<ul>
    <li class="dash">non-terminals begin with an upper case character</li>
    <li class="dash">terminals begin with a lower case character</li>
    <li class="dash">parentheses (...) are used for grouping</li>
    <li class="dash">square brackets [...] are used for defining an optional part,
e.g. zero or one time</li>
    <li class="dash">curly brackets {...} are used for repetition, e.g. zero or more
times</li>
    <li class="dash">double quotation marks &quot;...&quot; define a terminal string</li>
    <li class="dash">a vertical bar | represents an alternative</li>
</ul>

    </div>
            <div class="section" id="terminals">
            <h3 class="section-header ">
    <a href="#terminals">
        Terminals
        <i class="fas fa-link"></i>
    </a>
</h3>
            

<ul>
    <li class="dash">identifier (name, email, ...) must match <code>[a-z_][a-z0-9_]*</code></li>
    <li class="dash">fully_qualified_name (DoctrineTestsModelsCMSCmsUser) matches PHP&#039;s fully qualified class names</li>
    <li class="dash">string (&#039;foo&#039;, &#039;bar&#039;&#039;s house&#039;, &#039;%ninja%&#039;, ...)</li>
    <li class="dash">char (&#039;/&#039;, &#039;\&#039;, &#039; &#039;, ...)</li>
    <li class="dash">integer (-1, 0, 1, 34, ...)</li>
    <li class="dash">float (-0.23, 0.007, 1.245342E+8, ...)</li>
    <li class="dash">boolean (false, true)</li>
</ul>

    </div>
            <div class="section" id="query-language">
            <h3 class="section-header ">
    <a href="#query-language">
        Query Language
        <i class="fas fa-link"></i>
    </a>
</h3>
                <pre class="code-block-table" id="5041bbc84189f77c0232949c4388cfdab09e5b53"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="5041bbc84189f77c0232949c4388cfdab09e5b53"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">QueryLanguage ::= SelectStatement | UpdateStatement | DeleteStatement</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="statements">
            <h3 class="section-header ">
    <a href="#statements">
        Statements
        <i class="fas fa-link"></i>
    </a>
</h3>
                <pre class="code-block-table" id="6b7f2fc76a4ed9039d37585dd5ea816ce6be69ac"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="6b7f2fc76a4ed9039d37585dd5ea816ce6be69ac"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">SelectStatement ::= SelectClause FromClause [WhereClause] [GroupByClause] [HavingClause] [OrderByClause]</code><code class="line language-php">UpdateStatement ::= UpdateClause [WhereClause]</code><code class="line language-php">DeleteStatement ::= DeleteClause [WhereClause]</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="identifiers">
            <h3 class="section-header ">
    <a href="#identifiers">
        Identifiers
        <i class="fas fa-link"></i>
    </a>
</h3>
                <pre class="code-block-table" id="db03b831b659e22f2614cdcdc3ba5a8b3483a914"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="db03b831b659e22f2614cdcdc3ba5a8b3483a914"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-comment">/* Alias Identification usage (the "u" of "u.name") */</span></code><code class="line language-php">IdentificationVariable ::= identifier</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/* Alias Identification declaration (the "u" of "FROM User u") */</span></code><code class="line language-php">AliasIdentificationVariable :: = identifier</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/* identifier that must be a class name (the "User" of "FROM User u"), possibly as a fully qualified class name */</span></code><code class="line language-php">AbstractSchemaName ::= fully_qualified_name | identifier</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/* Alias ResultVariable declaration (the "total" of "COUNT(*) AS total") */</span></code><code class="line language-php">AliasResultVariable = identifier</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/* ResultVariable identifier usage of mapped field aliases (the "total" of "COUNT(*) AS total") */</span></code><code class="line language-php">ResultVariable = identifier</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/* identifier that must be a field (the "name" of "u.name") */</span></code><code class="line language-php"><span class="hljs-comment">/* This is responsible to know if the field exists in Object, no matter if it's a relation or a simple field */</span></code><code class="line language-php">FieldIdentificationVariable ::= identifier</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/* identifier that must be a collection-valued association field (to-many) (the "Phonenumbers" of "u.Phonenumbers") */</span></code><code class="line language-php">CollectionValuedAssociationField ::= FieldIdentificationVariable</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/* identifier that must be a single-valued association field (to-one) (the "Group" of "u.Group") */</span></code><code class="line language-php">SingleValuedAssociationField ::= FieldIdentificationVariable</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/* identifier that must be an embedded class state field */</span></code><code class="line language-php">EmbeddedClassStateField ::= FieldIdentificationVariable</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/* identifier that must be a simple state field (name, email, ...) (the "name" of "u.name") */</span></code><code class="line language-php"><span class="hljs-comment">/* The difference between this and FieldIdentificationVariable is only semantical, because it points to a single field (not mapping to a relation) */</span></code><code class="line language-php">SimpleStateField ::= FieldIdentificationVariable</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="path-expressions">
            <h3 class="section-header ">
    <a href="#path-expressions">
        Path Expressions
        <i class="fas fa-link"></i>
    </a>
</h3>
                <pre class="code-block-table" id="90357863afc2c9eab2539667803fe873e946f5ea"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="90357863afc2c9eab2539667803fe873e946f5ea"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-comment">/* "u.Group" or "u.Phonenumbers" declarations */</span></code><code class="line language-php">JoinAssociationPathExpression             ::= IdentificationVariable <span class="hljs-string">"."</span> (CollectionValuedAssociationField | SingleValuedAssociationField)</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/* "u.Group" or "u.Phonenumbers" usages */</span></code><code class="line language-php">AssociationPathExpression                 ::= CollectionValuedPathExpression | SingleValuedAssociationPathExpression</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/* "u.name" or "u.Group" */</span></code><code class="line language-php">SingleValuedPathExpression                ::= StateFieldPathExpression | SingleValuedAssociationPathExpression</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/* "u.name" or "u.Group.name" */</span></code><code class="line language-php">StateFieldPathExpression                  ::= IdentificationVariable <span class="hljs-string">"."</span> StateField</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/* "u.Group" */</span></code><code class="line language-php">SingleValuedAssociationPathExpression     ::= IdentificationVariable <span class="hljs-string">"."</span> SingleValuedAssociationField</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/* "u.Group.Permissions" */</span></code><code class="line language-php">CollectionValuedPathExpression            ::= IdentificationVariable <span class="hljs-string">"."</span> CollectionValuedAssociationField</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-comment">/* "name" */</span></code><code class="line language-php">StateField                                ::= {EmbeddedClassStateField <span class="hljs-string">"."</span>}* SimpleStateField</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="clauses">
            <h3 class="section-header ">
    <a href="#clauses">
        Clauses
        <i class="fas fa-link"></i>
    </a>
</h3>
                <pre class="code-block-table" id="2687aba3a3735b74cc8cddd691b2ba4145506ce6"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="2687aba3a3735b74cc8cddd691b2ba4145506ce6"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">SelectClause        ::= <span class="hljs-string">"SELECT"</span> [<span class="hljs-string">"DISTINCT"</span>] SelectExpression {<span class="hljs-string">","</span> SelectExpression}*</code><code class="line language-php">SimpleSelectClause  ::= <span class="hljs-string">"SELECT"</span> [<span class="hljs-string">"DISTINCT"</span>] SimpleSelectExpression</code><code class="line language-php">UpdateClause        ::= <span class="hljs-string">"UPDATE"</span> AbstractSchemaName [<span class="hljs-string">"AS"</span>] AliasIdentificationVariable <span class="hljs-string">"SET"</span> UpdateItem {<span class="hljs-string">","</span> UpdateItem}*</code><code class="line language-php">DeleteClause        ::= <span class="hljs-string">"DELETE"</span> [<span class="hljs-string">"FROM"</span>] AbstractSchemaName [<span class="hljs-string">"AS"</span>] AliasIdentificationVariable</code><code class="line language-php">FromClause          ::= <span class="hljs-string">"FROM"</span> IdentificationVariableDeclaration {<span class="hljs-string">","</span> IdentificationVariableDeclaration}*</code><code class="line language-php">SubselectFromClause ::= <span class="hljs-string">"FROM"</span> SubselectIdentificationVariableDeclaration {<span class="hljs-string">","</span> SubselectIdentificationVariableDeclaration}*</code><code class="line language-php">WhereClause         ::= <span class="hljs-string">"WHERE"</span> ConditionalExpression</code><code class="line language-php">HavingClause        ::= <span class="hljs-string">"HAVING"</span> ConditionalExpression</code><code class="line language-php">GroupByClause       ::= <span class="hljs-string">"GROUP"</span> <span class="hljs-string">"BY"</span> GroupByItem {<span class="hljs-string">","</span> GroupByItem}*</code><code class="line language-php">OrderByClause       ::= <span class="hljs-string">"ORDER"</span> <span class="hljs-string">"BY"</span> OrderByItem {<span class="hljs-string">","</span> OrderByItem}*</code><code class="line language-php">Subselect           ::= SimpleSelectClause SubselectFromClause [WhereClause] [GroupByClause] [HavingClause] [OrderByClause]</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="items">
            <h3 class="section-header ">
    <a href="#items">
        Items
        <i class="fas fa-link"></i>
    </a>
</h3>
                <pre class="code-block-table" id="dfbedad47070e9afbb0d2161d5c6edcd71ff10ac"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="dfbedad47070e9afbb0d2161d5c6edcd71ff10ac"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">UpdateItem  ::= SingleValuedPathExpression <span class="hljs-string">"="</span> NewValue</code><code class="line language-php">OrderByItem ::= (SimpleArithmeticExpression | SingleValuedPathExpression | ScalarExpression | ResultVariable | FunctionDeclaration) [<span class="hljs-string">"ASC"</span> | <span class="hljs-string">"DESC"</span>]</code><code class="line language-php">GroupByItem ::= IdentificationVariable | ResultVariable | SingleValuedPathExpression</code><code class="line language-php">NewValue    ::= SimpleArithmeticExpression | <span class="hljs-string">"NULL"</span></code><code class="empty"></code></pre>
    </div>
            <div class="section" id="from-join-and-index-by">
            <h3 class="section-header ">
    <a href="#from-join-and-index-by">
        From, Join and Index by
        <i class="fas fa-link"></i>
    </a>
</h3>
                <pre class="code-block-table" id="a682c4502353d3d0104b44f7c2e3c7d8e357fb56"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="a682c4502353d3d0104b44f7c2e3c7d8e357fb56"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">IdentificationVariableDeclaration          ::= RangeVariableDeclaration [IndexBy] {Join}*</code><code class="line language-php">SubselectIdentificationVariableDeclaration ::= IdentificationVariableDeclaration</code><code class="line language-php">RangeVariableDeclaration                   ::= AbstractSchemaName [<span class="hljs-string">"AS"</span>] AliasIdentificationVariable</code><code class="line language-php">JoinAssociationDeclaration                 ::= JoinAssociationPathExpression [<span class="hljs-string">"AS"</span>] AliasIdentificationVariable [IndexBy]</code><code class="line language-php">Join                                       ::= [<span class="hljs-string">"LEFT"</span> [<span class="hljs-string">"OUTER"</span>] | <span class="hljs-string">"INNER"</span>] <span class="hljs-string">"JOIN"</span> (JoinAssociationDeclaration | RangeVariableDeclaration) [<span class="hljs-string">"WITH"</span> ConditionalExpression]</code><code class="line language-php">IndexBy                                    ::= <span class="hljs-string">"INDEX"</span> <span class="hljs-string">"BY"</span> SingleValuedPathExpression</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="select-expressions">
            <h3 class="section-header ">
    <a href="#select-expressions">
        Select Expressions
        <i class="fas fa-link"></i>
    </a>
</h3>
                <pre class="code-block-table" id="4b95e2ee0c47ed1edd2595b6a57a8ad9851f8422"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="4b95e2ee0c47ed1edd2595b6a57a8ad9851f8422"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">SelectExpression        ::= (IdentificationVariable | ScalarExpression | AggregateExpression | FunctionDeclaration | <span class="hljs-string">"("</span> Subselect <span class="hljs-string">")"</span> | CaseExpression | NewObjectExpression) [[<span class="hljs-string">"AS"</span>] [<span class="hljs-string">"HIDDEN"</span>] AliasResultVariable]</code><code class="line language-php">SimpleSelectExpression  ::= (StateFieldPathExpression | IdentificationVariable | FunctionDeclaration | AggregateExpression | <span class="hljs-string">"("</span> Subselect <span class="hljs-string">")"</span> | ScalarExpression) [[<span class="hljs-string">"AS"</span>] AliasResultVariable]</code><code class="line language-php">NewObjectExpression     ::= <span class="hljs-string">"NEW"</span> AbstractSchemaName <span class="hljs-string">"("</span> NewObjectArg {<span class="hljs-string">","</span> NewObjectArg}* <span class="hljs-string">")"</span></code><code class="line language-php">NewObjectArg            ::= ScalarExpression | <span class="hljs-string">"("</span> Subselect <span class="hljs-string">")"</span></code><code class="empty"></code></pre>
    </div>
            <div class="section" id="conditional-expressions">
            <h3 class="section-header ">
    <a href="#conditional-expressions">
        Conditional Expressions
        <i class="fas fa-link"></i>
    </a>
</h3>
                <pre class="code-block-table" id="f9be9576de751fbb6d3369093c524f46cb7105f8"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="f9be9576de751fbb6d3369093c524f46cb7105f8"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">ConditionalExpression       ::= ConditionalTerm {<span class="hljs-string">"OR"</span> ConditionalTerm}*</code><code class="line language-php">ConditionalTerm             ::= ConditionalFactor {<span class="hljs-string">"AND"</span> ConditionalFactor}*</code><code class="line language-php">ConditionalFactor           ::= [<span class="hljs-string">"NOT"</span>] ConditionalPrimary</code><code class="line language-php">ConditionalPrimary          ::= SimpleConditionalExpression | <span class="hljs-string">"("</span> ConditionalExpression <span class="hljs-string">")"</span></code><code class="line language-php">SimpleConditionalExpression ::= ComparisonExpression | BetweenExpression | LikeExpression |</code><code class="line language-php">                                InExpression | NullComparisonExpression | ExistsExpression |</code><code class="line language-php">                                EmptyCollectionComparisonExpression | CollectionMemberExpression |</code><code class="line language-php">                                InstanceOfExpression</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="collection-expressions">
            <h3 class="section-header ">
    <a href="#collection-expressions">
        Collection Expressions
        <i class="fas fa-link"></i>
    </a>
</h3>
                <pre class="code-block-table" id="5c19c5be88ef470037ed8e4d2bd3865b419b7e02"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="5c19c5be88ef470037ed8e4d2bd3865b419b7e02"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">EmptyCollectionComparisonExpression ::= CollectionValuedPathExpression <span class="hljs-string">"IS"</span> [<span class="hljs-string">"NOT"</span>] <span class="hljs-string">"EMPTY"</span></code><code class="line language-php">CollectionMemberExpression          ::= EntityExpression [<span class="hljs-string">"NOT"</span>] <span class="hljs-string">"MEMBER"</span> [<span class="hljs-string">"OF"</span>] CollectionValuedPathExpression</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="literal-values">
            <h3 class="section-header ">
    <a href="#literal-values">
        Literal Values
        <i class="fas fa-link"></i>
    </a>
</h3>
                <pre class="code-block-table" id="2fee034c36de356f1e4946b28b9b7b029db67f76"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="2fee034c36de356f1e4946b28b9b7b029db67f76"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">Literal     ::= string | char | integer | float | boolean</code><code class="line language-php">InParameter ::= ArithmeticExpression | InputParameter</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="input-parameter">
            <h3 class="section-header ">
    <a href="#input-parameter">
        Input Parameter
        <i class="fas fa-link"></i>
    </a>
</h3>
                <pre class="code-block-table" id="2050218216c97ec1c42596058093492519db172e"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="2050218216c97ec1c42596058093492519db172e"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">InputParameter      ::= PositionalParameter | NamedParameter</code><code class="line language-php">PositionalParameter ::= <span class="hljs-string">"?"</span> integer</code><code class="line language-php">NamedParameter      ::= <span class="hljs-string">":"</span> string</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="arithmetic-expressions">
            <h3 class="section-header ">
    <a href="#arithmetic-expressions">
        Arithmetic Expressions
        <i class="fas fa-link"></i>
    </a>
</h3>
                <pre class="code-block-table" id="fa501a32d6ac23a7558f3f1a23a9ce08febe7de5"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="fa501a32d6ac23a7558f3f1a23a9ce08febe7de5"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">ArithmeticExpression       ::= SimpleArithmeticExpression | <span class="hljs-string">"("</span> Subselect <span class="hljs-string">")"</span></code><code class="line language-php">SimpleArithmeticExpression ::= ArithmeticTerm {(<span class="hljs-string">"+"</span> | <span class="hljs-string">"-"</span>) ArithmeticTerm}*</code><code class="line language-php">ArithmeticTerm             ::= ArithmeticFactor {(<span class="hljs-string">"*"</span> | <span class="hljs-string">"/"</span>) ArithmeticFactor}*</code><code class="line language-php">ArithmeticFactor           ::= [(<span class="hljs-string">"+"</span> | <span class="hljs-string">"-"</span>)] ArithmeticPrimary</code><code class="line language-php">ArithmeticPrimary          ::= SingleValuedPathExpression | Literal | <span class="hljs-string">"("</span> SimpleArithmeticExpression <span class="hljs-string">")"</span></code><code class="line language-php">                               | FunctionsReturningNumerics | AggregateExpression | FunctionsReturningStrings</code><code class="line language-php">                               | FunctionsReturningDatetime | IdentificationVariable | ResultVariable</code><code class="line language-php">                               | InputParameter | CaseExpression</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="scalar-and-type-expressions">
            <h3 class="section-header ">
    <a href="#scalar-and-type-expressions">
        Scalar and Type Expressions
        <i class="fas fa-link"></i>
    </a>
</h3>
                <pre class="code-block-table" id="e297485e056e33a302065a70309c2123065c9e0b"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="e297485e056e33a302065a70309c2123065c9e0b"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">ScalarExpression       ::= SimpleArithmeticExpression | StringPrimary | DateTimePrimary | StateFieldPathExpression | BooleanPrimary | CaseExpression | InstanceOfExpression</code><code class="line language-php">StringExpression       ::= StringPrimary | ResultVariable | <span class="hljs-string">"("</span> Subselect <span class="hljs-string">")"</span></code><code class="line language-php">StringPrimary          ::= StateFieldPathExpression | string | InputParameter | FunctionsReturningStrings | AggregateExpression | CaseExpression</code><code class="line language-php">BooleanExpression      ::= BooleanPrimary | <span class="hljs-string">"("</span> Subselect <span class="hljs-string">")"</span></code><code class="line language-php">BooleanPrimary         ::= StateFieldPathExpression | boolean | InputParameter</code><code class="line language-php">EntityExpression       ::= SingleValuedAssociationPathExpression | SimpleEntityExpression</code><code class="line language-php">SimpleEntityExpression ::= IdentificationVariable | InputParameter</code><code class="line language-php">DatetimeExpression     ::= DatetimePrimary | <span class="hljs-string">"("</span> Subselect <span class="hljs-string">")"</span></code><code class="line language-php">DatetimePrimary        ::= StateFieldPathExpression | InputParameter | FunctionsReturningDatetime | AggregateExpression</code><code class="empty"></code></pre>
                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>Parts of CASE expressions are not yet implemented.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
            <div class="section" id="aggregate-expressions">
            <h3 class="section-header ">
    <a href="#aggregate-expressions">
        Aggregate Expressions
        <i class="fas fa-link"></i>
    </a>
</h3>
                <pre class="code-block-table" id="8ff6b0f53543d2da4bcebbbba22a846039b39815"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="8ff6b0f53543d2da4bcebbbba22a846039b39815"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">AggregateExpression ::= (<span class="hljs-string">"AVG"</span> | <span class="hljs-string">"MAX"</span> | <span class="hljs-string">"MIN"</span> | <span class="hljs-string">"SUM"</span> | <span class="hljs-string">"COUNT"</span>) <span class="hljs-string">"("</span> [<span class="hljs-string">"DISTINCT"</span>] SimpleArithmeticExpression <span class="hljs-string">")"</span></code><code class="empty"></code></pre>
    </div>
            <div class="section" id="case-expressions">
            <h3 class="section-header ">
    <a href="#case-expressions">
        Case Expressions
        <i class="fas fa-link"></i>
    </a>
</h3>
                <pre class="code-block-table" id="4ee0d39b2b78e423a4ef22c6b0b0c80634eb8caa"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="4ee0d39b2b78e423a4ef22c6b0b0c80634eb8caa"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">CaseExpression        ::= GeneralCaseExpression | SimpleCaseExpression | CoalesceExpression | NullifExpression</code><code class="line language-php">GeneralCaseExpression ::= <span class="hljs-string">"CASE"</span> WhenClause {WhenClause}* <span class="hljs-string">"ELSE"</span> ScalarExpression <span class="hljs-string">"END"</span></code><code class="line language-php">WhenClause            ::= <span class="hljs-string">"WHEN"</span> ConditionalExpression <span class="hljs-string">"THEN"</span> ScalarExpression</code><code class="line language-php">SimpleCaseExpression  ::= <span class="hljs-string">"CASE"</span> CaseOperand SimpleWhenClause {SimpleWhenClause}* <span class="hljs-string">"ELSE"</span> ScalarExpression <span class="hljs-string">"END"</span></code><code class="line language-php">CaseOperand           ::= StateFieldPathExpression | TypeDiscriminator</code><code class="line language-php">SimpleWhenClause      ::= <span class="hljs-string">"WHEN"</span> ScalarExpression <span class="hljs-string">"THEN"</span> ScalarExpression</code><code class="line language-php">CoalesceExpression    ::= <span class="hljs-string">"COALESCE"</span> <span class="hljs-string">"("</span> ScalarExpression {<span class="hljs-string">","</span> ScalarExpression}* <span class="hljs-string">")"</span></code><code class="line language-php">NullifExpression      ::= <span class="hljs-string">"NULLIF"</span> <span class="hljs-string">"("</span> ScalarExpression <span class="hljs-string">","</span> ScalarExpression <span class="hljs-string">")"</span></code><code class="empty"></code></pre>
    </div>
            <div class="section" id="other-expressions">
            <h3 class="section-header ">
    <a href="#other-expressions">
        Other Expressions
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>QUANTIFIED/BETWEEN/COMPARISON/LIKE/NULL/EXISTS</p>

                <pre class="code-block-table" id="10a3a3e1bf4f43e73e7fabb03c47dba5eaa4a782"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="10a3a3e1bf4f43e73e7fabb03c47dba5eaa4a782"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">QuantifiedExpression     ::= (<span class="hljs-string">"ALL"</span> | <span class="hljs-string">"ANY"</span> | <span class="hljs-string">"SOME"</span>) <span class="hljs-string">"("</span> Subselect <span class="hljs-string">")"</span></code><code class="line language-php">BetweenExpression        ::= ArithmeticExpression [<span class="hljs-string">"NOT"</span>] <span class="hljs-string">"BETWEEN"</span> ArithmeticExpression <span class="hljs-string">"AND"</span> ArithmeticExpression</code><code class="line language-php">ComparisonExpression     ::= ArithmeticExpression ComparisonOperator ( QuantifiedExpression | ArithmeticExpression )</code><code class="line language-php">InExpression             ::= ArithmeticExpression [<span class="hljs-string">"NOT"</span>] <span class="hljs-string">"IN"</span> <span class="hljs-string">"("</span> (InParameter {<span class="hljs-string">","</span> InParameter}* | Subselect) <span class="hljs-string">")"</span></code><code class="line language-php">InstanceOfExpression     ::= IdentificationVariable [<span class="hljs-string">"NOT"</span>] <span class="hljs-string">"INSTANCE"</span> [<span class="hljs-string">"OF"</span>] (InstanceOfParameter | <span class="hljs-string">"("</span> InstanceOfParameter {<span class="hljs-string">","</span> InstanceOfParameter}* <span class="hljs-string">")"</span>)</code><code class="line language-php">InstanceOfParameter      ::= AbstractSchemaName | InputParameter</code><code class="line language-php">LikeExpression           ::= StringExpression [<span class="hljs-string">"NOT"</span>] <span class="hljs-string">"LIKE"</span> StringPrimary [<span class="hljs-string">"ESCAPE"</span> char]</code><code class="line language-php">NullComparisonExpression ::= (InputParameter | NullIfExpression | CoalesceExpression | AggregateExpression | FunctionDeclaration | IdentificationVariable | SingleValuedPathExpression | ResultVariable) <span class="hljs-string">"IS"</span> [<span class="hljs-string">"NOT"</span>] <span class="hljs-string">"NULL"</span></code><code class="line language-php">ExistsExpression         ::= [<span class="hljs-string">"NOT"</span>] <span class="hljs-string">"EXISTS"</span> <span class="hljs-string">"("</span> Subselect <span class="hljs-string">")"</span></code><code class="line language-php">ComparisonOperator       ::= <span class="hljs-string">"="</span> | <span class="hljs-string">"&lt;"</span> | <span class="hljs-string">"&lt;="</span> | <span class="hljs-string">"&lt;&gt;"</span> | <span class="hljs-string">"&gt;"</span> | <span class="hljs-string">"&gt;="</span> | <span class="hljs-string">"!="</span></code><code class="empty"></code></pre>
    </div>
            <div class="section" id="functions">
            <h3 class="section-header ">
    <a href="#functions">
        Functions
        <i class="fas fa-link"></i>
    </a>
</h3>
                <pre class="code-block-table" id="7d11c3454abdf670bc93dabc8dd7b6d623a2703f"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="7d11c3454abdf670bc93dabc8dd7b6d623a2703f"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">FunctionDeclaration ::= FunctionsReturningStrings | FunctionsReturningNumerics | FunctionsReturningDateTime</code><code class="line language-php"></code><code class="line language-php">FunctionsReturningNumerics ::=</code><code class="line language-php">        <span class="hljs-string">"LENGTH"</span> <span class="hljs-string">"("</span> StringPrimary <span class="hljs-string">")"</span> |</code><code class="line language-php">        <span class="hljs-string">"LOCATE"</span> <span class="hljs-string">"("</span> StringPrimary <span class="hljs-string">","</span> StringPrimary [<span class="hljs-string">","</span> SimpleArithmeticExpression]<span class="hljs-string">")"</span> |</code><code class="line language-php">        <span class="hljs-string">"ABS"</span> <span class="hljs-string">"("</span> SimpleArithmeticExpression <span class="hljs-string">")"</span> |</code><code class="line language-php">        <span class="hljs-string">"SQRT"</span> <span class="hljs-string">"("</span> SimpleArithmeticExpression <span class="hljs-string">")"</span> |</code><code class="line language-php">        <span class="hljs-string">"MOD"</span> <span class="hljs-string">"("</span> SimpleArithmeticExpression <span class="hljs-string">","</span> SimpleArithmeticExpression <span class="hljs-string">")"</span> |</code><code class="line language-php">        <span class="hljs-string">"SIZE"</span> <span class="hljs-string">"("</span> CollectionValuedPathExpression <span class="hljs-string">")"</span> |</code><code class="line language-php">        <span class="hljs-string">"DATE_DIFF"</span> <span class="hljs-string">"("</span> ArithmeticPrimary <span class="hljs-string">","</span> ArithmeticPrimary <span class="hljs-string">")"</span> |</code><code class="line language-php">        <span class="hljs-string">"BIT_AND"</span> <span class="hljs-string">"("</span> ArithmeticPrimary <span class="hljs-string">","</span> ArithmeticPrimary <span class="hljs-string">")"</span> |</code><code class="line language-php">        <span class="hljs-string">"BIT_OR"</span> <span class="hljs-string">"("</span> ArithmeticPrimary <span class="hljs-string">","</span> ArithmeticPrimary <span class="hljs-string">")"</span></code><code class="line language-php"></code><code class="line language-php">FunctionsReturningDateTime ::=</code><code class="line language-php">        <span class="hljs-string">"CURRENT_DATE"</span> |</code><code class="line language-php">        <span class="hljs-string">"CURRENT_TIME"</span> |</code><code class="line language-php">        <span class="hljs-string">"CURRENT_TIMESTAMP"</span> |</code><code class="line language-php">        <span class="hljs-string">"DATE_ADD"</span> <span class="hljs-string">"("</span> ArithmeticPrimary <span class="hljs-string">","</span> ArithmeticPrimary <span class="hljs-string">","</span> StringPrimary <span class="hljs-string">")"</span> |</code><code class="line language-php">        <span class="hljs-string">"DATE_SUB"</span> <span class="hljs-string">"("</span> ArithmeticPrimary <span class="hljs-string">","</span> ArithmeticPrimary <span class="hljs-string">","</span> StringPrimary <span class="hljs-string">")"</span></code><code class="line language-php"></code><code class="line language-php">FunctionsReturningStrings ::=</code><code class="line language-php">        <span class="hljs-string">"CONCAT"</span> <span class="hljs-string">"("</span> StringPrimary <span class="hljs-string">","</span> StringPrimary <span class="hljs-string">")"</span> |</code><code class="line language-php">        <span class="hljs-string">"SUBSTRING"</span> <span class="hljs-string">"("</span> StringPrimary <span class="hljs-string">","</span> SimpleArithmeticExpression <span class="hljs-string">","</span> SimpleArithmeticExpression <span class="hljs-string">")"</span> |</code><code class="line language-php">        <span class="hljs-string">"TRIM"</span> <span class="hljs-string">"("</span> [[<span class="hljs-string">"LEADING"</span> | <span class="hljs-string">"TRAILING"</span> | <span class="hljs-string">"BOTH"</span>] [char] <span class="hljs-string">"FROM"</span>] StringPrimary <span class="hljs-string">")"</span> |</code><code class="line language-php">        <span class="hljs-string">"LOWER"</span> <span class="hljs-string">"("</span> StringPrimary <span class="hljs-string">")"</span> |</code><code class="line language-php">        <span class="hljs-string">"UPPER"</span> <span class="hljs-string">"("</span> StringPrimary <span class="hljs-string">")"</span> |</code><code class="line language-php">        <span class="hljs-string">"IDENTITY"</span> <span class="hljs-string">"("</span> SingleValuedAssociationPathExpression {<span class="hljs-string">","</span> string} <span class="hljs-string">")"</span></code><code class="empty"></code></pre>
    </div>
    </div>
    </div>
        

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?4a831b"
                            integrity="sha384-ygNM6vWkqMgvV0Lrk5BeKUupSk4CidmuzVPL3OkdAxEVjZQDo9cgbfC+FXAfoAse"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'orm';
            var versionSlug = '3.0';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search ORM 3.0'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            </body>
</html>
