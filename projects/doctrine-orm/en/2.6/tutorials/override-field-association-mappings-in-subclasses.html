<!DOCTYPE html>
<html>
    <head>
        <title>Override Field Association Mappings In Subclasses - Doctrine - PHP Database Tools</title>

        <meta charset="utf-8">
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

                    <meta name="robots" content="noindex, follow">
        
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" integrity="sha384-3AB7yXWz4OeoZcPbieVW64vVXEwADiYyAEhwilzWsLw+9FgqpyjjStpPnpBO8o8S" crossorigin="anonymous">

        <link href="https://new.doctrine-project.org/css/style.css?24" rel="stylesheet" type="text/css" />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://new.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://new.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://new.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://new.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://new.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://new.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://new.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://new.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://new.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://new.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://new.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://new.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://new.doctrine-project.org/images/mstile-310x310.png" />

        <link rel="stylesheet" href="https://new.doctrine-project.org/components/highlightjs/styles/railscasts.css?24" />
        <link rel="alternate" type="application/atom+xml" href="https://new.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        
        
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">
        <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0"></script>
    </head>
    <body>
                    <nav class="navbar navbar-expand-md navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="https://new.doctrine-project.org/"><img src="https://new.doctrine-project.org/images/doctrine-logo.svg" />Doctrine</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="https://new.doctrine-project.org/">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://new.doctrine-project.org/about/">About</a>
                        </li>
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="https://new.doctrine-project.org/projects/" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/orm/">ORM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/dbal/">DBAL</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/mongodb-odm/">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/phpcr-odm/">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/couchdb-odm/">CouchDB ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/migrations/">Migrations</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/common/">Common</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/mongodb/">MongoDB</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/orientdb-odm/">OrientDB ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/annotations/">Annotations</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/collections/">Collections</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/inflector/">Inflector</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/cache/">Cache</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/lexer/">Lexer</a>
                                                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://new.doctrine-project.org/contribute/">Contribute</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://new.doctrine-project.org/community/">Community</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://new.doctrine-project.org/blog/">Blog</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://new.doctrine-project.org/search/">Search</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://github.com/doctrine/" target="_blank">Development</a>
                        </li>
                    </ul>
                </div>
            </nav>
        
            <div class="container-fluid">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        
<div class="toc"><ul><li id="composite-primary-keys-html-title-1" class="toc-item"><a href="composite-primary-keys.html#title.1">Composite and Foreign Keys as Primary Key</a></li><ul><li id="composite-primary-keys-html-title-1-1" class="toc-item"><a href="composite-primary-keys.html#title.1.1">General Considerations</a></li><li id="composite-primary-keys-html-title-1-2" class="toc-item"><a href="composite-primary-keys.html#title.1.2">Primitive Types only</a></li><li id="composite-primary-keys-html-title-1-3" class="toc-item"><a href="composite-primary-keys.html#title.1.3">Identity through foreign Entities</a></li><li id="composite-primary-keys-html-title-1-4" class="toc-item"><a href="composite-primary-keys.html#title.1.4">Use-Case 1: Dynamic Attributes</a></li><li id="composite-primary-keys-html-title-1-5" class="toc-item"><a href="composite-primary-keys.html#title.1.5">Use-Case 2: Simple Derived Identity</a></li><li id="composite-primary-keys-html-title-1-6" class="toc-item"><a href="composite-primary-keys.html#title.1.6">Use-Case 3: Join-Table with Metadata</a></li><li id="composite-primary-keys-html-title-1-7" class="toc-item"><a href="composite-primary-keys.html#title.1.7">Performance Considerations</a></li></ul><li id="embeddables-html-title-1" class="toc-item"><a href="embeddables.html#title.1">Separating Concerns using Embeddables</a></li><li id="embeddables-html-title-2" class="toc-item"><a href="embeddables.html#title.2">Initializing embeddables</a></li><li id="embeddables-html-title-3" class="toc-item"><a href="embeddables.html#title.3">Column Prefixing</a></li><li id="embeddables-html-title-4" class="toc-item"><a href="embeddables.html#title.4">DQL</a></li><li id="extra-lazy-associations-html-title-1" class="toc-item"><a href="extra-lazy-associations.html#title.1">Extra Lazy Associations</a></li><ul><li id="extra-lazy-associations-html-title-1-1" class="toc-item"><a href="extra-lazy-associations.html#title.1.1">Enabling Extra-Lazy Associations</a></li></ul><li id="getting-started-database-html-title-1" class="toc-item"><a href="getting-started-database.html#title.1">Getting Started: Database First</a></li><li id="getting-started-models-html-title-1" class="toc-item"><a href="getting-started-models.html#title.1">Getting Started: Model First</a></li><li id="getting-started-html-title-1" class="toc-item"><a href="getting-started.html#title.1">Getting Started with Doctrine</a></li><ul><li id="getting-started-html-title-1-1" class="toc-item"><a href="getting-started.html#title.1.1">Guide Assumptions</a></li><li id="getting-started-html-title-1-2" class="toc-item"><a href="getting-started.html#title.1.2">What is Doctrine?</a></li><ul><li id="getting-started-html-title-1-2-1" class="toc-item"><a href="getting-started.html#title.1.2.1">What are Entities?</a></li></ul><li id="getting-started-html-title-1-3" class="toc-item"><a href="getting-started.html#title.1.3">An Example Model: Bug Tracker</a></li><li id="getting-started-html-title-1-4" class="toc-item"><a href="getting-started.html#title.1.4">Project Setup</a></li><li id="getting-started-html-title-1-5" class="toc-item"><a href="getting-started.html#title.1.5">Obtaining the EntityManager</a></li><li id="getting-started-html-title-1-6" class="toc-item"><a href="getting-started.html#title.1.6">Generating the Database Schema</a></li><li id="getting-started-html-title-1-7" class="toc-item"><a href="getting-started.html#title.1.7">Starting with the Product Entity</a></li><ul><li id="getting-started-html-title-1-7-1" class="toc-item"><a href="getting-started.html#title.1.7.1">Adding behavior to Entities</a></li></ul><li id="getting-started-html-title-1-8" class="toc-item"><a href="getting-started.html#title.1.8">Adding Bug and User Entities</a></li><li id="getting-started-html-title-1-9" class="toc-item"><a href="getting-started.html#title.1.9">Implementing more Requirements</a></li><li id="getting-started-html-title-1-10" class="toc-item"><a href="getting-started.html#title.1.10">Queries for Application Use-Cases</a></li><ul><li id="getting-started-html-title-1-10-1" class="toc-item"><a href="getting-started.html#title.1.10.1">List of Bugs</a></li><li id="getting-started-html-title-1-10-2" class="toc-item"><a href="getting-started.html#title.1.10.2">Array Hydration of the Bug List</a></li><li id="getting-started-html-title-1-10-3" class="toc-item"><a href="getting-started.html#title.1.10.3">Find by Primary Key</a></li></ul><li id="getting-started-html-title-1-11" class="toc-item"><a href="getting-started.html#title.1.11">Dashboard of the User</a></li><li id="getting-started-html-title-1-12" class="toc-item"><a href="getting-started.html#title.1.12">Number of Bugs</a></li><li id="getting-started-html-title-1-13" class="toc-item"><a href="getting-started.html#title.1.13">Updating Entities</a></li><li id="getting-started-html-title-1-14" class="toc-item"><a href="getting-started.html#title.1.14">Entity Repositories</a></li><li id="getting-started-html-title-1-15" class="toc-item"><a href="getting-started.html#title.1.15">Conclusion</a></li></ul><li id="ordered-associations-html-title-1" class="toc-item"><a href="ordered-associations.html#title.1">Ordering To-Many Associations</a></li><li id="override-field-association-mappings-in-subclasses-html-title-1" class="toc-item"><a href="override-field-association-mappings-in-subclasses.html#title.1">Override Field Association Mappings In Subclasses</a></li><li id="pagination-html-title-1" class="toc-item"><a href="pagination.html#title.1">Pagination</a></li><li id="working-with-indexed-associations-html-title-1" class="toc-item"><a href="working-with-indexed-associations.html#title.1">Working with Indexed Associations</a></li><ul><li id="working-with-indexed-associations-html-title-1-1" class="toc-item"><a href="working-with-indexed-associations.html#title.1.1">Mapping Indexed Associations</a></li><li id="working-with-indexed-associations-html-title-1-2" class="toc-item"><a href="working-with-indexed-associations.html#title.1.2">Querying indexed associations</a></li><li id="working-with-indexed-associations-html-title-1-3" class="toc-item"><a href="working-with-indexed-associations.html#title.1.3">Outlook into the Future</a></li></ul></ul></div>
                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                                                
                                        
                                                                <nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item"><a href="https://new.doctrine-project.org/projects/">Projects</a></li>
                                <li class="breadcrumb-item"><a href="https://new.doctrine-project.org/projects/orm/">ORM</a></li>
                                <li class="breadcrumb-item"><a href="https://new.doctrine-project.org/projects/doctrine-orm/en/2.6/">Documentation</a></li>
                                <li class="breadcrumb-item active" aria-current="page">Override Field Association Mappings In Subclasses</li>
                            </ol>
                        </nav>
                                    </div>

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            <ul class="list-inline">
                                                                            <li class="list-inline-item mr-0">
                                            <a href="/projects/doctrine-orm/en/latest/tutorials/override-field-association-mappings-in-subclasses.html" class="project-version-switcher badge badge-secondary">master</a>
                                        </li>
                                                                            <li class="list-inline-item mr-0">
                                            <a href="/projects/doctrine-orm/en/2.6/tutorials/override-field-association-mappings-in-subclasses.html" class="project-version-switcher badge badge-primary">2.6</a>
                                        </li>
                                                                            <li class="list-inline-item mr-0">
                                            <a href="/projects/doctrine-orm/en/2.5/tutorials/override-field-association-mappings-in-subclasses.html" class="project-version-switcher badge badge-secondary">2.5</a>
                                        </li>
                                                                    </ul>
                            
                            
<a class="section-anchor" id="title.1" name="title.1"></a><h1 class="section-header"><a href="#title.1">Override Field Association Mappings In Subclasses<i class="fas fa-link"></i></a></h1>
<p>Sometimes there is a need to persist entities but override all or part of the
mapping metadata. Sometimes also the mapping to override comes from entities
using traits where the traits have mapping metadata.
This tutorial explains how to override mapping metadata,
i.e. attributes and associations metadata in particular. The example here shows
the overriding of a class that uses a trait but is similar when extending a base
class as shown at the end of this tutorial.</p>
<p>Suppose we have a class ExampleEntityWithOverride. This class uses trait ExampleTrait:</p>
<pre><code class="php">&lt;?php

use Doctrine\ORM\Annotation as ORM;

/**
 * @ORM\Entity
 *
 * @ORM\AttributeOverrides({
 *      @ORM\AttributeOverride(name=&quot;foo&quot;,
 *          column=@ORM\Column(
 *              name     = &quot;foo_overridden&quot;,
 *              type     = &quot;integer&quot;,
 *              length   = 140,
 *              nullable = false,
 *              unique   = false
 *          )
 *      )
 * })
 *
 * @ORM\AssociationOverrides({
 *      @ORM\AssociationOverride(name=&quot;bar&quot;,
 *          joinColumns=@ORM\JoinColumn(
 *              name=&quot;example_entity_overridden_bar_id&quot;, referencedColumnName=&quot;id&quot;
 *          )
 *      )
 * })
 */
class ExampleEntityWithOverride
{
    use ExampleTrait;
}

/**
 * @ORM\Entity
 */
class Bar
{
    /** @ORM\Id @ORM\Column(type=&quot;string&quot;) */
    private $id;
}
</code></pre>
<p>The docblock is showing metadata override of the attribute and association type. It
basically changes the names of the columns mapped for a property <code>foo</code> and for
the association <code>bar</code> which relates to Bar class shown above. Here is the trait
which has mapping metadata that is overridden by the annotation above:</p>
<pre><code class="php">&lt;?php

use Doctrine\ORM\Annotation as ORM;

/**
 * Trait class
 */
trait ExampleTrait
{
    /** @ORM\Id @ORM\Column(type=&quot;string&quot;) */
    private $id;

    /**
     * @ORM\Column(name=&quot;trait_foo&quot;, type=&quot;integer&quot;, length=100, nullable=true, unique=true)
     */
    protected $foo;

    /**
     * @ORM\OneToOne(targetEntity=&quot;Bar&quot;, cascade={&quot;persist&quot;, &quot;refresh&quot;})
     * @ORM\JoinColumn(name=&quot;example_trait_bar_id&quot;, referencedColumnName=&quot;id&quot;)
     */
    protected $bar;
}
</code></pre>
<p>The case for just extending a class would be just the same but:</p>
<pre><code class="php">&lt;?php
class ExampleEntityWithOverride extends BaseEntityWithSomeMapping
{
    // ...
}
</code></pre>
<p>Overriding is also supported via XML (<a href="../">examples</a>).</p>
                                            </div>
                </div>
            </main>
        </div>
    </div>

                    <footer class="footer">
                <div class="container">
                    <i class="fa fa-copyright"></i> 2018 Doctrine
                </div>
            </footer>
        
        <script
          src="https://code.jquery.com/jquery-3.3.1.min.js"
          integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
          crossorigin="anonymous"></script>

        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>

        <script
            src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>

        <script src="https://new.doctrine-project.org/components/highlightjs/highlight.pack.js?24"></script>
        <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
        <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0"></script>

        <script src="https://new.doctrine-project.org/js/sidebar.js?24"></script>

        <script type="text/javascript">
            // When the user scrolls down 20px from the top of the document, show the button
            window.onscroll = function() {scrollFunction()};

            function scrollFunction() {
                if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                    document.getElementById('back-to-top').style.display = "block";
                } else {
                    document.getElementById('back-to-top').style.display = "none";
                }
            }

            // When the user clicks on the button, scroll to the top of the document
            function topFunction() {
                document.body.scrollTop = 0; // For Safari
                document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
            }
        </script>

        <button onclick="topFunction()" id="back-to-top" title="Go to top">Top</button>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
        
            </body>
</html>
