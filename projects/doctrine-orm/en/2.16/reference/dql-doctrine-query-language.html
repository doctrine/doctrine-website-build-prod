<!DOCTYPE html>
<html>
    <head>
        <title>        Doctrine Query Language - Doctrine Object Relational Mapper (ORM)
    </title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine Object Relational Mapper Documentation: Doctrine Query Language ">

        <meta name="keywords" content="                    orm,database,documentation,doctrine,query,language
    ">

                    <meta name="robots" content="index, follow">
        
        
                    <link rel="canonical" href="https://www.doctrine-project.org/projects/doctrine-orm/en/2.16/reference/dql-doctrine-query-language.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?15a855"
                        integrity="sha384-IVdylBzDQpFJ+EmdH6hsr98Htg0t1rrKj99U9d2vkDI1YrWNS7+OZ+Ti5KHXx+3r"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/projects/doctrine-orm/en/2.16/reference/dql-doctrine-query-language.html" />
        <meta property="og:title" content="        Doctrine Query Language - Doctrine Object Relational Mapper (ORM)
    " />
        <meta property="og:description" content="Doctrine Object Relational Mapper Documentation: Doctrine Query Language " />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine Object Relational Mapper",
            "description": "Doctrine Query Language",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://www.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar stop-war-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                 <a href="/stop-war.html">ðŸ‡ºðŸ‡¦ UKRAINE NEEDS YOUR HELP NOW!</a>
            </nav>

            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/annotations.html">Annotations</a>
                                                                    <a class="dropdown-item" href="/projects/cache.html">Cache</a>
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/reflection.html">Reflection</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                    <a class="dropdown-item" href="/projects/skeleton-mapper.html">Skeleton Mapper</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/team/maintainers.html">Maintainers</a>
                                <a class="dropdown-item" href="/team/contributors.html">Contributors</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/events.html">Events</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/consulting.html">Consulting</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/orm/edit/2.16.x/docs/en/reference/dql-doctrine-query-language.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>

                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        <div class="toc-section"><h2 class="toc-header">Tutorials</h2>
<div class="toc"><ul><li id="tutorials-getting-started-html-getting-started-with-doctrine" class="toc-item"><a href="../tutorials/getting-started.html#getting-started-with-doctrine">Getting Started with Doctrine</a><ul><li id="tutorials-getting-started-html-guide-assumptions" class="toc-item"><a href="../tutorials/getting-started.html#guide-assumptions">Guide Assumptions</a></li><li id="tutorials-getting-started-html-what-is-doctrine" class="toc-item"><a href="../tutorials/getting-started.html#what-is-doctrine">What is Doctrine?</a><ul><li id="tutorials-getting-started-html-what-are-entities" class="toc-item"><a href="../tutorials/getting-started.html#what-are-entities">What are Entities?</a></li></ul></li><li id="tutorials-getting-started-html-an-example-model-bug-tracker" class="toc-item"><a href="../tutorials/getting-started.html#an-example-model-bug-tracker">An Example Model: Bug Tracker</a></li><li id="tutorials-getting-started-html-project-setup" class="toc-item"><a href="../tutorials/getting-started.html#project-setup">Project Setup</a></li><li id="tutorials-getting-started-html-obtaining-the-entitymanager" class="toc-item"><a href="../tutorials/getting-started.html#obtaining-the-entitymanager">Obtaining the EntityManager</a></li><li id="tutorials-getting-started-html-generating-the-database-schema" class="toc-item"><a href="../tutorials/getting-started.html#generating-the-database-schema">Generating the Database Schema</a></li><li id="tutorials-getting-started-html-starting-with-the-product-entity" class="toc-item"><a href="../tutorials/getting-started.html#starting-with-the-product-entity">Starting with the Product Entity</a><ul><li id="tutorials-getting-started-html-adding-behavior-to-entities" class="toc-item"><a href="../tutorials/getting-started.html#adding-behavior-to-entities">Adding behavior to Entities</a></li></ul></li><li id="tutorials-getting-started-html-adding-bug-and-user-entities" class="toc-item"><a href="../tutorials/getting-started.html#adding-bug-and-user-entities">Adding Bug and User Entities</a></li><li id="tutorials-getting-started-html-implementing-more-requirements" class="toc-item"><a href="../tutorials/getting-started.html#implementing-more-requirements">Implementing more Requirements</a></li><li id="tutorials-getting-started-html-queries-for-application-use-cases" class="toc-item"><a href="../tutorials/getting-started.html#queries-for-application-use-cases">Queries for Application Use-Cases</a><ul><li id="tutorials-getting-started-html-list-of-bugs" class="toc-item"><a href="../tutorials/getting-started.html#list-of-bugs">List of Bugs</a></li><li id="tutorials-getting-started-html-array-hydration-of-the-bug-list" class="toc-item"><a href="../tutorials/getting-started.html#array-hydration-of-the-bug-list">Array Hydration of the Bug List</a></li><li id="tutorials-getting-started-html-find-by-primary-key" class="toc-item"><a href="../tutorials/getting-started.html#find-by-primary-key">Find by Primary Key</a></li></ul></li><li id="tutorials-getting-started-html-dashboard-of-the-user" class="toc-item"><a href="../tutorials/getting-started.html#dashboard-of-the-user">Dashboard of the User</a></li><li id="tutorials-getting-started-html-number-of-bugs" class="toc-item"><a href="../tutorials/getting-started.html#number-of-bugs">Number of Bugs</a></li><li id="tutorials-getting-started-html-updating-entities" class="toc-item"><a href="../tutorials/getting-started.html#updating-entities">Updating Entities</a></li><li id="tutorials-getting-started-html-entity-repositories" class="toc-item"><a href="../tutorials/getting-started.html#entity-repositories">Entity Repositories</a></li><li id="tutorials-getting-started-html-conclusion" class="toc-item"><a href="../tutorials/getting-started.html#conclusion">Conclusion</a></li></ul></li><li id="tutorials-getting-started-database-html-getting-started-database-first" class="toc-item"><a href="../tutorials/getting-started-database.html#getting-started-database-first">Getting Started: Database First</a></li><li id="tutorials-getting-started-models-html-getting-started-model-first" class="toc-item"><a href="../tutorials/getting-started-models.html#getting-started-model-first">Getting Started: Model First</a></li><li id="tutorials-working-with-indexed-associations-html-working-with-indexed-associations" class="toc-item"><a href="../tutorials/working-with-indexed-associations.html#working-with-indexed-associations">Working with Indexed Associations</a><ul><li id="tutorials-working-with-indexed-associations-html-mapping-indexed-associations" class="toc-item"><a href="../tutorials/working-with-indexed-associations.html#mapping-indexed-associations">Mapping Indexed Associations</a></li><li id="tutorials-working-with-indexed-associations-html-querying-indexed-associations" class="toc-item"><a href="../tutorials/working-with-indexed-associations.html#querying-indexed-associations">Querying indexed associations</a></li><li id="tutorials-working-with-indexed-associations-html-outlook-into-the-future" class="toc-item"><a href="../tutorials/working-with-indexed-associations.html#outlook-into-the-future">Outlook into the Future</a></li></ul></li><li id="tutorials-extra-lazy-associations-html-extra-lazy-associations" class="toc-item"><a href="../tutorials/extra-lazy-associations.html#extra-lazy-associations">Extra Lazy Associations</a><ul><li id="tutorials-extra-lazy-associations-html-enabling-extra-lazy-associations" class="toc-item"><a href="../tutorials/extra-lazy-associations.html#enabling-extra-lazy-associations">Enabling Extra-Lazy Associations</a></li></ul></li><li id="tutorials-composite-primary-keys-html-composite-and-foreign-keys-as-primary-key" class="toc-item"><a href="../tutorials/composite-primary-keys.html#composite-and-foreign-keys-as-primary-key">Composite and Foreign Keys as Primary Key</a><ul><li id="tutorials-composite-primary-keys-html-general-considerations" class="toc-item"><a href="../tutorials/composite-primary-keys.html#general-considerations">General Considerations</a></li><li id="tutorials-composite-primary-keys-html-primitive-types-only" class="toc-item"><a href="../tutorials/composite-primary-keys.html#primitive-types-only">Primitive Types only</a></li><li id="tutorials-composite-primary-keys-html-identity-through-foreign-entities" class="toc-item"><a href="../tutorials/composite-primary-keys.html#identity-through-foreign-entities">Identity through foreign Entities</a></li><li id="tutorials-composite-primary-keys-html-use-case-1-dynamic-attributes" class="toc-item"><a href="../tutorials/composite-primary-keys.html#use-case-1-dynamic-attributes">Use-Case 1: Dynamic Attributes</a></li><li id="tutorials-composite-primary-keys-html-use-case-2-simple-derived-identity" class="toc-item"><a href="../tutorials/composite-primary-keys.html#use-case-2-simple-derived-identity">Use-Case 2: Simple Derived Identity</a></li><li id="tutorials-composite-primary-keys-html-use-case-3-join-table-with-metadata" class="toc-item"><a href="../tutorials/composite-primary-keys.html#use-case-3-join-table-with-metadata">Use-Case 3: Join-Table with Metadata</a></li><li id="tutorials-composite-primary-keys-html-performance-considerations" class="toc-item"><a href="../tutorials/composite-primary-keys.html#performance-considerations">Performance Considerations</a></li></ul></li><li id="tutorials-ordered-associations-html-ordering-to-many-associations" class="toc-item"><a href="../tutorials/ordered-associations.html#ordering-to-many-associations">Ordering To-Many Associations</a></li><li id="tutorials-override-field-association-mappings-in-subclasses-html-override-field-association-mappings-in-subclasses" class="toc-item"><a href="../tutorials/override-field-association-mappings-in-subclasses.html#override-field-association-mappings-in-subclasses">Override Field Association Mappings In Subclasses</a></li><li id="tutorials-pagination-html-pagination" class="toc-item"><a href="../tutorials/pagination.html#pagination">Pagination</a></li><li id="tutorials-embeddables-html-separating-concerns-using-embeddables" class="toc-item"><a href="../tutorials/embeddables.html#separating-concerns-using-embeddables">Separating Concerns using Embeddables</a><ul><li id="tutorials-embeddables-html-initializing-embeddables" class="toc-item"><a href="../tutorials/embeddables.html#initializing-embeddables">Initializing embeddables</a></li><li id="tutorials-embeddables-html-column-prefixing" class="toc-item"><a href="../tutorials/embeddables.html#column-prefixing">Column Prefixing</a></li><li id="tutorials-embeddables-html-dql" class="toc-item"><a href="../tutorials/embeddables.html#dql">DQL</a></li></ul></li></ul></div>
</div>
<div class="toc-section"><h2 class="toc-header">Reference</h2>
<div class="toc"><ul><li id="architecture-html-architecture" class="toc-item"><a href="architecture.html#architecture">Architecture</a><ul><li id="architecture-html-using-an-object-relational-mapper" class="toc-item"><a href="architecture.html#using-an-object-relational-mapper">Using an Object-Relational Mapper</a></li><li id="architecture-html-requirements" class="toc-item"><a href="architecture.html#requirements">Requirements</a></li><li id="architecture-html-doctrine-orm-packages" class="toc-item"><a href="architecture.html#doctrine-orm-packages">Doctrine ORM Packages</a><ul><li id="architecture-html-the-common-package" class="toc-item"><a href="architecture.html#the-common-package">The Common Package</a></li><li id="architecture-html-the-dbal-package" class="toc-item"><a href="architecture.html#the-dbal-package">The DBAL Package</a></li><li id="architecture-html-the-orm-package" class="toc-item"><a href="architecture.html#the-orm-package">The ORM Package</a></li></ul></li><li id="architecture-html-terminology" class="toc-item"><a href="architecture.html#terminology">Terminology</a><ul><li id="architecture-html-entities" class="toc-item"><a href="architecture.html#entities">Entities</a></li><li id="architecture-html-mapped-superclasses" class="toc-item"><a href="architecture.html#mapped-superclasses">Mapped Superclasses</a></li><li id="architecture-html-transient-classes" class="toc-item"><a href="architecture.html#transient-classes">Transient Classes</a></li><li id="architecture-html-entity-states" class="toc-item"><a href="architecture.html#entity-states">Entity states</a></li><li id="architecture-html-persistent-fields" class="toc-item"><a href="architecture.html#persistent-fields">Persistent fields</a></li><li id="architecture-html-serializing-entities" class="toc-item"><a href="architecture.html#serializing-entities">Serializing entities</a></li><li id="architecture-html-the-entitymanager" class="toc-item"><a href="architecture.html#the-entitymanager">The EntityManager</a></li><li id="architecture-html-transactional-write-behind" class="toc-item"><a href="architecture.html#transactional-write-behind">Transactional write-behind</a></li><li id="architecture-html-the-unit-of-work" class="toc-item"><a href="architecture.html#the-unit-of-work">The Unit of Work</a></li></ul></li></ul></li><li id="configuration-html-installation-and-configuration" class="toc-item"><a href="configuration.html#installation-and-configuration">Installation and Configuration</a><ul><li id="configuration-html-class-loading" class="toc-item"><a href="configuration.html#class-loading">Class loading</a></li><li id="configuration-html-obtaining-an-entitymanager" class="toc-item"><a href="configuration.html#obtaining-an-entitymanager">Obtaining an EntityManager</a></li><li id="configuration-html-setting-up-the-commandline-tool" class="toc-item"><a href="configuration.html#setting-up-the-commandline-tool">Setting up the Commandline Tool</a></li></ul></li><li id="faq-html-frequently-asked-questions" class="toc-item"><a href="faq.html#frequently-asked-questions">Frequently Asked Questions</a><ul><li id="faq-html-database-schema" class="toc-item"><a href="faq.html#database-schema">Database Schema</a><ul><li id="faq-html-how-do-i-set-the-charset-and-collation-for-mysql-tables" class="toc-item"><a href="faq.html#how-do-i-set-the-charset-and-collation-for-mysql-tables">How do I set the charset and collation for MySQL tables?</a></li></ul></li><li id="faq-html-entity-classes" class="toc-item"><a href="faq.html#entity-classes">Entity Classes</a><ul><li id="faq-html-how-can-i-add-default-values-to-a-column" class="toc-item"><a href="faq.html#how-can-i-add-default-values-to-a-column">How can I add default values to a column?</a></li></ul></li><li id="faq-html-mapping" class="toc-item"><a href="faq.html#mapping">Mapping</a><ul><li id="faq-html-why-do-i-get-exceptions-about-unique-constraint-failures-during-3f3a6761ce8417c5a3278188d447eeef525495d5" class="toc-item"><a href="faq.html#why-do-i-get-exceptions-about-unique-constraint-failures-during-3f3a6761ce8417c5a3278188d447eeef525495d5">Why do I get exceptions about unique constraint failures during 3f3a6761ce8417c5a3278188d447eeef525495d5?</a></li></ul></li><li id="faq-html-associations" class="toc-item"><a href="faq.html#associations">Associations</a><ul><li id="faq-html-what-is-wrong-when-i-get-an-invalidargumentexception-a-new-entity-was-found-through-the-relationship" class="toc-item"><a href="faq.html#what-is-wrong-when-i-get-an-invalidargumentexception-a-new-entity-was-found-through-the-relationship">What is wrong when I get an InvalidArgumentException "A new entity was found through the relationship.."?</a></li><li id="faq-html-how-can-i-filter-an-association" class="toc-item"><a href="faq.html#how-can-i-filter-an-association">How can I filter an association?</a></li><li id="faq-html-i-call-clear-on-a-one-to-many-collection-but-the-entities-are-not-deleted" class="toc-item"><a href="faq.html#i-call-clear-on-a-one-to-many-collection-but-the-entities-are-not-deleted">I call clear() on a One-To-Many collection but the entities are not deleted</a></li><li id="faq-html-how-can-i-add-columns-to-a-many-to-many-table" class="toc-item"><a href="faq.html#how-can-i-add-columns-to-a-many-to-many-table">How can I add columns to a many-to-many table?</a></li><li id="faq-html-how-can-i-paginate-fetch-joined-collections" class="toc-item"><a href="faq.html#how-can-i-paginate-fetch-joined-collections">How can i paginate fetch-joined collections?</a></li><li id="faq-html-why-does-pagination-not-work-correctly-with-fetch-joins" class="toc-item"><a href="faq.html#why-does-pagination-not-work-correctly-with-fetch-joins">Why does pagination not work correctly with fetch joins?</a></li></ul></li><li id="faq-html-inheritance" class="toc-item"><a href="faq.html#inheritance">Inheritance</a><ul><li id="faq-html-can-i-use-inheritance-with-doctrine-orm" class="toc-item"><a href="faq.html#can-i-use-inheritance-with-doctrine-orm">Can I use Inheritance with Doctrine ORM?</a></li><li id="faq-html-why-does-doctrine-not-create-proxy-objects-for-my-inheritance-hierarchy" class="toc-item"><a href="faq.html#why-does-doctrine-not-create-proxy-objects-for-my-inheritance-hierarchy">Why does Doctrine not create proxy objects for my inheritance hierarchy?</a></li></ul></li><li id="faq-html-entitygenerator" class="toc-item"><a href="faq.html#entitygenerator">EntityGenerator</a><ul><li id="faq-html-why-does-the-entitygenerator-not-do-x" class="toc-item"><a href="faq.html#why-does-the-entitygenerator-not-do-x">Why does the EntityGenerator not do X?</a></li><li id="faq-html-why-does-the-entitygenerator-not-generate-inheritance-correctly" class="toc-item"><a href="faq.html#why-does-the-entitygenerator-not-generate-inheritance-correctly">Why does the EntityGenerator not generate inheritance correctly?</a></li></ul></li><li id="faq-html-performance" class="toc-item"><a href="faq.html#performance">Performance</a><ul><li id="faq-html-why-is-an-extra-sql-query-executed-every-time-i-fetch-an-entity-with-a-one-to-one-relation" class="toc-item"><a href="faq.html#why-is-an-extra-sql-query-executed-every-time-i-fetch-an-entity-with-a-one-to-one-relation">Why is an extra SQL query executed every time I fetch an entity with a one-to-one relation?</a></li></ul></li><li id="faq-html-doctrine-query-language" class="toc-item"><a href="faq.html#doctrine-query-language">Doctrine Query Language</a><ul><li id="faq-html-what-is-dql" class="toc-item"><a href="faq.html#what-is-dql">What is DQL?</a></li><li id="faq-html-can-i-sort-by-a-function-for-example-order-by-rand-in-dql" class="toc-item"><a href="faq.html#can-i-sort-by-a-function-for-example-order-by-rand-in-dql">Can I sort by a function (for example ORDER BY RAND()) in DQL?</a></li><li id="faq-html-is-it-better-to-write-dql-or-to-generate-it-with-the-query-builder" class="toc-item"><a href="faq.html#is-it-better-to-write-dql-or-to-generate-it-with-the-query-builder">Is it better to write DQL or to generate it with the query builder?</a></li></ul></li><li id="faq-html-a-query-fails-how-can-i-debug-it" class="toc-item"><a href="faq.html#a-query-fails-how-can-i-debug-it">A Query fails, how can I debug it?</a></li></ul></li><li id="basic-mapping-html-basic-mapping" class="toc-item"><a href="basic-mapping.html#basic-mapping">Basic Mapping</a><ul><li id="basic-mapping-html-creating-classes-for-the-database" class="toc-item"><a href="basic-mapping.html#creating-classes-for-the-database">Creating Classes for the Database</a></li><li id="basic-mapping-html-property-mapping" class="toc-item"><a href="basic-mapping.html#property-mapping">Property Mapping</a><ul><li id="basic-mapping-html-php-types-mapping" class="toc-item"><a href="basic-mapping.html#php-types-mapping">PHP Types Mapping</a></li></ul></li><li id="basic-mapping-html-doctrine-mapping-types" class="toc-item"><a href="basic-mapping.html#doctrine-mapping-types">Doctrine Mapping Types</a></li><li id="basic-mapping-html-identifiers-primary-keys" class="toc-item"><a href="basic-mapping.html#identifiers-primary-keys">Identifiers / Primary Keys</a></li><li id="basic-mapping-html-quoting-reserved-words" class="toc-item"><a href="basic-mapping.html#quoting-reserved-words">Quoting Reserved Words</a></li></ul></li><li id="association-mapping-html-association-mapping" class="toc-item"><a href="association-mapping.html#association-mapping">Association Mapping</a><ul><li id="association-mapping-html-many-to-one-unidirectional" class="toc-item"><a href="association-mapping.html#many-to-one-unidirectional">Many-To-One, Unidirectional</a></li><li id="association-mapping-html-one-to-one-unidirectional" class="toc-item"><a href="association-mapping.html#one-to-one-unidirectional">One-To-One, Unidirectional</a></li><li id="association-mapping-html-one-to-one-bidirectional" class="toc-item"><a href="association-mapping.html#one-to-one-bidirectional">One-To-One, Bidirectional</a></li><li id="association-mapping-html-one-to-one-self-referencing" class="toc-item"><a href="association-mapping.html#one-to-one-self-referencing">One-To-One, Self-referencing</a></li><li id="association-mapping-html-one-to-many-bidirectional" class="toc-item"><a href="association-mapping.html#one-to-many-bidirectional">One-To-Many, Bidirectional</a></li><li id="association-mapping-html-one-to-many-unidirectional-with-join-table" class="toc-item"><a href="association-mapping.html#one-to-many-unidirectional-with-join-table">One-To-Many, Unidirectional with Join Table</a></li><li id="association-mapping-html-one-to-many-self-referencing" class="toc-item"><a href="association-mapping.html#one-to-many-self-referencing">One-To-Many, Self-referencing</a></li><li id="association-mapping-html-many-to-many-unidirectional" class="toc-item"><a href="association-mapping.html#many-to-many-unidirectional">Many-To-Many, Unidirectional</a></li><li id="association-mapping-html-many-to-many-bidirectional" class="toc-item"><a href="association-mapping.html#many-to-many-bidirectional">Many-To-Many, Bidirectional</a><ul><li id="association-mapping-html-owning-and-inverse-side-on-a-manytomany-association" class="toc-item"><a href="association-mapping.html#owning-and-inverse-side-on-a-manytomany-association">Owning and Inverse Side on a ManyToMany Association</a></li></ul></li><li id="association-mapping-html-many-to-many-self-referencing" class="toc-item"><a href="association-mapping.html#many-to-many-self-referencing">Many-To-Many, Self-referencing</a></li><li id="association-mapping-html-mapping-defaults" class="toc-item"><a href="association-mapping.html#mapping-defaults">Mapping Defaults</a></li><li id="association-mapping-html-collections" class="toc-item"><a href="association-mapping.html#collections">Collections</a></li><li id="association-mapping-html-initializing-collections" class="toc-item"><a href="association-mapping.html#initializing-collections">Initializing Collections</a></li></ul></li><li id="inheritance-mapping-html-inheritance-mapping" class="toc-item"><a href="inheritance-mapping.html#inheritance-mapping">Inheritance Mapping</a><ul><li id="inheritance-mapping-html-mapped-superclasses" class="toc-item"><a href="inheritance-mapping.html#mapped-superclasses">Mapped Superclasses</a></li><li id="inheritance-mapping-html-entity-inheritance" class="toc-item"><a href="inheritance-mapping.html#entity-inheritance">Entity Inheritance</a><ul><li id="inheritance-mapping-html-performance-impact-on-to-one-associations" class="toc-item"><a href="inheritance-mapping.html#performance-impact-on-to-one-associations">Performance impact on to-one associations</a></li></ul></li><li id="inheritance-mapping-html-single-table-inheritance" class="toc-item"><a href="inheritance-mapping.html#single-table-inheritance">Single Table Inheritance</a><ul><li id="inheritance-mapping-html-design-time-considerations" class="toc-item"><a href="inheritance-mapping.html#design-time-considerations">Design-time considerations</a></li><li id="inheritance-mapping-html-performance-impact" class="toc-item"><a href="inheritance-mapping.html#performance-impact">Performance impact</a></li><li id="inheritance-mapping-html-sql-schema-considerations" class="toc-item"><a href="inheritance-mapping.html#sql-schema-considerations">SQL Schema considerations</a></li></ul></li><li id="inheritance-mapping-html-class-table-inheritance" class="toc-item"><a href="inheritance-mapping.html#class-table-inheritance">Class Table Inheritance</a><ul><li id="inheritance-mapping-html-design-time-considerations" class="toc-item"><a href="inheritance-mapping.html#design-time-considerations">Design-time considerations</a></li><li id="inheritance-mapping-html-performance-impact" class="toc-item"><a href="inheritance-mapping.html#performance-impact">Performance impact</a></li><li id="inheritance-mapping-html-sql-schema-considerations" class="toc-item"><a href="inheritance-mapping.html#sql-schema-considerations">SQL Schema considerations</a></li></ul></li><li id="inheritance-mapping-html-overrides" class="toc-item"><a href="inheritance-mapping.html#overrides">Overrides</a><ul><li id="inheritance-mapping-html-association-override" class="toc-item"><a href="inheritance-mapping.html#association-override">Association Override</a></li><li id="inheritance-mapping-html-attribute-override" class="toc-item"><a href="inheritance-mapping.html#attribute-override">Attribute Override</a></li></ul></li><li id="inheritance-mapping-html-query-the-type" class="toc-item"><a href="inheritance-mapping.html#query-the-type">Query the Type</a></li></ul></li><li id="working-with-objects-html-working-with-objects" class="toc-item"><a href="working-with-objects.html#working-with-objects">Working with Objects</a><ul><li id="working-with-objects-html-entities-and-the-identity-map" class="toc-item"><a href="working-with-objects.html#entities-and-the-identity-map">Entities and the Identity Map</a></li><li id="working-with-objects-html-entity-object-graph-traversal" class="toc-item"><a href="working-with-objects.html#entity-object-graph-traversal">Entity Object Graph Traversal</a></li><li id="working-with-objects-html-persisting-entities" class="toc-item"><a href="working-with-objects.html#persisting-entities">Persisting entities</a></li><li id="working-with-objects-html-removing-entities" class="toc-item"><a href="working-with-objects.html#removing-entities">Removing entities</a><ul><li id="working-with-objects-html-join-table-management-when-removing-from-many-to-many-collections" class="toc-item"><a href="working-with-objects.html#join-table-management-when-removing-from-many-to-many-collections">Join-table management when removing from many-to-many collections</a></li><li id="working-with-objects-html-performance-of-different-deletion-strategies" class="toc-item"><a href="working-with-objects.html#performance-of-different-deletion-strategies">Performance of different deletion strategies</a></li></ul></li><li id="working-with-objects-html-detaching-entities" class="toc-item"><a href="working-with-objects.html#detaching-entities">Detaching entities</a></li><li id="working-with-objects-html-merging-entities" class="toc-item"><a href="working-with-objects.html#merging-entities">Merging entities</a></li><li id="working-with-objects-html-synchronization-with-the-database" class="toc-item"><a href="working-with-objects.html#synchronization-with-the-database">Synchronization with the Database</a><ul><li id="working-with-objects-html-effects-of-database-and-unitofwork-being-out-of-sync" class="toc-item"><a href="working-with-objects.html#effects-of-database-and-unitofwork-being-out-of-sync">Effects of Database and UnitOfWork being Out-Of-Sync</a></li><li id="working-with-objects-html-synchronizing-new-and-managed-entities" class="toc-item"><a href="working-with-objects.html#synchronizing-new-and-managed-entities">Synchronizing New and Managed Entities</a></li><li id="working-with-objects-html-synchronizing-removed-entities" class="toc-item"><a href="working-with-objects.html#synchronizing-removed-entities">Synchronizing Removed Entities</a></li><li id="working-with-objects-html-the-size-of-a-unit-of-work" class="toc-item"><a href="working-with-objects.html#the-size-of-a-unit-of-work">The size of a Unit of Work</a></li><li id="working-with-objects-html-the-cost-of-flushing" class="toc-item"><a href="working-with-objects.html#the-cost-of-flushing">The cost of flushing</a></li><li id="working-with-objects-html-direct-access-to-a-unit-of-work" class="toc-item"><a href="working-with-objects.html#direct-access-to-a-unit-of-work">Direct access to a Unit of Work</a></li><li id="working-with-objects-html-entity-state" class="toc-item"><a href="working-with-objects.html#entity-state">Entity State</a></li></ul></li><li id="working-with-objects-html-querying" class="toc-item"><a href="working-with-objects.html#querying">Querying</a><ul><li id="working-with-objects-html-by-primary-key" class="toc-item"><a href="working-with-objects.html#by-primary-key">By Primary Key</a></li><li id="working-with-objects-html-by-simple-conditions" class="toc-item"><a href="working-with-objects.html#by-simple-conditions">By Simple Conditions</a></li><li id="working-with-objects-html-by-criteria" class="toc-item"><a href="working-with-objects.html#by-criteria">By Criteria</a></li><li id="working-with-objects-html-by-eager-loading" class="toc-item"><a href="working-with-objects.html#by-eager-loading">By Eager Loading</a></li><li id="working-with-objects-html-by-lazy-loading" class="toc-item"><a href="working-with-objects.html#by-lazy-loading">By Lazy Loading</a></li><li id="working-with-objects-html-by-dql" class="toc-item"><a href="working-with-objects.html#by-dql">By DQL</a></li><li id="working-with-objects-html-by-native-queries" class="toc-item"><a href="working-with-objects.html#by-native-queries">By Native Queries</a></li><li id="working-with-objects-html-custom-repositories" class="toc-item"><a href="working-with-objects.html#custom-repositories">Custom Repositories</a></li></ul></li></ul></li><li id="working-with-associations-html-working-with-associations" class="toc-item"><a href="working-with-associations.html#working-with-associations">Working with Associations</a><ul><li id="working-with-associations-html-association-example-entities" class="toc-item"><a href="working-with-associations.html#association-example-entities">Association Example Entities</a></li><li id="working-with-associations-html-establishing-associations" class="toc-item"><a href="working-with-associations.html#establishing-associations">Establishing Associations</a></li><li id="working-with-associations-html-removing-associations" class="toc-item"><a href="working-with-associations.html#removing-associations">Removing Associations</a></li><li id="working-with-associations-html-association-management-methods" class="toc-item"><a href="working-with-associations.html#association-management-methods">Association Management Methods</a></li><li id="working-with-associations-html-synchronizing-bidirectional-collections" class="toc-item"><a href="working-with-associations.html#synchronizing-bidirectional-collections">Synchronizing Bidirectional Collections</a></li><li id="working-with-associations-html-transitive-persistence-cascade-operations" class="toc-item"><a href="working-with-associations.html#transitive-persistence-cascade-operations">Transitive persistence / Cascade Operations</a><ul><li id="working-with-associations-html-persistence-by-reachability-cascade-persist" class="toc-item"><a href="working-with-associations.html#persistence-by-reachability-cascade-persist">Persistence by Reachability: Cascade Persist</a></li></ul></li><li id="working-with-associations-html-orphan-removal" class="toc-item"><a href="working-with-associations.html#orphan-removal">Orphan Removal</a></li><li id="working-with-associations-html-filtering-collections" class="toc-item"><a href="working-with-associations.html#filtering-collections">Filtering Collections</a></li></ul></li><li id="events-html-events" class="toc-item"><a href="events.html#events">Events</a><ul><li id="events-html-the-event-system" class="toc-item"><a href="events.html#the-event-system">The Event System</a><ul><li id="events-html-registering-event-handlers" class="toc-item"><a href="events.html#registering-event-handlers">Registering Event Handlers</a></li></ul></li><li id="events-html-events-overview" class="toc-item"><a href="events.html#events-overview">Events Overview</a><ul><li id="events-html-naming-convention" class="toc-item"><a href="events.html#naming-convention">Naming convention</a></li></ul></li><li id="events-html-lifecycle-callbacks" class="toc-item"><a href="events.html#lifecycle-callbacks">Lifecycle Callbacks</a></li><li id="events-html-lifecycle-callbacks-event-argument" class="toc-item"><a href="events.html#lifecycle-callbacks-event-argument">Lifecycle Callbacks Event Argument</a></li><li id="events-html-listening-and-subscribing-to-lifecycle-events" class="toc-item"><a href="events.html#listening-and-subscribing-to-lifecycle-events">Listening and subscribing to Lifecycle Events</a></li><li id="events-html-implementing-event-listeners" class="toc-item"><a href="events.html#implementing-event-listeners">Implementing Event Listeners</a><ul><li id="events-html-prepersist" class="toc-item"><a href="events.html#prepersist">prePersist</a></li><li id="events-html-preremove" class="toc-item"><a href="events.html#preremove">preRemove</a></li><li id="events-html-preflush" class="toc-item"><a href="events.html#preflush">preFlush</a></li><li id="events-html-onflush" class="toc-item"><a href="events.html#onflush">onFlush</a></li><li id="events-html-postflush" class="toc-item"><a href="events.html#postflush">postFlush</a></li><li id="events-html-preupdate" class="toc-item"><a href="events.html#preupdate">preUpdate</a></li><li id="events-html-postupdate-postremove-postpersist" class="toc-item"><a href="events.html#postupdate-postremove-postpersist">postUpdate, postRemove, postPersist</a></li><li id="events-html-postload" class="toc-item"><a href="events.html#postload">postLoad</a></li><li id="events-html-onclear" class="toc-item"><a href="events.html#onclear">onClear</a></li></ul></li><li id="events-html-entity-listeners" class="toc-item"><a href="events.html#entity-listeners">Entity listeners</a><ul><li id="events-html-entity-listeners-class" class="toc-item"><a href="events.html#entity-listeners-class">Entity listeners class</a></li><li id="events-html-entity-listeners-resolver" class="toc-item"><a href="events.html#entity-listeners-resolver">Entity listeners resolver</a></li></ul></li><li id="events-html-load-classmetadata-event" class="toc-item"><a href="events.html#load-classmetadata-event">Load ClassMetadata Event</a></li><li id="events-html-schematool-events" class="toc-item"><a href="events.html#schematool-events">SchemaTool Events</a><ul><li id="events-html-postgenerateschematable" class="toc-item"><a href="events.html#postgenerateschematable">postGenerateSchemaTable</a></li><li id="events-html-postgenerateschema" class="toc-item"><a href="events.html#postgenerateschema">postGenerateSchema</a></li></ul></li></ul></li><li id="unitofwork-html-doctrine-internals-explained" class="toc-item"><a href="unitofwork.html#doctrine-internals-explained">Doctrine Internals explained</a><ul><li id="unitofwork-html-how-doctrine-keeps-track-of-objects" class="toc-item"><a href="unitofwork.html#how-doctrine-keeps-track-of-objects">How Doctrine keeps track of Objects</a></li><li id="unitofwork-html-how-doctrine-detects-changes" class="toc-item"><a href="unitofwork.html#how-doctrine-detects-changes">How Doctrine Detects Changes</a></li><li id="unitofwork-html-query-internals" class="toc-item"><a href="unitofwork.html#query-internals">Query Internals</a></li><li id="unitofwork-html-the-different-orm-layers" class="toc-item"><a href="unitofwork.html#the-different-orm-layers">The different ORM Layers</a><ul><li id="unitofwork-html-hydration" class="toc-item"><a href="unitofwork.html#hydration">Hydration</a></li><li id="unitofwork-html-persisters" class="toc-item"><a href="unitofwork.html#persisters">Persisters</a></li><li id="unitofwork-html-unitofwork" class="toc-item"><a href="unitofwork.html#unitofwork">UnitOfWork</a></li><li id="unitofwork-html-resultsetmapping" class="toc-item"><a href="unitofwork.html#resultsetmapping">ResultSetMapping</a></li><li id="unitofwork-html-dql-parser" class="toc-item"><a href="unitofwork.html#dql-parser">DQL Parser</a></li><li id="unitofwork-html-sqlwalker" class="toc-item"><a href="unitofwork.html#sqlwalker">SQLWalker</a></li><li id="unitofwork-html-entitymanager" class="toc-item"><a href="unitofwork.html#entitymanager">EntityManager</a></li><li id="unitofwork-html-classmetadatafactory" class="toc-item"><a href="unitofwork.html#classmetadatafactory">ClassMetadataFactory</a></li></ul></li></ul></li><li id="unitofwork-associations-html-association-updates-owning-side-and-inverse-side" class="toc-item"><a href="unitofwork-associations.html#association-updates-owning-side-and-inverse-side">Association Updates: Owning Side and Inverse Side</a><ul><li id="unitofwork-associations-html-bidirectional-associations" class="toc-item"><a href="unitofwork-associations.html#bidirectional-associations">Bidirectional Associations</a></li><li id="unitofwork-associations-html-important-concepts" class="toc-item"><a href="unitofwork-associations.html#important-concepts">Important concepts</a></li></ul></li><li id="transactions-and-concurrency-html-transactions-and-concurrency" class="toc-item"><a href="transactions-and-concurrency.html#transactions-and-concurrency">Transactions and Concurrency</a><ul><li id="transactions-and-concurrency-html-transaction-demarcation" class="toc-item"><a href="transactions-and-concurrency.html#transaction-demarcation">Transaction Demarcation</a><ul><li id="transactions-and-concurrency-html-approach-1-implicitly" class="toc-item"><a href="transactions-and-concurrency.html#approach-1-implicitly">Approach 1: Implicitly</a></li><li id="transactions-and-concurrency-html-approach-2-explicitly" class="toc-item"><a href="transactions-and-concurrency.html#approach-2-explicitly">Approach 2: Explicitly</a></li><li id="transactions-and-concurrency-html-exception-handling" class="toc-item"><a href="transactions-and-concurrency.html#exception-handling">Exception Handling</a></li></ul></li><li id="transactions-and-concurrency-html-locking-support" class="toc-item"><a href="transactions-and-concurrency.html#locking-support">Locking Support</a><ul><li id="transactions-and-concurrency-html-optimistic-locking" class="toc-item"><a href="transactions-and-concurrency.html#optimistic-locking">Optimistic Locking</a></li><li id="transactions-and-concurrency-html-pessimistic-locking" class="toc-item"><a href="transactions-and-concurrency.html#pessimistic-locking">Pessimistic Locking</a></li></ul></li></ul></li><li id="batch-processing-html-batch-processing" class="toc-item"><a href="batch-processing.html#batch-processing">Batch Processing</a><ul><li id="batch-processing-html-bulk-inserts" class="toc-item"><a href="batch-processing.html#bulk-inserts">Bulk Inserts</a></li><li id="batch-processing-html-bulk-updates" class="toc-item"><a href="batch-processing.html#bulk-updates">Bulk Updates</a><ul><li id="batch-processing-html-dql-update" class="toc-item"><a href="batch-processing.html#dql-update">DQL UPDATE</a></li><li id="batch-processing-html-iterating-results" class="toc-item"><a href="batch-processing.html#iterating-results">Iterating results</a></li></ul></li><li id="batch-processing-html-bulk-deletes" class="toc-item"><a href="batch-processing.html#bulk-deletes">Bulk Deletes</a><ul><li id="batch-processing-html-dql-delete" class="toc-item"><a href="batch-processing.html#dql-delete">DQL DELETE</a></li><li id="batch-processing-html-iterating-results" class="toc-item"><a href="batch-processing.html#iterating-results">Iterating results</a></li></ul></li><li id="batch-processing-html-iterating-large-results-for-data-processing" class="toc-item"><a href="batch-processing.html#iterating-large-results-for-data-processing">Iterating Large Results for Data-Processing</a></li></ul></li><li id="dql-doctrine-query-language-html-doctrine-query-language" class="toc-item"><a href="dql-doctrine-query-language.html#doctrine-query-language">Doctrine Query Language</a><ul><li id="dql-doctrine-query-language-html-types-of-dql-queries" class="toc-item"><a href="dql-doctrine-query-language.html#types-of-dql-queries">Types of DQL queries</a></li><li id="dql-doctrine-query-language-html-select-queries" class="toc-item"><a href="dql-doctrine-query-language.html#select-queries">SELECT queries</a><ul><li id="dql-doctrine-query-language-html-dql-select-clause" class="toc-item"><a href="dql-doctrine-query-language.html#dql-select-clause">DQL SELECT clause</a></li><li id="dql-doctrine-query-language-html-result-format" class="toc-item"><a href="dql-doctrine-query-language.html#result-format">Result format</a></li><li id="dql-doctrine-query-language-html-joins" class="toc-item"><a href="dql-doctrine-query-language.html#joins">Joins</a></li><li id="dql-doctrine-query-language-html-named-and-positional-parameters" class="toc-item"><a href="dql-doctrine-query-language.html#named-and-positional-parameters">Named and Positional Parameters</a></li><li id="dql-doctrine-query-language-html-dql-select-examples" class="toc-item"><a href="dql-doctrine-query-language.html#dql-select-examples">DQL SELECT Examples</a></li><li id="dql-doctrine-query-language-html-using-index-by" class="toc-item"><a href="dql-doctrine-query-language.html#using-index-by">Using INDEX BY</a></li></ul></li><li id="dql-doctrine-query-language-html-update-queries" class="toc-item"><a href="dql-doctrine-query-language.html#update-queries">UPDATE queries</a></li><li id="dql-doctrine-query-language-html-delete-queries" class="toc-item"><a href="dql-doctrine-query-language.html#delete-queries">DELETE queries</a></li><li id="dql-doctrine-query-language-html-comments-in-queries" class="toc-item"><a href="dql-doctrine-query-language.html#comments-in-queries">Comments in queries</a></li><li id="dql-doctrine-query-language-html-functions-operators-aggregates" class="toc-item"><a href="dql-doctrine-query-language.html#functions-operators-aggregates">Functions, Operators, Aggregates</a><ul><li id="dql-doctrine-query-language-html-dql-functions" class="toc-item"><a href="dql-doctrine-query-language.html#dql-functions">DQL Functions</a></li><li id="dql-doctrine-query-language-html-arithmetic-operators" class="toc-item"><a href="dql-doctrine-query-language.html#arithmetic-operators">Arithmetic operators</a></li><li id="dql-doctrine-query-language-html-aggregate-functions" class="toc-item"><a href="dql-doctrine-query-language.html#aggregate-functions">Aggregate Functions</a></li><li id="dql-doctrine-query-language-html-other-expressions" class="toc-item"><a href="dql-doctrine-query-language.html#other-expressions">Other Expressions</a></li><li id="dql-doctrine-query-language-html-adding-your-own-functions-to-the-dql-language" class="toc-item"><a href="dql-doctrine-query-language.html#adding-your-own-functions-to-the-dql-language">Adding your own functions to the DQL language</a></li></ul></li><li id="dql-doctrine-query-language-html-querying-inherited-classes" class="toc-item"><a href="dql-doctrine-query-language.html#querying-inherited-classes">Querying Inherited Classes</a><ul><li id="dql-doctrine-query-language-html-single-table" class="toc-item"><a href="dql-doctrine-query-language.html#single-table">Single Table</a></li><li id="dql-doctrine-query-language-html-class-table-inheritance" class="toc-item"><a href="dql-doctrine-query-language.html#class-table-inheritance">Class Table Inheritance</a></li></ul></li><li id="dql-doctrine-query-language-html-the-query-class" class="toc-item"><a href="dql-doctrine-query-language.html#the-query-class">The Query class</a><ul><li id="dql-doctrine-query-language-html-query-result-formats" class="toc-item"><a href="dql-doctrine-query-language.html#query-result-formats">Query Result Formats</a></li><li id="dql-doctrine-query-language-html-pure-and-mixed-results" class="toc-item"><a href="dql-doctrine-query-language.html#pure-and-mixed-results">Pure and Mixed Results</a></li><li id="dql-doctrine-query-language-html-fetching-multiple-from-entities" class="toc-item"><a href="dql-doctrine-query-language.html#fetching-multiple-from-entities">Fetching Multiple FROM Entities</a></li><li id="dql-doctrine-query-language-html-hydration-modes" class="toc-item"><a href="dql-doctrine-query-language.html#hydration-modes">Hydration Modes</a></li><li id="dql-doctrine-query-language-html-iterating-large-result-sets" class="toc-item"><a href="dql-doctrine-query-language.html#iterating-large-result-sets">Iterating Large Result Sets</a></li><li id="dql-doctrine-query-language-html-functions" class="toc-item"><a href="dql-doctrine-query-language.html#functions">Functions</a></li></ul></li><li id="dql-doctrine-query-language-html-ebnf" class="toc-item"><a href="dql-doctrine-query-language.html#ebnf">EBNF</a><ul><li id="dql-doctrine-query-language-html-document-syntax" class="toc-item"><a href="dql-doctrine-query-language.html#document-syntax">Document syntax:</a></li><li id="dql-doctrine-query-language-html-terminals" class="toc-item"><a href="dql-doctrine-query-language.html#terminals">Terminals</a></li><li id="dql-doctrine-query-language-html-query-language" class="toc-item"><a href="dql-doctrine-query-language.html#query-language">Query Language</a></li><li id="dql-doctrine-query-language-html-statements" class="toc-item"><a href="dql-doctrine-query-language.html#statements">Statements</a></li><li id="dql-doctrine-query-language-html-identifiers" class="toc-item"><a href="dql-doctrine-query-language.html#identifiers">Identifiers</a></li><li id="dql-doctrine-query-language-html-path-expressions" class="toc-item"><a href="dql-doctrine-query-language.html#path-expressions">Path Expressions</a></li><li id="dql-doctrine-query-language-html-clauses" class="toc-item"><a href="dql-doctrine-query-language.html#clauses">Clauses</a></li><li id="dql-doctrine-query-language-html-items" class="toc-item"><a href="dql-doctrine-query-language.html#items">Items</a></li><li id="dql-doctrine-query-language-html-from-join-and-index-by" class="toc-item"><a href="dql-doctrine-query-language.html#from-join-and-index-by">From, Join and Index by</a></li><li id="dql-doctrine-query-language-html-select-expressions" class="toc-item"><a href="dql-doctrine-query-language.html#select-expressions">Select Expressions</a></li><li id="dql-doctrine-query-language-html-conditional-expressions" class="toc-item"><a href="dql-doctrine-query-language.html#conditional-expressions">Conditional Expressions</a></li><li id="dql-doctrine-query-language-html-collection-expressions" class="toc-item"><a href="dql-doctrine-query-language.html#collection-expressions">Collection Expressions</a></li><li id="dql-doctrine-query-language-html-literal-values" class="toc-item"><a href="dql-doctrine-query-language.html#literal-values">Literal Values</a></li><li id="dql-doctrine-query-language-html-input-parameter" class="toc-item"><a href="dql-doctrine-query-language.html#input-parameter">Input Parameter</a></li><li id="dql-doctrine-query-language-html-arithmetic-expressions" class="toc-item"><a href="dql-doctrine-query-language.html#arithmetic-expressions">Arithmetic Expressions</a></li><li id="dql-doctrine-query-language-html-scalar-and-type-expressions" class="toc-item"><a href="dql-doctrine-query-language.html#scalar-and-type-expressions">Scalar and Type Expressions</a></li><li id="dql-doctrine-query-language-html-aggregate-expressions" class="toc-item"><a href="dql-doctrine-query-language.html#aggregate-expressions">Aggregate Expressions</a></li><li id="dql-doctrine-query-language-html-case-expressions" class="toc-item"><a href="dql-doctrine-query-language.html#case-expressions">Case Expressions</a></li><li id="dql-doctrine-query-language-html-other-expressions" class="toc-item"><a href="dql-doctrine-query-language.html#other-expressions">Other Expressions</a></li><li id="dql-doctrine-query-language-html-functions" class="toc-item"><a href="dql-doctrine-query-language.html#functions">Functions</a></li></ul></li></ul></li><li id="query-builder-html-the-querybuilder" class="toc-item"><a href="query-builder.html#the-querybuilder">The QueryBuilder</a><ul><li id="query-builder-html-constructing-a-new-querybuilder-object" class="toc-item"><a href="query-builder.html#constructing-a-new-querybuilder-object">Constructing a new QueryBuilder object</a></li><li id="query-builder-html-working-with-querybuilder" class="toc-item"><a href="query-builder.html#working-with-querybuilder">Working with QueryBuilder</a><ul><li id="query-builder-html-high-level-api-methods" class="toc-item"><a href="query-builder.html#high-level-api-methods">High level API methods</a></li><li id="query-builder-html-binding-parameters-to-your-query" class="toc-item"><a href="query-builder.html#binding-parameters-to-your-query">Binding parameters to your query</a></li><li id="query-builder-html-limiting-the-result" class="toc-item"><a href="query-builder.html#limiting-the-result">Limiting the Result</a></li><li id="query-builder-html-executing-a-query" class="toc-item"><a href="query-builder.html#executing-a-query">Executing a Query</a></li><li id="query-builder-html-the-expr-class" class="toc-item"><a href="query-builder.html#the-expr-class">The Expr class</a></li><li id="query-builder-html-adding-a-criteria-to-a-query" class="toc-item"><a href="query-builder.html#adding-a-criteria-to-a-query">Adding a Criteria to a Query</a></li><li id="query-builder-html-low-level-api" class="toc-item"><a href="query-builder.html#low-level-api">Low Level API</a></li><li id="query-builder-html-expr-classes" class="toc-item"><a href="query-builder.html#expr-classes">Expr\* classes</a></li></ul></li></ul></li><li id="native-sql-html-native-sql" class="toc-item"><a href="native-sql.html#native-sql">Native SQL</a><ul><li id="native-sql-html-the-nativequery-class" class="toc-item"><a href="native-sql.html#the-nativequery-class">The NativeQuery class</a></li><li id="native-sql-html-resultsetmappingbuilder" class="toc-item"><a href="native-sql.html#resultsetmappingbuilder">ResultSetMappingBuilder</a></li><li id="native-sql-html-the-resultsetmapping" class="toc-item"><a href="native-sql.html#the-resultsetmapping">The ResultSetMapping</a><ul><li id="native-sql-html-entity-results" class="toc-item"><a href="native-sql.html#entity-results">Entity results</a></li><li id="native-sql-html-joined-entity-results" class="toc-item"><a href="native-sql.html#joined-entity-results">Joined entity results</a></li><li id="native-sql-html-field-results" class="toc-item"><a href="native-sql.html#field-results">Field results</a></li><li id="native-sql-html-scalar-results" class="toc-item"><a href="native-sql.html#scalar-results">Scalar results</a></li><li id="native-sql-html-meta-results" class="toc-item"><a href="native-sql.html#meta-results">Meta results</a></li><li id="native-sql-html-discriminator-column" class="toc-item"><a href="native-sql.html#discriminator-column">Discriminator Column</a></li><li id="native-sql-html-examples" class="toc-item"><a href="native-sql.html#examples">Examples</a></li></ul></li><li id="native-sql-html-named-native-query" class="toc-item"><a href="native-sql.html#named-native-query">Named Native Query</a></li></ul></li><li id="change-tracking-policies-html-change-tracking-policies" class="toc-item"><a href="change-tracking-policies.html#change-tracking-policies">Change Tracking Policies</a><ul><li id="change-tracking-policies-html-deferred-implicit" class="toc-item"><a href="change-tracking-policies.html#deferred-implicit">Deferred Implicit</a></li><li id="change-tracking-policies-html-deferred-explicit" class="toc-item"><a href="change-tracking-policies.html#deferred-explicit">Deferred Explicit</a></li><li id="change-tracking-policies-html-notify" class="toc-item"><a href="change-tracking-policies.html#notify">Notify</a></li></ul></li><li id="partial-objects-html-partial-objects" class="toc-item"><a href="partial-objects.html#partial-objects">Partial Objects</a><ul><li id="partial-objects-html-what-is-the-problem" class="toc-item"><a href="partial-objects.html#what-is-the-problem">What is the problem?</a></li><li id="partial-objects-html-when-should-i-force-partial-objects" class="toc-item"><a href="partial-objects.html#when-should-i-force-partial-objects">When should I force partial objects?</a></li></ul></li><li id="annotations-reference-html-annotations-reference" class="toc-item"><a href="annotations-reference.html#annotations-reference">Annotations Reference</a><ul><li id="annotations-reference-html-index" class="toc-item"><a href="annotations-reference.html#index">Index</a></li><li id="annotations-reference-html-reference" class="toc-item"><a href="annotations-reference.html#reference">Reference</a><ul><li id="annotations-reference-html-column" class="toc-item"><a href="annotations-reference.html#column">@Column</a></li><li id="annotations-reference-html-columnresult" class="toc-item"><a href="annotations-reference.html#columnresult">@ColumnResult</a></li><li id="annotations-reference-html-cache" class="toc-item"><a href="annotations-reference.html#cache">@Cache</a></li><li id="annotations-reference-html-changetrackingpolicy" class="toc-item"><a href="annotations-reference.html#changetrackingpolicy">@ChangeTrackingPolicy</a></li><li id="annotations-reference-html-customidgenerator" class="toc-item"><a href="annotations-reference.html#customidgenerator">@CustomIdGenerator</a></li><li id="annotations-reference-html-discriminatorcolumn" class="toc-item"><a href="annotations-reference.html#discriminatorcolumn">@DiscriminatorColumn</a></li><li id="annotations-reference-html-discriminatormap" class="toc-item"><a href="annotations-reference.html#discriminatormap">@DiscriminatorMap</a></li><li id="annotations-reference-html-embeddable" class="toc-item"><a href="annotations-reference.html#embeddable">@Embeddable</a></li><li id="annotations-reference-html-embedded" class="toc-item"><a href="annotations-reference.html#embedded">@Embedded</a></li><li id="annotations-reference-html-entity" class="toc-item"><a href="annotations-reference.html#entity">@Entity</a></li><li id="annotations-reference-html-entityresult" class="toc-item"><a href="annotations-reference.html#entityresult">@EntityResult</a></li><li id="annotations-reference-html-fieldresult" class="toc-item"><a href="annotations-reference.html#fieldresult">@FieldResult</a></li><li id="annotations-reference-html-generatedvalue" class="toc-item"><a href="annotations-reference.html#generatedvalue">@GeneratedValue</a></li><li id="annotations-reference-html-haslifecyclecallbacks" class="toc-item"><a href="annotations-reference.html#haslifecyclecallbacks">@HasLifecycleCallbacks</a></li><li id="annotations-reference-html-index" class="toc-item"><a href="annotations-reference.html#index">@Index</a></li><li id="annotations-reference-html-id" class="toc-item"><a href="annotations-reference.html#id">@Id</a></li><li id="annotations-reference-html-inheritancetype" class="toc-item"><a href="annotations-reference.html#inheritancetype">@InheritanceType</a></li><li id="annotations-reference-html-joincolumn" class="toc-item"><a href="annotations-reference.html#joincolumn">@JoinColumn</a></li><li id="annotations-reference-html-joincolumns" class="toc-item"><a href="annotations-reference.html#joincolumns">@JoinColumns</a></li><li id="annotations-reference-html-jointable" class="toc-item"><a href="annotations-reference.html#jointable">@JoinTable</a></li><li id="annotations-reference-html-manytoone" class="toc-item"><a href="annotations-reference.html#manytoone">@ManyToOne</a></li><li id="annotations-reference-html-manytomany" class="toc-item"><a href="annotations-reference.html#manytomany">@ManyToMany</a></li><li id="annotations-reference-html-mappedsuperclass" class="toc-item"><a href="annotations-reference.html#mappedsuperclass">@MappedSuperclass</a></li><li id="annotations-reference-html-namednativequery" class="toc-item"><a href="annotations-reference.html#namednativequery">@NamedNativeQuery</a></li><li id="annotations-reference-html-onetoone" class="toc-item"><a href="annotations-reference.html#onetoone">@OneToOne</a></li><li id="annotations-reference-html-onetomany" class="toc-item"><a href="annotations-reference.html#onetomany">@OneToMany</a></li><li id="annotations-reference-html-orderby" class="toc-item"><a href="annotations-reference.html#orderby">@OrderBy</a></li><li id="annotations-reference-html-postload" class="toc-item"><a href="annotations-reference.html#postload">@PostLoad</a></li><li id="annotations-reference-html-postpersist" class="toc-item"><a href="annotations-reference.html#postpersist">@PostPersist</a></li><li id="annotations-reference-html-postremove" class="toc-item"><a href="annotations-reference.html#postremove">@PostRemove</a></li><li id="annotations-reference-html-postupdate" class="toc-item"><a href="annotations-reference.html#postupdate">@PostUpdate</a></li><li id="annotations-reference-html-prepersist" class="toc-item"><a href="annotations-reference.html#prepersist">@PrePersist</a></li><li id="annotations-reference-html-preremove" class="toc-item"><a href="annotations-reference.html#preremove">@PreRemove</a></li><li id="annotations-reference-html-preupdate" class="toc-item"><a href="annotations-reference.html#preupdate">@PreUpdate</a></li><li id="annotations-reference-html-sequencegenerator" class="toc-item"><a href="annotations-reference.html#sequencegenerator">@SequenceGenerator</a></li><li id="annotations-reference-html-sqlresultsetmapping" class="toc-item"><a href="annotations-reference.html#sqlresultsetmapping">@SqlResultSetMapping</a></li><li id="annotations-reference-html-table" class="toc-item"><a href="annotations-reference.html#table">@Table</a></li><li id="annotations-reference-html-uniqueconstraint" class="toc-item"><a href="annotations-reference.html#uniqueconstraint">@UniqueConstraint</a></li><li id="annotations-reference-html-version" class="toc-item"><a href="annotations-reference.html#version">@Version</a></li></ul></li></ul></li><li id="attributes-reference-html-attributes-reference" class="toc-item"><a href="attributes-reference.html#attributes-reference">Attributes Reference</a><ul><li id="attributes-reference-html-index" class="toc-item"><a href="attributes-reference.html#index">Index</a></li><li id="attributes-reference-html-reference" class="toc-item"><a href="attributes-reference.html#reference">Reference</a><ul><li id="attributes-reference-html-associationoverride" class="toc-item"><a href="attributes-reference.html#associationoverride">#[AssociationOverride]</a></li><li id="attributes-reference-html-attributeoverride" class="toc-item"><a href="attributes-reference.html#attributeoverride">#[AttributeOverride]</a></li><li id="attributes-reference-html-column" class="toc-item"><a href="attributes-reference.html#column">#[Column]</a></li><li id="attributes-reference-html-cache" class="toc-item"><a href="attributes-reference.html#cache">#[Cache]</a></li><li id="attributes-reference-html-changetrackingpolicy" class="toc-item"><a href="attributes-reference.html#changetrackingpolicy">#[ChangeTrackingPolicy]</a></li><li id="attributes-reference-html-customidgenerator" class="toc-item"><a href="attributes-reference.html#customidgenerator">#[CustomIdGenerator]</a></li><li id="attributes-reference-html-discriminatorcolumn" class="toc-item"><a href="attributes-reference.html#discriminatorcolumn">#[DiscriminatorColumn]</a></li><li id="attributes-reference-html-discriminatormap" class="toc-item"><a href="attributes-reference.html#discriminatormap">#[DiscriminatorMap]</a></li><li id="attributes-reference-html-embeddable" class="toc-item"><a href="attributes-reference.html#embeddable">#[Embeddable]</a></li><li id="attributes-reference-html-embedded" class="toc-item"><a href="attributes-reference.html#embedded">#[Embedded]</a></li><li id="attributes-reference-html-entity" class="toc-item"><a href="attributes-reference.html#entity">#[Entity]</a></li><li id="attributes-reference-html-generatedvalue" class="toc-item"><a href="attributes-reference.html#generatedvalue">#[GeneratedValue]</a></li><li id="attributes-reference-html-haslifecyclecallbacks" class="toc-item"><a href="attributes-reference.html#haslifecyclecallbacks">#[HasLifecycleCallbacks]</a></li><li id="attributes-reference-html-index" class="toc-item"><a href="attributes-reference.html#index">#[Index]</a></li><li id="attributes-reference-html-id" class="toc-item"><a href="attributes-reference.html#id">#[Id]</a></li><li id="attributes-reference-html-inheritancetype" class="toc-item"><a href="attributes-reference.html#inheritancetype">#[InheritanceType]</a></li><li id="attributes-reference-html-joincolumn-inversejoincolumn" class="toc-item"><a href="attributes-reference.html#joincolumn-inversejoincolumn">#[JoinColumn], #[InverseJoinColumn]</a></li><li id="attributes-reference-html-jointable" class="toc-item"><a href="attributes-reference.html#jointable">#[JoinTable]</a></li><li id="attributes-reference-html-manytoone" class="toc-item"><a href="attributes-reference.html#manytoone">#[ManyToOne]</a></li><li id="attributes-reference-html-manytomany" class="toc-item"><a href="attributes-reference.html#manytomany">#[ManyToMany]</a></li><li id="attributes-reference-html-mappedsuperclass" class="toc-item"><a href="attributes-reference.html#mappedsuperclass">#[MappedSuperclass]</a></li><li id="attributes-reference-html-onetoone" class="toc-item"><a href="attributes-reference.html#onetoone">#[OneToOne]</a></li><li id="attributes-reference-html-onetomany" class="toc-item"><a href="attributes-reference.html#onetomany">#[OneToMany]</a></li><li id="attributes-reference-html-orderby" class="toc-item"><a href="attributes-reference.html#orderby">#[OrderBy]</a></li><li id="attributes-reference-html-postload" class="toc-item"><a href="attributes-reference.html#postload">#[PostLoad]</a></li><li id="attributes-reference-html-postpersist" class="toc-item"><a href="attributes-reference.html#postpersist">#[PostPersist]</a></li><li id="attributes-reference-html-postremove" class="toc-item"><a href="attributes-reference.html#postremove">#[PostRemove]</a></li><li id="attributes-reference-html-postupdate" class="toc-item"><a href="attributes-reference.html#postupdate">#[PostUpdate]</a></li><li id="attributes-reference-html-prepersist" class="toc-item"><a href="attributes-reference.html#prepersist">#[PrePersist]</a></li><li id="attributes-reference-html-preremove" class="toc-item"><a href="attributes-reference.html#preremove">#[PreRemove]</a></li><li id="attributes-reference-html-preupdate" class="toc-item"><a href="attributes-reference.html#preupdate">#[PreUpdate]</a></li><li id="attributes-reference-html-sequencegenerator" class="toc-item"><a href="attributes-reference.html#sequencegenerator">#[SequenceGenerator]</a></li><li id="attributes-reference-html-table" class="toc-item"><a href="attributes-reference.html#table">#[Table]</a></li><li id="attributes-reference-html-uniqueconstraint" class="toc-item"><a href="attributes-reference.html#uniqueconstraint">#[UniqueConstraint]</a></li><li id="attributes-reference-html-version" class="toc-item"><a href="attributes-reference.html#version">#[Version]</a></li></ul></li></ul></li><li id="xml-mapping-html-xml-mapping" class="toc-item"><a href="xml-mapping.html#xml-mapping">XML Mapping</a><ul><li id="xml-mapping-html-simplified-xml-driver" class="toc-item"><a href="xml-mapping.html#simplified-xml-driver">Simplified XML Driver</a><ul><li id="xml-mapping-html-example" class="toc-item"><a href="xml-mapping.html#example">Example</a></li><li id="xml-mapping-html-xml-element-reference" class="toc-item"><a href="xml-mapping.html#xml-element-reference">XML-Element Reference</a></li></ul></li><li id="xml-mapping-html-defining-an-entity" class="toc-item"><a href="xml-mapping.html#defining-an-entity">Defining an Entity</a></li><li id="xml-mapping-html-defining-fields" class="toc-item"><a href="xml-mapping.html#defining-fields">Defining Fields</a></li><li id="xml-mapping-html-defining-identity-and-generator-strategies" class="toc-item"><a href="xml-mapping.html#defining-identity-and-generator-strategies">Defining Identity and Generator Strategies</a></li><li id="xml-mapping-html-defining-a-mapped-superclass" class="toc-item"><a href="xml-mapping.html#defining-a-mapped-superclass">Defining a Mapped Superclass</a></li><li id="xml-mapping-html-defining-inheritance-mappings" class="toc-item"><a href="xml-mapping.html#defining-inheritance-mappings">Defining Inheritance Mappings</a></li><li id="xml-mapping-html-defining-lifecycle-callbacks" class="toc-item"><a href="xml-mapping.html#defining-lifecycle-callbacks">Defining Lifecycle Callbacks</a></li><li id="xml-mapping-html-defining-one-to-one-relations" class="toc-item"><a href="xml-mapping.html#defining-one-to-one-relations">Defining One-To-One Relations</a></li><li id="xml-mapping-html-defining-many-to-one-associations" class="toc-item"><a href="xml-mapping.html#defining-many-to-one-associations">Defining Many-To-One Associations</a></li><li id="xml-mapping-html-defining-one-to-many-associations" class="toc-item"><a href="xml-mapping.html#defining-one-to-many-associations">Defining One-To-Many Associations</a></li><li id="xml-mapping-html-defining-many-to-many-associations" class="toc-item"><a href="xml-mapping.html#defining-many-to-many-associations">Defining Many-To-Many Associations</a></li><li id="xml-mapping-html-cascade-element" class="toc-item"><a href="xml-mapping.html#cascade-element">Cascade Element</a></li><li id="xml-mapping-html-join-column-element" class="toc-item"><a href="xml-mapping.html#join-column-element">Join Column Element</a></li><li id="xml-mapping-html-defining-order-of-to-many-associations" class="toc-item"><a href="xml-mapping.html#defining-order-of-to-many-associations">Defining Order of To-Many Associations</a></li><li id="xml-mapping-html-defining-indexes-or-unique-constraints" class="toc-item"><a href="xml-mapping.html#defining-indexes-or-unique-constraints">Defining Indexes or Unique Constraints</a></li><li id="xml-mapping-html-derived-entities-id-syntax" class="toc-item"><a href="xml-mapping.html#derived-entities-id-syntax">Derived Entities ID syntax</a></li></ul></li><li id="yaml-mapping-html-yaml-mapping" class="toc-item"><a href="yaml-mapping.html#yaml-mapping">YAML Mapping</a><ul><li id="yaml-mapping-html-simplified-yaml-driver" class="toc-item"><a href="yaml-mapping.html#simplified-yaml-driver">Simplified YAML Driver</a><ul><li id="yaml-mapping-html-example" class="toc-item"><a href="yaml-mapping.html#example">Example</a></li></ul></li><li id="yaml-mapping-html-reference" class="toc-item"><a href="yaml-mapping.html#reference">Reference</a><ul><li id="yaml-mapping-html-unique-constraints" class="toc-item"><a href="yaml-mapping.html#unique-constraints">Unique Constraints</a></li></ul></li></ul></li><li id="php-mapping-html-php-mapping" class="toc-item"><a href="php-mapping.html#php-mapping">PHP Mapping</a><ul><li id="php-mapping-html-php-files" class="toc-item"><a href="php-mapping.html#php-files">PHP Files</a></li><li id="php-mapping-html-static-function" class="toc-item"><a href="php-mapping.html#static-function">Static Function</a></li><li id="php-mapping-html-classmetadatabuilder" class="toc-item"><a href="php-mapping.html#classmetadatabuilder">ClassMetadataBuilder</a></li><li id="php-mapping-html-classmetadata-api" class="toc-item"><a href="php-mapping.html#classmetadata-api">ClassMetadata API</a><ul><li id="php-mapping-html-general-setters" class="toc-item"><a href="php-mapping.html#general-setters">General Setters</a></li><li id="php-mapping-html-inheritance-setters" class="toc-item"><a href="php-mapping.html#inheritance-setters">Inheritance Setters</a></li><li id="php-mapping-html-field-mapping-setters" class="toc-item"><a href="php-mapping.html#field-mapping-setters">Field Mapping Setters</a></li><li id="php-mapping-html-lifecycle-callback-setters" class="toc-item"><a href="php-mapping.html#lifecycle-callback-setters">Lifecycle Callback Setters</a></li><li id="php-mapping-html-versioning-setters" class="toc-item"><a href="php-mapping.html#versioning-setters">Versioning Setters</a></li><li id="php-mapping-html-general-getters" class="toc-item"><a href="php-mapping.html#general-getters">General Getters</a></li><li id="php-mapping-html-identifier-getters" class="toc-item"><a href="php-mapping.html#identifier-getters">Identifier Getters</a></li><li id="php-mapping-html-inheritance-getters" class="toc-item"><a href="php-mapping.html#inheritance-getters">Inheritance Getters</a></li><li id="php-mapping-html-change-tracking-getters" class="toc-item"><a href="php-mapping.html#change-tracking-getters">Change Tracking Getters</a></li><li id="php-mapping-html-field-association-getters" class="toc-item"><a href="php-mapping.html#field-association-getters">Field & Association Getters</a></li><li id="php-mapping-html-lifecycle-callback-getters" class="toc-item"><a href="php-mapping.html#lifecycle-callback-getters">Lifecycle Callback Getters</a></li><li id="php-mapping-html-runtime-reflection-methods" class="toc-item"><a href="php-mapping.html#runtime-reflection-methods">Runtime reflection methods</a></li></ul></li></ul></li><li id="caching-html-caching" class="toc-item"><a href="caching.html#caching">Caching</a><ul><li id="caching-html-types-of-caches" class="toc-item"><a href="caching.html#types-of-caches">Types of Caches</a><ul><li id="caching-html-query-cache" class="toc-item"><a href="caching.html#query-cache">Query Cache</a></li><li id="caching-html-result-cache" class="toc-item"><a href="caching.html#result-cache">Result Cache</a></li><li id="caching-html-metadata-cache" class="toc-item"><a href="caching.html#metadata-cache">Metadata Cache</a></li></ul></li><li id="caching-html-clearing-the-cache" class="toc-item"><a href="caching.html#clearing-the-cache">Clearing the Cache</a></li><li id="caching-html-cache-chaining" class="toc-item"><a href="caching.html#cache-chaining">Cache Chaining</a></li><li id="caching-html-cache-slams" class="toc-item"><a href="caching.html#cache-slams">Cache Slams</a></li></ul></li><li id="improving-performance-html-improving-performance" class="toc-item"><a href="improving-performance.html#improving-performance">Improving Performance</a><ul><li id="improving-performance-html-bytecode-cache" class="toc-item"><a href="improving-performance.html#bytecode-cache">Bytecode Cache</a></li><li id="improving-performance-html-metadata-and-query-caches" class="toc-item"><a href="improving-performance.html#metadata-and-query-caches">Metadata and Query caches</a></li><li id="improving-performance-html-alternative-query-result-formats" class="toc-item"><a href="improving-performance.html#alternative-query-result-formats">Alternative Query Result Formats</a></li><li id="improving-performance-html-read-only-entities" class="toc-item"><a href="improving-performance.html#read-only-entities">Read-Only Entities</a></li><li id="improving-performance-html-extra-lazy-collections" class="toc-item"><a href="improving-performance.html#extra-lazy-collections">Extra-Lazy Collections</a></li><li id="improving-performance-html-temporarily-change-fetch-mode-in-dql" class="toc-item"><a href="improving-performance.html#temporarily-change-fetch-mode-in-dql">Temporarily change fetch mode in DQL</a></li><li id="improving-performance-html-apply-best-practices" class="toc-item"><a href="improving-performance.html#apply-best-practices">Apply Best Practices</a></li><li id="improving-performance-html-change-tracking-policies" class="toc-item"><a href="improving-performance.html#change-tracking-policies">Change Tracking policies</a></li></ul></li><li id="tools-html-tools" class="toc-item"><a href="tools.html#tools">Tools</a><ul><li id="tools-html-doctrine-console" class="toc-item"><a href="tools.html#doctrine-console">Doctrine Console</a><ul><li id="tools-html-setting-up-the-console" class="toc-item"><a href="tools.html#setting-up-the-console">Setting Up the Console</a></li><li id="tools-html-display-help-information" class="toc-item"><a href="tools.html#display-help-information">Display Help Information</a></li><li id="tools-html-command-overview" class="toc-item"><a href="tools.html#command-overview">Command Overview</a></li></ul></li><li id="tools-html-database-schema-generation" class="toc-item"><a href="tools.html#database-schema-generation">Database Schema Generation</a></li><li id="tools-html-entity-generation" class="toc-item"><a href="tools.html#entity-generation">Entity Generation</a></li><li id="tools-html-convert-mapping-information" class="toc-item"><a href="tools.html#convert-mapping-information">Convert Mapping Information</a></li><li id="tools-html-reverse-engineering" class="toc-item"><a href="tools.html#reverse-engineering">Reverse Engineering</a></li><li id="tools-html-runtime-vs-development-mapping-validation" class="toc-item"><a href="tools.html#runtime-vs-development-mapping-validation">Runtime vs Development Mapping Validation</a></li><li id="tools-html-adding-own-commands" class="toc-item"><a href="tools.html#adding-own-commands">Adding own commands</a></li><li id="tools-html-re-use-console-application" class="toc-item"><a href="tools.html#re-use-console-application">Re-use console application</a></li></ul></li><li id="metadata-drivers-html-metadata-drivers" class="toc-item"><a href="metadata-drivers.html#metadata-drivers">Metadata Drivers</a><ul><li id="metadata-drivers-html-core-metadata-drivers" class="toc-item"><a href="metadata-drivers.html#core-metadata-drivers">Core Metadata Drivers</a></li><li id="metadata-drivers-html-implementing-metadata-drivers" class="toc-item"><a href="metadata-drivers.html#implementing-metadata-drivers">Implementing Metadata Drivers</a></li><li id="metadata-drivers-html-classmetadata" class="toc-item"><a href="metadata-drivers.html#classmetadata">ClassMetadata</a></li><li id="metadata-drivers-html-getting-classmetadata-instances" class="toc-item"><a href="metadata-drivers.html#getting-classmetadata-instances">Getting ClassMetadata Instances</a></li></ul></li><li id="best-practices-html-best-practices" class="toc-item"><a href="best-practices.html#best-practices">Best Practices</a><ul><li id="best-practices-html-constrain-relationships-as-much-as-possible" class="toc-item"><a href="best-practices.html#constrain-relationships-as-much-as-possible">Constrain relationships as much as possible</a></li><li id="best-practices-html-avoid-composite-keys" class="toc-item"><a href="best-practices.html#avoid-composite-keys">Avoid composite keys</a></li><li id="best-practices-html-use-events-judiciously" class="toc-item"><a href="best-practices.html#use-events-judiciously">Use events judiciously</a></li><li id="best-practices-html-use-cascades-judiciously" class="toc-item"><a href="best-practices.html#use-cascades-judiciously">Use cascades judiciously</a></li><li id="best-practices-html-don-t-use-special-characters" class="toc-item"><a href="best-practices.html#don-t-use-special-characters">Don't use special characters</a></li><li id="best-practices-html-don-t-use-identifier-quoting" class="toc-item"><a href="best-practices.html#don-t-use-identifier-quoting">Don't use identifier quoting</a></li><li id="best-practices-html-initialize-collections-in-the-constructor" class="toc-item"><a href="best-practices.html#initialize-collections-in-the-constructor">Initialize collections in the constructor</a></li><li id="best-practices-html-don-t-map-foreign-keys-to-fields-in-an-entity" class="toc-item"><a href="best-practices.html#don-t-map-foreign-keys-to-fields-in-an-entity">Don't map foreign keys to fields in an entity</a></li><li id="best-practices-html-use-explicit-transaction-demarcation" class="toc-item"><a href="best-practices.html#use-explicit-transaction-demarcation">Use explicit transaction demarcation</a></li></ul></li><li id="limitations-and-known-issues-html-limitations-and-known-issues" class="toc-item"><a href="limitations-and-known-issues.html#limitations-and-known-issues">Limitations and Known Issues</a><ul><li id="limitations-and-known-issues-html-current-limitations" class="toc-item"><a href="limitations-and-known-issues.html#current-limitations">Current Limitations</a><ul><li id="limitations-and-known-issues-html-join-columns-with-non-primary-keys" class="toc-item"><a href="limitations-and-known-issues.html#join-columns-with-non-primary-keys">Join-Columns with non-primary keys</a></li><li id="limitations-and-known-issues-html-mapping-arrays-to-a-join-table" class="toc-item"><a href="limitations-and-known-issues.html#mapping-arrays-to-a-join-table">Mapping Arrays to a Join Table</a></li><li id="limitations-and-known-issues-html-cascade-merge-with-bi-directional-associations" class="toc-item"><a href="limitations-and-known-issues.html#cascade-merge-with-bi-directional-associations">Cascade Merge with Bi-directional Associations</a></li><li id="limitations-and-known-issues-html-custom-persisters" class="toc-item"><a href="limitations-and-known-issues.html#custom-persisters">Custom Persisters</a></li><li id="limitations-and-known-issues-html-persist-keys-of-collections" class="toc-item"><a href="limitations-and-known-issues.html#persist-keys-of-collections">Persist Keys of Collections</a></li><li id="limitations-and-known-issues-html-mapping-many-tables-to-one-entity" class="toc-item"><a href="limitations-and-known-issues.html#mapping-many-tables-to-one-entity">Mapping many tables to one entity</a></li><li id="limitations-and-known-issues-html-behaviors" class="toc-item"><a href="limitations-and-known-issues.html#behaviors">Behaviors</a></li><li id="limitations-and-known-issues-html-nested-set" class="toc-item"><a href="limitations-and-known-issues.html#nested-set">Nested Set</a></li><li id="limitations-and-known-issues-html-using-traits-in-entity-classes" class="toc-item"><a href="limitations-and-known-issues.html#using-traits-in-entity-classes">Using Traits in Entity Classes</a></li></ul></li><li id="limitations-and-known-issues-html-known-issues" class="toc-item"><a href="limitations-and-known-issues.html#known-issues">Known Issues</a><ul><li id="limitations-and-known-issues-html-identifier-quoting-and-legacy-databases" class="toc-item"><a href="limitations-and-known-issues.html#identifier-quoting-and-legacy-databases">Identifier Quoting and Legacy Databases</a></li><li id="limitations-and-known-issues-html-microsoft-sql-server-and-doctrine-datetime" class="toc-item"><a href="limitations-and-known-issues.html#microsoft-sql-server-and-doctrine-datetime">Microsoft SQL Server and Doctrine "datetime"</a></li><li id="limitations-and-known-issues-html-mysql-with-myisam-tables" class="toc-item"><a href="limitations-and-known-issues.html#mysql-with-myisam-tables">MySQL with MyISAM tables</a></li></ul></li></ul></li><li id="tutorials-pagination-html-pagination" class="toc-item"><a href="../tutorials/pagination.html#pagination">Pagination</a></li><li id="filters-html-filters" class="toc-item"><a href="filters.html#filters">Filters</a><ul><li id="filters-html-example-filter-class" class="toc-item"><a href="filters.html#example-filter-class">Example filter class</a></li><li id="filters-html-configuration" class="toc-item"><a href="filters.html#configuration">Configuration</a></li><li id="filters-html-disabling-enabling-filters-and-setting-parameters" class="toc-item"><a href="filters.html#disabling-enabling-filters-and-setting-parameters">Disabling/Enabling Filters and Setting Parameters</a></li><li id="filters-html-suspending-restoring-filters" class="toc-item"><a href="filters.html#suspending-restoring-filters">Suspending/Restoring Filters</a></li></ul></li><li id="namingstrategy-html-implementing-a-namingstrategy" class="toc-item"><a href="namingstrategy.html#implementing-a-namingstrategy">Implementing a NamingStrategy</a><ul><li id="namingstrategy-html-configuring-a-naming-strategy" class="toc-item"><a href="namingstrategy.html#configuring-a-naming-strategy">Configuring a naming strategy</a></li><li id="namingstrategy-html-underscore-naming-strategy" class="toc-item"><a href="namingstrategy.html#underscore-naming-strategy">Underscore naming strategy</a></li><li id="namingstrategy-html-naming-strategy-interface" class="toc-item"><a href="namingstrategy.html#naming-strategy-interface">Naming strategy interface</a></li><li id="namingstrategy-html-implementing-a-naming-strategy" class="toc-item"><a href="namingstrategy.html#implementing-a-naming-strategy">Implementing a naming strategy</a></li></ul></li><li id="advanced-configuration-html-advanced-configuration" class="toc-item"><a href="advanced-configuration.html#advanced-configuration">Advanced Configuration</a><ul><li id="advanced-configuration-html-doctrine-and-caching" class="toc-item"><a href="advanced-configuration.html#doctrine-and-caching">Doctrine and Caching</a></li><li id="advanced-configuration-html-configuration-options" class="toc-item"><a href="advanced-configuration.html#configuration-options">Configuration Options</a><ul><li id="advanced-configuration-html-proxy-directory-required" class="toc-item"><a href="advanced-configuration.html#proxy-directory-required">Proxy Directory (***REQUIRED***)</a></li><li id="advanced-configuration-html-proxy-namespace-required" class="toc-item"><a href="advanced-configuration.html#proxy-namespace-required">Proxy Namespace (***REQUIRED***)</a></li><li id="advanced-configuration-html-metadata-driver-required" class="toc-item"><a href="advanced-configuration.html#metadata-driver-required">Metadata Driver (***REQUIRED***)</a></li><li id="advanced-configuration-html-metadata-cache-recommended" class="toc-item"><a href="advanced-configuration.html#metadata-cache-recommended">Metadata Cache (***RECOMMENDED***)</a></li><li id="advanced-configuration-html-query-cache-recommended" class="toc-item"><a href="advanced-configuration.html#query-cache-recommended">Query Cache (***RECOMMENDED***)</a></li><li id="advanced-configuration-html-sql-logger-optional" class="toc-item"><a href="advanced-configuration.html#sql-logger-optional">SQL Logger (***Optional***)</a></li><li id="advanced-configuration-html-auto-generating-proxy-classes-optional" class="toc-item"><a href="advanced-configuration.html#auto-generating-proxy-classes-optional">Auto-generating Proxy Classes (***OPTIONAL***)</a></li></ul></li><li id="advanced-configuration-html-development-vs-production-configuration" class="toc-item"><a href="advanced-configuration.html#development-vs-production-configuration">Development vs Production Configuration</a></li><li id="advanced-configuration-html-connection" class="toc-item"><a href="advanced-configuration.html#connection">Connection</a></li><li id="advanced-configuration-html-proxy-objects" class="toc-item"><a href="advanced-configuration.html#proxy-objects">Proxy Objects</a><ul><li id="advanced-configuration-html-reference-proxies" class="toc-item"><a href="advanced-configuration.html#reference-proxies">Reference Proxies</a></li><li id="advanced-configuration-html-association-proxies" class="toc-item"><a href="advanced-configuration.html#association-proxies">Association proxies</a></li><li id="advanced-configuration-html-generating-proxy-classes" class="toc-item"><a href="advanced-configuration.html#generating-proxy-classes">Generating Proxy classes</a></li></ul></li><li id="advanced-configuration-html-autoloading-proxies" class="toc-item"><a href="advanced-configuration.html#autoloading-proxies">Autoloading Proxies</a></li><li id="advanced-configuration-html-multiple-metadata-sources" class="toc-item"><a href="advanced-configuration.html#multiple-metadata-sources">Multiple Metadata Sources</a></li><li id="advanced-configuration-html-default-repository-optional" class="toc-item"><a href="advanced-configuration.html#default-repository-optional">Default Repository (***OPTIONAL***)</a></li><li id="advanced-configuration-html-ignoring-entities-optional" class="toc-item"><a href="advanced-configuration.html#ignoring-entities-optional">Ignoring entities (***OPTIONAL***)</a></li><li id="advanced-configuration-html-setting-up-the-console" class="toc-item"><a href="advanced-configuration.html#setting-up-the-console">Setting up the Console</a></li></ul></li><li id="second-level-cache-html-the-second-level-cache" class="toc-item"><a href="second-level-cache.html#the-second-level-cache">The Second Level Cache</a><ul><li id="second-level-cache-html-caching-regions" class="toc-item"><a href="second-level-cache.html#caching-regions">Caching Regions</a></li><li id="second-level-cache-html-cache-regions" class="toc-item"><a href="second-level-cache.html#cache-regions">Cache Regions</a><ul><li id="second-level-cache-html-cache-region" class="toc-item"><a href="second-level-cache.html#cache-region">Cache region</a></li><li id="second-level-cache-html-concurrent-cache-region" class="toc-item"><a href="second-level-cache.html#concurrent-cache-region">Concurrent cache region</a></li><li id="second-level-cache-html-timestamp-region" class="toc-item"><a href="second-level-cache.html#timestamp-region">Timestamp region</a></li></ul></li><li id="second-level-cache-html-caching-mode" class="toc-item"><a href="second-level-cache.html#caching-mode">Caching mode</a><ul><li id="second-level-cache-html-built-in-cached-persisters" class="toc-item"><a href="second-level-cache.html#built-in-cached-persisters">Built-in cached persisters</a></li></ul></li><li id="second-level-cache-html-configuration" class="toc-item"><a href="second-level-cache.html#configuration">Configuration</a><ul><li id="second-level-cache-html-enable-second-level-cache" class="toc-item"><a href="second-level-cache.html#enable-second-level-cache">Enable Second Level Cache</a></li><li id="second-level-cache-html-cache-factory" class="toc-item"><a href="second-level-cache.html#cache-factory">Cache Factory</a></li><li id="second-level-cache-html-region-lifetime" class="toc-item"><a href="second-level-cache.html#region-lifetime">Region Lifetime</a></li><li id="second-level-cache-html-cache-log" class="toc-item"><a href="second-level-cache.html#cache-log">Cache Log</a></li></ul></li><li id="second-level-cache-html-entity-cache-definition" class="toc-item"><a href="second-level-cache.html#entity-cache-definition">Entity cache definition</a></li><li id="second-level-cache-html-association-cache-definition" class="toc-item"><a href="second-level-cache.html#association-cache-definition">Association cache definition</a><ul><li id="second-level-cache-html-cache-usage" class="toc-item"><a href="second-level-cache.html#cache-usage">Cache usage</a></li></ul></li><li id="second-level-cache-html-using-the-query-cache" class="toc-item"><a href="second-level-cache.html#using-the-query-cache">Using the query cache</a><ul><li id="second-level-cache-html-cache-mode" class="toc-item"><a href="second-level-cache.html#cache-mode">Cache mode</a></li><li id="second-level-cache-html-delete-update-queries" class="toc-item"><a href="second-level-cache.html#delete-update-queries">DELETE / UPDATE queries</a></li></ul></li><li id="second-level-cache-html-using-the-repository-query-cache" class="toc-item"><a href="second-level-cache.html#using-the-repository-query-cache">Using the repository query cache</a></li><li id="second-level-cache-html-cache-api" class="toc-item"><a href="second-level-cache.html#cache-api">Cache API</a></li><li id="second-level-cache-html-limitations" class="toc-item"><a href="second-level-cache.html#limitations">Limitations</a><ul><li id="second-level-cache-html-composite-primary-key" class="toc-item"><a href="second-level-cache.html#composite-primary-key">Composite primary key</a></li><li id="second-level-cache-html-distributed-environments" class="toc-item"><a href="second-level-cache.html#distributed-environments">Distributed environments</a></li><li id="second-level-cache-html-paginator" class="toc-item"><a href="second-level-cache.html#paginator">Paginator</a></li></ul></li></ul></li><li id="security-html-security" class="toc-item"><a href="security.html#security">Security</a><ul><li id="security-html-user-input-and-doctrine-orm" class="toc-item"><a href="security.html#user-input-and-doctrine-orm">User input and Doctrine ORM</a></li><li id="security-html-preventing-mass-assignment-vulnerabilities" class="toc-item"><a href="security.html#preventing-mass-assignment-vulnerabilities">Preventing Mass Assignment Vulnerabilities</a></li></ul></li></ul></div>
</div>
<div class="toc-section"><h2 class="toc-header">Cookbook</h2>
<div class="toc"><ul><li id="cookbook-aggregate-fields-html-aggregate-fields" class="toc-item"><a href="../cookbook/aggregate-fields.html#aggregate-fields">Aggregate Fields</a><ul><li id="cookbook-aggregate-fields-html-an-example-model" class="toc-item"><a href="../cookbook/aggregate-fields.html#an-example-model">An example model</a></li><li id="cookbook-aggregate-fields-html-using-dql" class="toc-item"><a href="../cookbook/aggregate-fields.html#using-dql">Using DQL</a></li><li id="cookbook-aggregate-fields-html-using-your-domain-model" class="toc-item"><a href="../cookbook/aggregate-fields.html#using-your-domain-model">Using your Domain Model</a></li><li id="cookbook-aggregate-fields-html-using-an-aggregate-field" class="toc-item"><a href="../cookbook/aggregate-fields.html#using-an-aggregate-field">Using an Aggregate Field</a></li><li id="cookbook-aggregate-fields-html-tackling-race-conditions-with-aggregate-fields" class="toc-item"><a href="../cookbook/aggregate-fields.html#tackling-race-conditions-with-aggregate-fields">Tackling Race Conditions with Aggregate Fields</a></li><li id="cookbook-aggregate-fields-html-keeping-updates-and-deletes-in-sync" class="toc-item"><a href="../cookbook/aggregate-fields.html#keeping-updates-and-deletes-in-sync">Keeping Updates and Deletes in Sync</a></li><li id="cookbook-aggregate-fields-html-conclusion" class="toc-item"><a href="../cookbook/aggregate-fields.html#conclusion">Conclusion</a></li></ul></li><li id="cookbook-custom-mapping-types-html-custom-mapping-types" class="toc-item"><a href="../cookbook/custom-mapping-types.html#custom-mapping-types">Custom Mapping Types</a></li><li id="cookbook-decorator-pattern-html-persisting-the-decorator-pattern" class="toc-item"><a href="../cookbook/decorator-pattern.html#persisting-the-decorator-pattern">Persisting the Decorator Pattern</a><ul><li id="cookbook-decorator-pattern-html-component" class="toc-item"><a href="../cookbook/decorator-pattern.html#component">Component</a></li><li id="cookbook-decorator-pattern-html-concretecomponent" class="toc-item"><a href="../cookbook/decorator-pattern.html#concretecomponent">ConcreteComponent</a></li><li id="cookbook-decorator-pattern-html-decorator" class="toc-item"><a href="../cookbook/decorator-pattern.html#decorator">Decorator</a></li><li id="cookbook-decorator-pattern-html-concretedecorator" class="toc-item"><a href="../cookbook/decorator-pattern.html#concretedecorator">ConcreteDecorator</a></li><li id="cookbook-decorator-pattern-html-examples" class="toc-item"><a href="../cookbook/decorator-pattern.html#examples">Examples</a></li></ul></li><li id="cookbook-dql-custom-walkers-html-extending-dql-in-doctrine-orm-custom-ast-walkers" class="toc-item"><a href="../cookbook/dql-custom-walkers.html#extending-dql-in-doctrine-orm-custom-ast-walkers">Extending DQL in Doctrine ORM: Custom AST Walkers</a><ul><li id="cookbook-dql-custom-walkers-html-generic-count-query-for-pagination" class="toc-item"><a href="../cookbook/dql-custom-walkers.html#generic-count-query-for-pagination">Generic count query for pagination</a></li><li id="cookbook-dql-custom-walkers-html-modify-the-output-walker-to-generate-vendor-specific-sql" class="toc-item"><a href="../cookbook/dql-custom-walkers.html#modify-the-output-walker-to-generate-vendor-specific-sql">Modify the Output Walker to generate Vendor specific SQL</a></li></ul></li><li id="cookbook-dql-user-defined-functions-html-dql-user-defined-functions" class="toc-item"><a href="../cookbook/dql-user-defined-functions.html#dql-user-defined-functions">DQL User Defined Functions</a><ul><li id="cookbook-dql-user-defined-functions-html-registering-your-own-dql-functions" class="toc-item"><a href="../cookbook/dql-user-defined-functions.html#registering-your-own-dql-functions">Registering your own DQL functions</a></li><li id="cookbook-dql-user-defined-functions-html-date-diff" class="toc-item"><a href="../cookbook/dql-user-defined-functions.html#date-diff">Date Diff</a></li><li id="cookbook-dql-user-defined-functions-html-date-add" class="toc-item"><a href="../cookbook/dql-user-defined-functions.html#date-add">Date Add</a></li><li id="cookbook-dql-user-defined-functions-html-conclusion" class="toc-item"><a href="../cookbook/dql-user-defined-functions.html#conclusion">Conclusion</a></li></ul></li><li id="cookbook-implementing-arrayaccess-for-domain-objects-html-implementing-arrayaccess-for-domain-objects" class="toc-item"><a href="../cookbook/implementing-arrayaccess-for-domain-objects.html#implementing-arrayaccess-for-domain-objects">Implementing ArrayAccess for Domain Objects</a><ul><li id="cookbook-implementing-arrayaccess-for-domain-objects-html-option-1" class="toc-item"><a href="../cookbook/implementing-arrayaccess-for-domain-objects.html#option-1">Option 1</a></li><li id="cookbook-implementing-arrayaccess-for-domain-objects-html-option-2" class="toc-item"><a href="../cookbook/implementing-arrayaccess-for-domain-objects.html#option-2">Option 2</a></li><li id="cookbook-implementing-arrayaccess-for-domain-objects-html-read-only" class="toc-item"><a href="../cookbook/implementing-arrayaccess-for-domain-objects.html#read-only">Read-only</a></li></ul></li><li id="cookbook-implementing-the-notify-changetracking-policy-html-implementing-the-notify-changetracking-policy" class="toc-item"><a href="../cookbook/implementing-the-notify-changetracking-policy.html#implementing-the-notify-changetracking-policy">Implementing the Notify ChangeTracking Policy</a><ul><li id="cookbook-implementing-the-notify-changetracking-policy-html-implementing-notifypropertychanged" class="toc-item"><a href="../cookbook/implementing-the-notify-changetracking-policy.html#implementing-notifypropertychanged">Implementing NotifyPropertyChanged</a></li></ul></li><li id="cookbook-resolve-target-entity-listener-html-keeping-your-modules-independent" class="toc-item"><a href="../cookbook/resolve-target-entity-listener.html#keeping-your-modules-independent">Keeping your Modules independent</a><ul><li id="cookbook-resolve-target-entity-listener-html-background" class="toc-item"><a href="../cookbook/resolve-target-entity-listener.html#background">Background</a></li><li id="cookbook-resolve-target-entity-listener-html-set-up" class="toc-item"><a href="../cookbook/resolve-target-entity-listener.html#set-up">Set up</a></li><li id="cookbook-resolve-target-entity-listener-html-final-thoughts" class="toc-item"><a href="../cookbook/resolve-target-entity-listener.html#final-thoughts">Final Thoughts</a></li></ul></li><li id="cookbook-sql-table-prefixes-html-sql-table-prefixes" class="toc-item"><a href="../cookbook/sql-table-prefixes.html#sql-table-prefixes">SQL-Table Prefixes</a><ul><li id="cookbook-sql-table-prefixes-html-implementing-the-listener" class="toc-item"><a href="../cookbook/sql-table-prefixes.html#implementing-the-listener">Implementing the listener</a></li><li id="cookbook-sql-table-prefixes-html-telling-the-entitymanager-about-our-listener" class="toc-item"><a href="../cookbook/sql-table-prefixes.html#telling-the-entitymanager-about-our-listener">Telling the EntityManager about our listener</a></li></ul></li><li id="cookbook-strategy-cookbook-introduction-html-strategy-pattern" class="toc-item"><a href="../cookbook/strategy-cookbook-introduction.html#strategy-pattern">Strategy-Pattern</a><ul><li id="cookbook-strategy-cookbook-introduction-html-scenario-problem" class="toc-item"><a href="../cookbook/strategy-cookbook-introduction.html#scenario-problem">Scenario / Problem</a></li><li id="cookbook-strategy-cookbook-introduction-html-solution" class="toc-item"><a href="../cookbook/strategy-cookbook-introduction.html#solution">Solution</a></li></ul></li><li id="cookbook-validation-of-entities-html-validation-of-entities" class="toc-item"><a href="../cookbook/validation-of-entities.html#validation-of-entities">Validation of Entities</a></li><li id="cookbook-working-with-datetime-html-working-with-datetime-instances" class="toc-item"><a href="../cookbook/working-with-datetime.html#working-with-datetime-instances">Working with DateTime Instances</a><ul><li id="cookbook-working-with-datetime-html-datetime-changes-are-detected-by-reference" class="toc-item"><a href="../cookbook/working-with-datetime.html#datetime-changes-are-detected-by-reference">DateTime changes are detected by Reference</a></li><li id="cookbook-working-with-datetime-html-default-timezone-gotcha" class="toc-item"><a href="../cookbook/working-with-datetime.html#default-timezone-gotcha">Default Timezone Gotcha</a></li><li id="cookbook-working-with-datetime-html-handling-different-timezones-with-the-datetime-type" class="toc-item"><a href="../cookbook/working-with-datetime.html#handling-different-timezones-with-the-datetime-type">Handling different Timezones with the DateTime Type</a></li></ul></li><li id="cookbook-mysql-enums-html-mysql-enums" class="toc-item"><a href="../cookbook/mysql-enums.html#mysql-enums">Mysql Enums</a><ul><li id="cookbook-mysql-enums-html-solution-1-mapping-to-varchars" class="toc-item"><a href="../cookbook/mysql-enums.html#solution-1-mapping-to-varchars">Solution 1: Mapping to Varchars</a></li><li id="cookbook-mysql-enums-html-solution-2-defining-a-type" class="toc-item"><a href="../cookbook/mysql-enums.html#solution-2-defining-a-type">Solution 2: Defining a Type</a></li></ul></li><li id="cookbook-advanced-field-value-conversion-using-custom-mapping-types-html-advanced-field-value-conversion-using-custom-mapping-types" class="toc-item"><a href="../cookbook/advanced-field-value-conversion-using-custom-mapping-types.html#advanced-field-value-conversion-using-custom-mapping-types">Advanced field value conversion using custom mapping types</a><ul><li id="cookbook-advanced-field-value-conversion-using-custom-mapping-types-html-the-entity" class="toc-item"><a href="../cookbook/advanced-field-value-conversion-using-custom-mapping-types.html#the-entity">The entity</a></li><li id="cookbook-advanced-field-value-conversion-using-custom-mapping-types-html-the-mapping-type" class="toc-item"><a href="../cookbook/advanced-field-value-conversion-using-custom-mapping-types.html#the-mapping-type">The mapping type</a></li><li id="cookbook-advanced-field-value-conversion-using-custom-mapping-types-html-example-usage" class="toc-item"><a href="../cookbook/advanced-field-value-conversion-using-custom-mapping-types.html#example-usage">Example usage</a></li></ul></li><li id="cookbook-entities-in-session-html-entities-in-the-session" class="toc-item"><a href="../cookbook/entities-in-session.html#entities-in-the-session">Entities in the Session</a><ul><li id="cookbook-entities-in-session-html-updating-an-entity" class="toc-item"><a href="../cookbook/entities-in-session.html#updating-an-entity">Updating an entity</a><ul><li id="cookbook-entities-in-session-html-working-with-scalars" class="toc-item"><a href="../cookbook/entities-in-session.html#working-with-scalars">Working with scalars</a></li><li id="cookbook-entities-in-session-html-working-with-custom-data-transfer-objects" class="toc-item"><a href="../cookbook/entities-in-session.html#working-with-custom-data-transfer-objects">Working with custom data transfer objects</a></li></ul></li><li id="cookbook-entities-in-session-html-serializing-entity-into-the-session" class="toc-item"><a href="../cookbook/entities-in-session.html#serializing-entity-into-the-session">Serializing entity into the session</a></li></ul></li></ul></div>
</div>
                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://www.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "ORM",
            "item": "https://www.doctrine-project.org/projects/orm.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://www.doctrine-project.org/projects/doctrine-orm/en/2.16/index.html"
        },                {
            "@type": "ListItem",
            "position": 4,
            "name": "Doctrine Query Language",
            "item": "https://www.doctrine-project.org/projects/doctrine-orm/en/2.16/reference/dql-doctrine-query-language.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/orm.html">ORM</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-orm/en/2.16/index.html">Documentation</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Doctrine Query Language</li>
                        </ol>
</nav>
                                    </div>

                

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-orm/en/2.16/reference/dql-doctrine-query-language.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        2.16.1
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                            
                                                <a class="project-version-switcher dropdown-item" href="/projects/doctrine-orm/en/latest/reference/dql-doctrine-query-language.html">
                                                    3.0

                                                    
                                                                                                            (upcoming)
                                                                                                    </a>
                                                                                            
                                                <a class="project-version-switcher dropdown-item" href="/projects/doctrine-orm/en/2.17/reference/dql-doctrine-query-language.html">
                                                    2.17

                                                    
                                                                                                            (upcoming)
                                                                                                    </a>
                                                                                            
                                                <a class="project-version-switcher dropdown-item active" href="/projects/doctrine-orm/en/2.16/reference/dql-doctrine-query-language.html">
                                                    2.16.1

                                                                                                            (current)
                                                    
                                                                                                    </a>
                                                                                    
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-orm/en/2.15/reference/dql-doctrine-query-language.html">2.15</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-orm/en/2.14/reference/dql-doctrine-query-language.html">2.14</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-orm/en/2.13/reference/dql-doctrine-query-language.html">2.13</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-orm/en/2.12/reference/dql-doctrine-query-language.html">2.12</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-orm/en/2.11/reference/dql-doctrine-query-language.html">2.11</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-orm/en/2.10/reference/dql-doctrine-query-language.html">2.10</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-orm/en/2.9/reference/dql-doctrine-query-language.html">2.9</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-orm/en/2.8/reference/dql-doctrine-query-language.html">2.8</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-orm/en/2.7/reference/dql-doctrine-query-language.html">2.7</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-orm/en/2.6/reference/dql-doctrine-query-language.html">2.6</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-orm/en/2.5/reference/dql-doctrine-query-language.html">2.5</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-orm/en/2.4/reference/dql-doctrine-query-language.html">2.4</a>
                                                                                                                        </div>
                                </div>
                            
                            
<div class="section"><a class="section-anchor" id="doctrine-query-language" name="doctrine-query-language"></a><h1 class="section-header"><a href="#doctrine-query-language">Doctrine Query Language<i class="fas fa-link"></i></a></h1>
<p>DQL stands for Doctrine Query Language and is an Object
Query Language derivative that is very similar to the Hibernate
Query Language (HQL) or the Java Persistence Query Language (JPQL).</p>
<p>In essence, DQL provides powerful querying capabilities over your
object model. Imagine all your objects lying around in some storage
(like an object database). When writing DQL queries, think about
querying that storage to pick a certain subset of your objects.</p>
<div class="alert note-admonition bg-light-yellow text-dark border"><table width="100%"><tr><td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td><td><p>A common mistake for beginners is to mistake DQL for
being just some form of SQL and therefore trying to use table names
and column names or join arbitrary tables together in a query. You
need to think about DQL as a query language for your object model,
not for your relational schema.</p>
</td></tr></table></div>
<p>DQL is case in-sensitive, except for namespace, class and field
names, which are case sensitive.</p>
<div class="section"><a class="section-anchor" id="types-of-dql-queries" name="types-of-dql-queries"></a><h2 class="section-header"><a href="#types-of-dql-queries">Types of DQL queries<i class="fas fa-link"></i></a></h2>
<p>DQL as a query language has SELECT, UPDATE and DELETE constructs
that map to their corresponding SQL statement types. INSERT
statements are not allowed in DQL, because entities and their
relations have to be introduced into the persistence context
through <code>EntityManager#persist()</code> to ensure consistency of your
object model.</p>
<p>DQL SELECT statements are a very powerful way of retrieving parts
of your domain model that are not accessible via associations.
Additionally they allow you to retrieve entities and their associations
in one single SQL select statement which can make a huge difference
in performance compared to using several queries.</p>
<p>DQL UPDATE and DELETE statements offer a way to execute bulk
changes on the entities of your domain model. This is often
necessary when you cannot load all the affected entities of a bulk
update into memory.</p>
</div>
<div class="section"><a class="section-anchor" id="select-queries" name="select-queries"></a><h2 class="section-header"><a href="#select-queries">SELECT queries<i class="fas fa-link"></i></a></h2>
<div class="section"><a class="section-anchor" id="dql-select-clause" name="dql-select-clause"></a><h3 class="section-header"><a href="#dql-select-clause">DQL SELECT clause<i class="fas fa-link"></i></a></h3>
<p>Here is an example that selects all users with an age &gt; 20:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="cbe57616fa26de35eeb3c7e3cf849754fe75382d"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="cbe57616fa26de35eeb3c7e3cf849754fe75382d"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-cbe57616fa26de35eeb3c7e3cf849754fe75382d-1" class="line-number-anchor" /><a href="#line-number-cbe57616fa26de35eeb3c7e3cf849754fe75382d-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM MyProject\Model\User u WHERE u.age &gt; 20'</span>);
$users = $query-&gt;getResult();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-cbe57616fa26de35eeb3c7e3cf849754fe75382d-2" class="line-number-anchor" /><a href="#line-number-cbe57616fa26de35eeb3c7e3cf849754fe75382d-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cbe57616fa26de35eeb3c7e3cf849754fe75382d-3" class="line-number-anchor" /><a href="#line-number-cbe57616fa26de35eeb3c7e3cf849754fe75382d-3">3</a></td></tr></table></div></code></pre>
<p>Lets examine the query:</p>
<ul><li class="dash"> <code>u</code> is a so called identification variable or alias that
   refers to the <code>MyProject\Model\User</code> class. By placing this alias
   in the SELECT clause we specify that we want all instances of the
   User class that are matched by this query to appear in the query
   result.</li>
<li class="dash"> The FROM keyword is always followed by a fully-qualified class
   name which in turn is followed by an identification variable or
   alias for that class name. This class designates a root of our
   query from which we can navigate further via joins (explained
   later) and path expressions.</li>
<li class="dash"> The expression <code>u.age</code> in the WHERE clause is a path
   expression. Path expressions in DQL are easily identified by the
   use of the '.' operator that is used for constructing paths. The
   path expression <code>u.age</code> refers to the <code>age</code> field on the User
   class.</li>
</ul>

<p>The result of this query would be a list of User objects where all
users are older than 20.</p>
</div>
<div class="section"><a class="section-anchor" id="result-format" name="result-format"></a><h3 class="section-header"><a href="#result-format">Result format<i class="fas fa-link"></i></a></h3>
<p>The composition of the expressions in the SELECT clause also
influences the nature of the query result. There are three
cases:</p>
<p><strong>All objects</strong></p>
<pre class="code-block-table"><code class="sql"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="ee8af40ee14238d02ef1c495a9c8d09b5b33db00"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="ee8af40ee14238d02ef1c495a9c8d09b5b33db00"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-ee8af40ee14238d02ef1c495a9c8d09b5b33db00-1" class="line-number-anchor" /><a href="#line-number-ee8af40ee14238d02ef1c495a9c8d09b5b33db00-1">1</a></td><td class="code-line" rowspan="1"><span class="hljs-keyword">SELECT</span> u, p, n <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">Users</span> u...</td></tr></table></div></code></pre>
<p>In this case, the result will be an array of User objects because of
the FROM clause, with children <code>p</code> and <code>n</code> hydrated because of
their inclusion in the SELECT clause.</p>
<p><strong>All scalars</strong></p>
<pre class="code-block-table"><code class="sql"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="7fe788bb6e9a0b3f8eddc6cdeef3ce445f42f399"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="7fe788bb6e9a0b3f8eddc6cdeef3ce445f42f399"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-7fe788bb6e9a0b3f8eddc6cdeef3ce445f42f399-1" class="line-number-anchor" /><a href="#line-number-7fe788bb6e9a0b3f8eddc6cdeef3ce445f42f399-1">1</a></td><td class="code-line" rowspan="1"><span class="hljs-keyword">SELECT</span> u.name, u.address <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">Users</span> u...</td></tr></table></div></code></pre>
<p>In this case, the result will be an array of arrays.  In the example
above, each element of the result array would be an array of the
scalar name and address values.</p>
<p>You can select scalars from any entity in the query.</p>
<p><strong>Mixed</strong></p>
<pre class="code-block-table"><code class="sql"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="dbe990c86efbbe14c8f29f9b9050d3c728d2c18e"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="dbe990c86efbbe14c8f29f9b9050d3c728d2c18e"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-dbe990c86efbbe14c8f29f9b9050d3c728d2c18e-1" class="line-number-anchor" /><a href="#line-number-dbe990c86efbbe14c8f29f9b9050d3c728d2c18e-1">1</a></td><td class="code-line" rowspan="1"><span class="hljs-keyword">SELECT</span> u, p.quantity <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">Users</span> u...</td></tr></table></div></code></pre>
<p>Here, the result will again be an array of arrays, with each element
being an array made up of a User object and the scalar value
<code>p.quantity</code>.</p>
<p>Multiple FROM clauses are allowed, which would cause the result
array elements to cycle through the classes included in the
multiple FROM clauses.</p>
<div class="alert note-admonition bg-light-yellow text-dark border"><table width="100%"><tr><td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td><td><p>You cannot select other entities unless you also select the
root of the selection (which is the first entity in FROM).</p>
<p>For example, <code>SELECT p,n FROM Users u...</code> would be wrong because
<code>u</code> is not part of the SELECT</p>
<p>Doctrine throws an exception if you violate this constraint.</p>
</td></tr></table></div>
</div>
<div class="section"><a class="section-anchor" id="joins" name="joins"></a><h3 class="section-header"><a href="#joins">Joins<i class="fas fa-link"></i></a></h3>
<p>A SELECT query can contain joins. There are 2 types of JOINs:
Regular Joins and Fetch Joins.</p>
<p><strong>Regular Joins</strong>: Used to limit the results and/or compute
aggregate values.</p>
<p><strong>Fetch Joins</strong>: In addition to the uses of regular joins: Used to
fetch related entities and include them in the hydrated result of a
query.</p>
<p>There is no special DQL keyword that distinguishes a regular join
from a fetch join. A join (be it an inner or outer join) becomes a
fetch join as soon as fields of the joined entity appear in the
SELECT part of the DQL query outside of an aggregate function.
Otherwise its a regular join.</p>
<p>Example:</p>
<p>Regular join of the address:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="b432643fcc6b76e3349472af53ebea78c6038bad"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="b432643fcc6b76e3349472af53ebea78c6038bad"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-b432643fcc6b76e3349472af53ebea78c6038bad-1" class="line-number-anchor" /><a href="#line-number-b432643fcc6b76e3349472af53ebea78c6038bad-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">"SELECT u FROM User u JOIN u.address a WHERE a.city = 'Berlin'"</span>);
$users = $query-&gt;getResult();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-b432643fcc6b76e3349472af53ebea78c6038bad-2" class="line-number-anchor" /><a href="#line-number-b432643fcc6b76e3349472af53ebea78c6038bad-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b432643fcc6b76e3349472af53ebea78c6038bad-3" class="line-number-anchor" /><a href="#line-number-b432643fcc6b76e3349472af53ebea78c6038bad-3">3</a></td></tr></table></div></code></pre>
<p>Fetch join of the address:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="e103201800d8d2cee0844a4f62cdc044cc59ffd4"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="e103201800d8d2cee0844a4f62cdc044cc59ffd4"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-e103201800d8d2cee0844a4f62cdc044cc59ffd4-1" class="line-number-anchor" /><a href="#line-number-e103201800d8d2cee0844a4f62cdc044cc59ffd4-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">"SELECT u, a FROM User u JOIN u.address a WHERE a.city = 'Berlin'"</span>);
$users = $query-&gt;getResult();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-e103201800d8d2cee0844a4f62cdc044cc59ffd4-2" class="line-number-anchor" /><a href="#line-number-e103201800d8d2cee0844a4f62cdc044cc59ffd4-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e103201800d8d2cee0844a4f62cdc044cc59ffd4-3" class="line-number-anchor" /><a href="#line-number-e103201800d8d2cee0844a4f62cdc044cc59ffd4-3">3</a></td></tr></table></div></code></pre>
<p>When Doctrine hydrates a query with fetch-join it returns the class
in the FROM clause on the root level of the result array. In the
previous example an array of User instances is returned and the
address of each user is fetched and hydrated into the
<code>User#address</code> variable. If you access the address Doctrine does
not need to lazy load the association with another query.</p>
<div class="alert note-admonition bg-light-yellow text-dark border"><table width="100%"><tr><td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td><td><p>Doctrine allows you to walk all the associations between
all the objects in your domain model. Objects that were not already
loaded from the database are replaced with lazy-loading proxy
instances. Non-loaded Collections are also replaced by lazy-loading
instances that fetch all the contained objects upon first access.
However relying on the lazy-loading mechanism leads to many small
queries executed against the database, which can significantly
affect the performance of your application. <strong>Fetch Joins</strong> are the
solution to hydrate most or all of the entities that you need in a
single SELECT query.</p>
</td></tr></table></div>
</div>
<div class="section"><a class="section-anchor" id="named-and-positional-parameters" name="named-and-positional-parameters"></a><h3 class="section-header"><a href="#named-and-positional-parameters">Named and Positional Parameters<i class="fas fa-link"></i></a></h3>
<p>DQL supports both named and positional parameters, however in
contrast to many SQL dialects positional parameters are specified
with numbers, for example ?1, ?2 and so on. Named parameters
are specified with :name1, :name2 and so on.</p>
<p>When referencing the parameters in <code>Query#setParameter($param, $value)</code>
both named and positional parameters are used <strong>without</strong> their prefixes.</p>
</div>
<div class="section"><a class="section-anchor" id="dql-select-examples" name="dql-select-examples"></a><h3 class="section-header"><a href="#dql-select-examples">DQL SELECT Examples<i class="fas fa-link"></i></a></h3>
<p>This section contains a large set of DQL queries and some
explanations of what is happening. The actual result also depends
on the hydration mode.</p>
<p>Hydrate all User entities:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="9b737282cbe1fa1bb41710e14b069e828e9cd477"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="9b737282cbe1fa1bb41710e14b069e828e9cd477"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-9b737282cbe1fa1bb41710e14b069e828e9cd477-1" class="line-number-anchor" /><a href="#line-number-9b737282cbe1fa1bb41710e14b069e828e9cd477-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM MyProject\Model\User u'</span>);
$users = $query-&gt;getResult(); <span class="hljs-comment">// array of User objects</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b737282cbe1fa1bb41710e14b069e828e9cd477-2" class="line-number-anchor" /><a href="#line-number-9b737282cbe1fa1bb41710e14b069e828e9cd477-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b737282cbe1fa1bb41710e14b069e828e9cd477-3" class="line-number-anchor" /><a href="#line-number-9b737282cbe1fa1bb41710e14b069e828e9cd477-3">3</a></td></tr></table></div></code></pre>
<p>Retrieve the IDs of all CmsUsers:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="38647f16baa0746e4509fa780e5383658f016b5a"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="38647f16baa0746e4509fa780e5383658f016b5a"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-38647f16baa0746e4509fa780e5383658f016b5a-1" class="line-number-anchor" /><a href="#line-number-38647f16baa0746e4509fa780e5383658f016b5a-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u.id FROM CmsUser u'</span>);
$ids = $query-&gt;getResult(); <span class="hljs-comment">// array of CmsUser ids</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-38647f16baa0746e4509fa780e5383658f016b5a-2" class="line-number-anchor" /><a href="#line-number-38647f16baa0746e4509fa780e5383658f016b5a-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-38647f16baa0746e4509fa780e5383658f016b5a-3" class="line-number-anchor" /><a href="#line-number-38647f16baa0746e4509fa780e5383658f016b5a-3">3</a></td></tr></table></div></code></pre>
<p>Retrieve the IDs of all users that have written an article:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="2b80ada3c6323c06bec1592ea3f0c7e5e0c1b76c"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="2b80ada3c6323c06bec1592ea3f0c7e5e0c1b76c"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-2b80ada3c6323c06bec1592ea3f0c7e5e0c1b76c-1" class="line-number-anchor" /><a href="#line-number-2b80ada3c6323c06bec1592ea3f0c7e5e0c1b76c-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT DISTINCT u.id FROM CmsArticle a JOIN a.user u'</span>);
$ids = $query-&gt;getResult(); <span class="hljs-comment">// array of CmsUser ids</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2b80ada3c6323c06bec1592ea3f0c7e5e0c1b76c-2" class="line-number-anchor" /><a href="#line-number-2b80ada3c6323c06bec1592ea3f0c7e5e0c1b76c-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2b80ada3c6323c06bec1592ea3f0c7e5e0c1b76c-3" class="line-number-anchor" /><a href="#line-number-2b80ada3c6323c06bec1592ea3f0c7e5e0c1b76c-3">3</a></td></tr></table></div></code></pre>
<p>Retrieve all articles and sort them by the name of the articles
users instance:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="f9215de83acd4b522999c795e173b77f0fed2d92"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="f9215de83acd4b522999c795e173b77f0fed2d92"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-f9215de83acd4b522999c795e173b77f0fed2d92-1" class="line-number-anchor" /><a href="#line-number-f9215de83acd4b522999c795e173b77f0fed2d92-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT a FROM CmsArticle a JOIN a.user u ORDER BY u.name ASC'</span>);
$articles = $query-&gt;getResult(); <span class="hljs-comment">// array of CmsArticle objects</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f9215de83acd4b522999c795e173b77f0fed2d92-2" class="line-number-anchor" /><a href="#line-number-f9215de83acd4b522999c795e173b77f0fed2d92-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f9215de83acd4b522999c795e173b77f0fed2d92-3" class="line-number-anchor" /><a href="#line-number-f9215de83acd4b522999c795e173b77f0fed2d92-3">3</a></td></tr></table></div></code></pre>
<p>Retrieve the Username and Name of a CmsUser:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="e2329fc13112b19e63c94ef9aa99066a913b8ab4"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="e2329fc13112b19e63c94ef9aa99066a913b8ab4"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-e2329fc13112b19e63c94ef9aa99066a913b8ab4-1" class="line-number-anchor" /><a href="#line-number-e2329fc13112b19e63c94ef9aa99066a913b8ab4-1">1</a></td><td class="code-line" rowspan="4"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u.username, u.name FROM CmsUser u'</span>);
$users = $query-&gt;getResult(); <span class="hljs-comment">// array of CmsUser username and name values</span>
<span class="hljs-keyword">echo</span> $users[<span class="hljs-number">0</span>][<span class="hljs-string">'username'</span>];</td></tr>
<tr><td class="line-number noselect"><a name="line-number-e2329fc13112b19e63c94ef9aa99066a913b8ab4-2" class="line-number-anchor" /><a href="#line-number-e2329fc13112b19e63c94ef9aa99066a913b8ab4-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e2329fc13112b19e63c94ef9aa99066a913b8ab4-3" class="line-number-anchor" /><a href="#line-number-e2329fc13112b19e63c94ef9aa99066a913b8ab4-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e2329fc13112b19e63c94ef9aa99066a913b8ab4-4" class="line-number-anchor" /><a href="#line-number-e2329fc13112b19e63c94ef9aa99066a913b8ab4-4">4</a></td></tr></table></div></code></pre>
<p>Retrieve a ForumUser and its single associated entity:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="65f914fa0a7957fbdeec933edbe768184a2ed0ec"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="65f914fa0a7957fbdeec933edbe768184a2ed0ec"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-65f914fa0a7957fbdeec933edbe768184a2ed0ec-1" class="line-number-anchor" /><a href="#line-number-65f914fa0a7957fbdeec933edbe768184a2ed0ec-1">1</a></td><td class="code-line" rowspan="4"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u, a FROM ForumUser u JOIN u.avatar a'</span>);
$users = $query-&gt;getResult(); <span class="hljs-comment">// array of ForumUser objects with the avatar association loaded</span>
<span class="hljs-keyword">echo</span> get_class($users[<span class="hljs-number">0</span>]-&gt;getAvatar());</td></tr>
<tr><td class="line-number noselect"><a name="line-number-65f914fa0a7957fbdeec933edbe768184a2ed0ec-2" class="line-number-anchor" /><a href="#line-number-65f914fa0a7957fbdeec933edbe768184a2ed0ec-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-65f914fa0a7957fbdeec933edbe768184a2ed0ec-3" class="line-number-anchor" /><a href="#line-number-65f914fa0a7957fbdeec933edbe768184a2ed0ec-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-65f914fa0a7957fbdeec933edbe768184a2ed0ec-4" class="line-number-anchor" /><a href="#line-number-65f914fa0a7957fbdeec933edbe768184a2ed0ec-4">4</a></td></tr></table></div></code></pre>
<p>Retrieve a CmsUser and fetch join all the phonenumbers it has:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="9c97a2947cf9005b46151d701fd08b9d46d2d5c2"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="9c97a2947cf9005b46151d701fd08b9d46d2d5c2"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-9c97a2947cf9005b46151d701fd08b9d46d2d5c2-1" class="line-number-anchor" /><a href="#line-number-9c97a2947cf9005b46151d701fd08b9d46d2d5c2-1">1</a></td><td class="code-line" rowspan="4"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u, p FROM CmsUser u JOIN u.phonenumbers p'</span>);
$users = $query-&gt;getResult(); <span class="hljs-comment">// array of CmsUser objects with the phonenumbers association loaded</span>
$phonenumbers = $users[<span class="hljs-number">0</span>]-&gt;getPhonenumbers();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-9c97a2947cf9005b46151d701fd08b9d46d2d5c2-2" class="line-number-anchor" /><a href="#line-number-9c97a2947cf9005b46151d701fd08b9d46d2d5c2-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9c97a2947cf9005b46151d701fd08b9d46d2d5c2-3" class="line-number-anchor" /><a href="#line-number-9c97a2947cf9005b46151d701fd08b9d46d2d5c2-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9c97a2947cf9005b46151d701fd08b9d46d2d5c2-4" class="line-number-anchor" /><a href="#line-number-9c97a2947cf9005b46151d701fd08b9d46d2d5c2-4">4</a></td></tr></table></div></code></pre>
<p>Hydrate a result in Ascending:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="47428e11da5292de9e3a43b319ea517fbe1a3f72"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="47428e11da5292de9e3a43b319ea517fbe1a3f72"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-47428e11da5292de9e3a43b319ea517fbe1a3f72-1" class="line-number-anchor" /><a href="#line-number-47428e11da5292de9e3a43b319ea517fbe1a3f72-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM ForumUser u ORDER BY u.id ASC'</span>);
$users = $query-&gt;getResult(); <span class="hljs-comment">// array of ForumUser objects</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-47428e11da5292de9e3a43b319ea517fbe1a3f72-2" class="line-number-anchor" /><a href="#line-number-47428e11da5292de9e3a43b319ea517fbe1a3f72-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-47428e11da5292de9e3a43b319ea517fbe1a3f72-3" class="line-number-anchor" /><a href="#line-number-47428e11da5292de9e3a43b319ea517fbe1a3f72-3">3</a></td></tr></table></div></code></pre>
<p>Or in Descending Order:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="132ad0c66c182b9f8ea70e4bb49ef91f246eccfa"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="132ad0c66c182b9f8ea70e4bb49ef91f246eccfa"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-132ad0c66c182b9f8ea70e4bb49ef91f246eccfa-1" class="line-number-anchor" /><a href="#line-number-132ad0c66c182b9f8ea70e4bb49ef91f246eccfa-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM ForumUser u ORDER BY u.id DESC'</span>);
$users = $query-&gt;getResult(); <span class="hljs-comment">// array of ForumUser objects</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-132ad0c66c182b9f8ea70e4bb49ef91f246eccfa-2" class="line-number-anchor" /><a href="#line-number-132ad0c66c182b9f8ea70e4bb49ef91f246eccfa-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-132ad0c66c182b9f8ea70e4bb49ef91f246eccfa-3" class="line-number-anchor" /><a href="#line-number-132ad0c66c182b9f8ea70e4bb49ef91f246eccfa-3">3</a></td></tr></table></div></code></pre>
<p>Using Aggregate Functions:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="054e9f08573ea74695b1abd133c54128efaf51a0"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="054e9f08573ea74695b1abd133c54128efaf51a0"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-054e9f08573ea74695b1abd133c54128efaf51a0-1" class="line-number-anchor" /><a href="#line-number-054e9f08573ea74695b1abd133c54128efaf51a0-1">1</a></td><td class="code-line" rowspan="6"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT COUNT(u.id) FROM Entities\User u'</span>);
$count = $query-&gt;getSingleScalarResult();

$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u, count(g.id) FROM Entities\User u JOIN u.groups g GROUP BY u.id'</span>);
$result = $query-&gt;getResult();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-054e9f08573ea74695b1abd133c54128efaf51a0-2" class="line-number-anchor" /><a href="#line-number-054e9f08573ea74695b1abd133c54128efaf51a0-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-054e9f08573ea74695b1abd133c54128efaf51a0-3" class="line-number-anchor" /><a href="#line-number-054e9f08573ea74695b1abd133c54128efaf51a0-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-054e9f08573ea74695b1abd133c54128efaf51a0-4" class="line-number-anchor" /><a href="#line-number-054e9f08573ea74695b1abd133c54128efaf51a0-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-054e9f08573ea74695b1abd133c54128efaf51a0-5" class="line-number-anchor" /><a href="#line-number-054e9f08573ea74695b1abd133c54128efaf51a0-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-054e9f08573ea74695b1abd133c54128efaf51a0-6" class="line-number-anchor" /><a href="#line-number-054e9f08573ea74695b1abd133c54128efaf51a0-6">6</a></td></tr></table></div></code></pre>
<p>With WHERE Clause and Positional Parameter:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="b53570b6774b6e29a2eee4aad93f514abfbfa891"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="b53570b6774b6e29a2eee4aad93f514abfbfa891"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-b53570b6774b6e29a2eee4aad93f514abfbfa891-1" class="line-number-anchor" /><a href="#line-number-b53570b6774b6e29a2eee4aad93f514abfbfa891-1">1</a></td><td class="code-line" rowspan="4"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM ForumUser u WHERE u.id = ?1'</span>);
$query-&gt;setParameter(<span class="hljs-number">1</span>, <span class="hljs-number">321</span>);
$users = $query-&gt;getResult(); <span class="hljs-comment">// array of ForumUser objects</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b53570b6774b6e29a2eee4aad93f514abfbfa891-2" class="line-number-anchor" /><a href="#line-number-b53570b6774b6e29a2eee4aad93f514abfbfa891-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b53570b6774b6e29a2eee4aad93f514abfbfa891-3" class="line-number-anchor" /><a href="#line-number-b53570b6774b6e29a2eee4aad93f514abfbfa891-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b53570b6774b6e29a2eee4aad93f514abfbfa891-4" class="line-number-anchor" /><a href="#line-number-b53570b6774b6e29a2eee4aad93f514abfbfa891-4">4</a></td></tr></table></div></code></pre>
<p>With WHERE Clause and Named Parameter:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="75a07876e7fe7d0d1f301933a45ba2831e65aafb"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="75a07876e7fe7d0d1f301933a45ba2831e65aafb"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-75a07876e7fe7d0d1f301933a45ba2831e65aafb-1" class="line-number-anchor" /><a href="#line-number-75a07876e7fe7d0d1f301933a45ba2831e65aafb-1">1</a></td><td class="code-line" rowspan="4"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM ForumUser u WHERE u.username = :name'</span>);
$query-&gt;setParameter(<span class="hljs-string">'name'</span>, <span class="hljs-string">'Bob'</span>);
$users = $query-&gt;getResult(); <span class="hljs-comment">// array of ForumUser objects</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-75a07876e7fe7d0d1f301933a45ba2831e65aafb-2" class="line-number-anchor" /><a href="#line-number-75a07876e7fe7d0d1f301933a45ba2831e65aafb-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-75a07876e7fe7d0d1f301933a45ba2831e65aafb-3" class="line-number-anchor" /><a href="#line-number-75a07876e7fe7d0d1f301933a45ba2831e65aafb-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-75a07876e7fe7d0d1f301933a45ba2831e65aafb-4" class="line-number-anchor" /><a href="#line-number-75a07876e7fe7d0d1f301933a45ba2831e65aafb-4">4</a></td></tr></table></div></code></pre>
<p>With Nested Conditions in WHERE Clause:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="9718dc5788e54ebf5222553fec84d2965beb958d"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="9718dc5788e54ebf5222553fec84d2965beb958d"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-9718dc5788e54ebf5222553fec84d2965beb958d-1" class="line-number-anchor" /><a href="#line-number-9718dc5788e54ebf5222553fec84d2965beb958d-1">1</a></td><td class="code-line" rowspan="8"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM ForumUser u WHERE (u.username = :name OR u.username = :name2) AND u.id = :id'</span>);
$query-&gt;setParameters([
    <span class="hljs-string">'name'</span> =&gt; <span class="hljs-string">'Bob'</span>,
    <span class="hljs-string">'name2'</span> =&gt; <span class="hljs-string">'Alice'</span>,
    <span class="hljs-string">'id'</span> =&gt; <span class="hljs-number">321</span>,
]);
$users = $query-&gt;getResult(); <span class="hljs-comment">// array of ForumUser objects</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9718dc5788e54ebf5222553fec84d2965beb958d-2" class="line-number-anchor" /><a href="#line-number-9718dc5788e54ebf5222553fec84d2965beb958d-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9718dc5788e54ebf5222553fec84d2965beb958d-3" class="line-number-anchor" /><a href="#line-number-9718dc5788e54ebf5222553fec84d2965beb958d-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9718dc5788e54ebf5222553fec84d2965beb958d-4" class="line-number-anchor" /><a href="#line-number-9718dc5788e54ebf5222553fec84d2965beb958d-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9718dc5788e54ebf5222553fec84d2965beb958d-5" class="line-number-anchor" /><a href="#line-number-9718dc5788e54ebf5222553fec84d2965beb958d-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9718dc5788e54ebf5222553fec84d2965beb958d-6" class="line-number-anchor" /><a href="#line-number-9718dc5788e54ebf5222553fec84d2965beb958d-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9718dc5788e54ebf5222553fec84d2965beb958d-7" class="line-number-anchor" /><a href="#line-number-9718dc5788e54ebf5222553fec84d2965beb958d-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9718dc5788e54ebf5222553fec84d2965beb958d-8" class="line-number-anchor" /><a href="#line-number-9718dc5788e54ebf5222553fec84d2965beb958d-8">8</a></td></tr></table></div></code></pre>
<p>With COUNT DISTINCT:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="10efcec9be347e40dc649b2a70c72d6c1450c150"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="10efcec9be347e40dc649b2a70c72d6c1450c150"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-10efcec9be347e40dc649b2a70c72d6c1450c150-1" class="line-number-anchor" /><a href="#line-number-10efcec9be347e40dc649b2a70c72d6c1450c150-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT COUNT(DISTINCT u.name) FROM CmsUser'</span>);
$users = $query-&gt;getResult(); <span class="hljs-comment">// array of ForumUser objects</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-10efcec9be347e40dc649b2a70c72d6c1450c150-2" class="line-number-anchor" /><a href="#line-number-10efcec9be347e40dc649b2a70c72d6c1450c150-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-10efcec9be347e40dc649b2a70c72d6c1450c150-3" class="line-number-anchor" /><a href="#line-number-10efcec9be347e40dc649b2a70c72d6c1450c150-3">3</a></td></tr></table></div></code></pre>
<p>With Arithmetic Expression in WHERE clause:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="6791f328e2967fe55956c60a6ed699e87a5e6e8f"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="6791f328e2967fe55956c60a6ed699e87a5e6e8f"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-6791f328e2967fe55956c60a6ed699e87a5e6e8f-1" class="line-number-anchor" /><a href="#line-number-6791f328e2967fe55956c60a6ed699e87a5e6e8f-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM CmsUser u WHERE ((u.id + 5000) * u.id + 3) &lt; 10000000'</span>);
$users = $query-&gt;getResult(); <span class="hljs-comment">// array of ForumUser objects</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6791f328e2967fe55956c60a6ed699e87a5e6e8f-2" class="line-number-anchor" /><a href="#line-number-6791f328e2967fe55956c60a6ed699e87a5e6e8f-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6791f328e2967fe55956c60a6ed699e87a5e6e8f-3" class="line-number-anchor" /><a href="#line-number-6791f328e2967fe55956c60a6ed699e87a5e6e8f-3">3</a></td></tr></table></div></code></pre>
<p>Retrieve user entities with Arithmetic Expression in ORDER clause, using the <code>HIDDEN</code> keyword:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="614eaef2ed484aee0c396e60cb284dd6efc0b132"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="614eaef2ed484aee0c396e60cb284dd6efc0b132"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-614eaef2ed484aee0c396e60cb284dd6efc0b132-1" class="line-number-anchor" /><a href="#line-number-614eaef2ed484aee0c396e60cb284dd6efc0b132-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u, u.posts_count + u.likes_count AS HIDDEN score FROM CmsUser u ORDER BY score'</span>);
$users = $query-&gt;getResult(); <span class="hljs-comment">// array of User objects</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-614eaef2ed484aee0c396e60cb284dd6efc0b132-2" class="line-number-anchor" /><a href="#line-number-614eaef2ed484aee0c396e60cb284dd6efc0b132-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-614eaef2ed484aee0c396e60cb284dd6efc0b132-3" class="line-number-anchor" /><a href="#line-number-614eaef2ed484aee0c396e60cb284dd6efc0b132-3">3</a></td></tr></table></div></code></pre>
<p>Using a LEFT JOIN to hydrate all user-ids and optionally associated
article-ids:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="1bdd8dbd06f6df8d6969134ef23db3e70c53edda"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="1bdd8dbd06f6df8d6969134ef23db3e70c53edda"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-1bdd8dbd06f6df8d6969134ef23db3e70c53edda-1" class="line-number-anchor" /><a href="#line-number-1bdd8dbd06f6df8d6969134ef23db3e70c53edda-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u.id, a.id as article_id FROM CmsUser u LEFT JOIN u.articles a'</span>);
$results = $query-&gt;getResult(); <span class="hljs-comment">// array of user ids and every article_id for each user</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1bdd8dbd06f6df8d6969134ef23db3e70c53edda-2" class="line-number-anchor" /><a href="#line-number-1bdd8dbd06f6df8d6969134ef23db3e70c53edda-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1bdd8dbd06f6df8d6969134ef23db3e70c53edda-3" class="line-number-anchor" /><a href="#line-number-1bdd8dbd06f6df8d6969134ef23db3e70c53edda-3">3</a></td></tr></table></div></code></pre>
<p>Restricting a JOIN clause by additional conditions specified by
WITH:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="50e0db37bc2dc46fd9e4579deaa08971c13a211d"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="50e0db37bc2dc46fd9e4579deaa08971c13a211d"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-50e0db37bc2dc46fd9e4579deaa08971c13a211d-1" class="line-number-anchor" /><a href="#line-number-50e0db37bc2dc46fd9e4579deaa08971c13a211d-1">1</a></td><td class="code-line" rowspan="4"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">"SELECT u FROM CmsUser u LEFT JOIN u.articles a WITH a.topic LIKE :foo"</span>);
$query-&gt;setParameter(<span class="hljs-string">'foo'</span>, <span class="hljs-string">'%foo%'</span>);
$users = $query-&gt;getResult();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-50e0db37bc2dc46fd9e4579deaa08971c13a211d-2" class="line-number-anchor" /><a href="#line-number-50e0db37bc2dc46fd9e4579deaa08971c13a211d-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-50e0db37bc2dc46fd9e4579deaa08971c13a211d-3" class="line-number-anchor" /><a href="#line-number-50e0db37bc2dc46fd9e4579deaa08971c13a211d-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-50e0db37bc2dc46fd9e4579deaa08971c13a211d-4" class="line-number-anchor" /><a href="#line-number-50e0db37bc2dc46fd9e4579deaa08971c13a211d-4">4</a></td></tr></table></div></code></pre>
<p>Using several Fetch JOINs:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="6071e3856327297cf698db443c423a81d180a45d"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="6071e3856327297cf698db443c423a81d180a45d"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-6071e3856327297cf698db443c423a81d180a45d-1" class="line-number-anchor" /><a href="#line-number-6071e3856327297cf698db443c423a81d180a45d-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u, a, p, c FROM CmsUser u JOIN u.articles a JOIN u.phonenumbers p JOIN a.comments c'</span>);
$users = $query-&gt;getResult();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-6071e3856327297cf698db443c423a81d180a45d-2" class="line-number-anchor" /><a href="#line-number-6071e3856327297cf698db443c423a81d180a45d-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6071e3856327297cf698db443c423a81d180a45d-3" class="line-number-anchor" /><a href="#line-number-6071e3856327297cf698db443c423a81d180a45d-3">3</a></td></tr></table></div></code></pre>
<p>BETWEEN in WHERE clause:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="e0c9e3075c1b8b3fed3d2ba23cba69f9f40ab1b3"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="e0c9e3075c1b8b3fed3d2ba23cba69f9f40ab1b3"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-e0c9e3075c1b8b3fed3d2ba23cba69f9f40ab1b3-1" class="line-number-anchor" /><a href="#line-number-e0c9e3075c1b8b3fed3d2ba23cba69f9f40ab1b3-1">1</a></td><td class="code-line" rowspan="5"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u.name FROM CmsUser u WHERE u.id BETWEEN ?1 AND ?2'</span>);
$query-&gt;setParameter(<span class="hljs-number">1</span>, <span class="hljs-number">123</span>);
$query-&gt;setParameter(<span class="hljs-number">2</span>, <span class="hljs-number">321</span>);
$usernames = $query-&gt;getResult();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-e0c9e3075c1b8b3fed3d2ba23cba69f9f40ab1b3-2" class="line-number-anchor" /><a href="#line-number-e0c9e3075c1b8b3fed3d2ba23cba69f9f40ab1b3-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e0c9e3075c1b8b3fed3d2ba23cba69f9f40ab1b3-3" class="line-number-anchor" /><a href="#line-number-e0c9e3075c1b8b3fed3d2ba23cba69f9f40ab1b3-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e0c9e3075c1b8b3fed3d2ba23cba69f9f40ab1b3-4" class="line-number-anchor" /><a href="#line-number-e0c9e3075c1b8b3fed3d2ba23cba69f9f40ab1b3-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e0c9e3075c1b8b3fed3d2ba23cba69f9f40ab1b3-5" class="line-number-anchor" /><a href="#line-number-e0c9e3075c1b8b3fed3d2ba23cba69f9f40ab1b3-5">5</a></td></tr></table></div></code></pre>
<p>DQL Functions in WHERE clause:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="10bc9d8366bce7326533b7492c0181efc9348b8c"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="10bc9d8366bce7326533b7492c0181efc9348b8c"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-10bc9d8366bce7326533b7492c0181efc9348b8c-1" class="line-number-anchor" /><a href="#line-number-10bc9d8366bce7326533b7492c0181efc9348b8c-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">"SELECT u.name FROM CmsUser u WHERE TRIM(u.name) = 'someone'"</span>);
$usernames = $query-&gt;getResult();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-10bc9d8366bce7326533b7492c0181efc9348b8c-2" class="line-number-anchor" /><a href="#line-number-10bc9d8366bce7326533b7492c0181efc9348b8c-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-10bc9d8366bce7326533b7492c0181efc9348b8c-3" class="line-number-anchor" /><a href="#line-number-10bc9d8366bce7326533b7492c0181efc9348b8c-3">3</a></td></tr></table></div></code></pre>
<p>IN() Expression:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="b3b8f2d5309f0ce4e42a4c5bd223da61f3960b7b"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="b3b8f2d5309f0ce4e42a4c5bd223da61f3960b7b"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-b3b8f2d5309f0ce4e42a4c5bd223da61f3960b7b-1" class="line-number-anchor" /><a href="#line-number-b3b8f2d5309f0ce4e42a4c5bd223da61f3960b7b-1">1</a></td><td class="code-line" rowspan="9"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u.name FROM CmsUser u WHERE u.id IN(46)'</span>);
$usernames = $query-&gt;getResult();

$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM CmsUser u WHERE u.id IN (1, 2)'</span>);
$users = $query-&gt;getResult();

$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM CmsUser u WHERE u.id NOT IN (1)'</span>);
$users = $query-&gt;getResult();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-b3b8f2d5309f0ce4e42a4c5bd223da61f3960b7b-2" class="line-number-anchor" /><a href="#line-number-b3b8f2d5309f0ce4e42a4c5bd223da61f3960b7b-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b3b8f2d5309f0ce4e42a4c5bd223da61f3960b7b-3" class="line-number-anchor" /><a href="#line-number-b3b8f2d5309f0ce4e42a4c5bd223da61f3960b7b-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b3b8f2d5309f0ce4e42a4c5bd223da61f3960b7b-4" class="line-number-anchor" /><a href="#line-number-b3b8f2d5309f0ce4e42a4c5bd223da61f3960b7b-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b3b8f2d5309f0ce4e42a4c5bd223da61f3960b7b-5" class="line-number-anchor" /><a href="#line-number-b3b8f2d5309f0ce4e42a4c5bd223da61f3960b7b-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b3b8f2d5309f0ce4e42a4c5bd223da61f3960b7b-6" class="line-number-anchor" /><a href="#line-number-b3b8f2d5309f0ce4e42a4c5bd223da61f3960b7b-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b3b8f2d5309f0ce4e42a4c5bd223da61f3960b7b-7" class="line-number-anchor" /><a href="#line-number-b3b8f2d5309f0ce4e42a4c5bd223da61f3960b7b-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b3b8f2d5309f0ce4e42a4c5bd223da61f3960b7b-8" class="line-number-anchor" /><a href="#line-number-b3b8f2d5309f0ce4e42a4c5bd223da61f3960b7b-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b3b8f2d5309f0ce4e42a4c5bd223da61f3960b7b-9" class="line-number-anchor" /><a href="#line-number-b3b8f2d5309f0ce4e42a4c5bd223da61f3960b7b-9">9</a></td></tr></table></div></code></pre>
<p>CONCAT() DQL Function:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="404f45a95e733979952c73fcef71987620533152"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="404f45a95e733979952c73fcef71987620533152"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-404f45a95e733979952c73fcef71987620533152-1" class="line-number-anchor" /><a href="#line-number-404f45a95e733979952c73fcef71987620533152-1">1</a></td><td class="code-line" rowspan="8"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">"SELECT u.id FROM CmsUser u WHERE CONCAT(u.name, 's') = ?1"</span>);
$query-&gt;setParameter(<span class="hljs-number">1</span>, <span class="hljs-string">'Jess'</span>);
$ids = $query-&gt;getResult();

$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT CONCAT(u.id, u.name) FROM CmsUser u WHERE u.id = ?1'</span>);
$query-&gt;setParameter(<span class="hljs-number">1</span>, <span class="hljs-number">321</span>);
$idUsernames = $query-&gt;getResult();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-404f45a95e733979952c73fcef71987620533152-2" class="line-number-anchor" /><a href="#line-number-404f45a95e733979952c73fcef71987620533152-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-404f45a95e733979952c73fcef71987620533152-3" class="line-number-anchor" /><a href="#line-number-404f45a95e733979952c73fcef71987620533152-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-404f45a95e733979952c73fcef71987620533152-4" class="line-number-anchor" /><a href="#line-number-404f45a95e733979952c73fcef71987620533152-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-404f45a95e733979952c73fcef71987620533152-5" class="line-number-anchor" /><a href="#line-number-404f45a95e733979952c73fcef71987620533152-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-404f45a95e733979952c73fcef71987620533152-6" class="line-number-anchor" /><a href="#line-number-404f45a95e733979952c73fcef71987620533152-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-404f45a95e733979952c73fcef71987620533152-7" class="line-number-anchor" /><a href="#line-number-404f45a95e733979952c73fcef71987620533152-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-404f45a95e733979952c73fcef71987620533152-8" class="line-number-anchor" /><a href="#line-number-404f45a95e733979952c73fcef71987620533152-8">8</a></td></tr></table></div></code></pre>
<p>EXISTS in WHERE clause with correlated Subquery</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="2f598598f652d96cc6c22f70898a275373821458"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="2f598598f652d96cc6c22f70898a275373821458"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-2f598598f652d96cc6c22f70898a275373821458-1" class="line-number-anchor" /><a href="#line-number-2f598598f652d96cc6c22f70898a275373821458-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u.id FROM CmsUser u WHERE EXISTS (SELECT p.phonenumber FROM CmsPhonenumber p WHERE p.user = u.id)'</span>);
$ids = $query-&gt;getResult();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-2f598598f652d96cc6c22f70898a275373821458-2" class="line-number-anchor" /><a href="#line-number-2f598598f652d96cc6c22f70898a275373821458-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2f598598f652d96cc6c22f70898a275373821458-3" class="line-number-anchor" /><a href="#line-number-2f598598f652d96cc6c22f70898a275373821458-3">3</a></td></tr></table></div></code></pre>
<p>Get all users who are members of $group.</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="d54c0f25e3b3cf7667a530f754b3845562a42f48"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="d54c0f25e3b3cf7667a530f754b3845562a42f48"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-d54c0f25e3b3cf7667a530f754b3845562a42f48-1" class="line-number-anchor" /><a href="#line-number-d54c0f25e3b3cf7667a530f754b3845562a42f48-1">1</a></td><td class="code-line" rowspan="4"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u.id FROM CmsUser u WHERE :groupId MEMBER OF u.groups'</span>);
$query-&gt;setParameter(<span class="hljs-string">'groupId'</span>, $group);
$ids = $query-&gt;getResult();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-d54c0f25e3b3cf7667a530f754b3845562a42f48-2" class="line-number-anchor" /><a href="#line-number-d54c0f25e3b3cf7667a530f754b3845562a42f48-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d54c0f25e3b3cf7667a530f754b3845562a42f48-3" class="line-number-anchor" /><a href="#line-number-d54c0f25e3b3cf7667a530f754b3845562a42f48-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d54c0f25e3b3cf7667a530f754b3845562a42f48-4" class="line-number-anchor" /><a href="#line-number-d54c0f25e3b3cf7667a530f754b3845562a42f48-4">4</a></td></tr></table></div></code></pre>
<p>Get all users that have more than 1 phonenumber</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="f704031aea1b8276194a8e15535d586db1bcc1bd"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="f704031aea1b8276194a8e15535d586db1bcc1bd"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-f704031aea1b8276194a8e15535d586db1bcc1bd-1" class="line-number-anchor" /><a href="#line-number-f704031aea1b8276194a8e15535d586db1bcc1bd-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM CmsUser u WHERE SIZE(u.phonenumbers) &gt; 1'</span>);
$users = $query-&gt;getResult();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-f704031aea1b8276194a8e15535d586db1bcc1bd-2" class="line-number-anchor" /><a href="#line-number-f704031aea1b8276194a8e15535d586db1bcc1bd-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f704031aea1b8276194a8e15535d586db1bcc1bd-3" class="line-number-anchor" /><a href="#line-number-f704031aea1b8276194a8e15535d586db1bcc1bd-3">3</a></td></tr></table></div></code></pre>
<p>Get all users that have no phonenumber</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="7c4bfc024554885cccaa6ee529acc353d8e01f48"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="7c4bfc024554885cccaa6ee529acc353d8e01f48"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-7c4bfc024554885cccaa6ee529acc353d8e01f48-1" class="line-number-anchor" /><a href="#line-number-7c4bfc024554885cccaa6ee529acc353d8e01f48-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM CmsUser u WHERE u.phonenumbers IS EMPTY'</span>);
$users = $query-&gt;getResult();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-7c4bfc024554885cccaa6ee529acc353d8e01f48-2" class="line-number-anchor" /><a href="#line-number-7c4bfc024554885cccaa6ee529acc353d8e01f48-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7c4bfc024554885cccaa6ee529acc353d8e01f48-3" class="line-number-anchor" /><a href="#line-number-7c4bfc024554885cccaa6ee529acc353d8e01f48-3">3</a></td></tr></table></div></code></pre>
<p>Get all instances of a specific type, for use with inheritance
hierarchies:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="0a403ceabbbdd9aac26de6e49248e15657cd54bb"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="0a403ceabbbdd9aac26de6e49248e15657cd54bb"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-0a403ceabbbdd9aac26de6e49248e15657cd54bb-1" class="line-number-anchor" /><a href="#line-number-0a403ceabbbdd9aac26de6e49248e15657cd54bb-1">1</a></td><td class="code-line" rowspan="4"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM Doctrine\Tests\Models\Company\CompanyPerson u WHERE u INSTANCE OF Doctrine\Tests\Models\Company\CompanyEmployee'</span>);
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM Doctrine\Tests\Models\Company\CompanyPerson u WHERE u INSTANCE OF ?1'</span>);
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM Doctrine\Tests\Models\Company\CompanyPerson u WHERE u NOT INSTANCE OF ?1'</span>);</td></tr>
<tr><td class="line-number noselect"><a name="line-number-0a403ceabbbdd9aac26de6e49248e15657cd54bb-2" class="line-number-anchor" /><a href="#line-number-0a403ceabbbdd9aac26de6e49248e15657cd54bb-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0a403ceabbbdd9aac26de6e49248e15657cd54bb-3" class="line-number-anchor" /><a href="#line-number-0a403ceabbbdd9aac26de6e49248e15657cd54bb-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0a403ceabbbdd9aac26de6e49248e15657cd54bb-4" class="line-number-anchor" /><a href="#line-number-0a403ceabbbdd9aac26de6e49248e15657cd54bb-4">4</a></td></tr></table></div></code></pre>
<p>Get all users visible on a given website that have chosen certain gender:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="8c81aaadb6fac16b9c84cd32dda0b5a8b0cdff0b"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="8c81aaadb6fac16b9c84cd32dda0b5a8b0cdff0b"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-8c81aaadb6fac16b9c84cd32dda0b5a8b0cdff0b-1" class="line-number-anchor" /><a href="#line-number-8c81aaadb6fac16b9c84cd32dda0b5a8b0cdff0b-1">1</a></td><td class="code-line" rowspan="2"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM User u WHERE u.gender IN (SELECT IDENTITY(agl.gender) FROM Site s JOIN s.activeGenderList agl WHERE s.id = ?1)'</span>);</td></tr>
<tr><td class="line-number noselect"><a name="line-number-8c81aaadb6fac16b9c84cd32dda0b5a8b0cdff0b-2" class="line-number-anchor" /><a href="#line-number-8c81aaadb6fac16b9c84cd32dda0b5a8b0cdff0b-2">2</a></td></tr></table></div></code></pre>
<p>The IDENTITY() DQL function also works for composite primary keys</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="da6fbfa2a3c21a07cd84d770de89d050ffeaa45c"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="da6fbfa2a3c21a07cd84d770de89d050ffeaa45c"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-da6fbfa2a3c21a07cd84d770de89d050ffeaa45c-1" class="line-number-anchor" /><a href="#line-number-da6fbfa2a3c21a07cd84d770de89d050ffeaa45c-1">1</a></td><td class="code-line" rowspan="2"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">"SELECT IDENTITY(c.location, 'latitude') AS latitude, IDENTITY(c.location, 'longitude') AS longitude FROM Checkpoint c WHERE c.user = ?1"</span>);</td></tr>
<tr><td class="line-number noselect"><a name="line-number-da6fbfa2a3c21a07cd84d770de89d050ffeaa45c-2" class="line-number-anchor" /><a href="#line-number-da6fbfa2a3c21a07cd84d770de89d050ffeaa45c-2">2</a></td></tr></table></div></code></pre>
<p>Joins between entities without associations are available,
where you can generate an arbitrary join with the following syntax:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="8f6dde66f824dd71611ea1bbd689ba7549e82670"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="8f6dde66f824dd71611ea1bbd689ba7549e82670"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-8f6dde66f824dd71611ea1bbd689ba7549e82670-1" class="line-number-anchor" /><a href="#line-number-8f6dde66f824dd71611ea1bbd689ba7549e82670-1">1</a></td><td class="code-line" rowspan="2"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM User u JOIN Banlist b WITH u.email = b.email'</span>);</td></tr>
<tr><td class="line-number noselect"><a name="line-number-8f6dde66f824dd71611ea1bbd689ba7549e82670-2" class="line-number-anchor" /><a href="#line-number-8f6dde66f824dd71611ea1bbd689ba7549e82670-2">2</a></td></tr></table></div></code></pre>
<p>With an arbitrary join the result differs from the joins using a mapped property.
The result of an arbitrary join is an one dimensional array with a mix of the entity from the <code>SELECT</code>
and the joined entity fitting to the filtering of the query. In case of the example with <code>User</code>
and <code>Banlist</code>, it can look like this:</p>
<ul><li class="dash">User</li>
<li class="dash">Banlist</li>
<li class="dash">Banlist</li>
<li class="dash">User</li>
<li class="dash">Banlist</li>
<li class="dash">User</li>
<li class="dash">Banlist</li>
<li class="dash">Banlist</li>
<li class="dash">Banlist</li>
</ul>

<p>In this form of join, the <code>Banlist</code> entities found by the filtering in the <code>WITH</code> part are not fetched by an accessor
method on <code>User</code>, but are already part of the result. In case the accessor method for Banlists is invoked on a User instance,
it loads all the related <code>Banlist</code> objects corresponding to this <code>User</code>. This change of behaviour needs to be considered
when the DQL is switched to an arbitrary join.</p>
<div class="alert note-admonition bg-light-yellow text-dark border"><table width="100%"><tr><td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td><td><p>The differences between WHERE, WITH and HAVING clauses may be
confusing.</p>
<ul><li class="dash">WHERE is applied to the results of an entire query</li>
<li class="dash">WITH is applied to a join as an additional condition. For
  arbitrary joins (SELECT f, b FROM Foo f, Bar b WITH f.id = b.id)
  the WITH is required, even if it is 1 = 1</li>
<li class="dash">HAVING is applied to the results of a query after
  aggregation (GROUP BY)</li>
</ul>

</td></tr></table></div>
<div class="section"><a class="section-anchor" id="partial-object-syntax" name="partial-object-syntax"></a><h4 class="section-header"><a href="#partial-object-syntax">Partial Object Syntax<i class="fas fa-link"></i></a></h4>
<p>By default when you run a DQL query in Doctrine and select only a
subset of the fields for a given entity, you do not receive objects
back. Instead, you receive only arrays as a flat rectangular result
set, similar to how you would if you were just using SQL directly
and joining some data.</p>
<p>If you want to select partial objects you can use the <code>partial</code>
DQL keyword:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="d905b6fbe3e0ebba60810a9bc6202a2f89d54ab1"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="d905b6fbe3e0ebba60810a9bc6202a2f89d54ab1"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-d905b6fbe3e0ebba60810a9bc6202a2f89d54ab1-1" class="line-number-anchor" /><a href="#line-number-d905b6fbe3e0ebba60810a9bc6202a2f89d54ab1-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT partial u.{id, username} FROM CmsUser u'</span>);
$users = $query-&gt;getResult(); <span class="hljs-comment">// array of partially loaded CmsUser objects</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d905b6fbe3e0ebba60810a9bc6202a2f89d54ab1-2" class="line-number-anchor" /><a href="#line-number-d905b6fbe3e0ebba60810a9bc6202a2f89d54ab1-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d905b6fbe3e0ebba60810a9bc6202a2f89d54ab1-3" class="line-number-anchor" /><a href="#line-number-d905b6fbe3e0ebba60810a9bc6202a2f89d54ab1-3">3</a></td></tr></table></div></code></pre>
<p>You use the partial syntax when joining as well:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="0603ee944099c2623e1f8a4afbf560def871812b"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="0603ee944099c2623e1f8a4afbf560def871812b"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-0603ee944099c2623e1f8a4afbf560def871812b-1" class="line-number-anchor" /><a href="#line-number-0603ee944099c2623e1f8a4afbf560def871812b-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT partial u.{id, username}, partial a.{id, name} FROM CmsUser u JOIN u.articles a'</span>);
$users = $query-&gt;getResult(); <span class="hljs-comment">// array of partially loaded CmsUser objects</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0603ee944099c2623e1f8a4afbf560def871812b-2" class="line-number-anchor" /><a href="#line-number-0603ee944099c2623e1f8a4afbf560def871812b-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0603ee944099c2623e1f8a4afbf560def871812b-3" class="line-number-anchor" /><a href="#line-number-0603ee944099c2623e1f8a4afbf560def871812b-3">3</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="new-operator-syntax" name="new-operator-syntax"></a><h4 class="section-header"><a href="#new-operator-syntax">NEW Operator Syntax<i class="fas fa-link"></i></a></h4>
<p>Using the <code>NEW</code> operator you can construct Data Transfer Objects (DTOs) directly from DQL queries.</p>
<ul><li class="dash">When using <code>SELECT NEW</code> you don't need to specify a mapped entity.</li>
<li class="dash">You can specify any PHP class, it only requires that the constructor of this class matches the <code>NEW</code> statement.</li>
<li class="dash">This approach involves determining exactly which columns you really need,
  and instantiating a data-transfer object that contains a constructor with those arguments.</li>
</ul>

<p>If you want to select data-transfer objects you should create a class:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="03c42c764c9f990dbb78ec787f732be7dd5e1666"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="03c42c764c9f990dbb78ec787f732be7dd5e1666"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-03c42c764c9f990dbb78ec787f732be7dd5e1666-1" class="line-number-anchor" /><a href="#line-number-03c42c764c9f990dbb78ec787f732be7dd5e1666-1">1</a></td><td class="code-line" rowspan="8"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomerDTO</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">($name, $email, $city, $value = null)</span>
    </span>{
        <span class="hljs-comment">// Bind values to the object properties.</span>
    }
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-03c42c764c9f990dbb78ec787f732be7dd5e1666-2" class="line-number-anchor" /><a href="#line-number-03c42c764c9f990dbb78ec787f732be7dd5e1666-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-03c42c764c9f990dbb78ec787f732be7dd5e1666-3" class="line-number-anchor" /><a href="#line-number-03c42c764c9f990dbb78ec787f732be7dd5e1666-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-03c42c764c9f990dbb78ec787f732be7dd5e1666-4" class="line-number-anchor" /><a href="#line-number-03c42c764c9f990dbb78ec787f732be7dd5e1666-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-03c42c764c9f990dbb78ec787f732be7dd5e1666-5" class="line-number-anchor" /><a href="#line-number-03c42c764c9f990dbb78ec787f732be7dd5e1666-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-03c42c764c9f990dbb78ec787f732be7dd5e1666-6" class="line-number-anchor" /><a href="#line-number-03c42c764c9f990dbb78ec787f732be7dd5e1666-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-03c42c764c9f990dbb78ec787f732be7dd5e1666-7" class="line-number-anchor" /><a href="#line-number-03c42c764c9f990dbb78ec787f732be7dd5e1666-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-03c42c764c9f990dbb78ec787f732be7dd5e1666-8" class="line-number-anchor" /><a href="#line-number-03c42c764c9f990dbb78ec787f732be7dd5e1666-8">8</a></td></tr></table></div></code></pre>
<p>And then use the <code>NEW</code> DQL keyword :</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="dcba4bb9811e57320d36cd772bf62da274f2bf02"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="dcba4bb9811e57320d36cd772bf62da274f2bf02"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-dcba4bb9811e57320d36cd772bf62da274f2bf02-1" class="line-number-anchor" /><a href="#line-number-dcba4bb9811e57320d36cd772bf62da274f2bf02-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT NEW CustomerDTO(c.name, e.email, a.city) FROM Customer c JOIN c.email e JOIN c.address a'</span>);
$users = $query-&gt;getResult(); <span class="hljs-comment">// array of CustomerDTO</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-dcba4bb9811e57320d36cd772bf62da274f2bf02-2" class="line-number-anchor" /><a href="#line-number-dcba4bb9811e57320d36cd772bf62da274f2bf02-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-dcba4bb9811e57320d36cd772bf62da274f2bf02-3" class="line-number-anchor" /><a href="#line-number-dcba4bb9811e57320d36cd772bf62da274f2bf02-3">3</a></td></tr></table></div></code></pre>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="0b39b3d1f02814cf3667626101fb338bafb5f2ff"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="0b39b3d1f02814cf3667626101fb338bafb5f2ff"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-0b39b3d1f02814cf3667626101fb338bafb5f2ff-1" class="line-number-anchor" /><a href="#line-number-0b39b3d1f02814cf3667626101fb338bafb5f2ff-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT NEW CustomerDTO(c.name, e.email, a.city, SUM(o.value)) FROM Customer c JOIN c.email e JOIN c.address a JOIN c.orders o GROUP BY c'</span>);
$users = $query-&gt;getResult(); <span class="hljs-comment">// array of CustomerDTO</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0b39b3d1f02814cf3667626101fb338bafb5f2ff-2" class="line-number-anchor" /><a href="#line-number-0b39b3d1f02814cf3667626101fb338bafb5f2ff-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0b39b3d1f02814cf3667626101fb338bafb5f2ff-3" class="line-number-anchor" /><a href="#line-number-0b39b3d1f02814cf3667626101fb338bafb5f2ff-3">3</a></td></tr></table></div></code></pre>
<p>Note that you can only pass scalar expressions to the constructor.</p>
</div>
</div>
</div>
</div>
<div class="section"><a class="section-anchor" id="using-index-by" name="using-index-by"></a><h3 class="section-header"><a href="#using-index-by">Using INDEX BY<i class="fas fa-link"></i></a></h3>
<p>The INDEX BY construct is nothing that directly translates into SQL
but that affects object and array hydration. After each FROM and
JOIN clause you specify by which field this class should be indexed
in the result. By default a result is incremented by numerical keys
starting with 0. However with INDEX BY you can specify any other
column to be the key of your result, it really only makes sense
with primary or unique fields though:</p>
<pre class="code-block-table"><code class="sql"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="2c2e5d58e81737011b4b292541167d4c21106483"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="2c2e5d58e81737011b4b292541167d4c21106483"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-2c2e5d58e81737011b4b292541167d4c21106483-1" class="line-number-anchor" /><a href="#line-number-2c2e5d58e81737011b4b292541167d4c21106483-1">1</a></td><td class="code-line" rowspan="2"><span class="hljs-keyword">SELECT</span> u.id, u.status, <span class="hljs-keyword">upper</span>(u.name) nameUpper <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">User</span> u <span class="hljs-keyword">INDEX</span> <span class="hljs-keyword">BY</span> u.id
<span class="hljs-keyword">JOIN</span> u.phonenumbers p <span class="hljs-keyword">INDEX</span> <span class="hljs-keyword">BY</span> p.phonenumber</td></tr>
<tr><td class="line-number noselect"><a name="line-number-2c2e5d58e81737011b4b292541167d4c21106483-2" class="line-number-anchor" /><a href="#line-number-2c2e5d58e81737011b4b292541167d4c21106483-2">2</a></td></tr></table></div></code></pre>
<p>Returns an array of the following kind, indexed by both user-id
then phonenumber-id:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="75a110207dbf0787bf5b1cd8180014e42296b161"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="75a110207dbf0787bf5b1cd8180014e42296b161"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-75a110207dbf0787bf5b1cd8180014e42296b161-1" class="line-number-anchor" /><a href="#line-number-75a110207dbf0787bf5b1cd8180014e42296b161-1">1</a></td><td class="code-line" rowspan="17"><span class="hljs-keyword">array</span>
  <span class="hljs-number">0</span> =&gt;
    <span class="hljs-keyword">array</span>
      <span class="hljs-number">1</span> =&gt;
        object(stdClass)[<span class="hljs-number">299</span>]
          <span class="hljs-keyword">public</span> <span class="hljs-string">'__CLASS__'</span> =&gt; string <span class="hljs-string">'Doctrine\Tests\Models\CMS\CmsUser'</span> (length=<span class="hljs-number">33</span>)
          <span class="hljs-keyword">public</span> <span class="hljs-string">'id'</span> =&gt; int <span class="hljs-number">1</span>
          ..
      <span class="hljs-string">'nameUpper'</span> =&gt; string <span class="hljs-string">'ROMANB'</span> (length=<span class="hljs-number">6</span>)
  <span class="hljs-number">1</span> =&gt;
    <span class="hljs-keyword">array</span>
      <span class="hljs-number">2</span> =&gt;
        object(stdClass)[<span class="hljs-number">298</span>]
          <span class="hljs-keyword">public</span> <span class="hljs-string">'__CLASS__'</span> =&gt; string <span class="hljs-string">'Doctrine\Tests\Models\CMS\CmsUser'</span> (length=<span class="hljs-number">33</span>)
          <span class="hljs-keyword">public</span> <span class="hljs-string">'id'</span> =&gt; int <span class="hljs-number">2</span>
          ...
      <span class="hljs-string">'nameUpper'</span> =&gt; string <span class="hljs-string">'JWAGE'</span> (length=<span class="hljs-number">5</span>)</td></tr>
<tr><td class="line-number noselect"><a name="line-number-75a110207dbf0787bf5b1cd8180014e42296b161-2" class="line-number-anchor" /><a href="#line-number-75a110207dbf0787bf5b1cd8180014e42296b161-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-75a110207dbf0787bf5b1cd8180014e42296b161-3" class="line-number-anchor" /><a href="#line-number-75a110207dbf0787bf5b1cd8180014e42296b161-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-75a110207dbf0787bf5b1cd8180014e42296b161-4" class="line-number-anchor" /><a href="#line-number-75a110207dbf0787bf5b1cd8180014e42296b161-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-75a110207dbf0787bf5b1cd8180014e42296b161-5" class="line-number-anchor" /><a href="#line-number-75a110207dbf0787bf5b1cd8180014e42296b161-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-75a110207dbf0787bf5b1cd8180014e42296b161-6" class="line-number-anchor" /><a href="#line-number-75a110207dbf0787bf5b1cd8180014e42296b161-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-75a110207dbf0787bf5b1cd8180014e42296b161-7" class="line-number-anchor" /><a href="#line-number-75a110207dbf0787bf5b1cd8180014e42296b161-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-75a110207dbf0787bf5b1cd8180014e42296b161-8" class="line-number-anchor" /><a href="#line-number-75a110207dbf0787bf5b1cd8180014e42296b161-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-75a110207dbf0787bf5b1cd8180014e42296b161-9" class="line-number-anchor" /><a href="#line-number-75a110207dbf0787bf5b1cd8180014e42296b161-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-75a110207dbf0787bf5b1cd8180014e42296b161-10" class="line-number-anchor" /><a href="#line-number-75a110207dbf0787bf5b1cd8180014e42296b161-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-75a110207dbf0787bf5b1cd8180014e42296b161-11" class="line-number-anchor" /><a href="#line-number-75a110207dbf0787bf5b1cd8180014e42296b161-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-75a110207dbf0787bf5b1cd8180014e42296b161-12" class="line-number-anchor" /><a href="#line-number-75a110207dbf0787bf5b1cd8180014e42296b161-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-75a110207dbf0787bf5b1cd8180014e42296b161-13" class="line-number-anchor" /><a href="#line-number-75a110207dbf0787bf5b1cd8180014e42296b161-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-75a110207dbf0787bf5b1cd8180014e42296b161-14" class="line-number-anchor" /><a href="#line-number-75a110207dbf0787bf5b1cd8180014e42296b161-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-75a110207dbf0787bf5b1cd8180014e42296b161-15" class="line-number-anchor" /><a href="#line-number-75a110207dbf0787bf5b1cd8180014e42296b161-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-75a110207dbf0787bf5b1cd8180014e42296b161-16" class="line-number-anchor" /><a href="#line-number-75a110207dbf0787bf5b1cd8180014e42296b161-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-75a110207dbf0787bf5b1cd8180014e42296b161-17" class="line-number-anchor" /><a href="#line-number-75a110207dbf0787bf5b1cd8180014e42296b161-17">17</a></td></tr></table></div></code></pre>
<p>You can also index by a to-one association, which will use the id of
the associated entity (the join column) as the key in the result set:</p>
<pre class="code-block-table"><code class="sql"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="abb8f2c35dd58645be378fc6e34f7ef4f4bf42f9"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="abb8f2c35dd58645be378fc6e34f7ef4f4bf42f9"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-abb8f2c35dd58645be378fc6e34f7ef4f4bf42f9-1" class="line-number-anchor" /><a href="#line-number-abb8f2c35dd58645be378fc6e34f7ef4f4bf42f9-1">1</a></td><td class="code-line" rowspan="1"><span class="hljs-keyword">SELECT</span> p, u <span class="hljs-keyword">FROM</span> Participant <span class="hljs-keyword">INDEX</span> <span class="hljs-keyword">BY</span> p.user <span class="hljs-keyword">JOIN</span> p.user u <span class="hljs-keyword">WHERE</span> p.event = <span class="hljs-number">3</span></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="update-queries" name="update-queries"></a><h2 class="section-header"><a href="#update-queries">UPDATE queries<i class="fas fa-link"></i></a></h2>
<p>DQL not only allows to select your Entities using field names, you
can also execute bulk updates on a set of entities using an
DQL-UPDATE query. The Syntax of an UPDATE query works as expected,
as the following example shows:</p>
<pre class="code-block-table"><code class="sql"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="1a29be23f39b38b814c2f509716d082c20137efa"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="1a29be23f39b38b814c2f509716d082c20137efa"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-1a29be23f39b38b814c2f509716d082c20137efa-1" class="line-number-anchor" /><a href="#line-number-1a29be23f39b38b814c2f509716d082c20137efa-1">1</a></td><td class="code-line" rowspan="1"><span class="hljs-keyword">UPDATE</span> MyProject\<span class="hljs-keyword">Model</span>\<span class="hljs-keyword">User</span> u <span class="hljs-keyword">SET</span> u.password = <span class="hljs-string">'new'</span> <span class="hljs-keyword">WHERE</span> u.id <span class="hljs-keyword">IN</span> (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)</td></tr></table></div></code></pre>
<p>References to related entities are only possible in the WHERE
clause and using sub-selects.</p>
<div class="alert warning-admonition bg-light-yellow text-dark border"><table width="100%"><tr><td width="10" class="align-top"><i class="fas fa-exclamation-circle text-warning mr-2"></i></td><td><p>DQL UPDATE statements are ported directly into a
Database UPDATE statement and therefore bypass any locking scheme, events
and do not increment the version column. Entities that are already
loaded into the persistence context will <em>NOT</em> be synced with the
updated database state. It is recommended to call
<code>EntityManager#clear()</code> and retrieve new instances of any
affected entity.</p>
</td></tr></table></div>
</div>
<div class="section"><a class="section-anchor" id="delete-queries" name="delete-queries"></a><h2 class="section-header"><a href="#delete-queries">DELETE queries<i class="fas fa-link"></i></a></h2>
<p>DELETE queries can also be specified using DQL and their syntax is
as simple as the UPDATE syntax:</p>
<pre class="code-block-table"><code class="sql"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="d23d0d31829562f2649fab481c38f5876907af72"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="d23d0d31829562f2649fab481c38f5876907af72"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-d23d0d31829562f2649fab481c38f5876907af72-1" class="line-number-anchor" /><a href="#line-number-d23d0d31829562f2649fab481c38f5876907af72-1">1</a></td><td class="code-line" rowspan="1"><span class="hljs-keyword">DELETE</span> MyProject\<span class="hljs-keyword">Model</span>\<span class="hljs-keyword">User</span> u <span class="hljs-keyword">WHERE</span> u.id = <span class="hljs-number">4</span></td></tr></table></div></code></pre>
<p>The same restrictions apply for the reference of related entities.</p>
<div class="alert warning-admonition bg-light-yellow text-dark border"><table width="100%"><tr><td width="10" class="align-top"><i class="fas fa-exclamation-circle text-warning mr-2"></i></td><td><p>DQL DELETE statements are ported directly into an SQL DELETE statement.
Therefore, some limitations apply:</p>
<ul><li class="dash">Lifecycle events for the affected entities are not executed.</li>
<li class="dash">A cascading <code>remove</code> operation (as indicated e. g. by <code>cascade: ['remove']</code>
  or <code>cascade: ['all']</code> in the mapping configuration) is not being performed
  for associated entities. You can rely on database level cascade operations by
  configuring each join column with the <code>onDelete</code> option.</li>
<li class="dash">Checks for the version column are bypassed if they are not explicitly added
  to the WHERE clause of the query.</li>
</ul>

<p>When you rely on one of these features, one option is to use the
<code>EntityManager#remove($entity)</code> method. This, however, is costly performance-wise:
It means collections and related entities are fetched into memory
(even if they are marked as lazy). Pulling object graphs into memory on cascade
can cause considerable performance overhead, especially when the cascaded collections
are large. Make sure to weigh the benefits and downsides.</p>
</td></tr></table></div>
</div>
<div class="section"><a class="section-anchor" id="comments-in-queries" name="comments-in-queries"></a><h2 class="section-header"><a href="#comments-in-queries">Comments in queries<i class="fas fa-link"></i></a></h2>
<p>We can use comments with the SQL syntax of comments.</p>
<pre class="code-block-table"><code class="sql"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="b15e9095d56e3e015357aa7df405e99479cbf14a"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="b15e9095d56e3e015357aa7df405e99479cbf14a"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-b15e9095d56e3e015357aa7df405e99479cbf14a-1" class="line-number-anchor" /><a href="#line-number-b15e9095d56e3e015357aa7df405e99479cbf14a-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-keyword">SELECT</span> u <span class="hljs-keyword">FROM</span> MyProject\<span class="hljs-keyword">Model</span>\<span class="hljs-keyword">User</span> u
<span class="hljs-comment">-- my comment</span>
<span class="hljs-keyword">WHERE</span> u.age &gt; <span class="hljs-number">20</span> <span class="hljs-comment">-- comment at the end of a line</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b15e9095d56e3e015357aa7df405e99479cbf14a-2" class="line-number-anchor" /><a href="#line-number-b15e9095d56e3e015357aa7df405e99479cbf14a-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b15e9095d56e3e015357aa7df405e99479cbf14a-3" class="line-number-anchor" /><a href="#line-number-b15e9095d56e3e015357aa7df405e99479cbf14a-3">3</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="functions-operators-aggregates" name="functions-operators-aggregates"></a><h2 class="section-header"><a href="#functions-operators-aggregates">Functions, Operators, Aggregates<i class="fas fa-link"></i></a></h2>
<p>It is possible to wrap both fields and identification values into
aggregation and DQL functions. Numerical fields can be part of
computations using mathematical operations.</p>
<div class="section"><a class="section-anchor" id="dql-functions" name="dql-functions"></a><h3 class="section-header"><a href="#dql-functions">DQL Functions<i class="fas fa-link"></i></a></h3>
<p>The following functions are supported in SELECT, WHERE and HAVING
clauses:</p>
<ul><li class="dash"> <code>IDENTITY(single_association_path_expression [, fieldMapping])</code> -
   Retrieve the foreign key column of association of the owning side</li>
<li class="dash"> <code>ABS(arithmetic_expression)</code></li>
<li class="dash"> <code>CONCAT(str1, str2)</code></li>
<li class="dash"> <code>CURRENT_DATE()</code> - Return the current date</li>
<li class="dash"> <code>CURRENT_TIME()</code> - Returns the current time</li>
<li class="dash"> <code>CURRENT_TIMESTAMP()</code> - Returns a timestamp of the current date
   and time.</li>
<li class="dash"> <code>LENGTH(str)</code> - Returns the length of the given string</li>
<li class="dash"> <code>LOCATE(needle, haystack [, offset])</code> - Locate the first
   occurrence of the substring in the string.</li>
<li class="dash"> <code>LOWER(str)</code> - returns the string lowercased.</li>
<li class="dash"> <code>MOD(a, b)</code> - Return a MOD b.</li>
<li class="dash"> <code>SIZE(collection)</code> - Return the number of elements in the
   specified collection</li>
<li class="dash"> <code>SQRT(q)</code> - Return the square-root of q.</li>
<li class="dash"> <code>SUBSTRING(str, start [, length])</code> - Return substring of given
   string.</li>
<li class="dash"> <code>TRIM([LEADING | TRAILING | BOTH] ['trchar' FROM] str)</code> - Trim
   the string by the given trim char, defaults to whitespaces.</li>
<li class="dash"> <code>UPPER(str)</code> - Return the upper-case of the given string.</li>
<li class="dash"> <code>DATE_ADD(date, value, unit)</code> - Add the given time to a given date.
   (Supported units are <code>SECOND</code>, <code>MINUTE</code>, <code>HOUR</code>, <code>DAY</code>,
   <code>WEEK</code>, <code>MONTH</code>, <code>YEAR</code>)</li>
<li class="dash"> <code>DATE_SUB(date, value, unit)</code> - Subtract the given time from a
   given date. (Supported units are <code>SECOND</code>, <code>MINUTE</code>, <code>HOUR</code>,
   <code>DAY</code>, <code>WEEK</code>, <code>MONTH</code>, <code>YEAR</code>)</li>
<li class="dash"> <code>DATE_DIFF(date1, date2)</code> - Calculate the difference in days
   between date1-date2.</li>
</ul>

</div>
<div class="section"><a class="section-anchor" id="arithmetic-operators" name="arithmetic-operators"></a><h3 class="section-header"><a href="#arithmetic-operators">Arithmetic operators<i class="fas fa-link"></i></a></h3>
<p>You can do math in DQL using numeric values, for example:</p>
<pre class="code-block-table"><code class="sql"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="3b9136ed06758100aba3eddae46a60d2fe728345"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="3b9136ed06758100aba3eddae46a60d2fe728345"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-3b9136ed06758100aba3eddae46a60d2fe728345-1" class="line-number-anchor" /><a href="#line-number-3b9136ed06758100aba3eddae46a60d2fe728345-1">1</a></td><td class="code-line" rowspan="1"><span class="hljs-keyword">SELECT</span> person.salary * <span class="hljs-number">1.5</span> <span class="hljs-keyword">FROM</span> CompanyPerson person <span class="hljs-keyword">WHERE</span> person.salary &lt; <span class="hljs-number">100000</span></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="aggregate-functions" name="aggregate-functions"></a><h3 class="section-header"><a href="#aggregate-functions">Aggregate Functions<i class="fas fa-link"></i></a></h3>
<p>The following aggregate functions are allowed in SELECT and GROUP
BY clauses: AVG, COUNT, MIN, MAX, SUM</p>
</div>
<div class="section"><a class="section-anchor" id="other-expressions" name="other-expressions"></a><h3 class="section-header"><a href="#other-expressions">Other Expressions<i class="fas fa-link"></i></a></h3>
<p>DQL offers a wide-range of additional expressions that are known
from SQL, here is a list of all the supported constructs:</p>
<ul><li class="dash"> <code>ALL/ANY/SOME</code> - Used in a WHERE clause followed by a
   sub-select this works like the equivalent constructs in SQL.</li>
<li class="dash"> <code>BETWEEN a AND b</code> and <code>NOT BETWEEN a AND b</code> can be used to
   match ranges of arithmetic values.</li>
<li class="dash"> <code>IN (x1, x2, ...)</code> and <code>NOT IN (x1, x2, ..)</code> can be used to
   match a set of given values.</li>
<li class="dash"> <code>LIKE ..</code> and <code>NOT LIKE ..</code> match parts of a string or text
   using % as a wildcard.</li>
<li class="dash"> <code>IS NULL</code> and <code>IS NOT NULL</code> to check for null values</li>
<li class="dash"> <code>EXISTS</code> and <code>NOT EXISTS</code> in combination with a sub-select</li>
</ul>

</div>
<div class="section"><a class="section-anchor" id="adding-your-own-functions-to-the-dql-language" name="adding-your-own-functions-to-the-dql-language"></a><h3 class="section-header"><a href="#adding-your-own-functions-to-the-dql-language">Adding your own functions to the DQL language<i class="fas fa-link"></i></a></h3>
<p>By default DQL comes with functions that are part of a large basis
of underlying databases. However you will most likely choose a
database platform at the beginning of your project and most likely
never change it. For this cases you can easily extend the DQL
parser with own specialized platform functions.</p>
<p>You can register custom DQL functions in your ORM Configuration:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="f9934f7d97b647c6db1977d01c1bf2be5f8b1cec"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="f9934f7d97b647c6db1977d01c1bf2be5f8b1cec"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-f9934f7d97b647c6db1977d01c1bf2be5f8b1cec-1" class="line-number-anchor" /><a href="#line-number-f9934f7d97b647c6db1977d01c1bf2be5f8b1cec-1">1</a></td><td class="code-line" rowspan="7"><span class="hljs-meta">&lt;?php</span>
$config = <span class="hljs-keyword">new</span> \Doctrine\ORM\Configuration();
$config-&gt;addCustomStringFunction($name, $class);
$config-&gt;addCustomNumericFunction($name, $class);
$config-&gt;addCustomDatetimeFunction($name, $class);

$em = <span class="hljs-keyword">new</span> EntityManager($connection, $config);</td></tr>
<tr><td class="line-number noselect"><a name="line-number-f9934f7d97b647c6db1977d01c1bf2be5f8b1cec-2" class="line-number-anchor" /><a href="#line-number-f9934f7d97b647c6db1977d01c1bf2be5f8b1cec-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f9934f7d97b647c6db1977d01c1bf2be5f8b1cec-3" class="line-number-anchor" /><a href="#line-number-f9934f7d97b647c6db1977d01c1bf2be5f8b1cec-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f9934f7d97b647c6db1977d01c1bf2be5f8b1cec-4" class="line-number-anchor" /><a href="#line-number-f9934f7d97b647c6db1977d01c1bf2be5f8b1cec-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f9934f7d97b647c6db1977d01c1bf2be5f8b1cec-5" class="line-number-anchor" /><a href="#line-number-f9934f7d97b647c6db1977d01c1bf2be5f8b1cec-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f9934f7d97b647c6db1977d01c1bf2be5f8b1cec-6" class="line-number-anchor" /><a href="#line-number-f9934f7d97b647c6db1977d01c1bf2be5f8b1cec-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f9934f7d97b647c6db1977d01c1bf2be5f8b1cec-7" class="line-number-anchor" /><a href="#line-number-f9934f7d97b647c6db1977d01c1bf2be5f8b1cec-7">7</a></td></tr></table></div></code></pre>
<p>The functions have to return either a string, numeric or datetime
value depending on the registered function type. As an example we
will add a MySQL specific FLOOR() functionality. All the given
classes have to implement the base class :</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="30c53779d23df5b299a1d6c6e3b226050e1ed7c4"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="30c53779d23df5b299a1d6c6e3b226050e1ed7c4"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-1" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-1">1</a></td><td class="code-line" rowspan="27"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">MyProject</span>\<span class="hljs-title">Query</span>\<span class="hljs-title">AST</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Query</span>\<span class="hljs-title">AST</span>\<span class="hljs-title">Functions</span>\<span class="hljs-title">FunctionNode</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Query</span>\<span class="hljs-title">Lexer</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MysqlFloor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">FunctionNode</span>
</span>{
    <span class="hljs-keyword">public</span> $simpleArithmeticExpression;

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSql</span><span class="hljs-params">(\Doctrine\ORM\Query\SqlWalker $sqlWalker)</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'FLOOR('</span> . $sqlWalker-&gt;walkSimpleArithmeticExpression(
            <span class="hljs-keyword">$this</span>-&gt;simpleArithmeticExpression
        ) . <span class="hljs-string">')'</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parse</span><span class="hljs-params">(\Doctrine\ORM\Query\Parser $parser)</span>
    </span>{
        $parser-&gt;match(Lexer::T_IDENTIFIER);
        $parser-&gt;match(Lexer::T_OPEN_PARENTHESIS);

        <span class="hljs-keyword">$this</span>-&gt;simpleArithmeticExpression = $parser-&gt;SimpleArithmeticExpression();

        $parser-&gt;match(Lexer::T_CLOSE_PARENTHESIS);
    }
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-2" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-3" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-4" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-5" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-6" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-7" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-8" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-9" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-10" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-11" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-12" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-13" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-14" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-15" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-16" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-17" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-18" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-19" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-20" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-21" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-22" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-23" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-24" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-25" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-26" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-27" class="line-number-anchor" /><a href="#line-number-30c53779d23df5b299a1d6c6e3b226050e1ed7c4-27">27</a></td></tr></table></div></code></pre>
<p>We will register the function by calling and can then use it:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="91cd00289a0c3dd43b4a9adefa0562ddfc489017"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="91cd00289a0c3dd43b4a9adefa0562ddfc489017"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-91cd00289a0c3dd43b4a9adefa0562ddfc489017-1" class="line-number-anchor" /><a href="#line-number-91cd00289a0c3dd43b4a9adefa0562ddfc489017-1">1</a></td><td class="code-line" rowspan="5"><span class="hljs-meta">&lt;?php</span>
$config = $em-&gt;getConfiguration();
$config-&gt;registerNumericFunction(<span class="hljs-string">'FLOOR'</span>, <span class="hljs-string">'MyProject\Query\MysqlFloor'</span>);

$dql = <span class="hljs-string">"SELECT FLOOR(person.salary * 1.75) FROM CompanyPerson person"</span>;</td></tr>
<tr><td class="line-number noselect"><a name="line-number-91cd00289a0c3dd43b4a9adefa0562ddfc489017-2" class="line-number-anchor" /><a href="#line-number-91cd00289a0c3dd43b4a9adefa0562ddfc489017-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-91cd00289a0c3dd43b4a9adefa0562ddfc489017-3" class="line-number-anchor" /><a href="#line-number-91cd00289a0c3dd43b4a9adefa0562ddfc489017-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-91cd00289a0c3dd43b4a9adefa0562ddfc489017-4" class="line-number-anchor" /><a href="#line-number-91cd00289a0c3dd43b4a9adefa0562ddfc489017-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-91cd00289a0c3dd43b4a9adefa0562ddfc489017-5" class="line-number-anchor" /><a href="#line-number-91cd00289a0c3dd43b4a9adefa0562ddfc489017-5">5</a></td></tr></table></div></code></pre>
</div>
</div>
<div class="section"><a class="section-anchor" id="querying-inherited-classes" name="querying-inherited-classes"></a><h2 class="section-header"><a href="#querying-inherited-classes">Querying Inherited Classes<i class="fas fa-link"></i></a></h2>
<p>This section demonstrates how you can query inherited classes and
what type of results to expect.</p>
<div class="section"><a class="section-anchor" id="single-table" name="single-table"></a><h3 class="section-header"><a href="#single-table">Single Table<i class="fas fa-link"></i></a></h3>
<p><a href="https://martinfowler.com/eaaCatalog/singleTableInheritance.html">Single Table Inheritance</a>
is an inheritance mapping strategy where all classes of a hierarchy
are mapped to a single database table. In order to distinguish
which row represents which type in the hierarchy a so-called
discriminator column is used.</p>
<p>First we need to setup an example set of entities to use. In this
scenario it is a generic Person and Employee example:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="fa442efb42302ce23081b14a97783a3b05cea473"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="fa442efb42302ce23081b14a97783a3b05cea473"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-1" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-1">1</a></td><td class="code-line" rowspan="27"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">Entities</span>;

<span class="hljs-comment">#[Entity]</span>
<span class="hljs-comment">#[InheritanceType('SINGLE_TABLE')]</span>
<span class="hljs-comment">#[DiscriminatorColumn(name: 'discr', type: 'string')]</span>
<span class="hljs-comment">#[DiscriminatorMap(['person' =&gt; 'Person', 'employee' =&gt; 'Employee'])]</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>
</span>{
    <span class="hljs-comment">#[Id, Column(type: 'integer')]</span>
    <span class="hljs-comment">#[GeneratedValue]</span>
    <span class="hljs-keyword">protected</span> int|<span class="hljs-keyword">null</span> $id = <span class="hljs-keyword">null</span>;

    <span class="hljs-comment">#[Column(type: 'string', length: 50)]</span>
    <span class="hljs-keyword">protected</span> string $name;

    <span class="hljs-comment">// ...</span>
}

<span class="hljs-comment">#[Entity]</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Employee</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Person</span>
</span>{
    <span class="hljs-comment">#[Column(type: 'string', length: 50)]</span>
    <span class="hljs-keyword">private</span> $department;

    <span class="hljs-comment">// ...</span>
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-2" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-3" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-4" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-5" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-6" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-7" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-8" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-9" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-10" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-11" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-12" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-13" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-14" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-15" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-16" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-17" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-18" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-19" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-20" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-21" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-22" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-23" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-24" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-25" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-26" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa442efb42302ce23081b14a97783a3b05cea473-27" class="line-number-anchor" /><a href="#line-number-fa442efb42302ce23081b14a97783a3b05cea473-27">27</a></td></tr></table></div></code></pre>
<p>First notice that the generated SQL to create the tables for these
entities looks like the following:</p>
<pre class="code-block-table"><code class="sql"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="a5198514d8f83ef310c42e6f7db88cf8e7400393"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="a5198514d8f83ef310c42e6f7db88cf8e7400393"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-a5198514d8f83ef310c42e6f7db88cf8e7400393-1" class="line-number-anchor" /><a href="#line-number-a5198514d8f83ef310c42e6f7db88cf8e7400393-1">1</a></td><td class="code-line" rowspan="6"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> Person (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">INTEGER</span> PRIMARY <span class="hljs-keyword">KEY</span> AUTOINCREMENT <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    <span class="hljs-keyword">name</span> <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    discr <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    department <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>
)</td></tr>
<tr><td class="line-number noselect"><a name="line-number-a5198514d8f83ef310c42e6f7db88cf8e7400393-2" class="line-number-anchor" /><a href="#line-number-a5198514d8f83ef310c42e6f7db88cf8e7400393-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a5198514d8f83ef310c42e6f7db88cf8e7400393-3" class="line-number-anchor" /><a href="#line-number-a5198514d8f83ef310c42e6f7db88cf8e7400393-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a5198514d8f83ef310c42e6f7db88cf8e7400393-4" class="line-number-anchor" /><a href="#line-number-a5198514d8f83ef310c42e6f7db88cf8e7400393-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a5198514d8f83ef310c42e6f7db88cf8e7400393-5" class="line-number-anchor" /><a href="#line-number-a5198514d8f83ef310c42e6f7db88cf8e7400393-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a5198514d8f83ef310c42e6f7db88cf8e7400393-6" class="line-number-anchor" /><a href="#line-number-a5198514d8f83ef310c42e6f7db88cf8e7400393-6">6</a></td></tr></table></div></code></pre>
<p>Now when persist a new <code>Employee</code> instance it will set the
discriminator value for us automatically:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="0dfae91ccf8020becb979ed2962b4e254edeb96a"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="0dfae91ccf8020becb979ed2962b4e254edeb96a"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-0dfae91ccf8020becb979ed2962b4e254edeb96a-1" class="line-number-anchor" /><a href="#line-number-0dfae91ccf8020becb979ed2962b4e254edeb96a-1">1</a></td><td class="code-line" rowspan="6"><span class="hljs-meta">&lt;?php</span>
$employee = <span class="hljs-keyword">new</span> \Entities\Employee();
$employee-&gt;setName(<span class="hljs-string">'test'</span>);
$employee-&gt;setDepartment(<span class="hljs-string">'testing'</span>);
$em-&gt;persist($employee);
$em-&gt;flush();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-0dfae91ccf8020becb979ed2962b4e254edeb96a-2" class="line-number-anchor" /><a href="#line-number-0dfae91ccf8020becb979ed2962b4e254edeb96a-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0dfae91ccf8020becb979ed2962b4e254edeb96a-3" class="line-number-anchor" /><a href="#line-number-0dfae91ccf8020becb979ed2962b4e254edeb96a-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0dfae91ccf8020becb979ed2962b4e254edeb96a-4" class="line-number-anchor" /><a href="#line-number-0dfae91ccf8020becb979ed2962b4e254edeb96a-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0dfae91ccf8020becb979ed2962b4e254edeb96a-5" class="line-number-anchor" /><a href="#line-number-0dfae91ccf8020becb979ed2962b4e254edeb96a-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0dfae91ccf8020becb979ed2962b4e254edeb96a-6" class="line-number-anchor" /><a href="#line-number-0dfae91ccf8020becb979ed2962b4e254edeb96a-6">6</a></td></tr></table></div></code></pre>
<p>Now lets run a simple query to retrieve the <code>Employee</code> we just
created:</p>
<pre class="code-block-table"><code class="sql"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="0af32f0a6ec76c633ffb4adfe5d7e0d121e10c84"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="0af32f0a6ec76c633ffb4adfe5d7e0d121e10c84"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-0af32f0a6ec76c633ffb4adfe5d7e0d121e10c84-1" class="line-number-anchor" /><a href="#line-number-0af32f0a6ec76c633ffb4adfe5d7e0d121e10c84-1">1</a></td><td class="code-line" rowspan="1"><span class="hljs-keyword">SELECT</span> e <span class="hljs-keyword">FROM</span> Entities\Employee e <span class="hljs-keyword">WHERE</span> e.name = <span class="hljs-string">'test'</span></td></tr></table></div></code></pre>
<p>If we check the generated SQL you will notice it has some special
conditions added to ensure that we will only get back <code>Employee</code>
entities:</p>
<pre class="code-block-table"><code class="sql"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="98f479dcfbc85c98342c632e0cffd143f35a349b"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="98f479dcfbc85c98342c632e0cffd143f35a349b"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-98f479dcfbc85c98342c632e0cffd143f35a349b-1" class="line-number-anchor" /><a href="#line-number-98f479dcfbc85c98342c632e0cffd143f35a349b-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-keyword">SELECT</span> p0_.id <span class="hljs-keyword">AS</span> id0, p0_.name <span class="hljs-keyword">AS</span> name1, p0_.department <span class="hljs-keyword">AS</span> department2,
       p0_.discr <span class="hljs-keyword">AS</span> discr3 <span class="hljs-keyword">FROM</span> Person p0_
<span class="hljs-keyword">WHERE</span> (p0_.name = ?) <span class="hljs-keyword">AND</span> p0_.discr <span class="hljs-keyword">IN</span> (<span class="hljs-string">'employee'</span>)</td></tr>
<tr><td class="line-number noselect"><a name="line-number-98f479dcfbc85c98342c632e0cffd143f35a349b-2" class="line-number-anchor" /><a href="#line-number-98f479dcfbc85c98342c632e0cffd143f35a349b-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-98f479dcfbc85c98342c632e0cffd143f35a349b-3" class="line-number-anchor" /><a href="#line-number-98f479dcfbc85c98342c632e0cffd143f35a349b-3">3</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="class-table-inheritance" name="class-table-inheritance"></a><h3 class="section-header"><a href="#class-table-inheritance">Class Table Inheritance<i class="fas fa-link"></i></a></h3>
<p><a href="https://martinfowler.com/eaaCatalog/classTableInheritance.html">Class Table Inheritance</a>
is an inheritance mapping strategy where each class in a hierarchy
is mapped to several tables: its own table and the tables of all
parent classes. The table of a child class is linked to the table
of a parent class through a foreign key constraint. Doctrine ORM
implements this strategy through the use of a discriminator column
in the topmost table of the hierarchy because this is the easiest
way to achieve polymorphic queries with Class Table Inheritance.</p>
<p>The example for class table inheritance is the same as single
table, you just need to change the inheritance type from
<code>SINGLE_TABLE</code> to <code>JOINED</code>:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="9cb6c25f6c94b15b0205f972f0fa7e5f9ee523ef"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="9cb6c25f6c94b15b0205f972f0fa7e5f9ee523ef"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-9cb6c25f6c94b15b0205f972f0fa7e5f9ee523ef-1" class="line-number-anchor" /><a href="#line-number-9cb6c25f6c94b15b0205f972f0fa7e5f9ee523ef-1">1</a></td><td class="code-line" rowspan="10"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-comment">#[Entity]</span>
<span class="hljs-comment">#[InheritanceType('JOINED')]</span>
<span class="hljs-comment">#[DiscriminatorColumn(name: 'discr', type: 'string')]</span>
<span class="hljs-comment">#[DiscriminatorMap(['person' =&gt; 'Person', 'employee' =&gt; 'Employee'])]</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>
</span>{
    <span class="hljs-comment">// ...</span>
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cb6c25f6c94b15b0205f972f0fa7e5f9ee523ef-2" class="line-number-anchor" /><a href="#line-number-9cb6c25f6c94b15b0205f972f0fa7e5f9ee523ef-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cb6c25f6c94b15b0205f972f0fa7e5f9ee523ef-3" class="line-number-anchor" /><a href="#line-number-9cb6c25f6c94b15b0205f972f0fa7e5f9ee523ef-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cb6c25f6c94b15b0205f972f0fa7e5f9ee523ef-4" class="line-number-anchor" /><a href="#line-number-9cb6c25f6c94b15b0205f972f0fa7e5f9ee523ef-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cb6c25f6c94b15b0205f972f0fa7e5f9ee523ef-5" class="line-number-anchor" /><a href="#line-number-9cb6c25f6c94b15b0205f972f0fa7e5f9ee523ef-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cb6c25f6c94b15b0205f972f0fa7e5f9ee523ef-6" class="line-number-anchor" /><a href="#line-number-9cb6c25f6c94b15b0205f972f0fa7e5f9ee523ef-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cb6c25f6c94b15b0205f972f0fa7e5f9ee523ef-7" class="line-number-anchor" /><a href="#line-number-9cb6c25f6c94b15b0205f972f0fa7e5f9ee523ef-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cb6c25f6c94b15b0205f972f0fa7e5f9ee523ef-8" class="line-number-anchor" /><a href="#line-number-9cb6c25f6c94b15b0205f972f0fa7e5f9ee523ef-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cb6c25f6c94b15b0205f972f0fa7e5f9ee523ef-9" class="line-number-anchor" /><a href="#line-number-9cb6c25f6c94b15b0205f972f0fa7e5f9ee523ef-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9cb6c25f6c94b15b0205f972f0fa7e5f9ee523ef-10" class="line-number-anchor" /><a href="#line-number-9cb6c25f6c94b15b0205f972f0fa7e5f9ee523ef-10">10</a></td></tr></table></div></code></pre>
<p>Now take a look at the SQL which is generated to create the table,
you'll notice some differences:</p>
<pre class="code-block-table"><code class="sql"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="1cdba6f06036f37b78c601b0238ec63a10ef61b6"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="1cdba6f06036f37b78c601b0238ec63a10ef61b6"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-1" class="line-number-anchor" /><a href="#line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-1">1</a></td><td class="code-line" rowspan="12"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> Person (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">INT</span> AUTO_INCREMENT <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    <span class="hljs-keyword">name</span> <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    discr <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    PRIMARY <span class="hljs-keyword">KEY</span>(<span class="hljs-keyword">id</span>)
) <span class="hljs-keyword">ENGINE</span> = <span class="hljs-keyword">InnoDB</span>;
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> Employee (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    department <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    PRIMARY <span class="hljs-keyword">KEY</span>(<span class="hljs-keyword">id</span>)
) <span class="hljs-keyword">ENGINE</span> = <span class="hljs-keyword">InnoDB</span>;
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> Employee <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (<span class="hljs-keyword">id</span>) <span class="hljs-keyword">REFERENCES</span> Person(<span class="hljs-keyword">id</span>) <span class="hljs-keyword">ON</span> <span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">CASCADE</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-2" class="line-number-anchor" /><a href="#line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-3" class="line-number-anchor" /><a href="#line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-4" class="line-number-anchor" /><a href="#line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-5" class="line-number-anchor" /><a href="#line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-6" class="line-number-anchor" /><a href="#line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-7" class="line-number-anchor" /><a href="#line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-8" class="line-number-anchor" /><a href="#line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-9" class="line-number-anchor" /><a href="#line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-10" class="line-number-anchor" /><a href="#line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-11" class="line-number-anchor" /><a href="#line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-12" class="line-number-anchor" /><a href="#line-number-1cdba6f06036f37b78c601b0238ec63a10ef61b6-12">12</a></td></tr></table></div></code></pre>
<ul><li class="dash"> The data is split between two tables</li>
<li class="dash"> A foreign key exists between the two tables</li>
</ul>

<p>Now if were to insert the same <code>Employee</code> as we did in the
<code>SINGLE_TABLE</code> example and run the same example query it will
generate different SQL joining the <code>Person</code> information
automatically for you:</p>
<pre class="code-block-table"><code class="sql"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="962d2e718a1c8708a2b6dc744aefdfcba93d8769"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="962d2e718a1c8708a2b6dc744aefdfcba93d8769"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-962d2e718a1c8708a2b6dc744aefdfcba93d8769-1" class="line-number-anchor" /><a href="#line-number-962d2e718a1c8708a2b6dc744aefdfcba93d8769-1">1</a></td><td class="code-line" rowspan="4"><span class="hljs-keyword">SELECT</span> p0_.id <span class="hljs-keyword">AS</span> id0, p0_.name <span class="hljs-keyword">AS</span> name1, e1_.department <span class="hljs-keyword">AS</span> department2,
       p0_.discr <span class="hljs-keyword">AS</span> discr3
<span class="hljs-keyword">FROM</span> Employee e1_ <span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> Person p0_ <span class="hljs-keyword">ON</span> e1_.id = p0_.id
<span class="hljs-keyword">WHERE</span> p0_.name = ?</td></tr>
<tr><td class="line-number noselect"><a name="line-number-962d2e718a1c8708a2b6dc744aefdfcba93d8769-2" class="line-number-anchor" /><a href="#line-number-962d2e718a1c8708a2b6dc744aefdfcba93d8769-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-962d2e718a1c8708a2b6dc744aefdfcba93d8769-3" class="line-number-anchor" /><a href="#line-number-962d2e718a1c8708a2b6dc744aefdfcba93d8769-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-962d2e718a1c8708a2b6dc744aefdfcba93d8769-4" class="line-number-anchor" /><a href="#line-number-962d2e718a1c8708a2b6dc744aefdfcba93d8769-4">4</a></td></tr></table></div></code></pre>
</div>
</div>
<div class="section"><a class="section-anchor" id="the-query-class" name="the-query-class"></a><h2 class="section-header"><a href="#the-query-class">The Query class<i class="fas fa-link"></i></a></h2>
<p>An instance of the <code>Doctrine\ORM\Query</code> class represents a DQL
query. You create a Query instance be calling
<code>EntityManager#createQuery($dql)</code>, passing the DQL query string.
Alternatively you can create an empty <code>Query</code> instance and invoke
<code>Query#setDQL($dql)</code> afterwards. Here are some examples:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="74ce4b69bfff9433dffec2e30ec39d636c58bc8e"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="74ce4b69bfff9433dffec2e30ec39d636c58bc8e"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-74ce4b69bfff9433dffec2e30ec39d636c58bc8e-1" class="line-number-anchor" /><a href="#line-number-74ce4b69bfff9433dffec2e30ec39d636c58bc8e-1">1</a></td><td class="code-line" rowspan="9"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">// $em instanceof EntityManager</span>

<span class="hljs-comment">// example1: passing a DQL string</span>
$q = $em-&gt;createQuery(<span class="hljs-string">'select u from MyProject\Model\User u'</span>);

<span class="hljs-comment">// example2: using setDQL</span>
$q = $em-&gt;createQuery();
$q-&gt;setDQL(<span class="hljs-string">'select u from MyProject\Model\User u'</span>);</td></tr>
<tr><td class="line-number noselect"><a name="line-number-74ce4b69bfff9433dffec2e30ec39d636c58bc8e-2" class="line-number-anchor" /><a href="#line-number-74ce4b69bfff9433dffec2e30ec39d636c58bc8e-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74ce4b69bfff9433dffec2e30ec39d636c58bc8e-3" class="line-number-anchor" /><a href="#line-number-74ce4b69bfff9433dffec2e30ec39d636c58bc8e-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74ce4b69bfff9433dffec2e30ec39d636c58bc8e-4" class="line-number-anchor" /><a href="#line-number-74ce4b69bfff9433dffec2e30ec39d636c58bc8e-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74ce4b69bfff9433dffec2e30ec39d636c58bc8e-5" class="line-number-anchor" /><a href="#line-number-74ce4b69bfff9433dffec2e30ec39d636c58bc8e-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74ce4b69bfff9433dffec2e30ec39d636c58bc8e-6" class="line-number-anchor" /><a href="#line-number-74ce4b69bfff9433dffec2e30ec39d636c58bc8e-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74ce4b69bfff9433dffec2e30ec39d636c58bc8e-7" class="line-number-anchor" /><a href="#line-number-74ce4b69bfff9433dffec2e30ec39d636c58bc8e-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74ce4b69bfff9433dffec2e30ec39d636c58bc8e-8" class="line-number-anchor" /><a href="#line-number-74ce4b69bfff9433dffec2e30ec39d636c58bc8e-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74ce4b69bfff9433dffec2e30ec39d636c58bc8e-9" class="line-number-anchor" /><a href="#line-number-74ce4b69bfff9433dffec2e30ec39d636c58bc8e-9">9</a></td></tr></table></div></code></pre>
<div class="section"><a class="section-anchor" id="query-result-formats" name="query-result-formats"></a><h3 class="section-header"><a href="#query-result-formats">Query Result Formats<i class="fas fa-link"></i></a></h3>
<p>The format in which the result of a DQL SELECT query is returned
can be influenced by a so-called <code>hydration mode</code>. A hydration
mode specifies a particular way in which a SQL result set is
transformed. Each hydration mode has its own dedicated method on
the Query class. Here they are:</p>
<ul><li class="dash"> <code>Query#getResult()</code>: Retrieves a collection of objects. The
   result is either a plain collection of objects (pure) or an array
   where the objects are nested in the result rows (mixed).</li>
<li class="dash"> <code>Query#getSingleResult()</code>: Retrieves a single object. If the
   result contains more than one object, an <code>NonUniqueResultException</code>
   is thrown. If the result contains no objects, an <code>NoResultException</code>
   is thrown. The pure/mixed distinction does not apply.</li>
<li class="dash"> <code>Query#getOneOrNullResult()</code>: Retrieve a single object. If the
   result contains more than one object, a <code>NonUniqueResultException</code>
   is thrown. If no object is found null will be returned.</li>
<li class="dash"> <code>Query#getArrayResult()</code>: Retrieves an array graph (a nested
   array) that is largely interchangeable with the object graph
   generated by <code>Query#getResult()</code> for read-only purposes.
    .. note::
        An array graph can differ from the corresponding object
        graph in certain scenarios due to the difference of the identity
        semantics between arrays and objects.</li>
<li class="dash"> <code>Query#getScalarResult()</code>: Retrieves a flat/rectangular result
   set of scalar values that can contain duplicate data. The
   pure/mixed distinction does not apply.</li>
<li class="dash"> <code>Query#getSingleScalarResult()</code>: Retrieves a single scalar
   value from the result returned by the dbms. If the result contains
   more than a single scalar value, an exception is thrown. The
   pure/mixed distinction does not apply.</li>
</ul>

<p>Instead of using these methods, you can alternatively use the
general-purpose method
<code>Query#execute(array $params = [], $hydrationMode = Query::HYDRATE_OBJECT)</code>.
Using this method you can directly supply the hydration mode as the
second parameter via one of the Query constants. In fact, the
methods mentioned earlier are just convenient shortcuts for the
execute method. For example, the method <code>Query#getResult()</code>
internally invokes execute, passing in <code>Query::HYDRATE_OBJECT</code> as
the hydration mode.</p>
<p>The use of the methods mentioned earlier is generally preferred as
it leads to more concise code.</p>
</div>
<div class="section"><a class="section-anchor" id="pure-and-mixed-results" name="pure-and-mixed-results"></a><h3 class="section-header"><a href="#pure-and-mixed-results">Pure and Mixed Results<i class="fas fa-link"></i></a></h3>
<p>The nature of a result returned by a DQL SELECT query retrieved
through <code>Query#getResult()</code> or <code>Query#getArrayResult()</code> can be
of 2 forms: <strong>pure</strong> and <strong>mixed</strong>. In the previous simple
examples, you already saw a pure query result, with only objects.
By default, the result type is <strong>pure</strong> but
<strong>as soon as scalar values, such as aggregate values or other scalar values that do not belong to an entity, appear in the SELECT part of the DQL query, the result becomes mixed</strong>.
A mixed result has a different structure than a pure result in
order to accommodate for the scalar values.</p>
<p>A pure result usually looks like this:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="a7ef3befe35ac547a03db695fd151d5229970ab2"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="a7ef3befe35ac547a03db695fd151d5229970ab2"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-a7ef3befe35ac547a03db695fd151d5229970ab2-1" class="line-number-anchor" /><a href="#line-number-a7ef3befe35ac547a03db695fd151d5229970ab2-1">1</a></td><td class="code-line" rowspan="7">$dql = <span class="hljs-string">"SELECT u FROM User u"</span>;

<span class="hljs-keyword">array</span>
    [<span class="hljs-number">0</span>] =&gt; Object
    [<span class="hljs-number">1</span>] =&gt; Object
    [<span class="hljs-number">2</span>] =&gt; Object
    ...</td></tr>
<tr><td class="line-number noselect"><a name="line-number-a7ef3befe35ac547a03db695fd151d5229970ab2-2" class="line-number-anchor" /><a href="#line-number-a7ef3befe35ac547a03db695fd151d5229970ab2-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a7ef3befe35ac547a03db695fd151d5229970ab2-3" class="line-number-anchor" /><a href="#line-number-a7ef3befe35ac547a03db695fd151d5229970ab2-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a7ef3befe35ac547a03db695fd151d5229970ab2-4" class="line-number-anchor" /><a href="#line-number-a7ef3befe35ac547a03db695fd151d5229970ab2-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a7ef3befe35ac547a03db695fd151d5229970ab2-5" class="line-number-anchor" /><a href="#line-number-a7ef3befe35ac547a03db695fd151d5229970ab2-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a7ef3befe35ac547a03db695fd151d5229970ab2-6" class="line-number-anchor" /><a href="#line-number-a7ef3befe35ac547a03db695fd151d5229970ab2-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a7ef3befe35ac547a03db695fd151d5229970ab2-7" class="line-number-anchor" /><a href="#line-number-a7ef3befe35ac547a03db695fd151d5229970ab2-7">7</a></td></tr></table></div></code></pre>
<p>A mixed result on the other hand has the following general
structure:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="ea8c1ece47c74cd6ce5a96523e896289cbde0c42"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="ea8c1ece47c74cd6ce5a96523e896289cbde0c42"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-1" class="line-number-anchor" /><a href="#line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-1">1</a></td><td class="code-line" rowspan="13">$dql = <span class="hljs-string">"SELECT u, 'some scalar string', count(g.id) AS num FROM User u JOIN u.groups g GROUP BY u.id"</span>;

<span class="hljs-keyword">array</span>
    [<span class="hljs-number">0</span>]
        [<span class="hljs-number">0</span>] =&gt; Object
        [<span class="hljs-number">1</span>] =&gt; <span class="hljs-string">"some scalar string"</span>
        [<span class="hljs-string">'num'</span>] =&gt; <span class="hljs-number">42</span>
        <span class="hljs-comment">// ... more scalar values, either indexed numerically or with a name</span>
    [<span class="hljs-number">1</span>]
        [<span class="hljs-number">0</span>] =&gt; Object
        [<span class="hljs-number">1</span>] =&gt; <span class="hljs-string">"some scalar string"</span>
        [<span class="hljs-string">'num'</span>] =&gt; <span class="hljs-number">42</span>
        <span class="hljs-comment">// ... more scalar values, either indexed numerically or with a name</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-2" class="line-number-anchor" /><a href="#line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-3" class="line-number-anchor" /><a href="#line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-4" class="line-number-anchor" /><a href="#line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-5" class="line-number-anchor" /><a href="#line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-6" class="line-number-anchor" /><a href="#line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-7" class="line-number-anchor" /><a href="#line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-8" class="line-number-anchor" /><a href="#line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-9" class="line-number-anchor" /><a href="#line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-10" class="line-number-anchor" /><a href="#line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-11" class="line-number-anchor" /><a href="#line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-12" class="line-number-anchor" /><a href="#line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-13" class="line-number-anchor" /><a href="#line-number-ea8c1ece47c74cd6ce5a96523e896289cbde0c42-13">13</a></td></tr></table></div></code></pre>
<p>To better understand mixed results, consider the following DQL
query:</p>
<pre class="code-block-table"><code class="sql"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="6e83baddefd6e5f787e128c3e62f83bd6d13c264"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="6e83baddefd6e5f787e128c3e62f83bd6d13c264"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-6e83baddefd6e5f787e128c3e62f83bd6d13c264-1" class="line-number-anchor" /><a href="#line-number-6e83baddefd6e5f787e128c3e62f83bd6d13c264-1">1</a></td><td class="code-line" rowspan="1"><span class="hljs-keyword">SELECT</span> u, <span class="hljs-keyword">UPPER</span>(u.name) nameUpper <span class="hljs-keyword">FROM</span> MyProject\<span class="hljs-keyword">Model</span>\<span class="hljs-keyword">User</span> u</td></tr></table></div></code></pre>
<p>This query makes use of the <code>UPPER</code> DQL function that returns a
scalar value and because there is now a scalar value in the SELECT
clause, we get a mixed result.</p>
<p>Conventions for mixed results are as follows:</p>
<ul><li class="dash"> The object fetched in the FROM clause is always positioned with the key '0'.</li>
<li class="dash"> Every scalar without a name is numbered in the order given in the query, starting with 1.</li>
<li class="dash"> Every aliased scalar is given with its alias-name as the key. The case of the name is kept.</li>
<li class="dash"> If several objects are fetched from the FROM clause they alternate every row.</li>
</ul>

<p>Here is how the result could look like:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="976619fb61154b78b27977ee8e63509a46419013"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="976619fb61154b78b27977ee8e63509a46419013"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-976619fb61154b78b27977ee8e63509a46419013-1" class="line-number-anchor" /><a href="#line-number-976619fb61154b78b27977ee8e63509a46419013-1">1</a></td><td class="code-line" rowspan="8"><span class="hljs-keyword">array</span>
    <span class="hljs-keyword">array</span>
        [<span class="hljs-number">0</span>] =&gt; User (Object)
        [<span class="hljs-string">'nameUpper'</span>] =&gt; <span class="hljs-string">"ROMAN"</span>
    <span class="hljs-keyword">array</span>
        [<span class="hljs-number">0</span>] =&gt; User (Object)
        [<span class="hljs-string">'nameUpper'</span>] =&gt; <span class="hljs-string">"JONATHAN"</span>
    ...</td></tr>
<tr><td class="line-number noselect"><a name="line-number-976619fb61154b78b27977ee8e63509a46419013-2" class="line-number-anchor" /><a href="#line-number-976619fb61154b78b27977ee8e63509a46419013-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-976619fb61154b78b27977ee8e63509a46419013-3" class="line-number-anchor" /><a href="#line-number-976619fb61154b78b27977ee8e63509a46419013-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-976619fb61154b78b27977ee8e63509a46419013-4" class="line-number-anchor" /><a href="#line-number-976619fb61154b78b27977ee8e63509a46419013-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-976619fb61154b78b27977ee8e63509a46419013-5" class="line-number-anchor" /><a href="#line-number-976619fb61154b78b27977ee8e63509a46419013-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-976619fb61154b78b27977ee8e63509a46419013-6" class="line-number-anchor" /><a href="#line-number-976619fb61154b78b27977ee8e63509a46419013-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-976619fb61154b78b27977ee8e63509a46419013-7" class="line-number-anchor" /><a href="#line-number-976619fb61154b78b27977ee8e63509a46419013-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-976619fb61154b78b27977ee8e63509a46419013-8" class="line-number-anchor" /><a href="#line-number-976619fb61154b78b27977ee8e63509a46419013-8">8</a></td></tr></table></div></code></pre>
<p>And here is how you would access it in PHP code:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="a9d01460c01eab82737114d088eb18c89677927f"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="a9d01460c01eab82737114d088eb18c89677927f"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-a9d01460c01eab82737114d088eb18c89677927f-1" class="line-number-anchor" /><a href="#line-number-a9d01460c01eab82737114d088eb18c89677927f-1">1</a></td><td class="code-line" rowspan="5"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">foreach</span> ($results <span class="hljs-keyword">as</span> $row) {
    <span class="hljs-keyword">echo</span> <span class="hljs-string">"Name: "</span> . $row[<span class="hljs-number">0</span>]-&gt;getName();
    <span class="hljs-keyword">echo</span> <span class="hljs-string">"Name UPPER: "</span> . $row[<span class="hljs-string">'nameUpper'</span>];
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-a9d01460c01eab82737114d088eb18c89677927f-2" class="line-number-anchor" /><a href="#line-number-a9d01460c01eab82737114d088eb18c89677927f-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a9d01460c01eab82737114d088eb18c89677927f-3" class="line-number-anchor" /><a href="#line-number-a9d01460c01eab82737114d088eb18c89677927f-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a9d01460c01eab82737114d088eb18c89677927f-4" class="line-number-anchor" /><a href="#line-number-a9d01460c01eab82737114d088eb18c89677927f-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a9d01460c01eab82737114d088eb18c89677927f-5" class="line-number-anchor" /><a href="#line-number-a9d01460c01eab82737114d088eb18c89677927f-5">5</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="fetching-multiple-from-entities" name="fetching-multiple-from-entities"></a><h3 class="section-header"><a href="#fetching-multiple-from-entities">Fetching Multiple FROM Entities<i class="fas fa-link"></i></a></h3>
<p>If you fetch multiple entities that are listed in the FROM clause then the hydration
will return the rows iterating the different top-level entities.</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="a90ee709b1e97418c61f8d44a0f4b995100f7123"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="a90ee709b1e97418c61f8d44a0f4b995100f7123"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-a90ee709b1e97418c61f8d44a0f4b995100f7123-1" class="line-number-anchor" /><a href="#line-number-a90ee709b1e97418c61f8d44a0f4b995100f7123-1">1</a></td><td class="code-line" rowspan="7">$dql = <span class="hljs-string">"SELECT u, g FROM User u, Group g"</span>;

<span class="hljs-keyword">array</span>
    [<span class="hljs-number">0</span>] =&gt; Object (User)
    [<span class="hljs-number">1</span>] =&gt; Object (Group)
    [<span class="hljs-number">2</span>] =&gt; Object (User)
    [<span class="hljs-number">3</span>] =&gt; Object (Group)</td></tr>
<tr><td class="line-number noselect"><a name="line-number-a90ee709b1e97418c61f8d44a0f4b995100f7123-2" class="line-number-anchor" /><a href="#line-number-a90ee709b1e97418c61f8d44a0f4b995100f7123-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a90ee709b1e97418c61f8d44a0f4b995100f7123-3" class="line-number-anchor" /><a href="#line-number-a90ee709b1e97418c61f8d44a0f4b995100f7123-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a90ee709b1e97418c61f8d44a0f4b995100f7123-4" class="line-number-anchor" /><a href="#line-number-a90ee709b1e97418c61f8d44a0f4b995100f7123-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a90ee709b1e97418c61f8d44a0f4b995100f7123-5" class="line-number-anchor" /><a href="#line-number-a90ee709b1e97418c61f8d44a0f4b995100f7123-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a90ee709b1e97418c61f8d44a0f4b995100f7123-6" class="line-number-anchor" /><a href="#line-number-a90ee709b1e97418c61f8d44a0f4b995100f7123-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a90ee709b1e97418c61f8d44a0f4b995100f7123-7" class="line-number-anchor" /><a href="#line-number-a90ee709b1e97418c61f8d44a0f4b995100f7123-7">7</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="hydration-modes" name="hydration-modes"></a><h3 class="section-header"><a href="#hydration-modes">Hydration Modes<i class="fas fa-link"></i></a></h3>
<p>Each of the Hydration Modes makes assumptions about how the result
is returned to user land. You should know about all the details to
make best use of the different result formats:</p>
<p>The constants for the different hydration modes are:</p>
<ul><li class="dash"> <code>Query::HYDRATE_OBJECT</code></li>
<li class="dash"> <code>Query::HYDRATE_ARRAY</code></li>
<li class="dash"> <code>Query::HYDRATE_SCALAR</code></li>
<li class="dash"> <code>Query::HYDRATE_SINGLE_SCALAR</code></li>
<li class="dash"> <code>Query::HYDRATE_SCALAR_COLUMN</code></li>
</ul>

<div class="section"><a class="section-anchor" id="object-hydration" name="object-hydration"></a><h4 class="section-header"><a href="#object-hydration">Object Hydration<i class="fas fa-link"></i></a></h4>
<p>Object hydration hydrates the result set into the object graph:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="cc43e7f78c5c3c61093b731b94345564c36ac6ba"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="cc43e7f78c5c3c61093b731b94345564c36ac6ba"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-cc43e7f78c5c3c61093b731b94345564c36ac6ba-1" class="line-number-anchor" /><a href="#line-number-cc43e7f78c5c3c61093b731b94345564c36ac6ba-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM CmsUser u'</span>);
$users = $query-&gt;getResult(Query::HYDRATE_OBJECT);</td></tr>
<tr><td class="line-number noselect"><a name="line-number-cc43e7f78c5c3c61093b731b94345564c36ac6ba-2" class="line-number-anchor" /><a href="#line-number-cc43e7f78c5c3c61093b731b94345564c36ac6ba-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cc43e7f78c5c3c61093b731b94345564c36ac6ba-3" class="line-number-anchor" /><a href="#line-number-cc43e7f78c5c3c61093b731b94345564c36ac6ba-3">3</a></td></tr></table></div></code></pre>
<p>Sometimes the behavior in the object hydrator can be confusing, which is
why we are listing as many of the assumptions here for reference:</p>
<ul><li class="dash">Objects fetched in a FROM clause are returned as a Set, that means every
  object is only ever included in the resulting array once. This is the case
  even when using JOIN or GROUP BY in ways that return the same row for an
  object multiple times. If the hydrator sees the same object multiple times,
  then it makes sure it is only returned once.</li>
<li class="dash">If an object is already in memory from a previous query of any kind, then
  then the previous object is used, even if the database may contain more
  recent data. Data from the database is discarded. This even happens if the
  previous object is still an unloaded proxy.</li>
</ul>

<p>This list might be incomplete.</p>
</div>
<div class="section"><a class="section-anchor" id="array-hydration" name="array-hydration"></a><h4 class="section-header"><a href="#array-hydration">Array Hydration<i class="fas fa-link"></i></a></h4>
<p>You can run the same query with array hydration and the result set
is hydrated into an array that represents the object graph:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="1dab966ad29132c49a881467ac7f8cf9fa22e836"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="1dab966ad29132c49a881467ac7f8cf9fa22e836"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-1dab966ad29132c49a881467ac7f8cf9fa22e836-1" class="line-number-anchor" /><a href="#line-number-1dab966ad29132c49a881467ac7f8cf9fa22e836-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM CmsUser u'</span>);
$users = $query-&gt;getResult(Query::HYDRATE_ARRAY);</td></tr>
<tr><td class="line-number noselect"><a name="line-number-1dab966ad29132c49a881467ac7f8cf9fa22e836-2" class="line-number-anchor" /><a href="#line-number-1dab966ad29132c49a881467ac7f8cf9fa22e836-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1dab966ad29132c49a881467ac7f8cf9fa22e836-3" class="line-number-anchor" /><a href="#line-number-1dab966ad29132c49a881467ac7f8cf9fa22e836-3">3</a></td></tr></table></div></code></pre>
<p>You can use the <code>getArrayResult()</code> shortcut as well:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="5c090bdbdfd52d93ae0ae909732b8381dfb94e29"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="5c090bdbdfd52d93ae0ae909732b8381dfb94e29"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-5c090bdbdfd52d93ae0ae909732b8381dfb94e29-1" class="line-number-anchor" /><a href="#line-number-5c090bdbdfd52d93ae0ae909732b8381dfb94e29-1">1</a></td><td class="code-line" rowspan="2"><span class="hljs-meta">&lt;?php</span>
$users = $query-&gt;getArrayResult();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-5c090bdbdfd52d93ae0ae909732b8381dfb94e29-2" class="line-number-anchor" /><a href="#line-number-5c090bdbdfd52d93ae0ae909732b8381dfb94e29-2">2</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="scalar-hydration" name="scalar-hydration"></a><h4 class="section-header"><a href="#scalar-hydration">Scalar Hydration<i class="fas fa-link"></i></a></h4>
<p>If you want to return a flat rectangular result set instead of an
object graph you can use scalar hydration:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="4881ec681845b0e8ae95927eeb155d71dbdec86d"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="4881ec681845b0e8ae95927eeb155d71dbdec86d"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-4881ec681845b0e8ae95927eeb155d71dbdec86d-1" class="line-number-anchor" /><a href="#line-number-4881ec681845b0e8ae95927eeb155d71dbdec86d-1">1</a></td><td class="code-line" rowspan="4"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM CmsUser u'</span>);
$users = $query-&gt;getResult(Query::HYDRATE_SCALAR);
<span class="hljs-keyword">echo</span> $users[<span class="hljs-number">0</span>][<span class="hljs-string">'u_id'</span>];</td></tr>
<tr><td class="line-number noselect"><a name="line-number-4881ec681845b0e8ae95927eeb155d71dbdec86d-2" class="line-number-anchor" /><a href="#line-number-4881ec681845b0e8ae95927eeb155d71dbdec86d-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4881ec681845b0e8ae95927eeb155d71dbdec86d-3" class="line-number-anchor" /><a href="#line-number-4881ec681845b0e8ae95927eeb155d71dbdec86d-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4881ec681845b0e8ae95927eeb155d71dbdec86d-4" class="line-number-anchor" /><a href="#line-number-4881ec681845b0e8ae95927eeb155d71dbdec86d-4">4</a></td></tr></table></div></code></pre>
<p>The following assumptions are made about selected fields using
Scalar Hydration:</p>
<ol><li>Fields from classes are prefixed by the DQL alias in the result.
   A query of the kind 'SELECT u.name ..' returns a key 'u_name' in
   the result rows.</li>
</ol>

</div>
<div class="section"><a class="section-anchor" id="single-scalar-hydration" name="single-scalar-hydration"></a><h4 class="section-header"><a href="#single-scalar-hydration">Single Scalar Hydration<i class="fas fa-link"></i></a></h4>
<p>If you have a query which returns just a single scalar value you can use
single scalar hydration:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="fa672517245b1ea1d27843176d8df964323dca50"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="fa672517245b1ea1d27843176d8df964323dca50"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-fa672517245b1ea1d27843176d8df964323dca50-1" class="line-number-anchor" /><a href="#line-number-fa672517245b1ea1d27843176d8df964323dca50-1">1</a></td><td class="code-line" rowspan="4"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT COUNT(a.id) FROM CmsUser u LEFT JOIN u.articles a WHERE u.username = ?1 GROUP BY u.id'</span>);
$query-&gt;setParameter(<span class="hljs-number">1</span>, <span class="hljs-string">'jwage'</span>);
$numArticles = $query-&gt;getResult(Query::HYDRATE_SINGLE_SCALAR);</td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa672517245b1ea1d27843176d8df964323dca50-2" class="line-number-anchor" /><a href="#line-number-fa672517245b1ea1d27843176d8df964323dca50-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa672517245b1ea1d27843176d8df964323dca50-3" class="line-number-anchor" /><a href="#line-number-fa672517245b1ea1d27843176d8df964323dca50-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-fa672517245b1ea1d27843176d8df964323dca50-4" class="line-number-anchor" /><a href="#line-number-fa672517245b1ea1d27843176d8df964323dca50-4">4</a></td></tr></table></div></code></pre>
<p>You can use the <code>getSingleScalarResult()</code> shortcut as well:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="4ad8c4cfb2105647271ebf6b55f6543f17223a02"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="4ad8c4cfb2105647271ebf6b55f6543f17223a02"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-4ad8c4cfb2105647271ebf6b55f6543f17223a02-1" class="line-number-anchor" /><a href="#line-number-4ad8c4cfb2105647271ebf6b55f6543f17223a02-1">1</a></td><td class="code-line" rowspan="2"><span class="hljs-meta">&lt;?php</span>
$numArticles = $query-&gt;getSingleScalarResult();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-4ad8c4cfb2105647271ebf6b55f6543f17223a02-2" class="line-number-anchor" /><a href="#line-number-4ad8c4cfb2105647271ebf6b55f6543f17223a02-2">2</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="scalar-column-hydration" name="scalar-column-hydration"></a><h4 class="section-header"><a href="#scalar-column-hydration">Scalar Column Hydration<i class="fas fa-link"></i></a></h4>
<p>If you have a query which returns a one-dimensional array of scalar values
you can use scalar column hydration:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="ba263ca534952e7f9bf0f7f6653bc1c2917de938"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="ba263ca534952e7f9bf0f7f6653bc1c2917de938"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-ba263ca534952e7f9bf0f7f6653bc1c2917de938-1" class="line-number-anchor" /><a href="#line-number-ba263ca534952e7f9bf0f7f6653bc1c2917de938-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT a.id FROM CmsUser u'</span>);
$ids = $query-&gt;getResult(Query::HYDRATE_SCALAR_COLUMN);</td></tr>
<tr><td class="line-number noselect"><a name="line-number-ba263ca534952e7f9bf0f7f6653bc1c2917de938-2" class="line-number-anchor" /><a href="#line-number-ba263ca534952e7f9bf0f7f6653bc1c2917de938-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ba263ca534952e7f9bf0f7f6653bc1c2917de938-3" class="line-number-anchor" /><a href="#line-number-ba263ca534952e7f9bf0f7f6653bc1c2917de938-3">3</a></td></tr></table></div></code></pre>
<p>You can use the <code>getSingleColumnResult()</code> shortcut as well:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="05ab787714fa8f302b7a31ce3d31adf6ff9a8181"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="05ab787714fa8f302b7a31ce3d31adf6ff9a8181"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-05ab787714fa8f302b7a31ce3d31adf6ff9a8181-1" class="line-number-anchor" /><a href="#line-number-05ab787714fa8f302b7a31ce3d31adf6ff9a8181-1">1</a></td><td class="code-line" rowspan="2"><span class="hljs-meta">&lt;?php</span>
$ids = $query-&gt;getSingleColumnResult();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-05ab787714fa8f302b7a31ce3d31adf6ff9a8181-2" class="line-number-anchor" /><a href="#line-number-05ab787714fa8f302b7a31ce3d31adf6ff9a8181-2">2</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="custom-hydration-modes" name="custom-hydration-modes"></a><h4 class="section-header"><a href="#custom-hydration-modes">Custom Hydration Modes<i class="fas fa-link"></i></a></h4>
<p>You can easily add your own custom hydration modes by first
creating a class which extends <code>AbstractHydrator</code>:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="09a18bd74d02242cd21cdc748fdad229075277d2"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="09a18bd74d02242cd21cdc748fdad229075277d2"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-09a18bd74d02242cd21cdc748fdad229075277d2-1" class="line-number-anchor" /><a href="#line-number-09a18bd74d02242cd21cdc748fdad229075277d2-1">1</a></td><td class="code-line" rowspan="12"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">MyProject</span>\<span class="hljs-title">Hydrators</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ORM</span>\<span class="hljs-title">Internal</span>\<span class="hljs-title">Hydration</span>\<span class="hljs-title">AbstractHydrator</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomHydrator</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractHydrator</span>
</span>{
    <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_hydrateAll</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;_stmt-&gt;fetchAllAssociative();
    }
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-09a18bd74d02242cd21cdc748fdad229075277d2-2" class="line-number-anchor" /><a href="#line-number-09a18bd74d02242cd21cdc748fdad229075277d2-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-09a18bd74d02242cd21cdc748fdad229075277d2-3" class="line-number-anchor" /><a href="#line-number-09a18bd74d02242cd21cdc748fdad229075277d2-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-09a18bd74d02242cd21cdc748fdad229075277d2-4" class="line-number-anchor" /><a href="#line-number-09a18bd74d02242cd21cdc748fdad229075277d2-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-09a18bd74d02242cd21cdc748fdad229075277d2-5" class="line-number-anchor" /><a href="#line-number-09a18bd74d02242cd21cdc748fdad229075277d2-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-09a18bd74d02242cd21cdc748fdad229075277d2-6" class="line-number-anchor" /><a href="#line-number-09a18bd74d02242cd21cdc748fdad229075277d2-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-09a18bd74d02242cd21cdc748fdad229075277d2-7" class="line-number-anchor" /><a href="#line-number-09a18bd74d02242cd21cdc748fdad229075277d2-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-09a18bd74d02242cd21cdc748fdad229075277d2-8" class="line-number-anchor" /><a href="#line-number-09a18bd74d02242cd21cdc748fdad229075277d2-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-09a18bd74d02242cd21cdc748fdad229075277d2-9" class="line-number-anchor" /><a href="#line-number-09a18bd74d02242cd21cdc748fdad229075277d2-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-09a18bd74d02242cd21cdc748fdad229075277d2-10" class="line-number-anchor" /><a href="#line-number-09a18bd74d02242cd21cdc748fdad229075277d2-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-09a18bd74d02242cd21cdc748fdad229075277d2-11" class="line-number-anchor" /><a href="#line-number-09a18bd74d02242cd21cdc748fdad229075277d2-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-09a18bd74d02242cd21cdc748fdad229075277d2-12" class="line-number-anchor" /><a href="#line-number-09a18bd74d02242cd21cdc748fdad229075277d2-12">12</a></td></tr></table></div></code></pre>
<p>Next you just need to add the class to the ORM configuration:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="48090d4ac036e9be2e43b7f95fe896cc926ac37f"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="48090d4ac036e9be2e43b7f95fe896cc926ac37f"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-48090d4ac036e9be2e43b7f95fe896cc926ac37f-1" class="line-number-anchor" /><a href="#line-number-48090d4ac036e9be2e43b7f95fe896cc926ac37f-1">1</a></td><td class="code-line" rowspan="2"><span class="hljs-meta">&lt;?php</span>
$em-&gt;getConfiguration()-&gt;addCustomHydrationMode(<span class="hljs-string">'CustomHydrator'</span>, <span class="hljs-string">'MyProject\Hydrators\CustomHydrator'</span>);</td></tr>
<tr><td class="line-number noselect"><a name="line-number-48090d4ac036e9be2e43b7f95fe896cc926ac37f-2" class="line-number-anchor" /><a href="#line-number-48090d4ac036e9be2e43b7f95fe896cc926ac37f-2">2</a></td></tr></table></div></code></pre>
<p>Now the hydrator is ready to be used in your queries:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="825a4dc46d9d0c1770e6c01c1ae57542d76e1408"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="825a4dc46d9d0c1770e6c01c1ae57542d76e1408"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-825a4dc46d9d0c1770e6c01c1ae57542d76e1408-1" class="line-number-anchor" /><a href="#line-number-825a4dc46d9d0c1770e6c01c1ae57542d76e1408-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM CmsUser u'</span>);
$results = $query-&gt;getResult(<span class="hljs-string">'CustomHydrator'</span>);</td></tr>
<tr><td class="line-number noselect"><a name="line-number-825a4dc46d9d0c1770e6c01c1ae57542d76e1408-2" class="line-number-anchor" /><a href="#line-number-825a4dc46d9d0c1770e6c01c1ae57542d76e1408-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-825a4dc46d9d0c1770e6c01c1ae57542d76e1408-3" class="line-number-anchor" /><a href="#line-number-825a4dc46d9d0c1770e6c01c1ae57542d76e1408-3">3</a></td></tr></table></div></code></pre>
</div>
</div>
</div>
<div class="section"><a class="section-anchor" id="iterating-large-result-sets" name="iterating-large-result-sets"></a><h3 class="section-header"><a href="#iterating-large-result-sets">Iterating Large Result Sets<i class="fas fa-link"></i></a></h3>
<p>There are situations when a query you want to execute returns a
very large result-set that needs to be processed. All the
previously described hydration modes completely load a result-set
into memory which might not be feasible with large result sets. See
the <a href="batch-processing.html">Batch Processing</a> section on
details how to iterate large result sets.</p>
</div>
<div class="section"><a class="section-anchor" id="functions" name="functions"></a><h3 class="section-header"><a href="#functions">Functions<i class="fas fa-link"></i></a></h3>
<p>The following methods exist on the <code>AbstractQuery</code> which both
<code>Query</code> and <code>NativeQuery</code> extend from.</p>
<div class="section"><a class="section-anchor" id="parameters" name="parameters"></a><h4 class="section-header"><a href="#parameters">Parameters<i class="fas fa-link"></i></a></h4>
<p>Prepared Statements that use numerical or named wildcards require
additional parameters to be executable against the database. To
pass parameters to the query the following methods can be used:</p>
<ul><li class="dash"> <code>AbstractQuery::setParameter($param, $value)</code> - Set the
   numerical or named wildcard to the given value.</li>
<li class="dash"> <code>AbstractQuery::setParameters(array $params)</code> - Set an array
   of parameter key-value pairs.</li>
<li class="dash"> <code>AbstractQuery::getParameter($param)</code></li>
<li class="dash"> <code>AbstractQuery::getParameters()</code></li>
</ul>

<p>Both named and positional parameters are passed to these methods without their ? or : prefix.</p>
</div>
<div class="section"><a class="section-anchor" id="cache-related-api" name="cache-related-api"></a><h4 class="section-header"><a href="#cache-related-api">Cache related API<i class="fas fa-link"></i></a></h4>
<p>You can cache query results based either on all variables that
define the result (SQL, Hydration Mode, Parameters and Hints) or on
user-defined cache keys. However by default query results are not
cached at all. You have to enable the result cache on a per query
basis. The following example shows a complete workflow using the
Result Cache API:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="6dff8d29e5061e9272eb287f67877d97e4f6bd29"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="6dff8d29e5061e9272eb287f67877d97e4f6bd29"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-1" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-1">1</a></td><td class="code-line" rowspan="26"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">'SELECT u FROM MyProject\Model\User u WHERE u.id = ?1'</span>);
$query-&gt;setParameter(<span class="hljs-number">1</span>, <span class="hljs-number">12</span>);

$query-&gt;setResultCacheDriver(<span class="hljs-keyword">new</span> ApcCache());

$query-&gt;useResultCache(<span class="hljs-keyword">true</span>)
      -&gt;setResultCacheLifeTime($seconds = <span class="hljs-number">3600</span>);

$result = $query-&gt;getResult(); <span class="hljs-comment">// cache miss</span>

$query-&gt;expireResultCache(<span class="hljs-keyword">true</span>);
$result = $query-&gt;getResult(); <span class="hljs-comment">// forced expire, cache miss</span>

$query-&gt;setResultCacheId(<span class="hljs-string">'my_query_result'</span>);
$result = $query-&gt;getResult(); <span class="hljs-comment">// saved in given result cache id.</span>

<span class="hljs-comment">// or call useResultCache() with all parameters:</span>
$query-&gt;useResultCache(<span class="hljs-keyword">true</span>, $seconds = <span class="hljs-number">3600</span>, <span class="hljs-string">'my_query_result'</span>);
$result = $query-&gt;getResult(); <span class="hljs-comment">// cache hit!</span>

<span class="hljs-comment">// Introspection</span>
$queryCacheProfile = $query-&gt;getQueryCacheProfile();
$cacheDriver = $query-&gt;getResultCacheDriver();
$lifetime = $query-&gt;getLifetime();
$key = $query-&gt;getCacheKey();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-2" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-3" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-4" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-5" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-6" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-7" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-8" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-9" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-10" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-11" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-12" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-13" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-14" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-15" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-16" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-17" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-18" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-19" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-20" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-21" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-22" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-23" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-24" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-25" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-26" class="line-number-anchor" /><a href="#line-number-6dff8d29e5061e9272eb287f67877d97e4f6bd29-26">26</a></td></tr></table></div></code></pre>
<div class="alert note-admonition bg-light-yellow text-dark border"><table width="100%"><tr><td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td><td><p>You can set the Result Cache Driver globally on the
<code>Doctrine\ORM\Configuration</code> instance so that it is passed to
every <code>Query</code> and <code>NativeQuery</code> instance.</p>
</td></tr></table></div>
</div>
<div class="section"><a class="section-anchor" id="query-hints" name="query-hints"></a><h4 class="section-header"><a href="#query-hints">Query Hints<i class="fas fa-link"></i></a></h4>
<p>You can pass hints to the query parser and hydrators by using the
<code>AbstractQuery::setHint($name, $value)</code> method. Currently there
exist mostly internal query hints that are not be consumed in
userland. However the following few hints are to be used in
userland:</p>
<ul><li class="dash"> <code>Query::HINT_FORCE_PARTIAL_LOAD</code> - Allows to hydrate objects
   although not all their columns are fetched. This query hint can be
   used to handle memory consumption problems with large result-sets
   that contain char or binary data. Doctrine has no way of implicitly
   reloading this data. Partially loaded objects have to be passed to
   <code>EntityManager::refresh()</code> if they are to be reloaded fully from
   the database. This query hint is deprecated and will be removed
   in the future (`Details &lt;<a href="https://github.com/doctrine/orm/issues/8471">https://github.com/doctrine/orm/issues/8471</a>&gt;`_)</li>
<li class="dash"> <code>Query::HINT_REFRESH</code> - This query is used internally by
   <code>EntityManager::refresh()</code> and can be used in userland as well.
   If you specify this hint and a query returns the data for an entity
   that is already managed by the UnitOfWork, the fields of the
   existing entity will be refreshed. In normal operation a result-set
   that loads data of an already existing entity is discarded in favor
   of the already existing entity.</li>
<li class="dash"> <code>Query::HINT_CUSTOM_TREE_WALKERS</code> - An array of additional
   <code>Doctrine\ORM\Query\TreeWalker</code> instances that are attached to
   the DQL query parsing process.</li>
</ul>

</div>
<div class="section"><a class="section-anchor" id="query-cache-dql-query-only" name="query-cache-dql-query-only"></a><h4 class="section-header"><a href="#query-cache-dql-query-only">Query Cache (DQL Query Only)<i class="fas fa-link"></i></a></h4>
<p>Parsing a DQL query and converting it into a SQL query against the
underlying database platform obviously has some overhead in
contrast to directly executing Native SQL queries. That is why
there is a dedicated Query Cache for caching the DQL parser
results. In combination with the use of wildcards you can reduce
the number of parsed queries in production to zero.</p>
<p>The Query Cache Driver is passed from the
<code>Doctrine\ORM\Configuration</code> instance to each
<code>Doctrine\ORM\Query</code> instance by default and is also enabled by
default. This also means you don't regularly need to fiddle with
the parameters of the Query Cache, however if you do there are
several methods to interact with it:</p>
<ul><li class="dash"> <code>Query::setQueryCacheDriver($driver)</code> - Allows to set a Cache
   instance</li>
<li class="dash"> <code>Query::setQueryCacheLifeTime($seconds = 3600)</code> - Set lifetime
   of the query caching.</li>
<li class="dash"> <code>Query::expireQueryCache($bool)</code> - Enforce the expiring of the
   query cache if set to true.</li>
<li class="dash"> <code>Query::getExpireQueryCache()</code></li>
<li class="dash"> <code>Query::getQueryCacheDriver()</code></li>
<li class="dash"> <code>Query::getQueryCacheLifeTime()</code></li>
</ul>

</div>
<div class="section"><a class="section-anchor" id="first-and-max-result-items-dql-query-only" name="first-and-max-result-items-dql-query-only"></a><h4 class="section-header"><a href="#first-and-max-result-items-dql-query-only">First and Max Result Items (DQL Query Only)<i class="fas fa-link"></i></a></h4>
<p>You can limit the number of results returned from a DQL query as
well as specify the starting offset, Doctrine then uses a strategy
of manipulating the select query to return only the requested
number of results:</p>
<ul><li class="dash"> <code>Query::setMaxResults($maxResults)</code></li>
<li class="dash"> <code>Query::setFirstResult($offset)</code></li>
</ul>

<div class="alert note-admonition bg-light-yellow text-dark border"><table width="100%"><tr><td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td><td><p>If your query contains a fetch-joined collection
specifying the result limit methods are not working as you would
expect. Set Max Results restricts the number of database result
rows, however in the case of fetch-joined collections one root
entity might appear in many rows, effectively hydrating less than
the specified number of results.</p>
</td></tr></table></div>
<a id="dql-temporarily-change-fetch-mode"></a>
</div>
<div class="section"><a class="section-anchor" id="temporarily-change-fetch-mode-in-dql" name="temporarily-change-fetch-mode-in-dql"></a><h4 class="section-header"><a href="#temporarily-change-fetch-mode-in-dql">Temporarily change fetch mode in DQL<i class="fas fa-link"></i></a></h4>
<p>While normally all your associations are marked as lazy or extra lazy you will have cases where you are using DQL and don't want to
fetch join a second, third or fourth level of entities into your result, because of the increased cost of the SQL JOIN. You
can mark a many-to-one or one-to-one association as fetched temporarily to batch fetch these entities using a WHERE .. IN query.</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="e178e7546d022f85cff5523c290e46b46df51b3f"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="e178e7546d022f85cff5523c290e46b46df51b3f"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-e178e7546d022f85cff5523c290e46b46df51b3f-1" class="line-number-anchor" /><a href="#line-number-e178e7546d022f85cff5523c290e46b46df51b3f-1">1</a></td><td class="code-line" rowspan="4"><span class="hljs-meta">&lt;?php</span>
$query = $em-&gt;createQuery(<span class="hljs-string">"SELECT u FROM MyProject\User u"</span>);
$query-&gt;setFetchMode(<span class="hljs-string">"MyProject\User"</span>, <span class="hljs-string">"address"</span>, \Doctrine\ORM\Mapping\ClassMetadata::FETCH_EAGER);
$query-&gt;execute();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-e178e7546d022f85cff5523c290e46b46df51b3f-2" class="line-number-anchor" /><a href="#line-number-e178e7546d022f85cff5523c290e46b46df51b3f-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e178e7546d022f85cff5523c290e46b46df51b3f-3" class="line-number-anchor" /><a href="#line-number-e178e7546d022f85cff5523c290e46b46df51b3f-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e178e7546d022f85cff5523c290e46b46df51b3f-4" class="line-number-anchor" /><a href="#line-number-e178e7546d022f85cff5523c290e46b46df51b3f-4">4</a></td></tr></table></div></code></pre>
<p>Given that there are 10 users and corresponding addresses in the database the executed queries will look something like:</p>
<pre class="code-block-table"><code class="sql"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="89eb7f6f2687ccefe29e46a46b4fff3d76651913"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="89eb7f6f2687ccefe29e46a46b4fff3d76651913"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-89eb7f6f2687ccefe29e46a46b4fff3d76651913-1" class="line-number-anchor" /><a href="#line-number-89eb7f6f2687ccefe29e46a46b4fff3d76651913-1">1</a></td><td class="code-line" rowspan="2"><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">users</span>;
<span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> address <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">IN</span> (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>);</td></tr>
<tr><td class="line-number noselect"><a name="line-number-89eb7f6f2687ccefe29e46a46b4fff3d76651913-2" class="line-number-anchor" /><a href="#line-number-89eb7f6f2687ccefe29e46a46b4fff3d76651913-2">2</a></td></tr></table></div></code></pre>
<div class="alert note-admonition bg-light-yellow text-dark border"><table width="100%"><tr><td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td><td><p>Changing the fetch mode during a query mostly makes sense for one-to-one and many-to-one relations. In that case,
all the necessary IDs are available after the root entity (<code>user</code> in the above example) has been loaded. So, one
query per association can be executed to fetch all the referred-to entities (<code>address</code>).</p>
<p>For one-to-many relations, changing the fetch mode to eager will cause to execute one query <strong>for every root entity
loaded</strong>. This gives no improvement over the <code>lazy</code> fetch mode which will also initialize the associations on
a one-by-one basis once they are accessed.</p>
</td></tr></table></div>
<a id="dql_ebnf_grammar"></a>
</div>
</div>
<div class="section"><a class="section-anchor" id="ebnf" name="ebnf"></a><h2 class="section-header"><a href="#ebnf">EBNF<i class="fas fa-link"></i></a></h2>
<p>The following context-free grammar, written in an EBNF variant,
describes the Doctrine Query Language. You can consult this grammar
whenever you are unsure about what is possible with DQL or what the
correct syntax for a particular query should be.</p>
<div class="section"><a class="section-anchor" id="document-syntax" name="document-syntax"></a><h3 class="section-header"><a href="#document-syntax">Document syntax:<i class="fas fa-link"></i></a></h3>
<ul><li class="dash"> non-terminals begin with an upper case character</li>
<li class="dash"> terminals begin with a lower case character</li>
<li class="dash"> parentheses (...) are used for grouping</li>
<li class="dash"> square brackets [...] are used for defining an optional part,
   e.g. zero or one time</li>
<li class="dash"> curly brackets {...} are used for repetition, e.g. zero or more
   times</li>
<li class="dash"> double quotation marks &quot;...&quot; define a terminal string</li>
<li class="dash"> a vertical bar \| represents an alternative</li>
</ul>

</div>
<div class="section"><a class="section-anchor" id="terminals" name="terminals"></a><h3 class="section-header"><a href="#terminals">Terminals<i class="fas fa-link"></i></a></h3>
<ul><li class="dash"> identifier (name, email, ...) must match <code>[a-z_][a-z0-9_]*</code></li>
<li class="dash"> fully_qualified_name (Doctrine\Tests\Models\CMS\CmsUser) matches PHP's fully qualified class names</li>
<li class="dash"> string ('foo', 'bar''s house', '%ninja%', ...)</li>
<li class="dash"> char ('/', '\\', ' ', ...)</li>
<li class="dash"> integer (-1, 0, 1, 34, ...)</li>
<li class="dash"> float (-0.23, 0.007, 1.245342E+8, ...)</li>
<li class="dash"> boolean (false, true)</li>
</ul>

</div>
<div class="section"><a class="section-anchor" id="query-language" name="query-language"></a><h3 class="section-header"><a href="#query-language">Query Language<i class="fas fa-link"></i></a></h3>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="5041bbc84189f77c0232949c4388cfdab09e5b53"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="5041bbc84189f77c0232949c4388cfdab09e5b53"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-5041bbc84189f77c0232949c4388cfdab09e5b53-1" class="line-number-anchor" /><a href="#line-number-5041bbc84189f77c0232949c4388cfdab09e5b53-1">1</a></td><td class="code-line" rowspan="1">QueryLanguage ::= SelectStatement | UpdateStatement | DeleteStatement</td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="statements" name="statements"></a><h3 class="section-header"><a href="#statements">Statements<i class="fas fa-link"></i></a></h3>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="6b7f2fc76a4ed9039d37585dd5ea816ce6be69ac"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="6b7f2fc76a4ed9039d37585dd5ea816ce6be69ac"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-6b7f2fc76a4ed9039d37585dd5ea816ce6be69ac-1" class="line-number-anchor" /><a href="#line-number-6b7f2fc76a4ed9039d37585dd5ea816ce6be69ac-1">1</a></td><td class="code-line" rowspan="3">SelectStatement ::= SelectClause FromClause [WhereClause] [GroupByClause] [HavingClause] [OrderByClause]
UpdateStatement ::= UpdateClause [WhereClause]
DeleteStatement ::= DeleteClause [WhereClause]</td></tr>
<tr><td class="line-number noselect"><a name="line-number-6b7f2fc76a4ed9039d37585dd5ea816ce6be69ac-2" class="line-number-anchor" /><a href="#line-number-6b7f2fc76a4ed9039d37585dd5ea816ce6be69ac-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6b7f2fc76a4ed9039d37585dd5ea816ce6be69ac-3" class="line-number-anchor" /><a href="#line-number-6b7f2fc76a4ed9039d37585dd5ea816ce6be69ac-3">3</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="identifiers" name="identifiers"></a><h3 class="section-header"><a href="#identifiers">Identifiers<i class="fas fa-link"></i></a></h3>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="395838272ebad46522d6c41cc7e76688b9fdfa62"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="395838272ebad46522d6c41cc7e76688b9fdfa62"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-1" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-1">1</a></td><td class="code-line" rowspan="31"><span class="hljs-comment">/* Alias Identification usage (the "u" of "u.name") */</span>
IdentificationVariable ::= identifier

<span class="hljs-comment">/* Alias Identification declaration (the "u" of "FROM User u") */</span>
AliasIdentificationVariable :: = identifier

<span class="hljs-comment">/* identifier that must be a class name (the "User" of "FROM User u"), possibly as a fully qualified class name or namespace-aliased */</span>
AbstractSchemaName ::= fully_qualified_name | aliased_name | identifier

<span class="hljs-comment">/* Alias ResultVariable declaration (the "total" of "COUNT(*) AS total") */</span>
AliasResultVariable = identifier

<span class="hljs-comment">/* ResultVariable identifier usage of mapped field aliases (the "total" of "COUNT(*) AS total") */</span>
ResultVariable = identifier

<span class="hljs-comment">/* identifier that must be a field (the "name" of "u.name") */</span>
<span class="hljs-comment">/* This is responsible to know if the field exists in Object, no matter if it's a relation or a simple field */</span>
FieldIdentificationVariable ::= identifier

<span class="hljs-comment">/* identifier that must be a collection-valued association field (to-many) (the "Phonenumbers" of "u.Phonenumbers") */</span>
CollectionValuedAssociationField ::= FieldIdentificationVariable

<span class="hljs-comment">/* identifier that must be a single-valued association field (to-one) (the "Group" of "u.Group") */</span>
SingleValuedAssociationField ::= FieldIdentificationVariable

<span class="hljs-comment">/* identifier that must be an embedded class state field */</span>
EmbeddedClassStateField ::= FieldIdentificationVariable

<span class="hljs-comment">/* identifier that must be a simple state field (name, email, ...) (the "name" of "u.name") */</span>
<span class="hljs-comment">/* The difference between this and FieldIdentificationVariable is only semantical, because it points to a single field (not mapping to a relation) */</span>
SimpleStateField ::= FieldIdentificationVariable</td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-2" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-3" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-4" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-5" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-6" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-7" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-8" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-9" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-10" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-11" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-12" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-13" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-14" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-15" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-16" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-17" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-18" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-19" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-20" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-21" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-22" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-23" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-24" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-25" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-26" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-27" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-27">27</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-28" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-28">28</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-29" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-29">29</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-30" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-30">30</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-31" class="line-number-anchor" /><a href="#line-number-395838272ebad46522d6c41cc7e76688b9fdfa62-31">31</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="path-expressions" name="path-expressions"></a><h3 class="section-header"><a href="#path-expressions">Path Expressions<i class="fas fa-link"></i></a></h3>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-1" class="line-number-anchor" /><a href="#line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-1">1</a></td><td class="code-line" rowspan="20"><span class="hljs-comment">/* "u.Group" or "u.Phonenumbers" declarations */</span>
JoinAssociationPathExpression             ::= IdentificationVariable <span class="hljs-string">"."</span> (CollectionValuedAssociationField | SingleValuedAssociationField)

<span class="hljs-comment">/* "u.Group" or "u.Phonenumbers" usages */</span>
AssociationPathExpression                 ::= CollectionValuedPathExpression | SingleValuedAssociationPathExpression

<span class="hljs-comment">/* "u.name" or "u.Group" */</span>
SingleValuedPathExpression                ::= StateFieldPathExpression | SingleValuedAssociationPathExpression

<span class="hljs-comment">/* "u.name" or "u.Group.name" */</span>
StateFieldPathExpression                  ::= IdentificationVariable <span class="hljs-string">"."</span> StateField

<span class="hljs-comment">/* "u.Group" */</span>
SingleValuedAssociationPathExpression     ::= IdentificationVariable <span class="hljs-string">"."</span> SingleValuedAssociationField

<span class="hljs-comment">/* "u.Group.Permissions" */</span>
CollectionValuedPathExpression            ::= IdentificationVariable <span class="hljs-string">"."</span> CollectionValuedAssociationField

<span class="hljs-comment">/* "name" */</span>
StateField                                ::= {EmbeddedClassStateField <span class="hljs-string">"."</span>}* SimpleStateField</td></tr>
<tr><td class="line-number noselect"><a name="line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-2" class="line-number-anchor" /><a href="#line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-3" class="line-number-anchor" /><a href="#line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-4" class="line-number-anchor" /><a href="#line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-5" class="line-number-anchor" /><a href="#line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-6" class="line-number-anchor" /><a href="#line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-7" class="line-number-anchor" /><a href="#line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-8" class="line-number-anchor" /><a href="#line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-9" class="line-number-anchor" /><a href="#line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-10" class="line-number-anchor" /><a href="#line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-11" class="line-number-anchor" /><a href="#line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-12" class="line-number-anchor" /><a href="#line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-13" class="line-number-anchor" /><a href="#line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-14" class="line-number-anchor" /><a href="#line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-15" class="line-number-anchor" /><a href="#line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-16" class="line-number-anchor" /><a href="#line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-17" class="line-number-anchor" /><a href="#line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-18" class="line-number-anchor" /><a href="#line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-19" class="line-number-anchor" /><a href="#line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-20" class="line-number-anchor" /><a href="#line-number-1af28bbdd4b3bb4d5ed12a26bb3db560f22cb8c0-20">20</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="clauses" name="clauses"></a><h3 class="section-header"><a href="#clauses">Clauses<i class="fas fa-link"></i></a></h3>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="d638eb758d2ce25f3e5124a95865b614da236284"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="d638eb758d2ce25f3e5124a95865b614da236284"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-d638eb758d2ce25f3e5124a95865b614da236284-1" class="line-number-anchor" /><a href="#line-number-d638eb758d2ce25f3e5124a95865b614da236284-1">1</a></td><td class="code-line" rowspan="11">SelectClause        ::= <span class="hljs-string">"SELECT"</span> [<span class="hljs-string">"DISTINCT"</span>] SelectExpression {<span class="hljs-string">","</span> SelectExpression}*
SimpleSelectClause  ::= <span class="hljs-string">"SELECT"</span> [<span class="hljs-string">"DISTINCT"</span>] SimpleSelectExpression
UpdateClause        ::= <span class="hljs-string">"UPDATE"</span> AbstractSchemaName [<span class="hljs-string">"AS"</span>] AliasIdentificationVariable <span class="hljs-string">"SET"</span> UpdateItem {<span class="hljs-string">","</span> UpdateItem}*
DeleteClause        ::= <span class="hljs-string">"DELETE"</span> [<span class="hljs-string">"FROM"</span>] AbstractSchemaName [<span class="hljs-string">"AS"</span>] AliasIdentificationVariable
FromClause          ::= <span class="hljs-string">"FROM"</span> IdentificationVariableDeclaration {<span class="hljs-string">","</span> IdentificationVariableDeclaration}*
SubselectFromClause ::= <span class="hljs-string">"FROM"</span> SubselectIdentificationVariableDeclaration {<span class="hljs-string">","</span> SubselectIdentificationVariableDeclaration}*
WhereClause         ::= <span class="hljs-string">"WHERE"</span> ConditionalExpression
HavingClause        ::= <span class="hljs-string">"HAVING"</span> ConditionalExpression
GroupByClause       ::= <span class="hljs-string">"GROUP"</span> <span class="hljs-string">"BY"</span> GroupByItem {<span class="hljs-string">","</span> GroupByItem}*
OrderByClause       ::= <span class="hljs-string">"ORDER"</span> <span class="hljs-string">"BY"</span> OrderByItem {<span class="hljs-string">","</span> OrderByItem}*
Subselect           ::= SimpleSelectClause SubselectFromClause [WhereClause] [GroupByClause] [HavingClause] [OrderByClause]</td></tr>
<tr><td class="line-number noselect"><a name="line-number-d638eb758d2ce25f3e5124a95865b614da236284-2" class="line-number-anchor" /><a href="#line-number-d638eb758d2ce25f3e5124a95865b614da236284-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d638eb758d2ce25f3e5124a95865b614da236284-3" class="line-number-anchor" /><a href="#line-number-d638eb758d2ce25f3e5124a95865b614da236284-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d638eb758d2ce25f3e5124a95865b614da236284-4" class="line-number-anchor" /><a href="#line-number-d638eb758d2ce25f3e5124a95865b614da236284-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d638eb758d2ce25f3e5124a95865b614da236284-5" class="line-number-anchor" /><a href="#line-number-d638eb758d2ce25f3e5124a95865b614da236284-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d638eb758d2ce25f3e5124a95865b614da236284-6" class="line-number-anchor" /><a href="#line-number-d638eb758d2ce25f3e5124a95865b614da236284-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d638eb758d2ce25f3e5124a95865b614da236284-7" class="line-number-anchor" /><a href="#line-number-d638eb758d2ce25f3e5124a95865b614da236284-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d638eb758d2ce25f3e5124a95865b614da236284-8" class="line-number-anchor" /><a href="#line-number-d638eb758d2ce25f3e5124a95865b614da236284-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d638eb758d2ce25f3e5124a95865b614da236284-9" class="line-number-anchor" /><a href="#line-number-d638eb758d2ce25f3e5124a95865b614da236284-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d638eb758d2ce25f3e5124a95865b614da236284-10" class="line-number-anchor" /><a href="#line-number-d638eb758d2ce25f3e5124a95865b614da236284-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d638eb758d2ce25f3e5124a95865b614da236284-11" class="line-number-anchor" /><a href="#line-number-d638eb758d2ce25f3e5124a95865b614da236284-11">11</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="items" name="items"></a><h3 class="section-header"><a href="#items">Items<i class="fas fa-link"></i></a></h3>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="581c0094fdce0e6636fd5cd003ea5013d8cc9c0f"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="581c0094fdce0e6636fd5cd003ea5013d8cc9c0f"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-581c0094fdce0e6636fd5cd003ea5013d8cc9c0f-1" class="line-number-anchor" /><a href="#line-number-581c0094fdce0e6636fd5cd003ea5013d8cc9c0f-1">1</a></td><td class="code-line" rowspan="4">UpdateItem  ::= SingleValuedPathExpression <span class="hljs-string">"="</span> NewValue
OrderByItem ::= (SimpleArithmeticExpression | SingleValuedPathExpression | ScalarExpression | ResultVariable | FunctionDeclaration) [<span class="hljs-string">"ASC"</span> | <span class="hljs-string">"DESC"</span>]
GroupByItem ::= IdentificationVariable | ResultVariable | SingleValuedPathExpression
NewValue    ::= SimpleArithmeticExpression | <span class="hljs-string">"NULL"</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-581c0094fdce0e6636fd5cd003ea5013d8cc9c0f-2" class="line-number-anchor" /><a href="#line-number-581c0094fdce0e6636fd5cd003ea5013d8cc9c0f-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-581c0094fdce0e6636fd5cd003ea5013d8cc9c0f-3" class="line-number-anchor" /><a href="#line-number-581c0094fdce0e6636fd5cd003ea5013d8cc9c0f-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-581c0094fdce0e6636fd5cd003ea5013d8cc9c0f-4" class="line-number-anchor" /><a href="#line-number-581c0094fdce0e6636fd5cd003ea5013d8cc9c0f-4">4</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="from-join-and-index-by" name="from-join-and-index-by"></a><h3 class="section-header"><a href="#from-join-and-index-by">From, Join and Index by<i class="fas fa-link"></i></a></h3>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="a9b8b8da9ce9a0840de21e654f22fbf4fa5a8064"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="a9b8b8da9ce9a0840de21e654f22fbf4fa5a8064"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-a9b8b8da9ce9a0840de21e654f22fbf4fa5a8064-1" class="line-number-anchor" /><a href="#line-number-a9b8b8da9ce9a0840de21e654f22fbf4fa5a8064-1">1</a></td><td class="code-line" rowspan="6">IdentificationVariableDeclaration          ::= RangeVariableDeclaration [IndexBy] {Join}*
SubselectIdentificationVariableDeclaration ::= IdentificationVariableDeclaration
RangeVariableDeclaration                   ::= AbstractSchemaName [<span class="hljs-string">"AS"</span>] AliasIdentificationVariable
JoinAssociationDeclaration                 ::= JoinAssociationPathExpression [<span class="hljs-string">"AS"</span>] AliasIdentificationVariable [IndexBy]
Join                                       ::= [<span class="hljs-string">"LEFT"</span> [<span class="hljs-string">"OUTER"</span>] | <span class="hljs-string">"INNER"</span>] <span class="hljs-string">"JOIN"</span> (JoinAssociationDeclaration | RangeVariableDeclaration) [<span class="hljs-string">"WITH"</span> ConditionalExpression]
IndexBy                                    ::= <span class="hljs-string">"INDEX"</span> <span class="hljs-string">"BY"</span> SingleValuedPathExpression</td></tr>
<tr><td class="line-number noselect"><a name="line-number-a9b8b8da9ce9a0840de21e654f22fbf4fa5a8064-2" class="line-number-anchor" /><a href="#line-number-a9b8b8da9ce9a0840de21e654f22fbf4fa5a8064-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a9b8b8da9ce9a0840de21e654f22fbf4fa5a8064-3" class="line-number-anchor" /><a href="#line-number-a9b8b8da9ce9a0840de21e654f22fbf4fa5a8064-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a9b8b8da9ce9a0840de21e654f22fbf4fa5a8064-4" class="line-number-anchor" /><a href="#line-number-a9b8b8da9ce9a0840de21e654f22fbf4fa5a8064-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a9b8b8da9ce9a0840de21e654f22fbf4fa5a8064-5" class="line-number-anchor" /><a href="#line-number-a9b8b8da9ce9a0840de21e654f22fbf4fa5a8064-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a9b8b8da9ce9a0840de21e654f22fbf4fa5a8064-6" class="line-number-anchor" /><a href="#line-number-a9b8b8da9ce9a0840de21e654f22fbf4fa5a8064-6">6</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="select-expressions" name="select-expressions"></a><h3 class="section-header"><a href="#select-expressions">Select Expressions<i class="fas fa-link"></i></a></h3>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="4a89f70162a317b310145754d35f91d7a313faf3"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="4a89f70162a317b310145754d35f91d7a313faf3"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-4a89f70162a317b310145754d35f91d7a313faf3-1" class="line-number-anchor" /><a href="#line-number-4a89f70162a317b310145754d35f91d7a313faf3-1">1</a></td><td class="code-line" rowspan="6">SelectExpression        ::= (IdentificationVariable | ScalarExpression | AggregateExpression | FunctionDeclaration | PartialObjectExpression | <span class="hljs-string">"("</span> Subselect <span class="hljs-string">")"</span> | CaseExpression | NewObjectExpression) [[<span class="hljs-string">"AS"</span>] [<span class="hljs-string">"HIDDEN"</span>] AliasResultVariable]
SimpleSelectExpression  ::= (StateFieldPathExpression | IdentificationVariable | FunctionDeclaration | AggregateExpression | <span class="hljs-string">"("</span> Subselect <span class="hljs-string">")"</span> | ScalarExpression) [[<span class="hljs-string">"AS"</span>] AliasResultVariable]
PartialObjectExpression ::= <span class="hljs-string">"PARTIAL"</span> IdentificationVariable <span class="hljs-string">"."</span> PartialFieldSet
PartialFieldSet         ::= <span class="hljs-string">"{"</span> SimpleStateField {<span class="hljs-string">","</span> SimpleStateField}* <span class="hljs-string">"}"</span>
NewObjectExpression     ::= <span class="hljs-string">"NEW"</span> AbstractSchemaName <span class="hljs-string">"("</span> NewObjectArg {<span class="hljs-string">","</span> NewObjectArg}* <span class="hljs-string">")"</span>
NewObjectArg            ::= ScalarExpression | <span class="hljs-string">"("</span> Subselect <span class="hljs-string">")"</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4a89f70162a317b310145754d35f91d7a313faf3-2" class="line-number-anchor" /><a href="#line-number-4a89f70162a317b310145754d35f91d7a313faf3-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4a89f70162a317b310145754d35f91d7a313faf3-3" class="line-number-anchor" /><a href="#line-number-4a89f70162a317b310145754d35f91d7a313faf3-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4a89f70162a317b310145754d35f91d7a313faf3-4" class="line-number-anchor" /><a href="#line-number-4a89f70162a317b310145754d35f91d7a313faf3-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4a89f70162a317b310145754d35f91d7a313faf3-5" class="line-number-anchor" /><a href="#line-number-4a89f70162a317b310145754d35f91d7a313faf3-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4a89f70162a317b310145754d35f91d7a313faf3-6" class="line-number-anchor" /><a href="#line-number-4a89f70162a317b310145754d35f91d7a313faf3-6">6</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="conditional-expressions" name="conditional-expressions"></a><h3 class="section-header"><a href="#conditional-expressions">Conditional Expressions<i class="fas fa-link"></i></a></h3>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="7f16b7de245476c0588dac31bae9b0b6599df2e6"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="7f16b7de245476c0588dac31bae9b0b6599df2e6"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-7f16b7de245476c0588dac31bae9b0b6599df2e6-1" class="line-number-anchor" /><a href="#line-number-7f16b7de245476c0588dac31bae9b0b6599df2e6-1">1</a></td><td class="code-line" rowspan="8">ConditionalExpression       ::= ConditionalTerm {<span class="hljs-string">"OR"</span> ConditionalTerm}*
ConditionalTerm             ::= ConditionalFactor {<span class="hljs-string">"AND"</span> ConditionalFactor}*
ConditionalFactor           ::= [<span class="hljs-string">"NOT"</span>] ConditionalPrimary
ConditionalPrimary          ::= SimpleConditionalExpression | <span class="hljs-string">"("</span> ConditionalExpression <span class="hljs-string">")"</span>
SimpleConditionalExpression ::= ComparisonExpression | BetweenExpression | LikeExpression |
                                InExpression | NullComparisonExpression | ExistsExpression |
                                EmptyCollectionComparisonExpression | CollectionMemberExpression |
                                InstanceOfExpression</td></tr>
<tr><td class="line-number noselect"><a name="line-number-7f16b7de245476c0588dac31bae9b0b6599df2e6-2" class="line-number-anchor" /><a href="#line-number-7f16b7de245476c0588dac31bae9b0b6599df2e6-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7f16b7de245476c0588dac31bae9b0b6599df2e6-3" class="line-number-anchor" /><a href="#line-number-7f16b7de245476c0588dac31bae9b0b6599df2e6-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7f16b7de245476c0588dac31bae9b0b6599df2e6-4" class="line-number-anchor" /><a href="#line-number-7f16b7de245476c0588dac31bae9b0b6599df2e6-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7f16b7de245476c0588dac31bae9b0b6599df2e6-5" class="line-number-anchor" /><a href="#line-number-7f16b7de245476c0588dac31bae9b0b6599df2e6-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7f16b7de245476c0588dac31bae9b0b6599df2e6-6" class="line-number-anchor" /><a href="#line-number-7f16b7de245476c0588dac31bae9b0b6599df2e6-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7f16b7de245476c0588dac31bae9b0b6599df2e6-7" class="line-number-anchor" /><a href="#line-number-7f16b7de245476c0588dac31bae9b0b6599df2e6-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7f16b7de245476c0588dac31bae9b0b6599df2e6-8" class="line-number-anchor" /><a href="#line-number-7f16b7de245476c0588dac31bae9b0b6599df2e6-8">8</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="collection-expressions" name="collection-expressions"></a><h3 class="section-header"><a href="#collection-expressions">Collection Expressions<i class="fas fa-link"></i></a></h3>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="db9cd9de70073d5a73d260643673a33344006dcd"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="db9cd9de70073d5a73d260643673a33344006dcd"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-db9cd9de70073d5a73d260643673a33344006dcd-1" class="line-number-anchor" /><a href="#line-number-db9cd9de70073d5a73d260643673a33344006dcd-1">1</a></td><td class="code-line" rowspan="2">EmptyCollectionComparisonExpression ::= CollectionValuedPathExpression <span class="hljs-string">"IS"</span> [<span class="hljs-string">"NOT"</span>] <span class="hljs-string">"EMPTY"</span>
CollectionMemberExpression          ::= EntityExpression [<span class="hljs-string">"NOT"</span>] <span class="hljs-string">"MEMBER"</span> [<span class="hljs-string">"OF"</span>] CollectionValuedPathExpression</td></tr>
<tr><td class="line-number noselect"><a name="line-number-db9cd9de70073d5a73d260643673a33344006dcd-2" class="line-number-anchor" /><a href="#line-number-db9cd9de70073d5a73d260643673a33344006dcd-2">2</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="literal-values" name="literal-values"></a><h3 class="section-header"><a href="#literal-values">Literal Values<i class="fas fa-link"></i></a></h3>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="2fee034c36de356f1e4946b28b9b7b029db67f76"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="2fee034c36de356f1e4946b28b9b7b029db67f76"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-2fee034c36de356f1e4946b28b9b7b029db67f76-1" class="line-number-anchor" /><a href="#line-number-2fee034c36de356f1e4946b28b9b7b029db67f76-1">1</a></td><td class="code-line" rowspan="2">Literal     ::= string | char | integer | float | boolean
InParameter ::= ArithmeticExpression | InputParameter</td></tr>
<tr><td class="line-number noselect"><a name="line-number-2fee034c36de356f1e4946b28b9b7b029db67f76-2" class="line-number-anchor" /><a href="#line-number-2fee034c36de356f1e4946b28b9b7b029db67f76-2">2</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="input-parameter" name="input-parameter"></a><h3 class="section-header"><a href="#input-parameter">Input Parameter<i class="fas fa-link"></i></a></h3>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="507af462ae2c5b18a47780ca1c11a7d8a9d8ae6f"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="507af462ae2c5b18a47780ca1c11a7d8a9d8ae6f"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-507af462ae2c5b18a47780ca1c11a7d8a9d8ae6f-1" class="line-number-anchor" /><a href="#line-number-507af462ae2c5b18a47780ca1c11a7d8a9d8ae6f-1">1</a></td><td class="code-line" rowspan="3">InputParameter      ::= PositionalParameter | NamedParameter
PositionalParameter ::= <span class="hljs-string">"?"</span> integer
NamedParameter      ::= <span class="hljs-string">":"</span> string</td></tr>
<tr><td class="line-number noselect"><a name="line-number-507af462ae2c5b18a47780ca1c11a7d8a9d8ae6f-2" class="line-number-anchor" /><a href="#line-number-507af462ae2c5b18a47780ca1c11a7d8a9d8ae6f-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-507af462ae2c5b18a47780ca1c11a7d8a9d8ae6f-3" class="line-number-anchor" /><a href="#line-number-507af462ae2c5b18a47780ca1c11a7d8a9d8ae6f-3">3</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="arithmetic-expressions" name="arithmetic-expressions"></a><h3 class="section-header"><a href="#arithmetic-expressions">Arithmetic Expressions<i class="fas fa-link"></i></a></h3>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="6aa90b5d64aaf4d3022da785f4fa8f38a4949146"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="6aa90b5d64aaf4d3022da785f4fa8f38a4949146"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-6aa90b5d64aaf4d3022da785f4fa8f38a4949146-1" class="line-number-anchor" /><a href="#line-number-6aa90b5d64aaf4d3022da785f4fa8f38a4949146-1">1</a></td><td class="code-line" rowspan="8">ArithmeticExpression       ::= SimpleArithmeticExpression | <span class="hljs-string">"("</span> Subselect <span class="hljs-string">")"</span>
SimpleArithmeticExpression ::= ArithmeticTerm {(<span class="hljs-string">"+"</span> | <span class="hljs-string">"-"</span>) ArithmeticTerm}*
ArithmeticTerm             ::= ArithmeticFactor {(<span class="hljs-string">"*"</span> | <span class="hljs-string">"/"</span>) ArithmeticFactor}*
ArithmeticFactor           ::= [(<span class="hljs-string">"+"</span> | <span class="hljs-string">"-"</span>)] ArithmeticPrimary
ArithmeticPrimary          ::= SingleValuedPathExpression | Literal | <span class="hljs-string">"("</span> SimpleArithmeticExpression <span class="hljs-string">")"</span>
                               | FunctionsReturningNumerics | AggregateExpression | FunctionsReturningStrings
                               | FunctionsReturningDatetime | IdentificationVariable | ResultVariable
                               | InputParameter | CaseExpression</td></tr>
<tr><td class="line-number noselect"><a name="line-number-6aa90b5d64aaf4d3022da785f4fa8f38a4949146-2" class="line-number-anchor" /><a href="#line-number-6aa90b5d64aaf4d3022da785f4fa8f38a4949146-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6aa90b5d64aaf4d3022da785f4fa8f38a4949146-3" class="line-number-anchor" /><a href="#line-number-6aa90b5d64aaf4d3022da785f4fa8f38a4949146-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6aa90b5d64aaf4d3022da785f4fa8f38a4949146-4" class="line-number-anchor" /><a href="#line-number-6aa90b5d64aaf4d3022da785f4fa8f38a4949146-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6aa90b5d64aaf4d3022da785f4fa8f38a4949146-5" class="line-number-anchor" /><a href="#line-number-6aa90b5d64aaf4d3022da785f4fa8f38a4949146-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6aa90b5d64aaf4d3022da785f4fa8f38a4949146-6" class="line-number-anchor" /><a href="#line-number-6aa90b5d64aaf4d3022da785f4fa8f38a4949146-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6aa90b5d64aaf4d3022da785f4fa8f38a4949146-7" class="line-number-anchor" /><a href="#line-number-6aa90b5d64aaf4d3022da785f4fa8f38a4949146-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6aa90b5d64aaf4d3022da785f4fa8f38a4949146-8" class="line-number-anchor" /><a href="#line-number-6aa90b5d64aaf4d3022da785f4fa8f38a4949146-8">8</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="scalar-and-type-expressions" name="scalar-and-type-expressions"></a><h3 class="section-header"><a href="#scalar-and-type-expressions">Scalar and Type Expressions<i class="fas fa-link"></i></a></h3>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="83f3c3920d1e4ddde344045ecc68dee909c14b7e"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="83f3c3920d1e4ddde344045ecc68dee909c14b7e"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-83f3c3920d1e4ddde344045ecc68dee909c14b7e-1" class="line-number-anchor" /><a href="#line-number-83f3c3920d1e4ddde344045ecc68dee909c14b7e-1">1</a></td><td class="code-line" rowspan="9">ScalarExpression       ::= SimpleArithmeticExpression | StringPrimary | DateTimePrimary | StateFieldPathExpression | BooleanPrimary | CaseExpression | InstanceOfExpression
StringExpression       ::= StringPrimary | ResultVariable | <span class="hljs-string">"("</span> Subselect <span class="hljs-string">")"</span>
StringPrimary          ::= StateFieldPathExpression | string | InputParameter | FunctionsReturningStrings | AggregateExpression | CaseExpression
BooleanExpression      ::= BooleanPrimary | <span class="hljs-string">"("</span> Subselect <span class="hljs-string">")"</span>
BooleanPrimary         ::= StateFieldPathExpression | boolean | InputParameter
EntityExpression       ::= SingleValuedAssociationPathExpression | SimpleEntityExpression
SimpleEntityExpression ::= IdentificationVariable | InputParameter
DatetimeExpression     ::= DatetimePrimary | <span class="hljs-string">"("</span> Subselect <span class="hljs-string">")"</span>
DatetimePrimary        ::= StateFieldPathExpression | InputParameter | FunctionsReturningDatetime | AggregateExpression</td></tr>
<tr><td class="line-number noselect"><a name="line-number-83f3c3920d1e4ddde344045ecc68dee909c14b7e-2" class="line-number-anchor" /><a href="#line-number-83f3c3920d1e4ddde344045ecc68dee909c14b7e-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-83f3c3920d1e4ddde344045ecc68dee909c14b7e-3" class="line-number-anchor" /><a href="#line-number-83f3c3920d1e4ddde344045ecc68dee909c14b7e-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-83f3c3920d1e4ddde344045ecc68dee909c14b7e-4" class="line-number-anchor" /><a href="#line-number-83f3c3920d1e4ddde344045ecc68dee909c14b7e-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-83f3c3920d1e4ddde344045ecc68dee909c14b7e-5" class="line-number-anchor" /><a href="#line-number-83f3c3920d1e4ddde344045ecc68dee909c14b7e-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-83f3c3920d1e4ddde344045ecc68dee909c14b7e-6" class="line-number-anchor" /><a href="#line-number-83f3c3920d1e4ddde344045ecc68dee909c14b7e-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-83f3c3920d1e4ddde344045ecc68dee909c14b7e-7" class="line-number-anchor" /><a href="#line-number-83f3c3920d1e4ddde344045ecc68dee909c14b7e-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-83f3c3920d1e4ddde344045ecc68dee909c14b7e-8" class="line-number-anchor" /><a href="#line-number-83f3c3920d1e4ddde344045ecc68dee909c14b7e-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-83f3c3920d1e4ddde344045ecc68dee909c14b7e-9" class="line-number-anchor" /><a href="#line-number-83f3c3920d1e4ddde344045ecc68dee909c14b7e-9">9</a></td></tr></table></div></code></pre>
<div class="alert note-admonition bg-light-yellow text-dark border"><table width="100%"><tr><td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td><td><p>Parts of CASE expressions are not yet implemented.</p>
</td></tr></table></div>
</div>
<div class="section"><a class="section-anchor" id="aggregate-expressions" name="aggregate-expressions"></a><h3 class="section-header"><a href="#aggregate-expressions">Aggregate Expressions<i class="fas fa-link"></i></a></h3>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="0388d6e68644fe2609957bc85aee882306347fb5"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="0388d6e68644fe2609957bc85aee882306347fb5"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-0388d6e68644fe2609957bc85aee882306347fb5-1" class="line-number-anchor" /><a href="#line-number-0388d6e68644fe2609957bc85aee882306347fb5-1">1</a></td><td class="code-line" rowspan="1">AggregateExpression ::= (<span class="hljs-string">"AVG"</span> | <span class="hljs-string">"MAX"</span> | <span class="hljs-string">"MIN"</span> | <span class="hljs-string">"SUM"</span> | <span class="hljs-string">"COUNT"</span>) <span class="hljs-string">"("</span> [<span class="hljs-string">"DISTINCT"</span>] SimpleArithmeticExpression <span class="hljs-string">")"</span></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="case-expressions" name="case-expressions"></a><h3 class="section-header"><a href="#case-expressions">Case Expressions<i class="fas fa-link"></i></a></h3>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="eb10c15750cae3eee879106f3f93de88a82c8dad"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="eb10c15750cae3eee879106f3f93de88a82c8dad"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-eb10c15750cae3eee879106f3f93de88a82c8dad-1" class="line-number-anchor" /><a href="#line-number-eb10c15750cae3eee879106f3f93de88a82c8dad-1">1</a></td><td class="code-line" rowspan="8">CaseExpression        ::= GeneralCaseExpression | SimpleCaseExpression | CoalesceExpression | NullifExpression
GeneralCaseExpression ::= <span class="hljs-string">"CASE"</span> WhenClause {WhenClause}* <span class="hljs-string">"ELSE"</span> ScalarExpression <span class="hljs-string">"END"</span>
WhenClause            ::= <span class="hljs-string">"WHEN"</span> ConditionalExpression <span class="hljs-string">"THEN"</span> ScalarExpression
SimpleCaseExpression  ::= <span class="hljs-string">"CASE"</span> CaseOperand SimpleWhenClause {SimpleWhenClause}* <span class="hljs-string">"ELSE"</span> ScalarExpression <span class="hljs-string">"END"</span>
CaseOperand           ::= StateFieldPathExpression | TypeDiscriminator
SimpleWhenClause      ::= <span class="hljs-string">"WHEN"</span> ScalarExpression <span class="hljs-string">"THEN"</span> ScalarExpression
CoalesceExpression    ::= <span class="hljs-string">"COALESCE"</span> <span class="hljs-string">"("</span> ScalarExpression {<span class="hljs-string">","</span> ScalarExpression}* <span class="hljs-string">")"</span>
NullifExpression      ::= <span class="hljs-string">"NULLIF"</span> <span class="hljs-string">"("</span> ScalarExpression <span class="hljs-string">","</span> ScalarExpression <span class="hljs-string">")"</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eb10c15750cae3eee879106f3f93de88a82c8dad-2" class="line-number-anchor" /><a href="#line-number-eb10c15750cae3eee879106f3f93de88a82c8dad-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eb10c15750cae3eee879106f3f93de88a82c8dad-3" class="line-number-anchor" /><a href="#line-number-eb10c15750cae3eee879106f3f93de88a82c8dad-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eb10c15750cae3eee879106f3f93de88a82c8dad-4" class="line-number-anchor" /><a href="#line-number-eb10c15750cae3eee879106f3f93de88a82c8dad-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eb10c15750cae3eee879106f3f93de88a82c8dad-5" class="line-number-anchor" /><a href="#line-number-eb10c15750cae3eee879106f3f93de88a82c8dad-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eb10c15750cae3eee879106f3f93de88a82c8dad-6" class="line-number-anchor" /><a href="#line-number-eb10c15750cae3eee879106f3f93de88a82c8dad-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eb10c15750cae3eee879106f3f93de88a82c8dad-7" class="line-number-anchor" /><a href="#line-number-eb10c15750cae3eee879106f3f93de88a82c8dad-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eb10c15750cae3eee879106f3f93de88a82c8dad-8" class="line-number-anchor" /><a href="#line-number-eb10c15750cae3eee879106f3f93de88a82c8dad-8">8</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="other-expressions" name="other-expressions"></a><h3 class="section-header"><a href="#other-expressions">Other Expressions<i class="fas fa-link"></i></a></h3>
<p>QUANTIFIED/BETWEEN/COMPARISON/LIKE/NULL/EXISTS</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="2b1fced0551a32ea6271831ece11ef23dd8ff508"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="2b1fced0551a32ea6271831ece11ef23dd8ff508"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-2b1fced0551a32ea6271831ece11ef23dd8ff508-1" class="line-number-anchor" /><a href="#line-number-2b1fced0551a32ea6271831ece11ef23dd8ff508-1">1</a></td><td class="code-line" rowspan="10">QuantifiedExpression     ::= (<span class="hljs-string">"ALL"</span> | <span class="hljs-string">"ANY"</span> | <span class="hljs-string">"SOME"</span>) <span class="hljs-string">"("</span> Subselect <span class="hljs-string">")"</span>
BetweenExpression        ::= ArithmeticExpression [<span class="hljs-string">"NOT"</span>] <span class="hljs-string">"BETWEEN"</span> ArithmeticExpression <span class="hljs-string">"AND"</span> ArithmeticExpression
ComparisonExpression     ::= ArithmeticExpression ComparisonOperator ( QuantifiedExpression | ArithmeticExpression )
InExpression             ::= ArithmeticExpression [<span class="hljs-string">"NOT"</span>] <span class="hljs-string">"IN"</span> <span class="hljs-string">"("</span> (InParameter {<span class="hljs-string">","</span> InParameter}* | Subselect) <span class="hljs-string">")"</span>
InstanceOfExpression     ::= IdentificationVariable [<span class="hljs-string">"NOT"</span>] <span class="hljs-string">"INSTANCE"</span> [<span class="hljs-string">"OF"</span>] (InstanceOfParameter | <span class="hljs-string">"("</span> InstanceOfParameter {<span class="hljs-string">","</span> InstanceOfParameter}* <span class="hljs-string">")"</span>)
InstanceOfParameter      ::= AbstractSchemaName | InputParameter
LikeExpression           ::= StringExpression [<span class="hljs-string">"NOT"</span>] <span class="hljs-string">"LIKE"</span> StringPrimary [<span class="hljs-string">"ESCAPE"</span> char]
NullComparisonExpression ::= (InputParameter | NullIfExpression | CoalesceExpression | AggregateExpression | FunctionDeclaration | IdentificationVariable | SingleValuedPathExpression | ResultVariable) <span class="hljs-string">"IS"</span> [<span class="hljs-string">"NOT"</span>] <span class="hljs-string">"NULL"</span>
ExistsExpression         ::= [<span class="hljs-string">"NOT"</span>] <span class="hljs-string">"EXISTS"</span> <span class="hljs-string">"("</span> Subselect <span class="hljs-string">")"</span>
ComparisonOperator       ::= <span class="hljs-string">"="</span> | <span class="hljs-string">"&lt;"</span> | <span class="hljs-string">"&lt;="</span> | <span class="hljs-string">"&lt;&gt;"</span> | <span class="hljs-string">"&gt;"</span> | <span class="hljs-string">"&gt;="</span> | <span class="hljs-string">"!="</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2b1fced0551a32ea6271831ece11ef23dd8ff508-2" class="line-number-anchor" /><a href="#line-number-2b1fced0551a32ea6271831ece11ef23dd8ff508-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2b1fced0551a32ea6271831ece11ef23dd8ff508-3" class="line-number-anchor" /><a href="#line-number-2b1fced0551a32ea6271831ece11ef23dd8ff508-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2b1fced0551a32ea6271831ece11ef23dd8ff508-4" class="line-number-anchor" /><a href="#line-number-2b1fced0551a32ea6271831ece11ef23dd8ff508-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2b1fced0551a32ea6271831ece11ef23dd8ff508-5" class="line-number-anchor" /><a href="#line-number-2b1fced0551a32ea6271831ece11ef23dd8ff508-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2b1fced0551a32ea6271831ece11ef23dd8ff508-6" class="line-number-anchor" /><a href="#line-number-2b1fced0551a32ea6271831ece11ef23dd8ff508-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2b1fced0551a32ea6271831ece11ef23dd8ff508-7" class="line-number-anchor" /><a href="#line-number-2b1fced0551a32ea6271831ece11ef23dd8ff508-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2b1fced0551a32ea6271831ece11ef23dd8ff508-8" class="line-number-anchor" /><a href="#line-number-2b1fced0551a32ea6271831ece11ef23dd8ff508-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2b1fced0551a32ea6271831ece11ef23dd8ff508-9" class="line-number-anchor" /><a href="#line-number-2b1fced0551a32ea6271831ece11ef23dd8ff508-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2b1fced0551a32ea6271831ece11ef23dd8ff508-10" class="line-number-anchor" /><a href="#line-number-2b1fced0551a32ea6271831ece11ef23dd8ff508-10">10</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="functions" name="functions"></a><h3 class="section-header"><a href="#functions">Functions<i class="fas fa-link"></i></a></h3>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="c2439321397191dde881faa94a3a33ab0aeff984"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="c2439321397191dde881faa94a3a33ab0aeff984"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-1" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-1">1</a></td><td class="code-line" rowspan="27">FunctionDeclaration ::= FunctionsReturningStrings | FunctionsReturningNumerics | FunctionsReturningDateTime

FunctionsReturningNumerics ::=
        <span class="hljs-string">"LENGTH"</span> <span class="hljs-string">"("</span> StringPrimary <span class="hljs-string">")"</span> |
        <span class="hljs-string">"LOCATE"</span> <span class="hljs-string">"("</span> StringPrimary <span class="hljs-string">","</span> StringPrimary [<span class="hljs-string">","</span> SimpleArithmeticExpression]<span class="hljs-string">")"</span> |
        <span class="hljs-string">"ABS"</span> <span class="hljs-string">"("</span> SimpleArithmeticExpression <span class="hljs-string">")"</span> |
        <span class="hljs-string">"SQRT"</span> <span class="hljs-string">"("</span> SimpleArithmeticExpression <span class="hljs-string">")"</span> |
        <span class="hljs-string">"MOD"</span> <span class="hljs-string">"("</span> SimpleArithmeticExpression <span class="hljs-string">","</span> SimpleArithmeticExpression <span class="hljs-string">")"</span> |
        <span class="hljs-string">"SIZE"</span> <span class="hljs-string">"("</span> CollectionValuedPathExpression <span class="hljs-string">")"</span> |
        <span class="hljs-string">"DATE_DIFF"</span> <span class="hljs-string">"("</span> ArithmeticPrimary <span class="hljs-string">","</span> ArithmeticPrimary <span class="hljs-string">")"</span> |
        <span class="hljs-string">"BIT_AND"</span> <span class="hljs-string">"("</span> ArithmeticPrimary <span class="hljs-string">","</span> ArithmeticPrimary <span class="hljs-string">")"</span> |
        <span class="hljs-string">"BIT_OR"</span> <span class="hljs-string">"("</span> ArithmeticPrimary <span class="hljs-string">","</span> ArithmeticPrimary <span class="hljs-string">")"</span>

FunctionsReturningDateTime ::=
        <span class="hljs-string">"CURRENT_DATE"</span> |
        <span class="hljs-string">"CURRENT_TIME"</span> |
        <span class="hljs-string">"CURRENT_TIMESTAMP"</span> |
        <span class="hljs-string">"DATE_ADD"</span> <span class="hljs-string">"("</span> ArithmeticPrimary <span class="hljs-string">","</span> ArithmeticPrimary <span class="hljs-string">","</span> StringPrimary <span class="hljs-string">")"</span> |
        <span class="hljs-string">"DATE_SUB"</span> <span class="hljs-string">"("</span> ArithmeticPrimary <span class="hljs-string">","</span> ArithmeticPrimary <span class="hljs-string">","</span> StringPrimary <span class="hljs-string">")"</span>

FunctionsReturningStrings ::=
        <span class="hljs-string">"CONCAT"</span> <span class="hljs-string">"("</span> StringPrimary <span class="hljs-string">","</span> StringPrimary <span class="hljs-string">")"</span> |
        <span class="hljs-string">"SUBSTRING"</span> <span class="hljs-string">"("</span> StringPrimary <span class="hljs-string">","</span> SimpleArithmeticExpression <span class="hljs-string">","</span> SimpleArithmeticExpression <span class="hljs-string">")"</span> |
        <span class="hljs-string">"TRIM"</span> <span class="hljs-string">"("</span> [[<span class="hljs-string">"LEADING"</span> | <span class="hljs-string">"TRAILING"</span> | <span class="hljs-string">"BOTH"</span>] [char] <span class="hljs-string">"FROM"</span>] StringPrimary <span class="hljs-string">")"</span> |
        <span class="hljs-string">"LOWER"</span> <span class="hljs-string">"("</span> StringPrimary <span class="hljs-string">")"</span> |
        <span class="hljs-string">"UPPER"</span> <span class="hljs-string">"("</span> StringPrimary <span class="hljs-string">")"</span> |
        <span class="hljs-string">"IDENTITY"</span> <span class="hljs-string">"("</span> SingleValuedAssociationPathExpression {<span class="hljs-string">","</span> string} <span class="hljs-string">")"</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-2" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-3" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-4" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-5" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-6" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-7" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-8" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-9" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-10" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-11" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-12" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-13" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-14" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-15" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-16" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-17" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-18" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-19" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-20" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-21" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-22" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-23" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-24" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-25" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-26" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c2439321397191dde881faa94a3a33ab0aeff984-27" class="line-number-anchor" /><a href="#line-number-c2439321397191dde881faa94a3a33ab0aeff984-27">27</a></td></tr></table></div></code></pre>

</div>
</div>

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                    <footer class="footer">
                <div class="container">
                    <ul class="list-inline">
                        <li class="list-inline-item"><a href="/projects.html">Projects</a></li>
                        <li class="list-inline-item"><a href="/partners.html">Partners</a></li>
                        <li class="list-inline-item"><a href="/sponsorship.html">Sponsorship</a></li>
                        <li class="list-inline-item"><a href="/community/index.html">Community</a></li>
                        <li class="list-inline-item"><a href="/blog/index.html">Blog</a></li>
                        <li class="list-inline-item"><a href="/events.html">Events</a></li>
                        <li class="list-inline-item"><a href="/consulting.html">Consulting</a></li>
                    </ul>
                </div>
            </footer>
        
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?161e55"
                            integrity="sha384-ZQ6qlvTBtfiU76YxxALyPv3/HvMipQbIgpk6risK+vIGd/IMwfA2/e+ztgwPiLOj"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'orm';
            var versionSlug = '2.16';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search ORM 2.16'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            </body>
</html>
