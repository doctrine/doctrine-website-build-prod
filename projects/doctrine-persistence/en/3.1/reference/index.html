<!DOCTYPE html>
<html>
    <head>
        <title>        Introduction - Doctrine Persistence
    </title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine Persistence Documentation: Introduction ">

        <meta name="keywords" content="                    persistence,object,mapper,orm,odm,documentation,introduction
    ">

                    <meta name="robots" content="index, follow">
        
        
                    <link rel="canonical" href="https://www.doctrine-project.org/projects/doctrine-persistence/en/3.3/reference/index.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?bd81db"
                        integrity="sha384-oeFm7iMvPefD3x03E4vrl0nenjXWr3YRkDWVf4ygsIYbCms2PXT97mqPOUwFQha2"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/projects/doctrine-persistence/en/3.1/reference/index.html" />
        <meta property="og:title" content="        Introduction - Doctrine Persistence
    " />
        <meta property="og:description" content="Doctrine Persistence Documentation: Introduction " />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine Persistence",
            "description": "Introduction",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://www.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                    <a class="dropdown-item" href="/projects/skeleton-mapper.html">Skeleton Mapper</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/persistence/edit/3.1.x/docs/en/reference/index.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        <div class="toc"><ul><li id="index-html-introduction" class="toc-item"><a href="index.html#introduction">Introduction</a></li><li id="index-html-installation" class="toc-item"><a href="index.html#installation">Installation</a></li><li id="index-html-overview" class="toc-item"><a href="index.html#overview">Overview</a></li><li id="index-html-object-manager" class="toc-item"><a href="index.html#object-manager">Object Manager</a></li><li id="index-html-objectrepository" class="toc-item"><a href="index.html#objectrepository">ObjectRepository</a></li><li id="index-html-mapping" class="toc-item"><a href="index.html#mapping">Mapping</a><ul><li id="index-html-classmetadata" class="toc-item"><a href="index.html#classmetadata">ClassMetadata</a></li><li id="index-html-classmetadatafactory" class="toc-item"><a href="index.html#classmetadatafactory">ClassMetadataFactory</a></li></ul></li><li id="index-html-mapping-driver" class="toc-item"><a href="index.html#mapping-driver">Mapping Driver</a><ul><li id="index-html-filedriver" class="toc-item"><a href="index.html#filedriver">FileDriver</a></li><li id="index-html-phpdriver" class="toc-item"><a href="index.html#phpdriver">PHPDriver</a></li><li id="index-html-staticphpdriver" class="toc-item"><a href="index.html#staticphpdriver">StaticPHPDriver</a></li></ul></li><li id="index-html-reflection" class="toc-item"><a href="index.html#reflection">Reflection</a></li><li id="index-html-implementations" class="toc-item"><a href="index.html#implementations">Implementations</a></li><li id="object-change-tracking-html" class="toc-item"><a href="object-change-tracking.html">Object Change Tracking</a><ul><li id="object-change-tracking-html-notifying-subscribers" class="toc-item"><a href="object-change-tracking.html#notifying-subscribers">Notifying subscribers</a></li></ul></li></ul></div>
                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://www.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "Persistence",
            "item": "https://www.doctrine-project.org/projects/persistence.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://www.doctrine-project.org/projects/doctrine-persistence/en/3.1/reference/index.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/persistence.html">Persistence</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Documentation</li>
                        </ol>
</nav>
                    
                                                        </div>

                    
    <div class="alert caution bg-light-yellow text-dark border">
    <table width="100%">
        <tr>
            <td width="10" class="align-top">
                <i class="fas fa-exclamation-circle text-warning mr-2"></i>
            </td>
            <td><p>You are browsing a version that is no longer maintained.</p></td>
        </tr>
    </table>
</div>

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-persistence/en/3.1/reference/index.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        3.1.4
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-persistence/en/latest/reference/index.html">
                                                        3.4

                                                        
                                                                                                                    (upcoming)
                                                                                                            </a>
                                                                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-persistence/en/3.3/reference/index.html">
                                                        3.3.1

                                                                                                                    (current)
                                                        
                                                                                                            </a>
                                                                                                                                    
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-persistence/en/3.2/reference/index.html">3.2</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item active" href="/projects/doctrine-persistence/en/3.1/reference/index.html">3.1</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-persistence/en/3.0/reference/index.html">3.0</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-persistence/en/2.5/reference/index.html">2.5</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-persistence/en/2.4/reference/index.html">2.4</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-persistence/en/2.3/reference/index.html">2.3</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-persistence/en/2.2/reference/index.html">2.2</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-persistence/en/2.1/reference/index.html">2.1</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-persistence/en/2.0/reference/index.html">2.0</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-persistence/en/1.4/reference/index.html">1.4</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-persistence/en/1.3/reference/index.html">1.3</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-persistence/en/1.2/reference/index.html">1.2</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-persistence/en/1.1/reference/index.html">1.1</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-persistence/en/1.0/reference/index.html">1.0</a>
                                                                                                                                                                        </div>
                                </div>
                            
                            
<div class="section"><a class="section-anchor" id="introduction" name="introduction"></a><h1 class="section-header"><a href="#introduction">Introduction<i class="fas fa-link"></i></a></h1>
<p>The Doctrine Persistence project is a set of shared interfaces and functionality that the different Doctrine
object mappers share. You can use these interfaces and abstract classes to build your own mapper if you don't
want to use the full data mappers provided by Doctrine.</p>
</div>
<div class="section"><a class="section-anchor" id="installation" name="installation"></a><h1 class="section-header"><a href="#installation">Installation<i class="fas fa-link"></i></a></h1>
<p>The library can easily be installed with composer.</p>
<div class="console"><pre><code class="console"><span class="noselect">$ </span>composer require doctrine/persistence</code></pre></div>
</div>
<div class="section"><a class="section-anchor" id="overview" name="overview"></a><h1 class="section-header"><a href="#overview">Overview<i class="fas fa-link"></i></a></h1>
<p>The interfaces and functionality in this project evolved from building several different implementations of Doctrine
object mappers. The first implementation was the <a href="https://www.doctrine-project.org/projects/orm.html">ORM</a> then came the <a href="https://www.doctrine-project.org/projects/mongodb-odm.html">MongoDB ODM</a>. A set of common interfaces were
extracted from both projects and released in the <a href="https://www.doctrine-project.org/projects/common.html">Doctrine Common</a> project. Over the years, more common functionality
was extracted and eventually moved to this standalone project.
After that, that project was itself split into several projects
including this one.</p>
<p>A Doctrine object mapper looks like this when implemented.</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-1" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-1">1</a></td><td class="code-line" rowspan="27"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span>
</span>{
    <span class="hljs-comment">/** <span class="hljs-doctag">@var</span> string */</span>
    <span class="hljs-keyword">private</span> $username;

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(string $username)</span>
    </span>{
        <span class="hljs-keyword">$this</span>-&gt;username = $username;
    }

    <span class="hljs-comment">// ...</span>
}

$objectManager = <span class="hljs-keyword">new</span> ObjectManager();
$userRepository = $objectManager-&gt;getRepository(User::class);

$newUser = <span class="hljs-keyword">new</span> User(<span class="hljs-string">'jwage'</span>);

$objectManager-&gt;persist($newUser);
$objectManager-&gt;flush();

$user = $objectManager-&gt;find(User::class, <span class="hljs-number">1</span>);

$objectManager-&gt;remove($user);
$objectManager-&gt;flush();

$users = $userRepository-&gt;findAll();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-2" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-3" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-4" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-5" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-6" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-7" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-8" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-9" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-10" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-11" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-12" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-13" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-14" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-15" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-16" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-17" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-18" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-19" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-20" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-21" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-22" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-23" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-24" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-25" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-26" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-27" class="line-number-anchor" /><a href="#line-number-d4feb5ac9f0e6d875ea6182d38b6a3a7643eee6d-27">27</a></td></tr></table></div></code></pre>
<p>To learn more about the full interfaces and functionality continue reading!</p>
</div>
<div class="section"><a class="section-anchor" id="object-manager" name="object-manager"></a><h1 class="section-header"><a href="#object-manager">Object Manager<i class="fas fa-link"></i></a></h1>
<p>The main public interface that an end user will use is the <code>Doctrine\Persistence\ObjectManager</code> interface.</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="9bc8988a67a35a2a0ab680506b8dd518b8b17ca7"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="9bc8988a67a35a2a0ab680506b8dd518b8b17ca7"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-1" class="line-number-anchor" /><a href="#line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-1">1</a></td><td class="code-line" rowspan="17"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Persistence</span>;

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ObjectManager</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">find</span><span class="hljs-params">($className, $id)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">persist</span><span class="hljs-params">($object)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">remove</span><span class="hljs-params">($object)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clear</span><span class="hljs-params">()</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">detach</span><span class="hljs-params">($object)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">refresh</span><span class="hljs-params">($object)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">flush</span><span class="hljs-params">()</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getRepository</span><span class="hljs-params">($className)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getClassMetadata</span><span class="hljs-params">($className)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getMetadataFactory</span><span class="hljs-params">()</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initializeObject</span><span class="hljs-params">($obj)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">contains</span><span class="hljs-params">($object)</span></span>;
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-2" class="line-number-anchor" /><a href="#line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-3" class="line-number-anchor" /><a href="#line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-4" class="line-number-anchor" /><a href="#line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-5" class="line-number-anchor" /><a href="#line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-6" class="line-number-anchor" /><a href="#line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-7" class="line-number-anchor" /><a href="#line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-8" class="line-number-anchor" /><a href="#line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-9" class="line-number-anchor" /><a href="#line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-10" class="line-number-anchor" /><a href="#line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-11" class="line-number-anchor" /><a href="#line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-12" class="line-number-anchor" /><a href="#line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-13" class="line-number-anchor" /><a href="#line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-14" class="line-number-anchor" /><a href="#line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-15" class="line-number-anchor" /><a href="#line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-16" class="line-number-anchor" /><a href="#line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-17" class="line-number-anchor" /><a href="#line-number-9bc8988a67a35a2a0ab680506b8dd518b8b17ca7-17">17</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="objectrepository" name="objectrepository"></a><h1 class="section-header"><a href="#objectrepository">ObjectRepository<i class="fas fa-link"></i></a></h1>
<p>The object repository is used to retrieve instances of your mapped objects from the mapper.</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="8e74b036b39babfd375e36ee6dee34f9cd636d0e"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="8e74b036b39babfd375e36ee6dee34f9cd636d0e"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-8e74b036b39babfd375e36ee6dee34f9cd636d0e-1" class="line-number-anchor" /><a href="#line-number-8e74b036b39babfd375e36ee6dee34f9cd636d0e-1">1</a></td><td class="code-line" rowspan="10"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Persistence</span>;

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ObjectRepository</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">find</span><span class="hljs-params">($id)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">findAll</span><span class="hljs-params">()</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">findBy</span><span class="hljs-params">(array $criteria, ?array $orderBy = null, $limit = null, $offset = null)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">findOneBy</span><span class="hljs-params">(array $criteria)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getClassName</span><span class="hljs-params">()</span></span>;
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-8e74b036b39babfd375e36ee6dee34f9cd636d0e-2" class="line-number-anchor" /><a href="#line-number-8e74b036b39babfd375e36ee6dee34f9cd636d0e-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-8e74b036b39babfd375e36ee6dee34f9cd636d0e-3" class="line-number-anchor" /><a href="#line-number-8e74b036b39babfd375e36ee6dee34f9cd636d0e-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-8e74b036b39babfd375e36ee6dee34f9cd636d0e-4" class="line-number-anchor" /><a href="#line-number-8e74b036b39babfd375e36ee6dee34f9cd636d0e-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-8e74b036b39babfd375e36ee6dee34f9cd636d0e-5" class="line-number-anchor" /><a href="#line-number-8e74b036b39babfd375e36ee6dee34f9cd636d0e-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-8e74b036b39babfd375e36ee6dee34f9cd636d0e-6" class="line-number-anchor" /><a href="#line-number-8e74b036b39babfd375e36ee6dee34f9cd636d0e-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-8e74b036b39babfd375e36ee6dee34f9cd636d0e-7" class="line-number-anchor" /><a href="#line-number-8e74b036b39babfd375e36ee6dee34f9cd636d0e-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-8e74b036b39babfd375e36ee6dee34f9cd636d0e-8" class="line-number-anchor" /><a href="#line-number-8e74b036b39babfd375e36ee6dee34f9cd636d0e-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-8e74b036b39babfd375e36ee6dee34f9cd636d0e-9" class="line-number-anchor" /><a href="#line-number-8e74b036b39babfd375e36ee6dee34f9cd636d0e-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-8e74b036b39babfd375e36ee6dee34f9cd636d0e-10" class="line-number-anchor" /><a href="#line-number-8e74b036b39babfd375e36ee6dee34f9cd636d0e-10">10</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="mapping" name="mapping"></a><h1 class="section-header"><a href="#mapping">Mapping<i class="fas fa-link"></i></a></h1>
<p>In order for Doctrine to be able to persist your objects to a data store, you have to map the classes and class
properties so they can be properly stored and retrieved while maintaining a consistent state.</p>
<div class="section"><a class="section-anchor" id="classmetadata" name="classmetadata"></a><h2 class="section-header"><a href="#classmetadata">ClassMetadata<i class="fas fa-link"></i></a></h2>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-1" class="line-number-anchor" /><a href="#line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-1">1</a></td><td class="code-line" rowspan="21"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Persistence</span>\<span class="hljs-title">Mapping</span>;

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ClassMetadata</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getName</span><span class="hljs-params">()</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getIdentifier</span><span class="hljs-params">()</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getReflectionClass</span><span class="hljs-params">()</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isIdentifier</span><span class="hljs-params">($fieldName)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasField</span><span class="hljs-params">($fieldName)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasAssociation</span><span class="hljs-params">($fieldName)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isSingleValuedAssociation</span><span class="hljs-params">($fieldName)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isCollectionValuedAssociation</span><span class="hljs-params">($fieldName)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFieldNames</span><span class="hljs-params">()</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getIdentifierFieldNames</span><span class="hljs-params">()</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAssociationNames</span><span class="hljs-params">()</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTypeOfField</span><span class="hljs-params">($fieldName)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAssociationTargetClass</span><span class="hljs-params">($assocName)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isAssociationInverseSide</span><span class="hljs-params">($assocName)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAssociationMappedByTargetField</span><span class="hljs-params">($assocName)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getIdentifierValues</span><span class="hljs-params">($object)</span></span>;
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-2" class="line-number-anchor" /><a href="#line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-3" class="line-number-anchor" /><a href="#line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-4" class="line-number-anchor" /><a href="#line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-5" class="line-number-anchor" /><a href="#line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-6" class="line-number-anchor" /><a href="#line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-7" class="line-number-anchor" /><a href="#line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-8" class="line-number-anchor" /><a href="#line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-9" class="line-number-anchor" /><a href="#line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-10" class="line-number-anchor" /><a href="#line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-11" class="line-number-anchor" /><a href="#line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-12" class="line-number-anchor" /><a href="#line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-13" class="line-number-anchor" /><a href="#line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-14" class="line-number-anchor" /><a href="#line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-15" class="line-number-anchor" /><a href="#line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-16" class="line-number-anchor" /><a href="#line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-17" class="line-number-anchor" /><a href="#line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-18" class="line-number-anchor" /><a href="#line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-19" class="line-number-anchor" /><a href="#line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-20" class="line-number-anchor" /><a href="#line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-21" class="line-number-anchor" /><a href="#line-number-66e5a46107b60f5e93e51eb4fb0c36e3f2750b0d-21">21</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="classmetadatafactory" name="classmetadatafactory"></a><h2 class="section-header"><a href="#classmetadatafactory">ClassMetadataFactory<i class="fas fa-link"></i></a></h2>
<p>The <code>Doctrine\Persistence\Mapping\ClassMetadataFactory</code> class can be used to manage the instances for each of
your mapped PHP classes.</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="9258ff39ae5b2293b5d321a32b340d72ba31d880"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="9258ff39ae5b2293b5d321a32b340d72ba31d880"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-9258ff39ae5b2293b5d321a32b340d72ba31d880-1" class="line-number-anchor" /><a href="#line-number-9258ff39ae5b2293b5d321a32b340d72ba31d880-1">1</a></td><td class="code-line" rowspan="10"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Persistence</span>\<span class="hljs-title">Mapping</span>;

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ClassMetadataFactory</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAllMetadata</span><span class="hljs-params">()</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getMetadataFor</span><span class="hljs-params">($className)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasMetadataFor</span><span class="hljs-params">($className)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setMetadataFor</span><span class="hljs-params">($className, $class)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isTransient</span><span class="hljs-params">($className)</span></span>;
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-9258ff39ae5b2293b5d321a32b340d72ba31d880-2" class="line-number-anchor" /><a href="#line-number-9258ff39ae5b2293b5d321a32b340d72ba31d880-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9258ff39ae5b2293b5d321a32b340d72ba31d880-3" class="line-number-anchor" /><a href="#line-number-9258ff39ae5b2293b5d321a32b340d72ba31d880-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9258ff39ae5b2293b5d321a32b340d72ba31d880-4" class="line-number-anchor" /><a href="#line-number-9258ff39ae5b2293b5d321a32b340d72ba31d880-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9258ff39ae5b2293b5d321a32b340d72ba31d880-5" class="line-number-anchor" /><a href="#line-number-9258ff39ae5b2293b5d321a32b340d72ba31d880-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9258ff39ae5b2293b5d321a32b340d72ba31d880-6" class="line-number-anchor" /><a href="#line-number-9258ff39ae5b2293b5d321a32b340d72ba31d880-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9258ff39ae5b2293b5d321a32b340d72ba31d880-7" class="line-number-anchor" /><a href="#line-number-9258ff39ae5b2293b5d321a32b340d72ba31d880-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9258ff39ae5b2293b5d321a32b340d72ba31d880-8" class="line-number-anchor" /><a href="#line-number-9258ff39ae5b2293b5d321a32b340d72ba31d880-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9258ff39ae5b2293b5d321a32b340d72ba31d880-9" class="line-number-anchor" /><a href="#line-number-9258ff39ae5b2293b5d321a32b340d72ba31d880-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9258ff39ae5b2293b5d321a32b340d72ba31d880-10" class="line-number-anchor" /><a href="#line-number-9258ff39ae5b2293b5d321a32b340d72ba31d880-10">10</a></td></tr></table></div></code></pre>
</div>
</div>
<div class="section"><a class="section-anchor" id="mapping-driver" name="mapping-driver"></a><h1 class="section-header"><a href="#mapping-driver">Mapping Driver<i class="fas fa-link"></i></a></h1>
<p>In order to load <code>ClassMetadata</code> instances you can use the <code>Doctrine\Persistence\Mapping\Driver\MappingDriver</code>
interface. This is the interface that does the core loading of mapping information from wherever they are stored.
That may be in files, attributes, yaml, xml, etc.</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="54061b8e1041912603cb25b99e3c7f304692ff76"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="54061b8e1041912603cb25b99e3c7f304692ff76"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-54061b8e1041912603cb25b99e3c7f304692ff76-1" class="line-number-anchor" /><a href="#line-number-54061b8e1041912603cb25b99e3c7f304692ff76-1">1</a></td><td class="code-line" rowspan="10"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Persistence</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">Driver</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Persistence</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">ClassMetadata</span>;

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">MappingDriver</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadMetadataForClass</span><span class="hljs-params">($className, ClassMetadata $metadata)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAllClassNames</span><span class="hljs-params">()</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isTransient</span><span class="hljs-params">($className)</span></span>;
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-54061b8e1041912603cb25b99e3c7f304692ff76-2" class="line-number-anchor" /><a href="#line-number-54061b8e1041912603cb25b99e3c7f304692ff76-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-54061b8e1041912603cb25b99e3c7f304692ff76-3" class="line-number-anchor" /><a href="#line-number-54061b8e1041912603cb25b99e3c7f304692ff76-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-54061b8e1041912603cb25b99e3c7f304692ff76-4" class="line-number-anchor" /><a href="#line-number-54061b8e1041912603cb25b99e3c7f304692ff76-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-54061b8e1041912603cb25b99e3c7f304692ff76-5" class="line-number-anchor" /><a href="#line-number-54061b8e1041912603cb25b99e3c7f304692ff76-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-54061b8e1041912603cb25b99e3c7f304692ff76-6" class="line-number-anchor" /><a href="#line-number-54061b8e1041912603cb25b99e3c7f304692ff76-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-54061b8e1041912603cb25b99e3c7f304692ff76-7" class="line-number-anchor" /><a href="#line-number-54061b8e1041912603cb25b99e3c7f304692ff76-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-54061b8e1041912603cb25b99e3c7f304692ff76-8" class="line-number-anchor" /><a href="#line-number-54061b8e1041912603cb25b99e3c7f304692ff76-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-54061b8e1041912603cb25b99e3c7f304692ff76-9" class="line-number-anchor" /><a href="#line-number-54061b8e1041912603cb25b99e3c7f304692ff76-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-54061b8e1041912603cb25b99e3c7f304692ff76-10" class="line-number-anchor" /><a href="#line-number-54061b8e1041912603cb25b99e3c7f304692ff76-10">10</a></td></tr></table></div></code></pre>
<p>The Doctrine Persistence project offers a few base implementations that
make it easy to implement your own XML, Attributes or YAML drivers.</p>
<div class="section"><a class="section-anchor" id="filedriver" name="filedriver"></a><h2 class="section-header"><a href="#filedriver">FileDriver<i class="fas fa-link"></i></a></h2>
<p>The file driver operates in a mode where it loads the mapping files of individual classes on demand. This requires
the user to adhere to the convention of 1 mapping file per class and the file names of the mapping files must
correspond to the full class name, including namespace, with the namespace delimiters '', replaced by dots '.'.</p>
<p>Extend the <code>Doctrine\Persistence\Mapping\Driver\FileDriver</code> class to implement your own file driver.
Here is an example JSON file driver implementation.</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="056efa1a490210bdf1e12c9db76a5dd232133e1b"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="056efa1a490210bdf1e12c9db76a5dd232133e1b"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-1" class="line-number-anchor" /><a href="#line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-1">1</a></td><td class="code-line" rowspan="16"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Persistence</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">Driver</span>\<span class="hljs-title">FileDriver</span>;

<span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JSONFileDriver</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">FileDriver</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadMetadataForClass</span><span class="hljs-params">($className, ClassMetadata $metadata)</span>
    </span>{
        $mappingFileData = <span class="hljs-keyword">$this</span>-&gt;getElement($className);

        <span class="hljs-comment">// use the array of mapping information from the file to populate the $metadata instance</span>
    }

    <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadMappingFile</span><span class="hljs-params">($file)</span>
    </span>{
        <span class="hljs-keyword">return</span> json_decode($file, <span class="hljs-keyword">true</span>);
    }
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-2" class="line-number-anchor" /><a href="#line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-3" class="line-number-anchor" /><a href="#line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-4" class="line-number-anchor" /><a href="#line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-5" class="line-number-anchor" /><a href="#line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-6" class="line-number-anchor" /><a href="#line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-7" class="line-number-anchor" /><a href="#line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-8" class="line-number-anchor" /><a href="#line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-9" class="line-number-anchor" /><a href="#line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-10" class="line-number-anchor" /><a href="#line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-11" class="line-number-anchor" /><a href="#line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-12" class="line-number-anchor" /><a href="#line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-13" class="line-number-anchor" /><a href="#line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-14" class="line-number-anchor" /><a href="#line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-15" class="line-number-anchor" /><a href="#line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-16" class="line-number-anchor" /><a href="#line-number-056efa1a490210bdf1e12c9db76a5dd232133e1b-16">16</a></td></tr></table></div></code></pre>
<p>Now you can use it like the following.</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="10ccd7bcf6ecb44552059cf95c86e88c64a3777b"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="10ccd7bcf6ecb44552059cf95c86e88c64a3777b"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-10ccd7bcf6ecb44552059cf95c86e88c64a3777b-1" class="line-number-anchor" /><a href="#line-number-10ccd7bcf6ecb44552059cf95c86e88c64a3777b-1">1</a></td><td class="code-line" rowspan="5"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Persistence</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">Driver</span>\<span class="hljs-title">DefaultFileLocator</span>;

$fileLocator = <span class="hljs-keyword">new</span> DefaultFileLocator(<span class="hljs-string">'/path/to/mapping/files'</span>, <span class="hljs-string">'json'</span>);

$jsonFileDriver = <span class="hljs-keyword">new</span> JSONFileDriver($fileLocator);</td></tr>
<tr><td class="line-number noselect"><a name="line-number-10ccd7bcf6ecb44552059cf95c86e88c64a3777b-2" class="line-number-anchor" /><a href="#line-number-10ccd7bcf6ecb44552059cf95c86e88c64a3777b-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-10ccd7bcf6ecb44552059cf95c86e88c64a3777b-3" class="line-number-anchor" /><a href="#line-number-10ccd7bcf6ecb44552059cf95c86e88c64a3777b-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-10ccd7bcf6ecb44552059cf95c86e88c64a3777b-4" class="line-number-anchor" /><a href="#line-number-10ccd7bcf6ecb44552059cf95c86e88c64a3777b-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-10ccd7bcf6ecb44552059cf95c86e88c64a3777b-5" class="line-number-anchor" /><a href="#line-number-10ccd7bcf6ecb44552059cf95c86e88c64a3777b-5">5</a></td></tr></table></div></code></pre>
<p>Now if you have a class named <code>App\Model\User</code> and you can load the mapping information like this.</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="c3819b1f2de7553f30c9bc8b8c64019e26536fe3"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="c3819b1f2de7553f30c9bc8b8c64019e26536fe3"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-c3819b1f2de7553f30c9bc8b8c64019e26536fe3-1" class="line-number-anchor" /><a href="#line-number-c3819b1f2de7553f30c9bc8b8c64019e26536fe3-1">1</a></td><td class="code-line" rowspan="7"><span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Model</span>\<span class="hljs-title">User</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Persistence</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">ClassMetadata</span>;

$classMetadata = <span class="hljs-keyword">new</span> ClassMetadata();

<span class="hljs-comment">// looks for a file at /path/to/mapping/files/App.Model.User.json</span>
$jsonFileDriver-&gt;loadMetadataForClass(User::class, $classMetadata);</td></tr>
<tr><td class="line-number noselect"><a name="line-number-c3819b1f2de7553f30c9bc8b8c64019e26536fe3-2" class="line-number-anchor" /><a href="#line-number-c3819b1f2de7553f30c9bc8b8c64019e26536fe3-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c3819b1f2de7553f30c9bc8b8c64019e26536fe3-3" class="line-number-anchor" /><a href="#line-number-c3819b1f2de7553f30c9bc8b8c64019e26536fe3-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c3819b1f2de7553f30c9bc8b8c64019e26536fe3-4" class="line-number-anchor" /><a href="#line-number-c3819b1f2de7553f30c9bc8b8c64019e26536fe3-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c3819b1f2de7553f30c9bc8b8c64019e26536fe3-5" class="line-number-anchor" /><a href="#line-number-c3819b1f2de7553f30c9bc8b8c64019e26536fe3-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c3819b1f2de7553f30c9bc8b8c64019e26536fe3-6" class="line-number-anchor" /><a href="#line-number-c3819b1f2de7553f30c9bc8b8c64019e26536fe3-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c3819b1f2de7553f30c9bc8b8c64019e26536fe3-7" class="line-number-anchor" /><a href="#line-number-c3819b1f2de7553f30c9bc8b8c64019e26536fe3-7">7</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="phpdriver" name="phpdriver"></a><h2 class="section-header"><a href="#phpdriver">PHPDriver<i class="fas fa-link"></i></a></h2>
<p>The PHPDriver includes PHP files which just populate <code>ClassMetadata</code> instances with plain PHP code.</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="8363d41071efd5176f8bb1aa4b4fa11bf2f00f7a"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="8363d41071efd5176f8bb1aa4b4fa11bf2f00f7a"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-8363d41071efd5176f8bb1aa4b4fa11bf2f00f7a-1" class="line-number-anchor" /><a href="#line-number-8363d41071efd5176f8bb1aa4b4fa11bf2f00f7a-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Persistence</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">Driver</span>\<span class="hljs-title">PHPDriver</span>;

$phpDriver = <span class="hljs-keyword">new</span> PHPDriver(<span class="hljs-string">'/path/to/mapping/files'</span>);</td></tr>
<tr><td class="line-number noselect"><a name="line-number-8363d41071efd5176f8bb1aa4b4fa11bf2f00f7a-2" class="line-number-anchor" /><a href="#line-number-8363d41071efd5176f8bb1aa4b4fa11bf2f00f7a-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-8363d41071efd5176f8bb1aa4b4fa11bf2f00f7a-3" class="line-number-anchor" /><a href="#line-number-8363d41071efd5176f8bb1aa4b4fa11bf2f00f7a-3">3</a></td></tr></table></div></code></pre>
<p>Now you can use it like the following:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="0a7c83042805c462901181ca4ba37a47dac566b7"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="0a7c83042805c462901181ca4ba37a47dac566b7"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-0a7c83042805c462901181ca4ba37a47dac566b7-1" class="line-number-anchor" /><a href="#line-number-0a7c83042805c462901181ca4ba37a47dac566b7-1">1</a></td><td class="code-line" rowspan="7"><span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Model</span>\<span class="hljs-title">User</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Persistence</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">ClassMetadata</span>;

$classMetadata = <span class="hljs-keyword">new</span> ClassMetadata();

<span class="hljs-comment">// looks for a PHP file at /path/to/mapping/files/App.Model.User.php</span>
$phpDriver-&gt;loadMetadataForClass(User::class, $classMetadata);</td></tr>
<tr><td class="line-number noselect"><a name="line-number-0a7c83042805c462901181ca4ba37a47dac566b7-2" class="line-number-anchor" /><a href="#line-number-0a7c83042805c462901181ca4ba37a47dac566b7-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0a7c83042805c462901181ca4ba37a47dac566b7-3" class="line-number-anchor" /><a href="#line-number-0a7c83042805c462901181ca4ba37a47dac566b7-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0a7c83042805c462901181ca4ba37a47dac566b7-4" class="line-number-anchor" /><a href="#line-number-0a7c83042805c462901181ca4ba37a47dac566b7-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0a7c83042805c462901181ca4ba37a47dac566b7-5" class="line-number-anchor" /><a href="#line-number-0a7c83042805c462901181ca4ba37a47dac566b7-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0a7c83042805c462901181ca4ba37a47dac566b7-6" class="line-number-anchor" /><a href="#line-number-0a7c83042805c462901181ca4ba37a47dac566b7-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0a7c83042805c462901181ca4ba37a47dac566b7-7" class="line-number-anchor" /><a href="#line-number-0a7c83042805c462901181ca4ba37a47dac566b7-7">7</a></td></tr></table></div></code></pre>
<p>Inside the <code>/path/to/mapping/files/App.Model.User.php</code> file you can write raw PHP code to populate a <code>ClassMetadata</code>
instance. You will have access to a variable named <code>$metadata</code> inside the file that you can use to populate the
mapping metadata.</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="36caec02d09f395a3f2f680db20d05f05dec45bf"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="36caec02d09f395a3f2f680db20d05f05dec45bf"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-36caec02d09f395a3f2f680db20d05f05dec45bf-1" class="line-number-anchor" /><a href="#line-number-36caec02d09f395a3f2f680db20d05f05dec45bf-1">1</a></td><td class="code-line" rowspan="5"><span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Model</span>\<span class="hljs-title">User</span>;

$metadata-&gt;name = User::class;

<span class="hljs-comment">// ...</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-36caec02d09f395a3f2f680db20d05f05dec45bf-2" class="line-number-anchor" /><a href="#line-number-36caec02d09f395a3f2f680db20d05f05dec45bf-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-36caec02d09f395a3f2f680db20d05f05dec45bf-3" class="line-number-anchor" /><a href="#line-number-36caec02d09f395a3f2f680db20d05f05dec45bf-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-36caec02d09f395a3f2f680db20d05f05dec45bf-4" class="line-number-anchor" /><a href="#line-number-36caec02d09f395a3f2f680db20d05f05dec45bf-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-36caec02d09f395a3f2f680db20d05f05dec45bf-5" class="line-number-anchor" /><a href="#line-number-36caec02d09f395a3f2f680db20d05f05dec45bf-5">5</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="staticphpdriver" name="staticphpdriver"></a><h2 class="section-header"><a href="#staticphpdriver">StaticPHPDriver<i class="fas fa-link"></i></a></h2>
<p>The StaticPHPDriver calls a static <code>loadMetadata()</code> method on your model classes where you can manually populate the
<code>ClassMetadata</code> instance.</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="003fc730b4a59fcac190fe7f3c7b146a9ed4e06d"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="003fc730b4a59fcac190fe7f3c7b146a9ed4e06d"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-003fc730b4a59fcac190fe7f3c7b146a9ed4e06d-1" class="line-number-anchor" /><a href="#line-number-003fc730b4a59fcac190fe7f3c7b146a9ed4e06d-1">1</a></td><td class="code-line" rowspan="6">$staticPHPDriver = <span class="hljs-keyword">new</span> StaticPHPDriver(<span class="hljs-string">'/path/to/classes'</span>);

$classMetadata = <span class="hljs-keyword">new</span> ClassMetadata();

<span class="hljs-comment">// looks for a PHP file at /path/to/classes/App/Model/User.php</span>
$phpDriver-&gt;loadMetadataForClass(User::class, $classMetadata);</td></tr>
<tr><td class="line-number noselect"><a name="line-number-003fc730b4a59fcac190fe7f3c7b146a9ed4e06d-2" class="line-number-anchor" /><a href="#line-number-003fc730b4a59fcac190fe7f3c7b146a9ed4e06d-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-003fc730b4a59fcac190fe7f3c7b146a9ed4e06d-3" class="line-number-anchor" /><a href="#line-number-003fc730b4a59fcac190fe7f3c7b146a9ed4e06d-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-003fc730b4a59fcac190fe7f3c7b146a9ed4e06d-4" class="line-number-anchor" /><a href="#line-number-003fc730b4a59fcac190fe7f3c7b146a9ed4e06d-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-003fc730b4a59fcac190fe7f3c7b146a9ed4e06d-5" class="line-number-anchor" /><a href="#line-number-003fc730b4a59fcac190fe7f3c7b146a9ed4e06d-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-003fc730b4a59fcac190fe7f3c7b146a9ed4e06d-6" class="line-number-anchor" /><a href="#line-number-003fc730b4a59fcac190fe7f3c7b146a9ed4e06d-6">6</a></td></tr></table></div></code></pre>
<p>Your class in <code>App\Model\User</code> would look like the following.</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a-1" class="line-number-anchor" /><a href="#line-number-ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a-1">1</a></td><td class="code-line" rowspan="11"><span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Model</span>;

<span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span>
</span>{
    <span class="hljs-comment">// ...</span>

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadMetadata</span><span class="hljs-params">(ClassMetadata $metadata)</span>
    </span>{
        <span class="hljs-comment">// populate the $metadata instance</span>
    }
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a-2" class="line-number-anchor" /><a href="#line-number-ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a-3" class="line-number-anchor" /><a href="#line-number-ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a-4" class="line-number-anchor" /><a href="#line-number-ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a-5" class="line-number-anchor" /><a href="#line-number-ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a-6" class="line-number-anchor" /><a href="#line-number-ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a-7" class="line-number-anchor" /><a href="#line-number-ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a-8" class="line-number-anchor" /><a href="#line-number-ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a-9" class="line-number-anchor" /><a href="#line-number-ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a-10" class="line-number-anchor" /><a href="#line-number-ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a-11" class="line-number-anchor" /><a href="#line-number-ef4cd8c3c3eb387611c445a1332dfb0cabce6a5a-11">11</a></td></tr></table></div></code></pre>
</div>
</div>
<div class="section"><a class="section-anchor" id="reflection" name="reflection"></a><h1 class="section-header"><a href="#reflection">Reflection<i class="fas fa-link"></i></a></h1>
<p>Doctrine uses reflection to set and get the data inside your objects. The
<code>Doctrine\Persistence\Mapping\ReflectionService</code> is the primary interface needed for a Doctrine mapper.</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="e65c4ddce2df051926ac59eb8cd0f1f1707ca038"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="e65c4ddce2df051926ac59eb8cd0f1f1707ca038"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-e65c4ddce2df051926ac59eb8cd0f1f1707ca038-1" class="line-number-anchor" /><a href="#line-number-e65c4ddce2df051926ac59eb8cd0f1f1707ca038-1">1</a></td><td class="code-line" rowspan="11"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Persistence</span>\<span class="hljs-title">Mapping</span>;

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ReflectionService</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getParentClasses</span><span class="hljs-params">($class)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getClassShortName</span><span class="hljs-params">($class)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getClassNamespace</span><span class="hljs-params">($class)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getClass</span><span class="hljs-params">($class)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAccessibleProperty</span><span class="hljs-params">($class, $property)</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasPublicMethod</span><span class="hljs-params">($class, $method)</span></span>;
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-e65c4ddce2df051926ac59eb8cd0f1f1707ca038-2" class="line-number-anchor" /><a href="#line-number-e65c4ddce2df051926ac59eb8cd0f1f1707ca038-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e65c4ddce2df051926ac59eb8cd0f1f1707ca038-3" class="line-number-anchor" /><a href="#line-number-e65c4ddce2df051926ac59eb8cd0f1f1707ca038-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e65c4ddce2df051926ac59eb8cd0f1f1707ca038-4" class="line-number-anchor" /><a href="#line-number-e65c4ddce2df051926ac59eb8cd0f1f1707ca038-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e65c4ddce2df051926ac59eb8cd0f1f1707ca038-5" class="line-number-anchor" /><a href="#line-number-e65c4ddce2df051926ac59eb8cd0f1f1707ca038-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e65c4ddce2df051926ac59eb8cd0f1f1707ca038-6" class="line-number-anchor" /><a href="#line-number-e65c4ddce2df051926ac59eb8cd0f1f1707ca038-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e65c4ddce2df051926ac59eb8cd0f1f1707ca038-7" class="line-number-anchor" /><a href="#line-number-e65c4ddce2df051926ac59eb8cd0f1f1707ca038-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e65c4ddce2df051926ac59eb8cd0f1f1707ca038-8" class="line-number-anchor" /><a href="#line-number-e65c4ddce2df051926ac59eb8cd0f1f1707ca038-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e65c4ddce2df051926ac59eb8cd0f1f1707ca038-9" class="line-number-anchor" /><a href="#line-number-e65c4ddce2df051926ac59eb8cd0f1f1707ca038-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e65c4ddce2df051926ac59eb8cd0f1f1707ca038-10" class="line-number-anchor" /><a href="#line-number-e65c4ddce2df051926ac59eb8cd0f1f1707ca038-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e65c4ddce2df051926ac59eb8cd0f1f1707ca038-11" class="line-number-anchor" /><a href="#line-number-e65c4ddce2df051926ac59eb8cd0f1f1707ca038-11">11</a></td></tr></table></div></code></pre>
<p>Doctrine provides an implementation of this interface in the class named
<code>Doctrine\Persistence\Mapping\RuntimeReflectionService</code>.</p>
</div>
<div class="section"><a class="section-anchor" id="implementations" name="implementations"></a><h1 class="section-header"><a href="#implementations">Implementations<i class="fas fa-link"></i></a></h1>
<p>There are several different implementations of the Doctrine Persistence APIs.</p>
<ul>
    <li class="dash"><a href="https://www.doctrine-project.org/projects/orm.html">ORM</a> - The Doctrine Object Relational Mapper is a data mapper for relational databases.</li>
<li class="dash"><a href="https://www.doctrine-project.org/projects/mongodb-odm.html">MongoDB ODM</a> - The Doctrine MongoDB ODM is a data mapper for MongoDB.</li>
<li class="dash"><a href="https://www.doctrine-project.org/projects/phpcr-odm.html">PHPCR ODM</a> - The Doctrine PHPCR ODM a data mapper built on top of the PHPCR API.</li>
</ul>

</div>

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                    <footer class="footer">
                <div class="container">
                    <ul class="list-inline">
                        <li class="list-inline-item"><a href="/projects.html">Projects</a></li>
                        <li class="list-inline-item"><a href="/partners.html">Partners</a></li>
                        <li class="list-inline-item"><a href="/sponsorship.html">Sponsorship</a></li>
                        <li class="list-inline-item"><a href="/community/index.html">Community</a></li>
                        <li class="list-inline-item"><a href="/blog/index.html">Blog</a></li>
                    </ul>
                </div>
            </footer>
        
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?5364f3"
                            integrity="sha384-yT1xut8dmITuccyh+MOljcF0MzMJFhaP227UZREURvpogyieLsqm9J/duGcSbb6q"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'persistence';
            var versionSlug = '3.1';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search Persistence 3.1'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            </body>
</html>
