<!DOCTYPE html>
<html>
    <head>
        <title>How to implement a simple Registration Form with MongoDB - Doctrine Doctrine MongoDB Bundle (DoctrineMongoDBBundle)</title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine Doctrine MongoDB Bundle Documentation: How to implement a simple Registration Form with MongoDB ">

        <meta name="keywords" content="persistence,mongodb,symfony,documentation,how,to,implement,a,simple,registration,form,with,mongodb">

                    <meta name="robots" content="index, follow">
        
        
                    <link rel="canonical" href="https://www.doctrine-project.org" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?872f7e"
                        integrity="sha384-bZsEB71Y4iNSgVBqRpdfrMlt47Yelru109ZBtBWZTOqrVUwMj1ilWncB/TvsLRw5"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/projects/doctrine-mongodb-bundle/en/2.0/form.html" />
        <meta property="og:title" content="How to implement a simple Registration Form with MongoDB - Doctrine Doctrine MongoDB Bundle (DoctrineMongoDBBundle)" />
        <meta property="og:description" content="Doctrine Doctrine MongoDB Bundle Documentation: How to implement a simple Registration Form with MongoDB " />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine Doctrine MongoDB Bundle",
            "description": "How to implement a simple Registration Form with MongoDB",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://www.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar stop-war-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                 <a href="/stop-war.html">ðŸ‡ºðŸ‡¦ UKRAINE NEEDS YOUR HELP NOW!</a>
            </nav>

            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item notranslate" href="/projects/annotations.html">Annotations</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/cache.html">Cache</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/reflection.html">Reflection</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/rst-parser.html">RST Parser</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/skeleton-mapper.html">Skeleton Mapper</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/team/maintainers.html">Maintainers</a>
                                <a class="dropdown-item" href="/team/contributors.html">Contributors</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/events.html">Events</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/consulting.html">Consulting</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/DoctrineMongoDBBundle/edit/2.0/Resources/doc/form.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>

                    <div class="google-translate-dropdown dropdown show d-inline-block mr-2">
                        <a class="btn btn-primary dropdown-toggle" href="#" role="button" id="translateDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Translate
                        </a>

                        <div class="dropdown-menu" aria-labelledby="translateDropdown">
                            <div class="dropdown-item" id="google_translate_element">Loading...</div>
                        </div>
                    </div>

                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        <div class="toc"><ul><li id="index-html-doctrinemongodbbundle" class="toc-item"><a href="index.html#doctrinemongodbbundle">DoctrineMongoDBBundle</a><ul><li id="index-html-installation" class="toc-item"><a href="index.html#installation">Installation</a></li><li id="index-html-configuration" class="toc-item"><a href="index.html#configuration">Configuration</a></li><li id="index-html-a-simple-example-a-product" class="toc-item"><a href="index.html#a-simple-example-a-product">A Simple Example: A Product</a><ul><li id="index-html-creating-a-document-class" class="toc-item"><a href="index.html#creating-a-document-class">Creating a Document Class</a></li><li id="index-html-add-mapping-information" class="toc-item"><a href="index.html#add-mapping-information">Add Mapping Information</a></li><li id="index-html-generating-getters-and-setters" class="toc-item"><a href="index.html#generating-getters-and-setters">Generating Getters and Setters</a></li><li id="index-html-persisting-objects-to-mongodb" class="toc-item"><a href="index.html#persisting-objects-to-mongodb">Persisting Objects to MongoDB</a></li><li id="index-html-fetching-objects-from-mongodb" class="toc-item"><a href="index.html#fetching-objects-from-mongodb">Fetching Objects from MongoDB</a></li><li id="index-html-updating-an-object" class="toc-item"><a href="index.html#updating-an-object">Updating an Object</a></li><li id="index-html-deleting-an-object" class="toc-item"><a href="index.html#deleting-an-object">Deleting an Object</a></li></ul></li><li id="index-html-querying-for-objects" class="toc-item"><a href="index.html#querying-for-objects">Querying for Objects</a><ul><li id="index-html-using-the-query-builder" class="toc-item"><a href="index.html#using-the-query-builder">Using the Query Builder</a></li><li id="index-html-custom-repository-classes" class="toc-item"><a href="index.html#custom-repository-classes">Custom Repository Classes</a></li></ul></li><li id="index-html-doctrine-extensions-timestampable-sluggable-etc" class="toc-item"><a href="index.html#doctrine-extensions-timestampable-sluggable-etc">Doctrine Extensions: Timestampable, Sluggable, etc.</a></li><li id="index-html-doctrine-field-types-reference" class="toc-item"><a href="index.html#doctrine-field-types-reference">Doctrine Field Types Reference</a></li><li id="index-html-console-commands" class="toc-item"><a href="index.html#console-commands">Console Commands</a></li><li id="index-html-configuration" class="toc-item"><a href="index.html#configuration">Configuration</a><ul><li id="index-html-registering-event-listeners-and-subscribers" class="toc-item"><a href="index.html#registering-event-listeners-and-subscribers">Registering Event Listeners and Subscribers</a></li></ul></li><li id="index-html-using-the-abstraction-layer" class="toc-item"><a href="index.html#using-the-abstraction-layer">Using the Abstraction Layer</a></li><li id="index-html-summary" class="toc-item"><a href="index.html#summary">Summary</a></li><li id="index-html-learn-more-from-the-cookbook" class="toc-item"><a href="index.html#learn-more-from-the-cookbook">Learn more from the Cookbook</a></li></ul></li><li id="config-html-doctrinemongodbbundle-configuration" class="toc-item"><a href="config.html#doctrinemongodbbundle-configuration">DoctrineMongoDBBundle Configuration</a><ul><li id="config-html-sample-configuration" class="toc-item"><a href="config.html#sample-configuration">Sample Configuration</a><ul><li id="config-html-mapping-configuration" class="toc-item"><a href="config.html#mapping-configuration">Mapping Configuration</a></li><li id="config-html-multiple-connections" class="toc-item"><a href="config.html#multiple-connections">Multiple Connections</a></li><li id="config-html-retrying-connections-and-queries" class="toc-item"><a href="config.html#retrying-connections-and-queries">Retrying Connections and Queries</a></li><li id="config-html-full-default-configuration" class="toc-item"><a href="config.html#full-default-configuration">Full Default Configuration</a></li></ul></li></ul></li><li id="form-html-how-to-implement-a-simple-registration-form-with-mongodb" class="toc-item"><a href="form.html#how-to-implement-a-simple-registration-form-with-mongodb">How to implement a simple Registration Form with MongoDB</a><ul><li id="form-html-the-simple-user-model" class="toc-item"><a href="form.html#the-simple-user-model">The simple User model</a></li><li id="form-html-create-a-form-for-the-model" class="toc-item"><a href="form.html#create-a-form-for-the-model">Create a Form for the Model</a></li><li id="form-html-embedding-the-user-form-into-a-registration-form" class="toc-item"><a href="form.html#embedding-the-user-form-into-a-registration-form">Embedding the User form into a Registration Form</a></li><li id="form-html-handling-the-form-submission" class="toc-item"><a href="form.html#handling-the-form-submission">Handling the Form Submission</a></li></ul></li></ul></div>
                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://www.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "DoctrineMongoDBBundle",
            "item": "https://www.doctrine-project.org/projects/doctrine-mongodb-bundle.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://www.doctrine-project.org/projects/doctrine-mongodb-bundle/en/2.0/index.html"
        },                {
            "@type": "ListItem",
            "position": 4,
            "name": "How to implement a simple Registration Form with MongoDB",
            "item": "https://www.doctrine-project.org/projects/doctrine-mongodb-bundle/en/2.0/form.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-mongodb-bundle.html">DoctrineMongoDBBundle</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-mongodb-bundle/en/2.0/index.html">Documentation</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">How to implement a simple Registration Form with MongoDB</li>
                        </ol>
</nav>
                                    </div>

                    
    <div class="alert caution bg-light-yellow text-dark border">
    <table width="100%">
        <tr>
            <td width="10" class="align-top">
                <i class="fas fa-exclamation-circle text-warning mr-2"></i>
            </td>
            <td><p>You are browsing a version that is no longer maintained.</p></td>
        </tr>
    </table>
</div>

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-mongodb-bundle/en/2.0/form.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        2.0.1
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                            
                                                <a class="project-version-switcher dropdown-item" href="">
                                                    4.4.2

                                                    
                                                                                                            (upcoming)
                                                                                                    </a>
                                                                                            
                                                <a class="project-version-switcher dropdown-item" href="">
                                                    4.3.1

                                                                                                            (current)
                                                    
                                                                                                    </a>
                                                                                    
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                            
                                                <a class="dropdown-item" href="">4.2</a>
                                                                                            
                                                <a class="dropdown-item" href="">4.1</a>
                                                                                            
                                                <a class="dropdown-item" href="">4.0</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-mongodb-bundle/en/3.6/form.html">3.6</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-mongodb-bundle/en/3.5/form.html">3.5</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-mongodb-bundle/en/3.4/form.html">3.4</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-mongodb-bundle/en/3.3/form.html">3.3</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-mongodb-bundle/en/3.2/form.html">3.2</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-mongodb-bundle/en/3.1/form.html">3.1</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-mongodb-bundle/en/3.0/form.html">3.0</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-mongodb-bundle/en/2.2/form.html">2.2</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-mongodb-bundle/en/2.1/form.html">2.1</a>
                                                                                            
                                                <a class="dropdown-item active" href="/projects/doctrine-mongodb-bundle/en/2.0/form.html">2.0</a>
                                                                                                                        </div>
                                </div>
                            
                            
<div class="section"><a class="section-anchor" id="how-to-implement-a-simple-registration-form-with-mongodb" name="how-to-implement-a-simple-registration-form-with-mongodb"></a><h1 class="section-header"><a href="#how-to-implement-a-simple-registration-form-with-mongodb">How to implement a simple Registration Form with MongoDB<i class="fas fa-link"></i></a></h1>
<p>Some forms have extra fields whose values don't need to be stored in the
database. In this example, we'll create a registration form with some extra
fields and (like a terms accepted checkbox field) and embed the form that
actually stores the account information. We'll use MongoDB for storing the data.</p>
<div class="section"><a class="section-anchor" id="the-simple-user-model" name="the-simple-user-model"></a><h2 class="section-header"><a href="#the-simple-user-model">The simple User model<i class="fas fa-link"></i></a></h2>
<p>So, in this tutorial we begin with the model for a <code>User</code> document:</p>
<pre><code class="">// src/Acme/AccountBundle/Document/User.php
namespace Acme\AccountBundle\Document;

use Doctrine\ODM\MongoDB\Mapping\Annotations as MongoDB;
use Symfony\Component\Validator\Constraints as Assert;
use Symfony\Bundle\DoctrineMongoDBBundle\Validator\Constraints\Unique as MongoDBUnique;

/**
 * @MongoDB\Document(collection=&quot;users&quot;)
 * @MongoDBUnique(path=&quot;email&quot;)
 */
class User
{
    /**
     * @MongoDB\Id
     */
    protected $id;

    /**
     * @MongoDB\Field(type=&quot;string&quot;)
     * @Assert\NotBlank()
     * @Assert\Email()
     */
    protected $email;

    /**
     * @MongoDB\Field(type=&quot;string&quot;)
     * @Assert\NotBlank()
     */
    protected $password;

    public function getId()
    {
        return $this-&gt;id;
    }

    public function getEmail()
    {
        return $this-&gt;email;
    }

    public function setEmail($email)
    {
        $this-&gt;email = $email;
    }

    public function getPassword()
    {
        return $this-&gt;password;
    }

    // stupid simple encryption (please don&#039;t copy it!)
    public function setPassword($password)
    {
        $this-&gt;password = sha1($password);
    }
}
</code></pre>
<p>This <code>User</code> document contains three fields and two of them (email and
password) should display on the form. The email property must be unique
on the database, so we've added this validation at the top of the class.</p>
<div class="alert note-admonition bg-light-yellow text-dark border"><table width="100%"><tr><td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td><td><p>If you want to integrate this User within the security system,you need
to implement the UserInterface of the
security component .</p>
</td></tr></table></div>
</div>
<div class="section"><a class="section-anchor" id="create-a-form-for-the-model" name="create-a-form-for-the-model"></a><h2 class="section-header"><a href="#create-a-form-for-the-model">Create a Form for the Model<i class="fas fa-link"></i></a></h2>
<p>Next, create the form for the <code>User</code> model:</p>
<pre><code class="">// src/Acme/AccountBundle/Form/Type/UserType.php
namespace Acme\AccountBundle\Form\Type;

use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\Extension\Core\Type\RepeatedType;
use Symfony\Component\Form\FormBuilder;

class UserType extends AbstractType
{
    public function buildForm(FormBuilder $builder, array $options)
    {
        $builder-&gt;add(&#039;email&#039;, &#039;email&#039;);
        $builder-&gt;add(&#039;password&#039;, &#039;repeated&#039;, array(
           &#039;first_name&#039; =&gt; &#039;password&#039;,
           &#039;second_name&#039; =&gt; &#039;confirm&#039;,
           &#039;type&#039; =&gt; &#039;password&#039;
        ));
    }

    public function getDefaultOptions(array $options)
    {
        return array(&#039;data_class&#039; =&gt; &#039;Acme\AccountBundle\Document\User&#039;);
    }

    public function getName()
    {
        return &#039;user&#039;;
    }
}
</code></pre>
<p>We just added two fields: email and password (repeated to confirm the entered
password). The <code>data_class</code> option tells the form the name of data class
(i.e. your <code>User</code> document).</p>
<div class="alert tip-admonition bg-success text-light border"><table width="100%"><tr><td width="10" class="align-top"><i class="fas fa-question-circle mr-2"></i></td><td><p>To explore more things about form component, read this documentation file.</p>
</td></tr></table></div>
</div>
<div class="section"><a class="section-anchor" id="embedding-the-user-form-into-a-registration-form" name="embedding-the-user-form-into-a-registration-form"></a><h2 class="section-header"><a href="#embedding-the-user-form-into-a-registration-form">Embedding the User form into a Registration Form<i class="fas fa-link"></i></a></h2>
<p>The form that you'll use for the registration page is not the same as the
form for used to simply modify the <code>User</code> (i.e. <code>UserType</code>). The registration
form will contain further fields like accept the terms, whose value is
won't be stored into database.</p>
<p>In other words, create a second form for registration, which embeds the <code>User</code>
form and adds the extra field needed. Start by creating a simple class which
represents the registration:</p>
<pre><code class="">// src/Acme/AccountBundle/Form/Model/Registration.php
namespace Acme\AccountBundle\Form\Model;

use Symfony\Component\Validator\Constraints as Assert;

use Acme\AccountBundle\Document\User;

class Registration
{
    /**
     * @Assert\Type(type=&quot;Acme\AccountBundle\Document\User&quot;)
     */
    protected $user;

    /**
     * @Assert\NotBlank()
     * @Assert\True()
     */
    protected $termsAccepted;

    public function setUser(User $user)
    {
        $this-&gt;user = $user;
    }

    public function getUser()
    {
        return $this-&gt;user;
    }

    public function getTermsAccepted()
    {
        return $this-&gt;termsAccepted;
    }

    public function setTermsAccepted($termsAccepted)
    {
        $this-&gt;termsAccepted = (boolean)$termsAccepted;
    }
}
</code></pre>
<p>Next, create the form for this <code>Registration</code> model:</p>
<pre><code class="">// src/Acme/AccountBundle/Form/Type/RegistrationType.php
namespace Acme\AccountBundle\Form\Type;

use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\Extension\Core\Type\RepeatedType;
use Symfony\Component\Form\FormBuilder;

class RegistrationType extends AbstractType
{
    public function buildForm(FormBuilder $builder, array $options)
    {
        $builder-&gt;add(&#039;user&#039;, new UserType());
        $builder-&gt;add(&#039;terms&#039;, &#039;checkbox&#039;, array(&#039;property_path&#039; =&gt; &#039;termsAccepted&#039;));
    }

    public function getName()
    {
        return &#039;registration&#039;;
    }
}
</code></pre>
<p>You don't need to use special method for embedding the <code>UserType</code> form.
A form is a field, too - so you can add this like any other field, with the
expectation that the corresponding <code>user</code> property will hold an instance
of the class <code>UserType</code>.</p>
</div>
<div class="section"><a class="section-anchor" id="handling-the-form-submission" name="handling-the-form-submission"></a><h2 class="section-header"><a href="#handling-the-form-submission">Handling the Form Submission<i class="fas fa-link"></i></a></h2>
<p>Next, you need a controller to handle the form. Start by creating a simple
controller for displaying the registration form:</p>
<pre><code class="">// src/Acme/AccountBundle/Controller/AccountController.php
namespace Acme\AccountBundle\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\Controller;
use Symfony\Component\HttpFoundation\Response;

use Acme\AccountBundle\Form\Type\RegistrationType;
use Acme\AccountBundle\Form\Model\Registration;

class AccountController extends Controller
{
    public function registerAction()
    {
        $form = $this-&gt;createForm(new RegistrationType(), new Registration());

        return $this-&gt;render(&#039;AcmeAccountBundle:Account:register.html.twig&#039;, array(&#039;form&#039; =&gt; $form-&gt;createView()));
    }
}
</code></pre>
<p>and its template:</p>
<pre class="code-block-table"><code class="html"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="1f50d096b0956e41ac13bca88e8675af44e77f34"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="1f50d096b0956e41ac13bca88e8675af44e77f34"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-1f50d096b0956e41ac13bca88e8675af44e77f34-1" class="line-number-anchor" /><a href="#line-number-1f50d096b0956e41ac13bca88e8675af44e77f34-1">1</a></td><td class="code-line" rowspan="7">{# src/Acme/AccountBundle/Resources/views/Account/register.html.twig #}

<span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"{{ path('create')}}"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"post"</span> {{ <span class="hljs-attr">form_enctype</span>(<span class="hljs-attr">form</span>) }}&gt;</span>
    {{ form_widget(form) }}

    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1f50d096b0956e41ac13bca88e8675af44e77f34-2" class="line-number-anchor" /><a href="#line-number-1f50d096b0956e41ac13bca88e8675af44e77f34-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1f50d096b0956e41ac13bca88e8675af44e77f34-3" class="line-number-anchor" /><a href="#line-number-1f50d096b0956e41ac13bca88e8675af44e77f34-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1f50d096b0956e41ac13bca88e8675af44e77f34-4" class="line-number-anchor" /><a href="#line-number-1f50d096b0956e41ac13bca88e8675af44e77f34-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1f50d096b0956e41ac13bca88e8675af44e77f34-5" class="line-number-anchor" /><a href="#line-number-1f50d096b0956e41ac13bca88e8675af44e77f34-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1f50d096b0956e41ac13bca88e8675af44e77f34-6" class="line-number-anchor" /><a href="#line-number-1f50d096b0956e41ac13bca88e8675af44e77f34-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1f50d096b0956e41ac13bca88e8675af44e77f34-7" class="line-number-anchor" /><a href="#line-number-1f50d096b0956e41ac13bca88e8675af44e77f34-7">7</a></td></tr></table></div></code></pre>
<p>Finally, create the controller which handles the form submission.  This performs
the validation and saves the data into MongoDB:</p>
<pre><code class="">public function createAction()
{
    $dm = $this-&gt;get(&#039;doctrine.odm.mongodb.default_document_manager&#039;);

    $form = $this-&gt;createForm(new RegistrationType(), new Registration());

    $form-&gt;bindRequest($this-&gt;getRequest());

    if ($form-&gt;isValid()) {
        $registration = $form-&gt;getData();

        $dm-&gt;persist($registration-&gt;getUser());
        $dm-&gt;flush();

        return $this-&gt;redirect(...);
    }

    return $this-&gt;render(&#039;AcmeAccountBundle:Account:register.html.twig&#039;, array(&#039;form&#039; =&gt; $form-&gt;createView()));
}
</code></pre>
<p>That's it! Your form now validates, and allows you to save the <code>User</code>
object to MongoDB.</p>

</div>
</div>

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                    <footer class="footer">
                <div class="container">
                    <ul class="list-inline">
                        <li class="list-inline-item"><a href="/projects.html">Projects</a></li>
                        <li class="list-inline-item"><a href="/partners.html">Partners</a></li>
                        <li class="list-inline-item"><a href="/sponsorship.html">Sponsorship</a></li>
                        <li class="list-inline-item"><a href="/community/index.html">Community</a></li>
                        <li class="list-inline-item"><a href="/blog/index.html">Blog</a></li>
                        <li class="list-inline-item"><a href="/events.html">Events</a></li>
                        <li class="list-inline-item"><a href="/consulting.html">Consulting</a></li>
                    </ul>
                </div>
            </footer>
        
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?c5c4da"
                            integrity="sha384-5hRDQk2hqUT/vnbvjLWejYbMw7/5we7EBXKqqMWto0tnUyLS04E/gocAHbQnL+eT"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'doctrine-mongodb-bundle';
            var versionSlug = '2.0';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search DoctrineMongoDBBundle 2.0'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            </body>
</html>
