<!DOCTYPE html>
<html>
    <head>
        <title>        Configuration - Doctrine Doctrine MongoDB Bundle (DoctrineMongoDBBundle)
    </title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine Doctrine MongoDB Bundle Documentation: Configuration ">

        <meta name="keywords" content="                    persistence,mongodb,symfony,documentation,configuration
    ">

                    <meta name="robots" content="index, follow">
        
        
                    <link rel="canonical" href="https://www.doctrine-project.org/projects/doctrine-mongodb-bundle/en/5.5/config.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?209f12"
                        integrity="sha384-VMcQOaUBPJYirNpZMqv0kKw80RSt4Uye4T1Li/d7kiKYAfj1WSzYOgP2OTdON/HM"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/projects/doctrine-mongodb-bundle/en/latest/config.html" />
        <meta property="og:title" content="        Configuration - Doctrine Doctrine MongoDB Bundle (DoctrineMongoDBBundle)
    " />
        <meta property="og:description" content="Doctrine Doctrine MongoDB Bundle Documentation: Configuration " />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine Doctrine MongoDB Bundle",
            "description": "Configuration",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://www.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/sponsorship.html">Sponsorship</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/DoctrineMongoDBBundle/edit/5.6.x/docs/en/config.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        

            <div class="toc">
    <ul class="menu-level">
    <li class="toc-item opened">
    <a href="#configuration">Configuration</a>

        <ul class="section-level-1 opened-ul ">
            <li class="toc-item">
    <a href="#sample-configuration">Sample Configuration</a>


</li>
            <li class="toc-item">
    <a href="#mapping-configuration">Mapping Configuration</a>


</li>
            <li class="toc-item">
    <a href="#custom-types">Custom Types</a>


</li>
            <li class="toc-item">
    <a href="#filters">Filters</a>


</li>
            <li class="toc-item">
    <a href="#multiple-connections">Multiple Connections</a>


</li>
            <li class="toc-item">
    <a href="#connecting-to-a-pool-of-mongodb-servers-on-1-connection">Connecting to a pool of mongodb servers on 1 connection</a>


</li>
            <li class="toc-item">
    <a href="#using-authentication-on-a-database-level">Using Authentication on a Database Level</a>


</li>
            <li class="toc-item">
    <a href="#using-queryable-encryption">Using Queryable Encryption</a>


</li>
            <li class="toc-item">
    <a href="#lazy-object-implementation">Lazy object implementation</a>


</li>
            <li class="toc-item">
    <a href="#full-default-configuration">Full Default Configuration</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="console.html#console-commands">Console Commands</a>


</li>
    <li class="toc-item">
    <a href="cookbook/registration_form.html#creating-a-registration-form">Creating a Registration Form</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="cookbook/registration_form.html#the-user-model">The User Model</a>


</li>
            <li class="toc-item">
    <a href="cookbook/registration_form.html#create-a-form-for-the-model">Create a Form for the Model</a>


</li>
            <li class="toc-item">
    <a href="cookbook/registration_form.html#embedding-the-user-form-into-a-registration-form">Embedding the User form into a Registration Form</a>


</li>
            <li class="toc-item">
    <a href="cookbook/registration_form.html#handling-the-form-submission">Handling the Form Submission</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="encryption.html#client-side-field-level-encryption-csfle-and-queryable-encryption-qe">Client-Side Field-Level Encryption (CSFLE) and Queryable Encryption (QE)</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="encryption.html#configuration">Configuration</a>


</li>
            <li class="toc-item">
    <a href="encryption.html#supported-kms-providers">Supported KMS Providers</a>


</li>
            <li class="toc-item">
    <a href="encryption.html#encrypted-fields-configuration">Encrypted Fields Configuration</a>


</li>
            <li class="toc-item">
    <a href="encryption.html#encrypted-fields-map-optional">Encrypted Fields Map (optional)</a>


</li>
            <li class="toc-item">
    <a href="encryption.html#automatic-encryption-shared-library">Automatic Encryption Shared Library</a>


</li>
            <li class="toc-item">
    <a href="encryption.html#tls-options">TLS Options</a>


</li>
            <li class="toc-item">
    <a href="encryption.html#further-reading">Further Reading</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="events.html#registering-event-listeners-and-subscribers">Registering Event Listeners and Subscribers</a>


</li>
    <li class="toc-item">
    <a href="first_steps.html#first-steps-using-the-odm">First steps using the ODM</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="first_steps.html#an-introductory-example-a-product">An Introductory Example: A Product</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="first_steps.html#creating-a-document-class">Creating a Document Class</a>


</li>
            <li class="toc-item">
    <a href="first_steps.html#add-mapping-information">Add Mapping Information</a>


</li>
            <li class="toc-item">
    <a href="first_steps.html#persisting-objects-to-mongodb">Persisting Objects to MongoDB</a>


</li>
            <li class="toc-item">
    <a href="first_steps.html#fetching-objects-from-mongodb">Fetching Objects from MongoDB</a>


</li>
            <li class="toc-item">
    <a href="first_steps.html#automatically-fetching-objects-documentvalueresolver">Automatically Fetching Objects (DocumentValueResolver)</a>


</li>
            <li class="toc-item">
    <a href="first_steps.html#fetch-automatically">Fetch Automatically</a>


</li>
            <li class="toc-item">
    <a href="first_steps.html#fetch-via-an-expression">Fetch via an Expression</a>


</li>
            <li class="toc-item">
    <a href="first_steps.html#mapdocument-options">MapDocument Options</a>


</li>
            <li class="toc-item">
    <a href="first_steps.html#updating-an-object">Updating an Object</a>


</li>
            <li class="toc-item">
    <a href="first_steps.html#deleting-an-object">Deleting an Object</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="first_steps.html#querying-for-objects">Querying for Objects</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="first_steps.html#using-the-query-builder">Using the Query Builder</a>


</li>
            <li class="toc-item">
    <a href="first_steps.html#custom-repository-classes">Custom Repository Classes</a>


</li>
            <li class="toc-item">
    <a href="first_steps.html#service-repositories">Service Repositories</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="form_validation.html#form-validation">Form &amp; Validation</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="form_validation.html#documenttype">DocumentType</a>


</li>
            <li class="toc-item">
    <a href="form_validation.html#unique-constraint">Unique constraint</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="installation.html#installation">Installation</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="installation.html#install-the-bundle-with-symfony-flex">Install the bundle with Symfony Flex</a>


</li>
            <li class="toc-item">
    <a href="installation.html#install-the-bundle-with-composer">Install the bundle with Composer</a>


</li>
            <li class="toc-item">
    <a href="installation.html#enable-the-bundle">Enable the Bundle</a>


</li>
            <li class="toc-item">
    <a href="installation.html#configuration">Configuration</a>


</li>
            <li class="toc-item">
    <a href="installation.html#authentication">Authentication</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="messenger.html#messenger-integration">Messenger Integration</a>


</li>
    <li class="toc-item">
    <a href="security_bundle.html#securitybundle-integration">SecurityBundle integration</a>


</li>
    </ul>
</div>
    

                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://www.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "DoctrineMongoDBBundle",
            "item": "https://www.doctrine-project.org/projects/doctrine-mongodb-bundle.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://www.doctrine-project.org/projects/doctrine-mongodb-bundle/en/latest/index.html"
        },                {
            "@type": "ListItem",
            "position": 4,
            "name": "Configuration",
            "item": "https://www.doctrine-project.org/projects/doctrine-mongodb-bundle/en/latest/config.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-mongodb-bundle.html">DoctrineMongoDBBundle</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-mongodb-bundle/en/latest/index.html">Documentation</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Configuration</li>
                        </ol>
</nav>
                                    </div>

                    
    <div class="alert caution bg-light-yellow text-dark border">
    <table width="100%">
        <tr>
            <td width="10" class="align-top">
                <i class="fas fa-exclamation-circle text-warning mr-2"></i>
            </td>
            <td><p>You are browsing a version that has not yet been released.</p></td>
        </tr>
    </table>
</div>

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-mongodb-bundle/en/latest/config.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        5.6
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item active" href="/projects/doctrine-mongodb-bundle/en/latest/config.html">
                                                        5.6

                                                        
                                                                                                                    (upcoming)
                                                                                                            </a>
                                                                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-mongodb-bundle/en/5.5/config.html">
                                                        5.5.1

                                                                                                                    (current)
                                                        
                                                                                                            </a>
                                                                                                                                    
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-mongodb-bundle/en/5.4/config.html">5.4</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-mongodb-bundle/en/5.3/config.html">5.3</a>
                                                                                                                                                                                                                                                                    </div>
                                </div>
                            
                            

            <div class="section" id="configuration">
            <h1 class="section-header ">
    <a href="#configuration">
        Configuration
        <i class="fas fa-link"></i>
    </a>
</h1>
            <div class="section" id="sample-configuration">
            <h2 class="section-header ">
    <a href="#sample-configuration">
        Sample Configuration
        <i class="fas fa-link"></i>
    </a>
</h2>
            <div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                    aria-controls="configuration-block-tabpanel-d1953fa7dd1d4da31f38ba9876f5b1fb" aria-selected="true"
                    data-active="true" >
                <span>Yaml</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                    aria-controls="configuration-block-tabpanel-d01c4d58f667944b4cb3189c20f5a8ce" aria-selected="false"
                     tabindex="-1">
                <span>Xml</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                    aria-controls="configuration-block-tabpanel-edfbb129da444c175a6017a97dcadf77" aria-selected="false"
                     tabindex="-1">
                <span>Php</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-d1953fa7dd1d4da31f38ba9876f5b1fb" aria-label="Yaml" class="configuration-codeblock" data-language="yaml" style="">
                <pre class="code-block-table" id="b9acda3699aaea4fec65aafe61c0406a059be57c"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="b9acda3699aaea4fec65aafe61c0406a059be57c"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-yaml"><span class="hljs-comment"># config/packages/doctrine_mongodb.yaml</span></code><code class="line language-yaml"><span class="hljs-attr">doctrine_mongodb:</span></code><code class="line language-yaml">    <span class="hljs-attr">connections:</span></code><code class="line language-yaml">        <span class="hljs-attr">default:</span></code><code class="line language-yaml">            <span class="hljs-attr">server:</span> <span class="hljs-string">mongodb://localhost:27017</span></code><code class="line language-yaml">            <span class="hljs-attr">options:</span> <span class="hljs-string">{}</span></code><code class="line language-yaml">    <span class="hljs-attr">default_database:</span> <span class="hljs-string">hello_%kernel.environment%</span></code><code class="line language-yaml">    <span class="hljs-attr">document_managers:</span></code><code class="line language-yaml">        <span class="hljs-attr">default:</span></code><code class="line language-yaml">            <span class="hljs-attr">mappings:</span></code><code class="line language-yaml">                <span class="hljs-attr">App:</span></code><code class="line language-yaml">                    <span class="hljs-attr">is_bundle:</span> <span class="hljs-literal">false</span></code><code class="line language-yaml">                    <span class="hljs-attr">dir:</span> <span class="hljs-string">'%kernel.project_dir%/src/Document'</span></code><code class="line language-yaml">                    <span class="hljs-attr">prefix:</span> <span class="hljs-string">'App\Document'</span></code><code class="line language-yaml">                    <span class="hljs-attr">alias:</span> <span class="hljs-string">App</span></code><code class="line language-yaml">            <span class="hljs-attr">metadata_cache_driver:</span> <span class="hljs-string">array</span> <span class="hljs-comment"># array, service, apcu, memcached, redis</span></code><code class="empty"></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-d01c4d58f667944b4cb3189c20f5a8ce" aria-label="Xml" class="configuration-codeblock" data-language="xml" style="display: none">
                <pre class="code-block-table" id="be66eb0aee1d06f9628814f5594b7247f08ead77"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="be66eb0aee1d06f9628814f5594b7247f08ead77"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-xml"><span class="hljs-meta">&lt;?xml version="1.0" ?&gt;</span></code><code class="line language-xml"></code><code class="line language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span></span></code><code class="line language-xml">    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</code><code class="line language-xml">    xmlns:doctrine_mongodb="http://symfony.com/schema/dic/doctrine/odm/mongodb"</code><code class="line language-xml">    xsi:schemaLocation="http://symfony.com/schema/dic/services https://symfony.com/schema/dic/services/services-1.0.xsd</code><code class="line language-xml">                        http://symfony.com/schema/dic/doctrine/odm/mongodb https://symfony.com/schema/dic/doctrine/odm/mongodb/mongodb-1.0.xsd"&gt;</code><code class="line language-xml"></code><code class="line language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:config</span> <span class="hljs-attr">default-database</span>=<span class="hljs-string">"hello_%kernel.environment%"</span>&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:connection</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"default"</span> <span class="hljs-attr">server</span>=<span class="hljs-string">"mongodb://localhost:27017"</span>&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:options</span>&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine_mongodb:options</span>&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine_mongodb:connection</span>&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:document-manager</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"default"</span>&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:mapping</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"App"</span> <span class="hljs-attr">is-bundle</span>=<span class="hljs-string">"false"</span> <span class="hljs-attr">prefix</span>=<span class="hljs-string">"App\Document"</span> <span class="hljs-attr">alias</span>=<span class="hljs-string">"App"</span> /&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:metadata-cache-driver</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"array"</span> /&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine_mongodb:document-manager</span>&gt;</span></code><code class="line language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine_mongodb:config</span>&gt;</span></code><code class="line language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></code><code class="empty"></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-edfbb129da444c175a6017a97dcadf77" aria-label="Php" class="configuration-codeblock" data-language="php" style="display: none">
                <pre class="code-block-table" id="56851647849395839255a83505fa9287181664e6"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="56851647849395839255a83505fa9287181664e6"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">DoctrineMongodbConfig</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">function</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">DependencyInjection</span>\<span class="hljs-title">Loader</span>\<span class="hljs-title">Configurator</span>\<span class="hljs-title">env</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">function</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">DependencyInjection</span>\<span class="hljs-title">Loader</span>\<span class="hljs-title">Configurator</span>\<span class="hljs-title">param</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(DoctrineMongodbConfig $config)</span>: <span class="hljs-title">void</span> </span>{</code><code class="line language-php">    $config-&gt;connection(<span class="hljs-string">'default'</span>)</code><code class="line language-php">        -&gt;server(env(<span class="hljs-string">'MONGODB_URI'</span>)-&gt;default(<span class="hljs-string">'mongodb://localhost:27017'</span>)-&gt;resolve())</code><code class="line language-php">        -&gt;options([]);</code><code class="line language-php"></code><code class="line language-php">    $config-&gt;defaultDatabase(<span class="hljs-string">'hello_'</span> . param(<span class="hljs-string">'kernel.environment'</span>));</code><code class="line language-php">    $config-&gt;documentManager(<span class="hljs-string">'default'</span>)</code><code class="line language-php">        -&gt;mapping(<span class="hljs-string">'App'</span>)</code><code class="line language-php">            -&gt;isBundle(<span class="hljs-keyword">false</span>)</code><code class="line language-php">            -&gt;dir(param(<span class="hljs-string">'kernel.project_dir'</span>) . <span class="hljs-string">'/src/Document'</span>)</code><code class="line language-php">            -&gt;prefix(<span class="hljs-string">'App\\Document'</span>)</code><code class="line language-php">            -&gt;alias(<span class="hljs-string">'App'</span>)</code><code class="line language-php">        -&gt;metadataCacheDriver(<span class="hljs-string">'array'</span>); <span class="hljs-comment">// array, service, apcu, memcached, redis</span></code><code class="line language-php">};</code><code class="empty"></code></pre>
        </div>
    </div>
            
    <p>}</p>

            <div class="alert -admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas   mr-2"></i></td>
            <td>
                                                
    <p>If each environment requires a different MongoDB connection URI, you can
<a href="https://symfony.com/doc/current/configuration.html#configuration-based-on-environment-variables">define it as an environment variable</a> and reference it in the bundle&#039;s config:</p>
    <pre class="code-block-table" id="9792ccc4d2bbd0c3815bdad978f37691e3343be6"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="9792ccc4d2bbd0c3815bdad978f37691e3343be6"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-yaml"><span class="hljs-comment"># .env</span></code><code class="line language-yaml"><span class="hljs-string">MONGODB_URI=mongodb://localhost:27017</span></code><code class="empty"></code></pre>    <pre class="code-block-table" id="1ca97bde5d0f7e0bc501d96000f74ee4ffb570ab"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="1ca97bde5d0f7e0bc501d96000f74ee4ffb570ab"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-yaml"><span class="hljs-comment"># config/packages/doctrine_mongodb.yaml</span></code><code class="line language-yaml"><span class="hljs-attr">doctrine_mongodb:</span></code><code class="line language-yaml">    <span class="hljs-attr">connections:</span></code><code class="line language-yaml">        <span class="hljs-attr">default:</span></code><code class="line language-yaml">            <span class="hljs-attr">server:</span> <span class="hljs-string">'%env(resolve:MONGODB_URI)%'</span></code><code class="empty"></code></pre>
            </td>
        </tr>
        </tbody>
    </table>
</div>
            
    <p>If you wish to use memcached to cache your metadata, you need to configure the
<code>Memcached</code> instance; for example, you can do the following:</p>

            <div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                    aria-controls="configuration-block-tabpanel-22ef7f39ba7e67b4a666ebcc704b1baf" aria-selected="true"
                    data-active="true" >
                <span>Yaml</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                    aria-controls="configuration-block-tabpanel-6939143b765e168c3ba08f9bd0d56b08" aria-selected="false"
                     tabindex="-1">
                <span>Xml</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                    aria-controls="configuration-block-tabpanel-0aa406e9828203362610d7d151e7be93" aria-selected="false"
                     tabindex="-1">
                <span>Php</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-22ef7f39ba7e67b4a666ebcc704b1baf" aria-label="Yaml" class="configuration-codeblock" data-language="yaml" style="">
                <pre class="code-block-table" id="08c64c11e62fe53fd1f01353771d05d2c8c741a3"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="08c64c11e62fe53fd1f01353771d05d2c8c741a3"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-yaml"><span class="hljs-comment"># app/config/config.yml</span></code><code class="line language-yaml"><span class="hljs-attr">doctrine_mongodb:</span></code><code class="line language-yaml">    <span class="hljs-attr">default_database:</span> <span class="hljs-string">hello_%kernel.environment%</span></code><code class="line language-yaml">    <span class="hljs-attr">connections:</span></code><code class="line language-yaml">        <span class="hljs-attr">default:</span></code><code class="line language-yaml">            <span class="hljs-attr">server:</span> <span class="hljs-string">mongodb://localhost:27017</span></code><code class="line language-yaml">            <span class="hljs-attr">options:</span> <span class="hljs-string">{}</span></code><code class="line language-yaml">    <span class="hljs-attr">document_managers:</span></code><code class="line language-yaml">        <span class="hljs-attr">default:</span></code><code class="line language-yaml">            <span class="hljs-attr">mappings:</span></code><code class="line language-yaml">                <span class="hljs-attr">App:</span> <span class="hljs-string">~</span></code><code class="line language-yaml">            <span class="hljs-attr">metadata_cache_driver:</span></code><code class="line language-yaml">                <span class="hljs-attr">type:</span> <span class="hljs-string">memcached</span></code><code class="line language-yaml">                <span class="hljs-attr">class:</span> <span class="hljs-string">Symfony\Component\Cache\Adapter\MemcachedAdapter</span></code><code class="line language-yaml">                <span class="hljs-attr">host:</span> <span class="hljs-string">localhost</span></code><code class="line language-yaml">                <span class="hljs-attr">port:</span> <span class="hljs-number">11211</span></code><code class="line language-yaml">                <span class="hljs-attr">instance_class:</span> <span class="hljs-string">Memcached</span></code><code class="empty"></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-6939143b765e168c3ba08f9bd0d56b08" aria-label="Xml" class="configuration-codeblock" data-language="xml" style="display: none">
                <pre class="code-block-table" id="eab9a7aa0e390c310191affcbe9eb57fc3d411af"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="eab9a7aa0e390c310191affcbe9eb57fc3d411af"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-xml"><span class="hljs-meta">&lt;?xml version="1.0" ?&gt;</span></code><code class="line language-xml"></code><code class="line language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span></span></code><code class="line language-xml">    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</code><code class="line language-xml">    xmlns:doctrine_mongodb="http://symfony.com/schema/dic/doctrine/odm/mongodb"</code><code class="line language-xml">    xsi:schemaLocation="http://symfony.com/schema/dic/services https://symfony.com/schema/dic/services/services-1.0.xsd</code><code class="line language-xml">                        http://symfony.com/schema/dic/doctrine/odm/mongodb https://symfony.com/schema/dic/doctrine/odm/mongodb/mongodb-1.0.xsd"&gt;</code><code class="line language-xml"></code><code class="line language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:config</span> <span class="hljs-attr">default-database</span>=<span class="hljs-string">"hello_%kernel.environment%"</span>&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:document-manager</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"default"</span>&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:mapping</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"App"</span> /&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:metadata-cache-driver</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"memcached"</span>&gt;</span></code><code class="line language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:class</span>&gt;</span>Symfony\Component\Cache\Adapter\MemcachedAdapter<span class="hljs-tag">&lt;/<span class="hljs-name">doctrine_mongodb:class</span>&gt;</span></code><code class="line language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:host</span>&gt;</span>localhost<span class="hljs-tag">&lt;/<span class="hljs-name">doctrine_mongodb:host</span>&gt;</span></code><code class="line language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:port</span>&gt;</span>11211<span class="hljs-tag">&lt;/<span class="hljs-name">doctrine_mongodb:port</span>&gt;</span></code><code class="line language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:instance-class</span>&gt;</span>Memcached<span class="hljs-tag">&lt;/<span class="hljs-name">doctrine_mongodb:instance-class</span>&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine_mongodb:metadata-cache-driver</span>&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine_mongodb:document-manager</span>&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:connection</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"default"</span> <span class="hljs-attr">server</span>=<span class="hljs-string">"mongodb://localhost:27017"</span>&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:options</span>&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine_mongodb:options</span>&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine_mongodb:connection</span>&gt;</span></code><code class="line language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine_mongodb:config</span>&gt;</span></code><code class="line language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></code><code class="empty"></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-0aa406e9828203362610d7d151e7be93" aria-label="Php" class="configuration-codeblock" data-language="php" style="display: none">
                <pre class="code-block-table" id="63d611bca4592d1edb047591e6e34c3580ad1d42"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="63d611bca4592d1edb047591e6e34c3580ad1d42"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Cache</span>\<span class="hljs-title">Adapter</span>\<span class="hljs-title">MemcachedAdapter</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">DoctrineMongodbConfig</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">function</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">DependencyInjection</span>\<span class="hljs-title">Loader</span>\<span class="hljs-title">Configurator</span>\<span class="hljs-title">param</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(DoctrineMongodbConfig $config)</span>: <span class="hljs-title">void</span> </span>{</code><code class="line language-php">    $config-&gt;defaultDatabase(<span class="hljs-string">'hello_'</span> . param(<span class="hljs-string">'kernel.environment'</span>));</code><code class="line language-php">    $config-&gt;connection(<span class="hljs-string">'default'</span>)</code><code class="line language-php">        -&gt;server(<span class="hljs-string">'mongodb://localhost:27017'</span>)</code><code class="line language-php">        -&gt;options([]);</code><code class="line language-php"></code><code class="line language-php">    $config-&gt;documentManager(<span class="hljs-string">'default'</span>)</code><code class="line language-php">        -&gt;mapping(<span class="hljs-string">'App'</span>)</code><code class="line language-php">        -&gt;metadataCacheDriver()</code><code class="line language-php">            -&gt;type(<span class="hljs-string">'memcached'</span>)</code><code class="line language-php">            -&gt;class(MemcachedAdapter::class)</code><code class="line language-php">            -&gt;host(<span class="hljs-string">'localhost'</span>)</code><code class="line language-php">            -&gt;port(<span class="hljs-number">11211</span>)</code><code class="line language-php">            -&gt;instanceClass(\Memcached::class)</code><code class="line language-php">    ;</code><code class="line language-php">};</code><code class="empty"></code></pre>
        </div>
    </div>
    </div>
            <div class="section" id="mapping-configuration">
            <h2 class="section-header ">
    <a href="#mapping-configuration">
        Mapping Configuration
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Explicit definition of all the mapped documents is the only necessary
configuration for the ODM and there are several configuration options that you
can control. The following configuration options exist for a mapping:</p>

            

<ul>
    <li class="dash"><code>type</code> One of <code>attribute</code>, <code>xml</code>, <code>php</code> or <code>staticphp</code>.
This specifies which type of metadata type your mapping uses.</li>
    <li class="dash"><code>dir</code> Path to the mapping or document files (depending on the driver). If
this path is relative it is assumed to be relative to the bundle root. This
only works if the name of your mapping is a bundle name. If you want to use
this option to specify absolute paths you should prefix the path with the
kernel parameters that exist in the DIC (for example <code>%kernel.project_dir%</code>).</li>
    <li class="dash"><code>prefix</code> A common namespace prefix that all documents of this mapping
share. This prefix should never conflict with prefixes of other defined
mappings otherwise some of your documents cannot be found by Doctrine. This
option defaults to the application namespace + <code>Document</code>, for example
for an application called <code>App</code>, the prefix would be
<code>App\Document</code>.</li>
    <li class="dash"><code>alias</code> Doctrine offers a way to alias document namespaces to simpler,
shorter names to be used in queries or for Repository access.</li>
    <li class="dash"><code>is_bundle</code> This option is a derived value from <code>dir</code> and by default is
set to true if dir is relative proved by a <code>file_exists()</code> check that
returns false. It is false if the existence check returns true. In this case
an absolute path was specified and the metadata files are most likely in a
directory outside of a bundle.</li>
</ul>

            
    <p>To avoid having to configure lots of information for your mappings you should
follow these conventions:</p>

            
    
<ol start="1" type="1">
    <li value="1">Put all your documents in a directory <code>Document/</code> inside your project. For
example <code>src/Document/</code>.</li>
    <li value="2">If you are using xml or php mapping put all your configuration files
into either the <code>config/doctrine/</code> directory (requires Symfony 5.4 or
later) or the <code>Resources/config/doctrine/</code> directory
suffixed with mongodb.xml, mongodb.yml or mongodb.php respectively.</li>
    <li value="3">Attributes are assumed if a <code>Document/</code> but no
<code>config/doctrine/</code> or <code>Resources/config/doctrine/</code> directory is found.</li>
</ol>

            
    <p>The following configuration shows a bunch of mapping examples:</p>

            <div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                    aria-controls="configuration-block-tabpanel-bfd60eddd12f0c4e12e003c6837803c3" aria-selected="true"
                    data-active="true" >
                <span>Yaml</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                    aria-controls="configuration-block-tabpanel-e605f8412a6599f762c807244cd626bc" aria-selected="false"
                     tabindex="-1">
                <span>Xml</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                    aria-controls="configuration-block-tabpanel-3a739aaab2b8105005b308c521831968" aria-selected="false"
                     tabindex="-1">
                <span>Php</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-bfd60eddd12f0c4e12e003c6837803c3" aria-label="Yaml" class="configuration-codeblock" data-language="yaml" style="">
                <pre class="code-block-table" id="37d7f3a7712097af81586f0a51d80e4f5503feb8"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="37d7f3a7712097af81586f0a51d80e4f5503feb8"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-yaml"><span class="hljs-attr">doctrine_mongodb:</span></code><code class="line language-yaml">    <span class="hljs-attr">document_managers:</span></code><code class="line language-yaml">        <span class="hljs-attr">default:</span></code><code class="line language-yaml">            <span class="hljs-attr">mappings:</span></code><code class="line language-yaml">                <span class="hljs-attr">App:</span> <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">App2:</span> <span class="hljs-string">xml</span></code><code class="line language-yaml">                <span class="hljs-attr">App3:</span> <span class="hljs-string">{</span> <span class="hljs-attr">type:</span> <span class="hljs-string">attribute,</span> <span class="hljs-attr">dir:</span> <span class="hljs-string">Documents/</span> <span class="hljs-string">}</span></code><code class="line language-yaml">                <span class="hljs-attr">App4:</span> <span class="hljs-string">{</span> <span class="hljs-attr">type:</span> <span class="hljs-string">xml,</span> <span class="hljs-attr">dir:</span> <span class="hljs-string">config/doctrine/mapping</span> <span class="hljs-string">}</span></code><code class="line language-yaml">                <span class="hljs-attr">App5:</span></code><code class="line language-yaml">                    <span class="hljs-attr">type:</span> <span class="hljs-string">xml</span></code><code class="line language-yaml">                    <span class="hljs-attr">dir:</span> <span class="hljs-string">my-app-mappings-dir</span></code><code class="line language-yaml">                    <span class="hljs-attr">alias:</span> <span class="hljs-string">AppAlias</span></code><code class="line language-yaml">                <span class="hljs-attr">doctrine_extensions:</span></code><code class="line language-yaml">                    <span class="hljs-attr">type:</span> <span class="hljs-string">xml</span></code><code class="line language-yaml">                    <span class="hljs-attr">dir:</span> <span class="hljs-string">"%kernel.project_dir%/src/vendor/DoctrineExtensions/lib/DoctrineExtensions/Documents"</span></code><code class="line language-yaml">                    <span class="hljs-attr">prefix:</span> <span class="hljs-string">DoctrineExtensions\Documents\</span></code><code class="line language-yaml">                    <span class="hljs-attr">alias:</span> <span class="hljs-string">DExt</span></code><code class="empty"></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-e605f8412a6599f762c807244cd626bc" aria-label="Xml" class="configuration-codeblock" data-language="xml" style="display: none">
                <pre class="code-block-table" id="3ffc2e8fe1a403922674f0fb2962b67531da66d7"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="3ffc2e8fe1a403922674f0fb2962b67531da66d7"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-xml"><span class="hljs-meta">&lt;?xml version="1.0" ?&gt;</span></code><code class="line language-xml"></code><code class="line language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span></span></code><code class="line language-xml">           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</code><code class="line language-xml">           xmlns:doctrine_mongodb="http://symfony.com/schema/dic/doctrine/odm/mongodb"</code><code class="line language-xml">           xsi:schemaLocation="http://symfony.com/schema/dic/services https://symfony.com/schema/dic/services/services-1.0.xsd</code><code class="line language-xml">                                http://symfony.com/schema/dic/doctrine/odm/mongodb https://symfony.com/schema/dic/doctrine/odm/mongodb/mongodb-1.0.xsd"&gt;</code><code class="line language-xml"></code><code class="line language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:config</span>&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:document-manager</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"default"</span>&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:mapping</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"App1"</span> /&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:mapping</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"App2"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"attribute"</span> <span class="hljs-attr">dir</span>=<span class="hljs-string">"Documents/"</span> /&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:mapping</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"App3"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"xml"</span> <span class="hljs-attr">dir</span>=<span class="hljs-string">"config/doctrine/mapping"</span> /&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:mapping</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"App4"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"xml"</span> <span class="hljs-attr">dir</span>=<span class="hljs-string">"my-app-mappings-dir"</span> <span class="hljs-attr">alias</span>=<span class="hljs-string">"AppAlias"</span> /&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:mapping</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"doctrine_extensions"</span></span></code><code class="line language-xml">                                      type="xml"</code><code class="line language-xml">                                      dir="%kernel.project_dir%/src/vendor/DoctrineExtensions/lib/DoctrineExtensions/Documents"</code><code class="line language-xml">                                      prefix="DoctrineExtensions\Documents\"</code><code class="line language-xml">                                      alias="DExt" /&gt;</code><code class="line language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine_mongodb:document-manager</span>&gt;</span></code><code class="line language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine_mongodb:config</span>&gt;</span></code><code class="line language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></code><code class="empty"></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-3a739aaab2b8105005b308c521831968" aria-label="Php" class="configuration-codeblock" data-language="php" style="display: none">
                <pre class="code-block-table" id="9dc653aaf911e090e67191b686cfc0ed2069d6fa"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="9dc653aaf911e090e67191b686cfc0ed2069d6fa"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">DoctrineMongodbConfig</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">function</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">DependencyInjection</span>\<span class="hljs-title">Loader</span>\<span class="hljs-title">Configurator</span>\<span class="hljs-title">param</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(DoctrineMongodbConfig $config)</span>: <span class="hljs-title">void</span> </span>{</code><code class="line language-php">    $config-&gt;documentManager(<span class="hljs-string">'default'</span>)</code><code class="line language-php">        -&gt;mapping(<span class="hljs-string">'App'</span>)</code><code class="line language-php">        -&gt;mapping(<span class="hljs-string">'App2'</span>)</code><code class="line language-php">            -&gt;type(<span class="hljs-string">'xml'</span>)</code><code class="line language-php">        -&gt;mapping(<span class="hljs-string">'App3'</span>)</code><code class="line language-php">            -&gt;type(<span class="hljs-string">'attribute'</span>)</code><code class="line language-php">            -&gt;dir(<span class="hljs-string">'Documents/'</span>)</code><code class="line language-php">        -&gt;mapping(<span class="hljs-string">'App4'</span>)</code><code class="line language-php">            -&gt;type(<span class="hljs-string">'xml'</span>)</code><code class="line language-php">            -&gt;dir(<span class="hljs-string">'config/doctrine/mapping'</span>)</code><code class="line language-php">        -&gt;mapping(<span class="hljs-string">'App5'</span>)</code><code class="line language-php">            -&gt;type(<span class="hljs-string">'xml'</span>)</code><code class="line language-php">            -&gt;dir(<span class="hljs-string">'my-app-mappings-dir'</span>)</code><code class="line language-php">            -&gt;alias(<span class="hljs-string">'AppAlias'</span>)</code><code class="line language-php">        -&gt;mapping(<span class="hljs-string">'doctrine_extensions'</span>)</code><code class="line language-php">            -&gt;type(<span class="hljs-string">'xml'</span>)</code><code class="line language-php">            -&gt;dir(param(<span class="hljs-string">'kernel.project_dir'</span>) . <span class="hljs-string">'/src/vendor/DoctrineExtensions/lib/DoctrineExtensions/Documents'</span>)</code><code class="line language-php">            -&gt;prefix(<span class="hljs-string">'DoctrineExtensions\\Documents\\'</span>)</code><code class="line language-php">            -&gt;alias(<span class="hljs-string">'DExt'</span>)</code><code class="line language-php">    ;</code><code class="line language-php">}</code><code class="empty"></code></pre>
        </div>
    </div>
    </div>
            <div class="section" id="custom-types">
            <h2 class="section-header ">
    <a href="#custom-types">
        Custom Types
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p><a href="https://www.doctrine-project.org/projects/doctrine-mongodb-odm/en/current/reference/custom-mapping-types.html">Custom types</a> can come in handy when you&#039;re missing a specific mapping type
or when you want to replace the existing implementation of a mapping type for
your documents.</p>

            <div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                    aria-controls="configuration-block-tabpanel-e865e9193f6e7009d45f12a253899322" aria-selected="true"
                    data-active="true" >
                <span>Yaml</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                    aria-controls="configuration-block-tabpanel-324c2942548f8ae204e08ee56dd6bd3f" aria-selected="false"
                     tabindex="-1">
                <span>Xml</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                    aria-controls="configuration-block-tabpanel-00ce63c56887a369e80569ed7c588d67" aria-selected="false"
                     tabindex="-1">
                <span>Php</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-e865e9193f6e7009d45f12a253899322" aria-label="Yaml" class="configuration-codeblock" data-language="yaml" style="">
                <pre class="code-block-table" id="70674b4a8f38bf06787e0862378dd40aadba1ba1"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="70674b4a8f38bf06787e0862378dd40aadba1ba1"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-yaml"><span class="hljs-attr">doctrine_mongodb:</span></code><code class="line language-yaml">    <span class="hljs-attr">types:</span></code><code class="line language-yaml">        <span class="hljs-attr">custom_type:</span> <span class="hljs-string">Fully\Qualified\Class\Name</span></code><code class="empty"></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-324c2942548f8ae204e08ee56dd6bd3f" aria-label="Xml" class="configuration-codeblock" data-language="xml" style="display: none">
                <pre class="code-block-table" id="3e36dea9aa7f1ccc7057a0235be6d82b73c82261"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="3e36dea9aa7f1ccc7057a0235be6d82b73c82261"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-xml"><span class="hljs-meta">&lt;?xml version="1.0" ?&gt;</span></code><code class="line language-xml"></code><code class="line language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span></span></code><code class="line language-xml">           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</code><code class="line language-xml">           xmlns:doctrine_mongodb="http://symfony.com/schema/dic/doctrine/odm/mongodb"</code><code class="line language-xml">           xsi:schemaLocation="http://symfony.com/schema/dic/services https://symfony.com/schema/dic/services/services-1.0.xsd</code><code class="line language-xml">                                http://symfony.com/schema/dic/doctrine/odm/mongodb https://symfony.com/schema/dic/doctrine/odm/mongodb/mongodb-1.0.xsd"&gt;</code><code class="line language-xml"></code><code class="line language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:config</span>&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:type</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"custom_type"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"Fully\Qualified\Class\Name"</span> /&gt;</span></code><code class="line language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine_mongodb:config</span>&gt;</span></code><code class="line language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></code><code class="empty"></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-00ce63c56887a369e80569ed7c588d67" aria-label="Php" class="configuration-codeblock" data-language="php" style="display: none">
                <pre class="code-block-table" id="e562098a8396ddee51b65a5ed356bb0f9e773e1a"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="e562098a8396ddee51b65a5ed356bb0f9e773e1a"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">DoctrineMongodbConfig</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(DoctrineMongodbConfig $config)</span>: <span class="hljs-title">void</span> </span>{</code><code class="line language-php">    $config-&gt;type(<span class="hljs-string">'custom_type'</span>)</code><code class="line language-php">        -&gt;class(\Fully\Qualified\<span class="hljs-class"><span class="hljs-keyword">Class</span>\<span class="hljs-title">Name</span>::<span class="hljs-title">class</span>)</span></code><code class="line language-php">    ;</code><code class="line language-php">}</code><code class="empty"></code></pre>
        </div>
    </div>
    </div>
            <div class="section" id="filters">
            <h2 class="section-header ">
    <a href="#filters">
        Filters
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Filter classes may be used in order to add criteria to ODM queries, regardless
of where those queries are created within your application. Typically, filters
will limit themselves to operating on a particular class or interface. Filters
may also take parameters, which can be used to customize the injected query
criteria.</p>

            
    <p>Filters may be registered with a document manager by using the following syntax:</p>

            <div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                    aria-controls="configuration-block-tabpanel-dc28a6d768c6b2554a0547e069cfab3b" aria-selected="true"
                    data-active="true" >
                <span>Yaml</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                    aria-controls="configuration-block-tabpanel-a1b60ae75d6f410fa05ea4b6f849b1f7" aria-selected="false"
                     tabindex="-1">
                <span>Xml</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                    aria-controls="configuration-block-tabpanel-83e94d81012cef352ac0bd65be4ba4cb" aria-selected="false"
                     tabindex="-1">
                <span>Php</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-dc28a6d768c6b2554a0547e069cfab3b" aria-label="Yaml" class="configuration-codeblock" data-language="yaml" style="">
                <pre class="code-block-table" id="710bfe2fc1ae9b6e3bba3571f00ef1f86171eeae"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="710bfe2fc1ae9b6e3bba3571f00ef1f86171eeae"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-yaml"><span class="hljs-attr">doctrine_mongodb:</span></code><code class="line language-yaml">    <span class="hljs-attr">document_managers:</span></code><code class="line language-yaml">        <span class="hljs-attr">default:</span></code><code class="line language-yaml">            <span class="hljs-attr">filters:</span></code><code class="line language-yaml">                <span class="hljs-attr">basic_filter:</span></code><code class="line language-yaml">                    <span class="hljs-attr">class:</span> <span class="hljs-string">Vendor\Filter\BasicFilter</span></code><code class="line language-yaml">                    <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span></code><code class="line language-yaml">                <span class="hljs-attr">complex_filter:</span></code><code class="line language-yaml">                    <span class="hljs-attr">class:</span> <span class="hljs-string">Vendor\Filter\ComplexFilter</span></code><code class="line language-yaml">                    <span class="hljs-attr">enabled:</span> <span class="hljs-literal">false</span></code><code class="line language-yaml">                    <span class="hljs-attr">parameters:</span></code><code class="line language-yaml">                        <span class="hljs-attr">author:</span> <span class="hljs-string">bob</span></code><code class="line language-yaml">                        <span class="hljs-attr">comments:</span> <span class="hljs-string">{</span> <span class="hljs-string">$gte:</span> <span class="hljs-number">10</span> <span class="hljs-string">}</span></code><code class="line language-yaml">                        <span class="hljs-attr">tags:</span> <span class="hljs-string">{</span> <span class="hljs-string">$in:</span> <span class="hljs-string">[</span> <span class="hljs-string">'foo'</span><span class="hljs-string">,</span> <span class="hljs-string">'bar'</span> <span class="hljs-string">]</span> <span class="hljs-string">}</span></code><code class="empty"></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-a1b60ae75d6f410fa05ea4b6f849b1f7" aria-label="Xml" class="configuration-codeblock" data-language="xml" style="display: none">
                <pre class="code-block-table" id="b048e552be4159107aff518c25e4e6151a3e95ff"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="b048e552be4159107aff518c25e4e6151a3e95ff"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-xml"><span class="hljs-meta">&lt;?xml version="1.0" ?&gt;</span></code><code class="line language-xml"></code><code class="line language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span></span></code><code class="line language-xml">    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</code><code class="line language-xml">    xmlns:doctrine="http://symfony.com/schema/dic/doctrine/odm/mongodb"</code><code class="line language-xml">    xsi:schemaLocation="http://symfony.com/schema/dic/services https://symfony.com/schema/dic/services/services-1.0.xsd</code><code class="line language-xml">                        http://symfony.com/schema/dic/doctrine/odm/mongodb https://symfony.com/schema/dic/doctrine/odm/mongodb/mongodb-1.0.xsd"&gt;</code><code class="line language-xml"></code><code class="line language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:mongodb</span>&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:connection</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"default"</span> <span class="hljs-attr">server</span>=<span class="hljs-string">"mongodb://localhost:27017"</span> /&gt;</span></code><code class="line language-xml"></code><code class="line language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:document-manager</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"default"</span> <span class="hljs-attr">connection</span>=<span class="hljs-string">"default"</span>&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:filter</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"basic_filter"</span> <span class="hljs-attr">enabled</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"Vendor\Filter\BasicFilter"</span> /&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:filter</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"complex_filter"</span> <span class="hljs-attr">enabled</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"Vendor\Filter\ComplexFilter"</span>&gt;</span></code><code class="line language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:parameter</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"author"</span>&gt;</span>bob<span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:parameter</span>&gt;</span></code><code class="line language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:parameter</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"comments"</span>&gt;</span>{ "$gte": 10 }<span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:parameter</span>&gt;</span></code><code class="line language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:parameter</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"tags"</span>&gt;</span>{ "$in": [ "foo", "bar" ] }<span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:parameter</span>&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:filter</span>&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:document-manager</span>&gt;</span></code><code class="line language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:mongodb</span>&gt;</span></code><code class="line language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></code><code class="empty"></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-83e94d81012cef352ac0bd65be4ba4cb" aria-label="Php" class="configuration-codeblock" data-language="php" style="display: none">
                <pre class="code-block-table" id="001b807159c7b6738df2edc1b96b9d44e71aee54"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="001b807159c7b6738df2edc1b96b9d44e71aee54"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">DoctrineMongodbConfig</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(DoctrineMongodbConfig $config)</span>: <span class="hljs-title">void</span> </span>{</code><code class="line language-php">    $config-&gt;documentManager(<span class="hljs-string">'default'</span>)</code><code class="line language-php">        -&gt;filter(<span class="hljs-string">'basic_filter'</span>)</code><code class="line language-php">            -&gt;class(\Vendor\Filter\BasicFilter::class)</code><code class="line language-php">            -&gt;enabled(<span class="hljs-keyword">true</span>)</code><code class="line language-php">        -&gt;filter(<span class="hljs-string">'complex_filter'</span>)</code><code class="line language-php">            -&gt;class(\Vendor\Filter\ComplexFilter::class)</code><code class="line language-php">            -&gt;enabled(<span class="hljs-keyword">false</span>)</code><code class="line language-php">            -&gt;parameter(<span class="hljs-string">'author'</span>, <span class="hljs-string">'bob'</span>)</code><code class="line language-php">            -&gt;parameter(<span class="hljs-string">'comments'</span>, [ <span class="hljs-string">'$gte'</span> =&gt; <span class="hljs-number">10</span> ])</code><code class="line language-php">            -&gt;parameter(<span class="hljs-string">'tags'</span>, [ <span class="hljs-string">'$in'</span> =&gt; [ <span class="hljs-string">'foo'</span>, <span class="hljs-string">'bar'</span> ] ])</code><code class="line language-php">    ;</code><code class="line language-php">}</code><code class="empty"></code></pre>
        </div>
    </div>
                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>Unlike ORM, query parameters in MongoDB ODM may be non-scalar values. Since
such values are difficult to express in XML, the bundle allows JSON strings
to be used in <code>parameter</code> tags. While processing the configuration, the
bundle will run the tag contents through <code>json_decode()</code> if the string is
wrapped in square brackets or curly braces for arrays and objects,
respectively.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
            <div class="section" id="multiple-connections">
            <h2 class="section-header ">
    <a href="#multiple-connections">
        Multiple Connections
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>If you need multiple connections and document managers you can use the
following syntax:</p>

            <div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                    aria-controls="configuration-block-tabpanel-3382bdea481f6bfe3ef46d68a3f8a1bf" aria-selected="true"
                    data-active="true" >
                <span>Yaml</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                    aria-controls="configuration-block-tabpanel-f28360653c9ec92a618c40ef94d22f2b" aria-selected="false"
                     tabindex="-1">
                <span>Xml</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                    aria-controls="configuration-block-tabpanel-5d7c3b656028e5dd40e2da8e305d69c3" aria-selected="false"
                     tabindex="-1">
                <span>Php</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-3382bdea481f6bfe3ef46d68a3f8a1bf" aria-label="Yaml" class="configuration-codeblock" data-language="yaml" style="">
                <pre class="code-block-table" id="c863aa2f76b9b3d70b87ea63588efd741287b0b5"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="c863aa2f76b9b3d70b87ea63588efd741287b0b5"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-yaml"><span class="hljs-attr">doctrine_mongodb:</span></code><code class="line language-yaml">    <span class="hljs-attr">default_database:</span> <span class="hljs-string">hello_%kernel.environment%</span></code><code class="line language-yaml">    <span class="hljs-attr">default_connection:</span> <span class="hljs-string">conn2</span></code><code class="line language-yaml">    <span class="hljs-attr">default_document_manager:</span> <span class="hljs-string">dm2</span></code><code class="line language-yaml">    <span class="hljs-attr">connections:</span></code><code class="line language-yaml">        <span class="hljs-attr">conn1:</span></code><code class="line language-yaml">            <span class="hljs-attr">server:</span> <span class="hljs-string">mongodb://localhost:27017</span></code><code class="line language-yaml">        <span class="hljs-attr">conn2:</span></code><code class="line language-yaml">            <span class="hljs-attr">server:</span> <span class="hljs-string">mongodb://localhost:27017</span></code><code class="line language-yaml">    <span class="hljs-attr">document_managers:</span></code><code class="line language-yaml">        <span class="hljs-attr">dm1:</span></code><code class="line language-yaml">            <span class="hljs-attr">connection:</span> <span class="hljs-string">conn1</span></code><code class="line language-yaml">            <span class="hljs-attr">database:</span> <span class="hljs-string">db1</span></code><code class="line language-yaml">            <span class="hljs-attr">metadata_cache_driver:</span> <span class="hljs-string">array</span></code><code class="line language-yaml">            <span class="hljs-attr">mappings:</span></code><code class="line language-yaml">                <span class="hljs-attr">App:</span> <span class="hljs-string">~</span></code><code class="line language-yaml">        <span class="hljs-attr">dm2:</span></code><code class="line language-yaml">            <span class="hljs-attr">connection:</span> <span class="hljs-string">conn2</span></code><code class="line language-yaml">            <span class="hljs-attr">database:</span> <span class="hljs-string">db2</span></code><code class="line language-yaml">            <span class="hljs-attr">mappings:</span></code><code class="line language-yaml">                <span class="hljs-attr">AnotherApp:</span> <span class="hljs-string">~</span></code><code class="empty"></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-f28360653c9ec92a618c40ef94d22f2b" aria-label="Xml" class="configuration-codeblock" data-language="xml" style="display: none">
                <pre class="code-block-table" id="5b7f925218bf587f6d6816233dd70aee9bbef5e7"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="5b7f925218bf587f6d6816233dd70aee9bbef5e7"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-xml"><span class="hljs-meta">&lt;?xml version="1.0" ?&gt;</span></code><code class="line language-xml"></code><code class="line language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span></span></code><code class="line language-xml">    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</code><code class="line language-xml">    xmlns:doctrine_mongodb="http://symfony.com/schema/dic/doctrine/odm/mongodb"</code><code class="line language-xml">    xsi:schemaLocation="http://symfony.com/schema/dic/services https://symfony.com/schema/dic/services/services-1.0.xsd</code><code class="line language-xml">                        http://symfony.com/schema/dic/doctrine/odm/mongodb https://symfony.com/schema/dic/doctrine/odm/mongodb/mongodb-1.0.xsd"&gt;</code><code class="line language-xml"></code><code class="line language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:config</span></span></code><code class="line language-xml">            default-database="hello_%kernel.environment%"</code><code class="line language-xml">            default-document-manager="dm2"</code><code class="line language-xml">            default-connection="dm2"</code><code class="line language-xml">            proxy-namespace="MongoDBODMProxies"</code><code class="line language-xml">            auto-generate-proxy-classes="true"&gt;</code><code class="line language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:connection</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"conn1"</span> <span class="hljs-attr">server</span>=<span class="hljs-string">"mongodb://localhost:27017"</span>&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:options</span>&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine_mongodb:options</span>&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine_mongodb:connection</span>&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:connection</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"conn2"</span> <span class="hljs-attr">server</span>=<span class="hljs-string">"mongodb://localhost:27017"</span>&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:options</span>&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine_mongodb:options</span>&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine_mongodb:connection</span>&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:document-manager</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"dm1"</span> <span class="hljs-attr">metadata-cache-driver</span>=<span class="hljs-string">"array"</span> <span class="hljs-attr">connection</span>=<span class="hljs-string">"conn1"</span> <span class="hljs-attr">database</span>=<span class="hljs-string">"db1"</span>&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:mapping</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"App"</span> /&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine_mongodb:document-manager</span>&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:document-manager</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"dm2"</span> <span class="hljs-attr">connection</span>=<span class="hljs-string">"conn2"</span> <span class="hljs-attr">database</span>=<span class="hljs-string">"db2"</span>&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine_mongodb:mapping</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"AnotherApp"</span> /&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine_mongodb:document-manager</span>&gt;</span></code><code class="line language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine_mongodb:config</span>&gt;</span></code><code class="line language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></code><code class="empty"></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-5d7c3b656028e5dd40e2da8e305d69c3" aria-label="Php" class="configuration-codeblock" data-language="php" style="display: none">
                <pre class="code-block-table" id="baedd11a2c5c12c86244a9108c4b0bdd01532e40"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="baedd11a2c5c12c86244a9108c4b0bdd01532e40"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">DoctrineMongodbConfig</span>;</code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">function</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">DependencyInjection</span>\<span class="hljs-title">Loader</span>\<span class="hljs-title">Configurator</span>\<span class="hljs-title">param</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(DoctrineMongodbConfig $config)</span>: <span class="hljs-title">void</span> </span>{</code><code class="line language-php">    $config-&gt;defaultDatabase(<span class="hljs-string">'hello_'</span> . param(<span class="hljs-string">'kernel.environment'</span>));</code><code class="line language-php">    $config-&gt;defaultDocumentManager(<span class="hljs-string">'dm2'</span>);</code><code class="line language-php">    $config-&gt;defaultConnection(<span class="hljs-string">'dm2'</span>);</code><code class="line language-php"></code><code class="line language-php">    $config-&gt;connection(<span class="hljs-string">'conn1'</span>)</code><code class="line language-php">        -&gt;server(<span class="hljs-string">'mongodb://localhost:27017'</span>);</code><code class="line language-php"></code><code class="line language-php">    $config-&gt;connection(<span class="hljs-string">'conn2'</span>)</code><code class="line language-php">        -&gt;server(<span class="hljs-string">'mongodb://localhost:27017'</span>);</code><code class="line language-php"></code><code class="line language-php">    $config-&gt;documentManager(<span class="hljs-string">'dm1'</span>)</code><code class="line language-php">        -&gt;connection(<span class="hljs-string">'conn1'</span>)</code><code class="line language-php">        -&gt;database(<span class="hljs-string">'db1'</span>)</code><code class="line language-php">        -&gt;metadataCacheDriver(<span class="hljs-string">'array'</span>)</code><code class="line language-php">        -&gt;mapping(<span class="hljs-string">'App'</span>);</code><code class="line language-php"></code><code class="line language-php">    $config-&gt;documentManager(<span class="hljs-string">'dm2'</span>)</code><code class="line language-php">        -&gt;connection(<span class="hljs-string">'conn2'</span>)</code><code class="line language-php">        -&gt;database(<span class="hljs-string">'db2'</span>)</code><code class="line language-php">        -&gt;mapping(<span class="hljs-string">'AnotherApp'</span>);</code><code class="line language-php">};</code><code class="empty"></code></pre>
        </div>
    </div>
            
    <p>Now you can retrieve the configured services connection services:</p>

                <pre class="code-block-table" id="63b678e23a8a7f7a5bfde86bc72911114e3d2ac1"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="63b678e23a8a7f7a5bfde86bc72911114e3d2ac1"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">$conn1 = $container-&gt;get(<span class="hljs-string">'doctrine_mongodb.odm.conn1_connection'</span>);</code><code class="line language-php">$conn2 = $container-&gt;get(<span class="hljs-string">'doctrine_mongodb.odm.conn2_connection'</span>);</code><code class="empty"></code></pre>
            
    <p>And you can also retrieve the configured document manager services which utilize the above
connection services:</p>

                <pre class="code-block-table" id="990287b0a74232bde9dc0dc7c40e17e261b532e9"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="990287b0a74232bde9dc0dc7c40e17e261b532e9"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">$dm1 = $container-&gt;get(<span class="hljs-string">'doctrine_mongodb.odm.dm1_document_manager'</span>);</code><code class="line language-php">$dm2 = $container-&gt;get(<span class="hljs-string">'doctrine_mongodb.odm.dm2_document_manager'</span>);</code><code class="empty"></code></pre>
    </div>
            <div class="section" id="connecting-to-a-pool-of-mongodb-servers-on-1-connection">
            <h2 class="section-header ">
    <a href="#connecting-to-a-pool-of-mongodb-servers-on-1-connection">
        Connecting to a pool of mongodb servers on 1 connection
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>It is possible to connect to several mongodb servers on one connection if
you are using a replica set by listing all of the servers within the connection
string as a comma separated list and using <code>replicaSet</code> option.</p>

            <div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                    aria-controls="configuration-block-tabpanel-8be46b7c10b851c9ef497940361e0f5d" aria-selected="true"
                    data-active="true" >
                <span>Yaml</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                    aria-controls="configuration-block-tabpanel-0a5f433b57e1208bc7e5afd5a674aace" aria-selected="false"
                     tabindex="-1">
                <span>Xml</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                    aria-controls="configuration-block-tabpanel-2dbb68651a623f854b306d8d8ecc95c2" aria-selected="false"
                     tabindex="-1">
                <span>Php</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-8be46b7c10b851c9ef497940361e0f5d" aria-label="Yaml" class="configuration-codeblock" data-language="yaml" style="">
                <pre class="code-block-table" id="94c7a55e8e6d810d3480b95f966532ed0c04a831"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="94c7a55e8e6d810d3480b95f966532ed0c04a831"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-yaml"><span class="hljs-attr">doctrine_mongodb:</span></code><code class="line language-yaml">    <span class="hljs-comment"># ...</span></code><code class="line language-yaml">    <span class="hljs-attr">connections:</span></code><code class="line language-yaml">        <span class="hljs-attr">default:</span></code><code class="line language-yaml">            <span class="hljs-attr">server:</span> <span class="hljs-string">"mongodb://mongodb-01:27017,mongodb-02:27017,mongodb-03:27017/?replicaSet=replSetName"</span></code><code class="empty"></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-0a5f433b57e1208bc7e5afd5a674aace" aria-label="Xml" class="configuration-codeblock" data-language="xml" style="display: none">
                <pre class="code-block-table" id="b736a57f906c4bea9ecd1260f701f397443dafde"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="b736a57f906c4bea9ecd1260f701f397443dafde"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-xml"><span class="hljs-meta">&lt;?xml version="1.0" ?&gt;</span></code><code class="line language-xml"></code><code class="line language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span></span></code><code class="line language-xml">           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</code><code class="line language-xml">           xmlns:doctrine="http://symfony.com/schema/dic/doctrine/odm/mongodb"</code><code class="line language-xml">           xsi:schemaLocation="http://symfony.com/schema/dic/services https://symfony.com/schema/dic/services/services-1.0.xsd</code><code class="line language-xml">                        http://symfony.com/schema/dic/doctrine/odm/mongodb https://symfony.com/schema/dic/doctrine/odm/mongodb/mongodb-1.0.xsd"&gt;</code><code class="line language-xml"></code><code class="line language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:mongodb</span>&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:connection</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"default"</span> <span class="hljs-attr">server</span>=<span class="hljs-string">"mongodb://mongodb-01:27017,mongodb-02:27017,mongodb-03:27017/?replicaSet=replSetName"</span> /&gt;</span></code><code class="line language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:mongodb</span>&gt;</span></code><code class="line language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></code><code class="empty"></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-2dbb68651a623f854b306d8d8ecc95c2" aria-label="Php" class="configuration-codeblock" data-language="php" style="display: none">
                <pre class="code-block-table" id="699847bebf2931b591ed108ef3c975a00b7fc364"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="699847bebf2931b591ed108ef3c975a00b7fc364"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">DoctrineMongodbConfig</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(DoctrineMongodbConfig $config)</span>: <span class="hljs-title">void</span> </span>{</code><code class="line language-php">    $config-&gt;connection(<span class="hljs-string">'default'</span>)</code><code class="line language-php">        -&gt;server(<span class="hljs-string">'mongodb://mongodb-01:27017,mongodb-02:27017,mongodb-03:27017/?replicaSet=replSetName'</span>);</code><code class="line language-php">};</code><code class="empty"></code></pre>
        </div>
    </div>
            
    <p>Where mongodb-01, mongodb-02 and mongodb-03 are the machine hostnames. You
can also use IP addresses if you prefer.</p>

            <div class="alert -admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas   mr-2"></i></td>
            <td>
                                                
    <p>Please refer to <a href="https://www.php.net/manual/en/mongo.connecting.rs.php">Replica Sets</a> manual of MongoDB PHP Driver for further details.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
            <div class="section" id="using-authentication-on-a-database-level">
            <h2 class="section-header ">
    <a href="#using-authentication-on-a-database-level">
        Using Authentication on a Database Level
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>MongoDB supports authentication and authorisation on a database-level. This is mandatory if you have
e.g. a publicly accessible MongoDB Server. To make use of this feature you need to configure credentials
for each of your connections. Every connection needs also a database to authenticate against. The setting is
represented by the <em>authSource</em> <a href="https://docs.mongodb.com/manual/reference/connection-string/#urioption.authSource">connection string</a>.
Otherwise you will get a <em>auth failed</em> exception.</p>

            <div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                    aria-controls="configuration-block-tabpanel-6cc109e20f75463a1db49ea9cdbe0c50" aria-selected="true"
                    data-active="true" >
                <span>Yaml</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                    aria-controls="configuration-block-tabpanel-e48a108532aace6c9cdf65071e0c7f92" aria-selected="false"
                     tabindex="-1">
                <span>Xml</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                    aria-controls="configuration-block-tabpanel-3d406bbecb43ce3ade30fc7424b9839b" aria-selected="false"
                     tabindex="-1">
                <span>Php</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-6cc109e20f75463a1db49ea9cdbe0c50" aria-label="Yaml" class="configuration-codeblock" data-language="yaml" style="">
                <pre class="code-block-table" id="ce6c5c72eed27e75c794c4eaff41156c0bacc8e6"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="ce6c5c72eed27e75c794c4eaff41156c0bacc8e6"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-yaml"><span class="hljs-attr">doctrine_mongodb:</span></code><code class="line language-yaml">    <span class="hljs-comment"># ...</span></code><code class="line language-yaml">    <span class="hljs-attr">connections:</span></code><code class="line language-yaml">        <span class="hljs-attr">default:</span></code><code class="line language-yaml">            <span class="hljs-attr">server:</span> <span class="hljs-string">"mongodb://localhost:27017"</span></code><code class="line language-yaml">            <span class="hljs-attr">options:</span></code><code class="line language-yaml">                <span class="hljs-attr">username:</span> <span class="hljs-string">someuser</span></code><code class="line language-yaml">                <span class="hljs-attr">password:</span> <span class="hljs-string">somepass</span></code><code class="line language-yaml">                <span class="hljs-attr">authSource:</span> <span class="hljs-string">db_you_have_access_to</span></code><code class="empty"></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-e48a108532aace6c9cdf65071e0c7f92" aria-label="Xml" class="configuration-codeblock" data-language="xml" style="display: none">
                <pre class="code-block-table" id="f8de065edefb95204e0187640a1b58d7e538588d"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="f8de065edefb95204e0187640a1b58d7e538588d"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-xml"><span class="hljs-meta">&lt;?xml version="1.0" ?&gt;</span></code><code class="line language-xml"></code><code class="line language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span></span></code><code class="line language-xml">           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</code><code class="line language-xml">           xmlns:doctrine="http://symfony.com/schema/dic/doctrine/odm/mongodb"</code><code class="line language-xml">           xsi:schemaLocation="http://symfony.com/schema/dic/services https://symfony.com/schema/dic/services/services-1.0.xsd</code><code class="line language-xml">                        http://symfony.com/schema/dic/doctrine/odm/mongodb https://symfony.com/schema/dic/doctrine/odm/mongodb/mongodb-1.0.xsd"&gt;</code><code class="line language-xml"></code><code class="line language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:mongodb</span>&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:connection</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"default"</span> <span class="hljs-attr">server</span>=<span class="hljs-string">"mongodb://localhost:27017"</span> /&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:options</span></span></code><code class="line language-xml">                    username="someuser"</code><code class="line language-xml">                    password="somepass"</code><code class="line language-xml">                    authSource="db_you_have_access_to"</code><code class="line language-xml">            &gt;</code><code class="line language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:options</span>&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:connection</span>&gt;</span></code><code class="line language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:mongodb</span>&gt;</span></code><code class="line language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></code><code class="empty"></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-3d406bbecb43ce3ade30fc7424b9839b" aria-label="Php" class="configuration-codeblock" data-language="php" style="display: none">
                <pre class="code-block-table" id="358b0a9171d9f67014c8a300ee61418ee545d4bc"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="358b0a9171d9f67014c8a300ee61418ee545d4bc"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">DoctrineMongodbConfig</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(DoctrineMongodbConfig $config)</span>: <span class="hljs-title">void</span> </span>{</code><code class="line language-php">    $config-&gt;connection(<span class="hljs-string">'default'</span>)</code><code class="line language-php">        -&gt;server(<span class="hljs-string">'mongodb://localhost:27017'</span>)</code><code class="line language-php">        -&gt;options([</code><code class="line language-php">            <span class="hljs-string">'username'</span> =&gt; <span class="hljs-string">'someuser'</span>,</code><code class="line language-php">            <span class="hljs-string">'password'</span> =&gt; <span class="hljs-string">'somepass'</span>,</code><code class="line language-php">            <span class="hljs-string">'authSource'</span> =&gt; <span class="hljs-string">'db_you_have_access_to'</span>,</code><code class="line language-php">        ]);</code><code class="line language-php">};</code><code class="empty"></code></pre>
        </div>
    </div>
    </div>
            <div class="section" id="using-queryable-encryption">
            <h2 class="section-header ">
    <a href="#using-queryable-encryption">
        Using Queryable Encryption
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>For details on configuring Queryable Encryption (QE) and Client-Side Field-Level Encryption (CSFLE), see <a href="encryption.html">Client-Side Field-Level Encryption (CSFLE) and Queryable Encryption (QE)</a>.</p>

    </div>
            <div class="section" id="lazy-object-implementation">
            <h2 class="section-header ">
    <a href="#lazy-object-implementation">
        Lazy object implementation
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Doctrine MongoDB ODM uses lazy objects for lazy instantiation of references.
The original implementation is based on the <code>ProxyManager</code> library.
In version 2.10, support for Symfony lazy ghost objects has been added.
And in version 2.14, support for PHP 8.4 native lazy objects has been added.</p>

            
    <p>The bundle selects the best available lazy object implementation based on the
installed packages and PHP version. You can override this behavior by setting
the following configuration options disable specific lazy object implementations.
This is not recommended unless you have a specific reason to do so.
Please open an issue if the default Native Lazy Objects are not working as expected
as it is the preferred implementation. The other implementations will be removed in a future version.</p>

            

<ul>
    <li class="dash"><code>enable_native_lazy_objects</code> is <code>true</code> by default when PHP 8.4+ and <code>doctrine/mongodb-odm</code> 2.14+ are installed.
When enabled, native lazy objects will be used for lazy loading references.</li>
    <li class="dash"><code>enable_lazy_ghost_objects</code> is <code>true</code> by default when <code>doctrine/mongodb-odm</code> 2.10+ is installed.
When enabled, Symfony lazy ghost objects will be used for lazy loading references.
This option is ignored if <code>enable_native_lazy_objects</code> is <code>true</code>.</li>
    <li class="dash">When both options are <code>false</code>, the original <code>ProxyManager</code> based lazy objects will be used.</li>
</ul>

            <div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-2">
                    <button role="tab" type="button" data-language="yaml"
                    aria-controls="configuration-block-tabpanel-b7b7b90df20b405f15d739872f6dca28" aria-selected="true"
                    data-active="true" >
                <span>Yaml</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                    aria-controls="configuration-block-tabpanel-4935a303390e8800f74c850ea4bf6e07" aria-selected="false"
                     tabindex="-1">
                <span>Php</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-b7b7b90df20b405f15d739872f6dca28" aria-label="Yaml" class="configuration-codeblock" data-language="yaml" style="">
                <pre class="code-block-table" id="32d58ccd137decc2e1eaf86e6ba898aa7cc9731c"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="32d58ccd137decc2e1eaf86e6ba898aa7cc9731c"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-yaml"><span class="hljs-attr">doctrine_mongodb:</span></code><code class="line language-yaml">    <span class="hljs-attr">enable_native_lazy_objects:</span> <span class="hljs-literal">false</span></code><code class="line language-yaml">    <span class="hljs-attr">enable_lazy_ghost_objects:</span> <span class="hljs-literal">false</span></code><code class="empty"></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-4935a303390e8800f74c850ea4bf6e07" aria-label="Php" class="configuration-codeblock" data-language="php" style="display: none">
                <pre class="code-block-table" id="ab705528ce777d0684bc6bd6351628b835cba4cd"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="ab705528ce777d0684bc6bd6351628b835cba4cd"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">DoctrineMongodbConfig</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(DoctrineMongodbConfig $config)</span>: <span class="hljs-title">void</span> </span>{</code><code class="line language-php">    $config-&gt;enableNativeLazyObjects(<span class="hljs-keyword">false</span>);</code><code class="line language-php">    $config-&gt;enableLazyGhostObjects(<span class="hljs-keyword">false</span>);</code><code class="empty"></code></pre>
        </div>
    </div>
    </div>
            <div class="section" id="full-default-configuration">
            <h2 class="section-header ">
    <a href="#full-default-configuration">
        Full Default Configuration
        <i class="fas fa-link"></i>
    </a>
</h2>
            <div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                    aria-controls="configuration-block-tabpanel-cac09edf1441fe7fbcaac156ab4dd139" aria-selected="true"
                    data-active="true" >
                <span>Yaml</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                    aria-controls="configuration-block-tabpanel-511096c85d47696bb979f35c36b249f3" aria-selected="false"
                     tabindex="-1">
                <span>Xml</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                    aria-controls="configuration-block-tabpanel-fec2a37df4ea7ad860e7b868ed4edea8" aria-selected="false"
                     tabindex="-1">
                <span>Php</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-cac09edf1441fe7fbcaac156ab4dd139" aria-label="Yaml" class="configuration-codeblock" data-language="yaml" style="">
                <pre class="code-block-table" id="688c597c6171c179ef74c235b8da4247522936b9"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="688c597c6171c179ef74c235b8da4247522936b9"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-yaml"><span class="hljs-attr">doctrine_mongodb:</span></code><code class="line language-yaml">    <span class="hljs-attr">document_managers:</span></code><code class="line language-yaml"></code><code class="line language-yaml">        <span class="hljs-comment"># Prototype</span></code><code class="line language-yaml">        <span class="hljs-attr">id:</span></code><code class="line language-yaml">            <span class="hljs-attr">connection:</span>                        <span class="hljs-string">~</span></code><code class="line language-yaml">            <span class="hljs-attr">database:</span>                          <span class="hljs-string">~</span></code><code class="line language-yaml">            <span class="hljs-attr">default_document_repository_class:</span> <span class="hljs-string">Doctrine\ODM\MongoDB\Repository\DocumentRepository</span></code><code class="line language-yaml">            <span class="hljs-attr">default_gridfs_repository_class:</span>   <span class="hljs-string">Doctrine\ODM\MongoDB\Repository\DefaultGridFSRepository</span></code><code class="line language-yaml">            <span class="hljs-attr">repository_factory:</span>                <span class="hljs-string">~</span></code><code class="line language-yaml">            <span class="hljs-attr">persistent_collection_factory:</span>     <span class="hljs-string">~</span></code><code class="line language-yaml">            <span class="hljs-attr">logging:</span>                           <span class="hljs-literal">true</span></code><code class="line language-yaml">            <span class="hljs-attr">auto_mapping:</span>                      <span class="hljs-literal">false</span></code><code class="line language-yaml">            <span class="hljs-attr">metadata_cache_driver:</span></code><code class="line language-yaml">                <span class="hljs-attr">type:</span>                 <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">class:</span>                <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">host:</span>                 <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">port:</span>                 <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">instance_class:</span>       <span class="hljs-string">~</span></code><code class="line language-yaml">            <span class="hljs-attr">use_transactional_flush:</span>           <span class="hljs-literal">false</span></code><code class="line language-yaml">            <span class="hljs-attr">mappings:</span></code><code class="line language-yaml"></code><code class="line language-yaml">                <span class="hljs-comment"># Prototype</span></code><code class="line language-yaml">                <span class="hljs-attr">name:</span></code><code class="line language-yaml">                    <span class="hljs-attr">mapping:</span>              <span class="hljs-literal">true</span></code><code class="line language-yaml">                    <span class="hljs-attr">type:</span>                 <span class="hljs-string">~</span></code><code class="line language-yaml">                    <span class="hljs-attr">dir:</span>                  <span class="hljs-string">~</span></code><code class="line language-yaml">                    <span class="hljs-attr">prefix:</span>               <span class="hljs-string">~</span></code><code class="line language-yaml">                    <span class="hljs-attr">alias:</span>                <span class="hljs-string">~</span></code><code class="line language-yaml">                    <span class="hljs-attr">is_bundle:</span>            <span class="hljs-string">~</span></code><code class="line language-yaml">    <span class="hljs-attr">types:</span></code><code class="line language-yaml"></code><code class="line language-yaml">        <span class="hljs-comment"># Prototype</span></code><code class="line language-yaml">        <span class="hljs-attr">custom_type:</span> <span class="hljs-string">Fully\Qualified\Class\Name</span></code><code class="line language-yaml">    <span class="hljs-attr">connections:</span></code><code class="line language-yaml"></code><code class="line language-yaml">        <span class="hljs-comment"># Prototype</span></code><code class="line language-yaml">        <span class="hljs-attr">id:</span></code><code class="line language-yaml">            <span class="hljs-attr">server:</span>               <span class="hljs-string">~</span></code><code class="line language-yaml">            <span class="hljs-attr">options:</span></code><code class="line language-yaml">                <span class="hljs-attr">authMechanism:</span>                          <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">connectTimeoutMS:</span>                       <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">db:</span>                                     <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">authSource:</span>                             <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">journal:</span>                                <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">password:</span>                               <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">readPreference:</span>                         <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">readPreferenceTags:</span>                     <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">replicaSet:</span>                             <span class="hljs-string">~</span> <span class="hljs-comment"># replica set name</span></code><code class="line language-yaml">                <span class="hljs-attr">socketTimeoutMS:</span>                        <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">ssl:</span>                                    <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">tls:</span>                                    <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">tlsAllowInvalidCertificates:</span>            <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">tlsAllowInvalidHostnames:</span>               <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">tlsCAFile:</span>                              <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">tlsCertificateKeyFile:</span>                  <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">tlsCertificateKeyFilePassword:</span>          <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">tlsDisableCertificateRevocationCheck:</span>   <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">tlsDisableOCSPEndpointCheck:</span>            <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">tlsInsecure:</span>                            <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">username:</span>                               <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">retryReads:</span>                             <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">retryWrites:</span>                            <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">w:</span>                                      <span class="hljs-string">~</span></code><code class="line language-yaml">                <span class="hljs-attr">wTimeoutMS:</span>                             <span class="hljs-string">~</span></code><code class="line language-yaml">            <span class="hljs-attr">driver_options:</span></code><code class="line language-yaml">                <span class="hljs-attr">context:</span>              <span class="hljs-string">~</span> <span class="hljs-comment"># stream context to use for connection</span></code><code class="line language-yaml">                <span class="hljs-attr">autoEncryption:</span>       <span class="hljs-comment"># Options for client-side field-level encryption</span></code><code class="line language-yaml">                    <span class="hljs-attr">keyVaultClient:</span>               <span class="hljs-literal">null</span>  <span class="hljs-comment"># Service ID of a MongoDB\Driver\Manager for the key vault</span></code><code class="line language-yaml">                    <span class="hljs-attr">keyVaultNamespace:</span>            <span class="hljs-literal">null</span>  <span class="hljs-comment"># The namespace for the key vault collection (e.g., "encryption.__keyVault")</span></code><code class="line language-yaml">                    <span class="hljs-attr">kmsProvider:</span>                  <span class="hljs-string">{}</span>    <span class="hljs-comment"># Configuration for Key Management System provider (see specific examples above)</span></code><code class="line language-yaml">                        <span class="hljs-comment"># e.g., { type: "local", key: "YOUR_BASE64_KEY" }</span></code><code class="line language-yaml">                        <span class="hljs-comment"># e.g., { type: "aws", accessKeyId: "...", secretAccessKey: "..." }</span></code><code class="line language-yaml">                    <span class="hljs-attr">masterKey:</span>                    <span class="hljs-string">~</span>     <span class="hljs-comment"># Default master key to use when creating a new encrypted collection</span></code><code class="line language-yaml">                    <span class="hljs-attr">schemaMap:</span>                    <span class="hljs-string">[]</span>    <span class="hljs-comment"># Document schemas for explicit encryption</span></code><code class="line language-yaml">                    <span class="hljs-attr">encryptedFieldsMap:</span>           <span class="hljs-string">[]</span>    <span class="hljs-comment"># Map of collections to their encrypted fields configuration</span></code><code class="line language-yaml">                    <span class="hljs-attr">extraOptions:</span>                 <span class="hljs-string">[]</span>    <span class="hljs-comment"># Extra options for mongocryptd</span></code><code class="line language-yaml">                        <span class="hljs-comment"># mongocryptdURI: "mongodb://localhost:27020"</span></code><code class="line language-yaml">                        <span class="hljs-comment"># mongocryptdBypassSpawn: false</span></code><code class="line language-yaml">                        <span class="hljs-comment"># mongocryptdSpawnPath: "/usr/local/bin/mongocryptd"</span></code><code class="line language-yaml">                        <span class="hljs-comment"># mongocryptdSpawnArgs: ["--idleShutdownTimeoutSecs=60"]</span></code><code class="line language-yaml">                        <span class="hljs-comment"># cryptSharedLibPath: null  # Path to the crypt_shared library</span></code><code class="line language-yaml">                        <span class="hljs-comment"># cryptSharedLibRequired: false # If true, fails if the crypt_shared library cannot be loaded</span></code><code class="line language-yaml">                    <span class="hljs-attr">bypassQueryAnalysis:</span>          <span class="hljs-literal">false</span> <span class="hljs-comment"># Disables automatic analysis of read and write operations for encryption</span></code><code class="line language-yaml">                    <span class="hljs-attr">bypassAutoEncryption:</span>         <span class="hljs-literal">false</span> <span class="hljs-comment"># Disables auto-encryption</span></code><code class="line language-yaml">                    <span class="hljs-attr">tlsOptions:</span>                   <span class="hljs-comment"># TLS options for the Key Vault client (if keyVaultClient is not specified)</span></code><code class="line language-yaml">                        <span class="hljs-attr">tlsCAFile:</span>                              <span class="hljs-literal">null</span>  <span class="hljs-comment"># Path to CA file, e.g., /path/to/key-vault-ca.pem</span></code><code class="line language-yaml">                        <span class="hljs-attr">tlsCertificateKeyFile:</span>                  <span class="hljs-literal">null</span>  <span class="hljs-comment"># Path to client cert/key file, e.g., /path/to/key-vault-client.pem</span></code><code class="line language-yaml">                        <span class="hljs-attr">tlsCertificateKeyFilePassword:</span>          <span class="hljs-literal">null</span>  <span class="hljs-comment"># Password for client cert/key file</span></code><code class="line language-yaml">                        <span class="hljs-attr">tlsDisableOCSPEndpointCheck:</span>            <span class="hljs-literal">false</span> <span class="hljs-comment"># Disable OCSP checks</span></code><code class="line language-yaml"></code><code class="line language-yaml">    <span class="hljs-attr">proxy_namespace:</span>      <span class="hljs-string">MongoDBODMProxies</span></code><code class="line language-yaml">    <span class="hljs-attr">proxy_dir:</span>            <span class="hljs-string">"%kernel.cache_dir%/doctrine/odm/mongodb/Proxies"</span></code><code class="line language-yaml">    <span class="hljs-attr">auto_generate_proxy_classes:</span>  <span class="hljs-number">0</span></code><code class="line language-yaml">    <span class="hljs-attr">hydrator_namespace:</span>   <span class="hljs-string">Hydrators</span></code><code class="line language-yaml">    <span class="hljs-attr">hydrator_dir:</span>         <span class="hljs-string">"%kernel.cache_dir%/doctrine/odm/mongodb/Hydrators"</span></code><code class="line language-yaml">    <span class="hljs-attr">auto_generate_hydrator_classes:</span>  <span class="hljs-number">0</span></code><code class="line language-yaml">    <span class="hljs-attr">persistent_collection_namespace:</span> <span class="hljs-string">PersistentCollections</span></code><code class="line language-yaml">    <span class="hljs-attr">persistent_collection_dir:</span> <span class="hljs-string">"%kernel.cache_dir%/doctrine/odm/mongodb/PersistentCollections"</span></code><code class="line language-yaml">    <span class="hljs-attr">auto_generate_persistent_collection_classes:</span> <span class="hljs-number">0</span></code><code class="line language-yaml">    <span class="hljs-attr">default_document_manager:</span>  <span class="hljs-string">~</span></code><code class="line language-yaml">    <span class="hljs-attr">default_connection:</span>   <span class="hljs-string">~</span></code><code class="line language-yaml">    <span class="hljs-attr">default_database:</span>     <span class="hljs-string">default</span></code><code class="line language-yaml">    <span class="hljs-attr">enable_native_lazy_objects:</span> <span class="hljs-literal">true</span>     <span class="hljs-comment"># Enabled by default if PHP 8.4+ and doctrine/mongodb-odm 2.14+ are installed</span></code><code class="line language-yaml">    <span class="hljs-attr">enable_lazy_ghost_objects:</span> <span class="hljs-literal">true</span>      <span class="hljs-comment"># Enabled by default if doctrine/mongodb-odm 2.10+ is installed</span></code><code class="empty"></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-511096c85d47696bb979f35c36b249f3" aria-label="Xml" class="configuration-codeblock" data-language="xml" style="display: none">
                <pre class="code-block-table" id="a71a921a1343160fed312b232169134c41316fa9"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="a71a921a1343160fed312b232169134c41316fa9"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-xml"><span class="hljs-meta">&lt;?xml version="1.0" ?&gt;</span></code><code class="line language-xml"></code><code class="line language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span></span></code><code class="line language-xml">           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</code><code class="line language-xml">           xmlns:doctrine="http://symfony.com/schema/dic/doctrine/odm/mongodb"</code><code class="line language-xml">           xsi:schemaLocation="http://symfony.com/schema/dic/services https://symfony.com/schema/dic/services/services-1.0.xsd</code><code class="line language-xml">                        http://symfony.com/schema/dic/doctrine/odm/mongodb https://symfony.com/schema/dic/doctrine/odm/mongodb/mongodb-1.0.xsd"&gt;</code><code class="line language-xml"></code><code class="line language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:config</span></span></code><code class="line language-xml">            auto-generate-hydrator-classes="0"</code><code class="line language-xml">            auto-generate-proxy-classes="0"</code><code class="line language-xml">            default-connection=""</code><code class="line language-xml">            default-database="default"</code><code class="line language-xml">            default-document-manager=""</code><code class="line language-xml">            hydrator-dir="%kernel.cache_dir%/doctrine/odm/mongodb/Hydrators"</code><code class="line language-xml">            hydrator-namespace="Hydrators"</code><code class="line language-xml">            proxy-dir="%kernel.cache_dir%/doctrine/odm/mongodb/Proxies"</code><code class="line language-xml">            proxy-namespace="Proxies"</code><code class="line language-xml">    &gt;</code><code class="line language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:document-manager</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"id"</span></span></code><code class="line language-xml">                                   connection=""</code><code class="line language-xml">                                   database=""</code><code class="line language-xml">                                   default-document-repository-class=""</code><code class="line language-xml">                                   default-gridfs-repository-class=""</code><code class="line language-xml">                                   repository-factory=""</code><code class="line language-xml">                                   logging="true"</code><code class="line language-xml">                                   auto-mapping="false"</code><code class="line language-xml">        &gt;</code><code class="line language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:metadata-cache-driver</span> <span class="hljs-attr">type</span>=<span class="hljs-string">""</span>&gt;</span></code><code class="line language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:class</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:class</span>&gt;</span></code><code class="line language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:host</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:host</span>&gt;</span></code><code class="line language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:port</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:port</span>&gt;</span></code><code class="line language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:instance-class</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:instance-class</span>&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:metadata-cache-driver</span>&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:mapping</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span></span></code><code class="line language-xml">                              type=""</code><code class="line language-xml">                              dir=""</code><code class="line language-xml">                              prefix=""</code><code class="line language-xml">                              alias=""</code><code class="line language-xml">                              is-bundle=""</code><code class="line language-xml">            /&gt;</code><code class="line language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:profiler</span> <span class="hljs-attr">enabled</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">pretty</span>=<span class="hljs-string">"false"</span> /&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:document-manager</span>&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:type</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"custom_type"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"Fully\Qualified\Class\Name"</span> /&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:connection</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"conn1"</span> <span class="hljs-attr">server</span>=<span class="hljs-string">"mongodb://localhost"</span>&gt;</span></code><code class="line language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:options</span></span></code><code class="line language-xml">                    authMechanism=""</code><code class="line language-xml">                    connectTimeoutMS=""</code><code class="line language-xml">                    db=""</code><code class="line language-xml">                    authSource=""</code><code class="line language-xml">                    journal=""</code><code class="line language-xml">                    password=""</code><code class="line language-xml">                    readPreference=""</code><code class="line language-xml">                    replicaSet=""</code><code class="line language-xml">                    socketTimeoutMS=""</code><code class="line language-xml">                    ssl=""</code><code class="line language-xml">                    username=""</code><code class="line language-xml">                    w=""</code><code class="line language-xml">                    wTimeoutMS=""</code><code class="line language-xml">            &gt;</code><code class="line language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:options</span>&gt;</span></code><code class="line language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:connection</span>&gt;</span></code><code class="line language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:config</span>&gt;</span></code><code class="line language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></code><code class="empty"></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-fec2a37df4ea7ad860e7b868ed4edea8" aria-label="Php" class="configuration-codeblock" data-language="php" style="display: none">
                <pre class="code-block-table" id="e71fc8ad705635aca4753d3e2b16bcd6ba507e8b"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="e71fc8ad705635aca4753d3e2b16bcd6ba507e8b"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">DoctrineMongodbConfig</span>;</code><code class="line language-php"></code><code class="line language-php"><span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(DoctrineMongodbConfig $config)</span>: <span class="hljs-title">void</span> </span>{</code><code class="line language-php">    $config-&gt;autoGenerateHydratorClasses(<span class="hljs-number">0</span>);</code><code class="line language-php">    $config-&gt;autoGenerateProxyClasses(<span class="hljs-number">0</span>);</code><code class="line language-php">    $config-&gt;enableNativeLazyObjects(<span class="hljs-keyword">true</span>);    <span class="hljs-comment">// Enabled by default if PHP 8.4+ and doctrine/mongodb-odm 2.14+ are installed</span></code><code class="line language-php">    $config-&gt;enableLazyGhostObjects(<span class="hljs-keyword">true</span>);     <span class="hljs-comment">// Enabled by default if doctrine/mongodb-odm 2.10+ is installed</span></code><code class="line language-php">    $config-&gt;defaultConnection(<span class="hljs-string">''</span>);</code><code class="line language-php">    $config-&gt;defaultDatabase(<span class="hljs-string">'default'</span>);</code><code class="line language-php">    $config-&gt;defaultDocumentManager(<span class="hljs-string">''</span>);</code><code class="line language-php">    $config-&gt;hydratorDir(<span class="hljs-string">'%kernel.cache_dir%/doctrine/odm/mongodb/Hydrators'</span>);</code><code class="line language-php">    $config-&gt;hydratorNamespace(<span class="hljs-string">'Hydrators'</span>);</code><code class="line language-php">    $config-&gt;proxyDir(<span class="hljs-string">'%kernel.cache_dir%/doctrine/odm/mongodb/Proxies'</span>);</code><code class="line language-php">    $config-&gt;proxyNamespace(<span class="hljs-string">'Proxies'</span>);</code><code class="line language-php"></code><code class="line language-php">    $config-&gt;documentManager(<span class="hljs-string">'id'</span>)</code><code class="line language-php">        -&gt;connection(<span class="hljs-string">''</span>)</code><code class="line language-php">        -&gt;database(<span class="hljs-string">''</span>)</code><code class="line language-php">        -&gt;defaultDocumentRepositoryClass(<span class="hljs-string">''</span>)</code><code class="line language-php">        -&gt;defaultGridfsRepositoryClass(<span class="hljs-string">''</span>)</code><code class="line language-php">        -&gt;repositoryFactory(<span class="hljs-string">''</span>)</code><code class="line language-php">        -&gt;logging(<span class="hljs-keyword">true</span>)</code><code class="line language-php">        -&gt;autoMapping(<span class="hljs-keyword">false</span>)</code><code class="line language-php">        -&gt;metadataCacheDriver()</code><code class="line language-php">            -&gt;type(<span class="hljs-keyword">null</span>)</code><code class="line language-php">            -&gt;class(<span class="hljs-keyword">null</span>)</code><code class="line language-php">            -&gt;host(<span class="hljs-keyword">null</span>)</code><code class="line language-php">            -&gt;port(<span class="hljs-keyword">null</span>)</code><code class="line language-php">            -&gt;instanceClass(<span class="hljs-keyword">null</span>)</code><code class="line language-php">        -&gt;mapping(<span class="hljs-string">'name'</span>)</code><code class="line language-php">            -&gt;type(<span class="hljs-string">''</span>)</code><code class="line language-php">            -&gt;dir(<span class="hljs-string">''</span>)</code><code class="line language-php">            -&gt;prefix(<span class="hljs-string">''</span>)</code><code class="line language-php">            -&gt;alias(<span class="hljs-string">''</span>)</code><code class="line language-php">            -&gt;isBundle(<span class="hljs-string">''</span>)</code><code class="line language-php">        -&gt;profiler()</code><code class="line language-php">            -&gt;enabled(<span class="hljs-keyword">true</span>)</code><code class="line language-php">            -&gt;pretty(<span class="hljs-keyword">false</span>)</code><code class="line language-php">    ;</code><code class="line language-php"></code><code class="line language-php">    $config-&gt;type(<span class="hljs-string">'custom_type'</span>)</code><code class="line language-php">        -&gt;class(<span class="hljs-string">'Fully\Qualified\Class\Name'</span>);</code><code class="line language-php"></code><code class="line language-php">    $config-&gt;connection(<span class="hljs-string">'id'</span>)</code><code class="line language-php">        -&gt;server(<span class="hljs-string">'mongodb://localhost'</span>)</code><code class="line language-php">        -&gt;autoEncryption([ <span class="hljs-comment">// Options for client-side field-level encryption</span></code><code class="line language-php">            <span class="hljs-string">'bypassAutoEncryption'</span> =&gt; <span class="hljs-keyword">false</span>, <span class="hljs-comment">// Disables auto-encryption</span></code><code class="line language-php">            <span class="hljs-string">'keyVaultClient'</span> =&gt; <span class="hljs-keyword">null</span>,  <span class="hljs-comment">// Service ID of a MongoDB\Driver\Manager for the key vault</span></code><code class="line language-php">            <span class="hljs-string">'keyVaultNamespace'</span> =&gt; <span class="hljs-keyword">null</span>,  <span class="hljs-comment">// The namespace for the key vault collection (e.g., "encryption.__keyVault")</span></code><code class="line language-php">            <span class="hljs-string">'kmsProvider'</span> =&gt; [    <span class="hljs-comment">// Configuration for Key Management System provider</span></code><code class="line language-php">                <span class="hljs-comment">// e.g., ['type' =&gt; 'local', 'key' =&gt; 'YOUR_BASE64_KEY']</span></code><code class="line language-php">                <span class="hljs-comment">// e.g., ['type' =&gt; 'aws', 'accessKeyId' =&gt; '...', 'secretAccessKey' =&gt; '...']</span></code><code class="line language-php">            ],</code><code class="line language-php">            <span class="hljs-string">'schemaMap'</span> =&gt; [],    <span class="hljs-comment">// Document schemas for explicit encryption</span></code><code class="line language-php">            <span class="hljs-string">'encryptedFieldsMap'</span> =&gt; [], <span class="hljs-comment">// Map of collections to their encrypted fields configuration</span></code><code class="line language-php">            <span class="hljs-string">'extraOptions'</span> =&gt; [    <span class="hljs-comment">// Extra options for mongocryptd</span></code><code class="line language-php">                <span class="hljs-comment">// 'cryptSharedLibPath' =&gt; null,  // Path to the crypt_shared library</span></code><code class="line language-php">                <span class="hljs-comment">// 'cryptSharedLibRequired' =&gt; false, // If true, fails if the crypt_shared library cannot be loaded</span></code><code class="line language-php">            ],</code><code class="line language-php">            <span class="hljs-string">'bypassQueryAnalysis'</span> =&gt; <span class="hljs-keyword">false</span>, <span class="hljs-comment">// Disables automatic analysis of read and write operations for encryption</span></code><code class="line language-php">            <span class="hljs-string">'tlsOptions'</span> =&gt; [        <span class="hljs-comment">// TLS options for the Key Vault client (if keyVaultClient is not specified)</span></code><code class="line language-php">                <span class="hljs-comment">// 'tlsCAFile' =&gt; null,  // Path to CA file, e.g., /path/to/key-vault-ca.pem</span></code><code class="line language-php">                <span class="hljs-comment">// 'tlsCertificateKeyFile' =&gt; null,  // Path to client cert/key file, e.g., /path/to/key-vault-client.pem</span></code><code class="line language-php">                <span class="hljs-comment">// 'tlsCertificateKeyFilePassword' =&gt; null,  // Password for client cert/key file</span></code><code class="line language-php">                <span class="hljs-comment">// 'tlsDisableOCSPEndpointCheck' =&gt; false, // Disable OCSP checks</span></code><code class="line language-php">            ],</code><code class="line language-php">        ])</code><code class="line language-php">        -&gt;options([</code><code class="line language-php">            <span class="hljs-string">'authMechanism'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">            <span class="hljs-string">'connectTimeoutMS'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">            <span class="hljs-string">'db'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">            <span class="hljs-string">'authSource'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">            <span class="hljs-string">'journal'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">            <span class="hljs-string">'password'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">            <span class="hljs-string">'readPreference'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">            <span class="hljs-string">'readPreferenceTags'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">            <span class="hljs-string">'replicaSet'</span> =&gt; <span class="hljs-keyword">null</span>, <span class="hljs-comment">// replica set name</span></code><code class="line language-php">            <span class="hljs-string">'socketTimeoutMS'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">            <span class="hljs-string">'ssl'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">            <span class="hljs-string">'tls'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">            <span class="hljs-string">'tlsAllowInvalidCertificates'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">            <span class="hljs-string">'tlsAllowInvalidHostnames'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">            <span class="hljs-string">'tlsCAFile'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">            <span class="hljs-string">'tlsCertificateKeyFile'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">            <span class="hljs-string">'tlsCertificateKeyFilePassword'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">            <span class="hljs-string">'tlsDisableCertificateRevocationCheck'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">            <span class="hljs-string">'tlsDisableOCSPEndpointCheck'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">            <span class="hljs-string">'tlsInsecure'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">            <span class="hljs-string">'username'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">            <span class="hljs-string">'retryReads'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">            <span class="hljs-string">'retryWrites'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">            <span class="hljs-string">'w'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">            <span class="hljs-string">'wTimeoutMS'</span> =&gt; <span class="hljs-keyword">null</span>,</code><code class="line language-php">        ])</code><code class="line language-php">};</code><code class="empty"></code></pre>
        </div>
    </div>
    </div>
    </div>
        

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?4a831b"
                            integrity="sha384-ygNM6vWkqMgvV0Lrk5BeKUupSk4CidmuzVPL3OkdAxEVjZQDo9cgbfC+FXAfoAse"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'doctrine-mongodb-bundle';
            var versionSlug = 'latest';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search DoctrineMongoDBBundle 5.6'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            </body>
</html>
