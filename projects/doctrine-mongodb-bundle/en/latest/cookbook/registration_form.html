<!DOCTYPE html>
<html>
    <head>
        <title>Creating a Registration Form - Doctrine Doctrine MongoDB Bundle (DoctrineMongoDBBundle)</title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine Doctrine MongoDB Bundle Documentation: Creating a Registration Form ">

        <meta name="keywords" content="persistence,mongodb,symfony,documentation,creating,a,registration,form">

                    <meta name="robots" content="index, follow">
        
                    <link rel="canonical" href="https://www.doctrine-project.org" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?d03983"
                        integrity="sha384-4DDvrwHU8UHyL/15iEZltzugmeBoo5kRia0CANNVWf95JcnJimplks4zt9iMqIXa"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/projects/doctrine-mongodb-bundle/en/latest/cookbook/registration_form.html" />
        <meta property="og:title" content="Creating a Registration Form - Doctrine Doctrine MongoDB Bundle (DoctrineMongoDBBundle)" />
        <meta property="og:description" content="Doctrine Doctrine MongoDB Bundle Documentation: Creating a Registration Form " />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/images/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine Doctrine MongoDB Bundle",
            "description": "Creating a Registration Form",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://www.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/images/doctrine-logo.svg?c1fd47" />Doctrine</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item notranslate" href="/projects/annotations.html">Annotations</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/cache.html">Cache</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/mongodb.html">MongoDB</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/reflection.html">Reflection</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/rst-parser.html">RST Parser</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/skeleton-mapper.html">Skeleton Mapper</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/team/maintainers.html">Maintainers</a>
                                <a class="dropdown-item" href="/team/contributors.html">Contributors</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/events.html">Events</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/consulting.html">Consulting</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/DoctrineMongoDBBundle/edit/master/Resources/doc/cookbook/registration_form.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>

                    <div class="google-translate-dropdown dropdown show d-inline-block mr-2">
                        <a class="btn btn-primary dropdown-toggle" href="#" role="button" id="translateDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Translate
                        </a>

                        <div class="dropdown-menu" aria-labelledby="translateDropdown">
                            <div class="dropdown-item" id="google_translate_element">Loading...</div>
                        </div>
                    </div>

                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        <div class="toc"><ul><li id="console-html-console-commands" class="toc-item"><a href="../console.html#console-commands">Console Commands</a></li><li id="config-html-configuration" class="toc-item"><a href="../config.html#configuration">Configuration</a><ul><li id="config-html-sample-configuration" class="toc-item"><a href="../config.html#sample-configuration">Sample Configuration</a></li><li id="config-html-mapping-configuration" class="toc-item"><a href="../config.html#mapping-configuration">Mapping Configuration</a></li><li id="config-html-filters" class="toc-item"><a href="../config.html#filters">Filters</a></li><li id="config-html-multiple-connections" class="toc-item"><a href="../config.html#multiple-connections">Multiple Connections</a></li><li id="config-html-connecting-to-a-pool-of-mongodb-servers-on-1-connection" class="toc-item"><a href="../config.html#connecting-to-a-pool-of-mongodb-servers-on-1-connection">Connecting to a pool of mongodb servers on 1 connection</a></li><li id="config-html-using-authentication-on-a-database-level" class="toc-item"><a href="../config.html#using-authentication-on-a-database-level">Using Authentication on a Database Level</a><ul><li id="config-html-specifying-a-context-service" class="toc-item"><a href="../config.html#specifying-a-context-service">Specifying a context service</a></li></ul></li><li id="config-html-full-default-configuration" class="toc-item"><a href="../config.html#full-default-configuration">Full Default Configuration</a></li></ul></li><li id="installation-html-installation" class="toc-item"><a href="../installation.html#installation">Installation</a><ul><li id="installation-html-install-the-bundle-with-symfony-flex" class="toc-item"><a href="../installation.html#install-the-bundle-with-symfony-flex">Install the bundle with Symfony Flex</a></li><li id="installation-html-install-the-bundle-with-composer" class="toc-item"><a href="../installation.html#install-the-bundle-with-composer">Install the bundle with Composer</a></li><li id="installation-html-configuration" class="toc-item"><a href="../installation.html#configuration">Configuration</a></li></ul></li><li id="first-steps-html-first-steps-using-the-odm" class="toc-item"><a href="../first_steps.html#first-steps-using-the-odm">First steps using the ODM</a><ul><li id="first-steps-html-a-simple-example-a-product" class="toc-item"><a href="../first_steps.html#a-simple-example-a-product">A Simple Example: A Product</a><ul><li id="first-steps-html-creating-a-document-class" class="toc-item"><a href="../first_steps.html#creating-a-document-class">Creating a Document Class</a></li><li id="first-steps-html-add-mapping-information" class="toc-item"><a href="../first_steps.html#add-mapping-information">Add Mapping Information</a></li><li id="first-steps-html-persisting-objects-to-mongodb" class="toc-item"><a href="../first_steps.html#persisting-objects-to-mongodb">Persisting Objects to MongoDB</a></li><li id="first-steps-html-fetching-objects-from-mongodb" class="toc-item"><a href="../first_steps.html#fetching-objects-from-mongodb">Fetching Objects from MongoDB</a></li><li id="first-steps-html-updating-an-object" class="toc-item"><a href="../first_steps.html#updating-an-object">Updating an Object</a></li><li id="first-steps-html-deleting-an-object" class="toc-item"><a href="../first_steps.html#deleting-an-object">Deleting an Object</a></li></ul></li><li id="first-steps-html-querying-for-objects" class="toc-item"><a href="../first_steps.html#querying-for-objects">Querying for Objects</a><ul><li id="first-steps-html-using-the-query-builder" class="toc-item"><a href="../first_steps.html#using-the-query-builder">Using the Query Builder</a></li><li id="first-steps-html-custom-repository-classes" class="toc-item"><a href="../first_steps.html#custom-repository-classes">Custom Repository Classes</a></li></ul></li></ul></li><li id="events-html-registering-event-listeners-and-subscribers" class="toc-item"><a href="../events.html#registering-event-listeners-and-subscribers">Registering Event Listeners and Subscribers</a><ul><li id="events-html-event-listeners" class="toc-item"><a href="../events.html#event-listeners">Event Listeners</a></li><li id="events-html-event-subscribers" class="toc-item"><a href="../events.html#event-subscribers">Event Subscribers</a></li></ul></li><li id="index-html-doctrinemongodbbundle" class="toc-item"><a href="../index.html#doctrinemongodbbundle">DoctrineMongoDBBundle</a><ul><li id="index-html-doctrine-extensions-timestampable-sluggable-etc" class="toc-item"><a href="../index.html#doctrine-extensions-timestampable-sluggable-etc">Doctrine Extensions: Timestampable, Sluggable, etc.</a></li></ul></li><li id="form-validation-html-form-validation" class="toc-item"><a href="../form_validation.html#form-validation">Form & Validation</a><ul><li id="form-validation-html-documenttype" class="toc-item"><a href="../form_validation.html#documenttype">DocumentType</a></li><li id="form-validation-html-unique-constraint" class="toc-item"><a href="../form_validation.html#unique-constraint">Unique constraint</a></li></ul></li><li id="security-bundle-html-securitybundle-integration" class="toc-item"><a href="../security_bundle.html#securitybundle-integration">SecurityBundle integration</a></li><li id="registration-form-html-creating-a-registration-form" class="toc-item"><a href="registration_form.html#creating-a-registration-form">Creating a Registration Form</a><ul><li id="registration-form-html-the-simple-user-model" class="toc-item"><a href="registration_form.html#the-simple-user-model">The simple User model</a></li><li id="registration-form-html-create-a-form-for-the-model" class="toc-item"><a href="registration_form.html#create-a-form-for-the-model">Create a Form for the Model</a></li><li id="registration-form-html-embedding-the-user-form-into-a-registration-form" class="toc-item"><a href="registration_form.html#embedding-the-user-form-into-a-registration-form">Embedding the User form into a Registration Form</a></li><li id="registration-form-html-handling-the-form-submission" class="toc-item"><a href="registration_form.html#handling-the-form-submission">Handling the Form Submission</a></li></ul></li></ul></div>
                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://www.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "DoctrineMongoDBBundle",
            "item": "https://www.doctrine-project.org/projects/doctrine-mongodb-bundle.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://www.doctrine-project.org/projects/doctrine-mongodb-bundle/en/latest/index.html"
        },                {
            "@type": "ListItem",
            "position": 4,
            "name": "Creating a Registration Form",
            "item": "https://www.doctrine-project.org/projects/doctrine-mongodb-bundle/en/latest/cookbook/registration_form.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-mongodb-bundle.html">DoctrineMongoDBBundle</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-mongodb-bundle/en/latest/index.html">Documentation</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Creating a Registration Form</li>
                        </ol>
</nav>
                                    </div>

                    
    <div class="alert caution bg-light-yellow text-dark border">
    <table width="100%">
        <tr>
            <td width="10" class="align-top">
                <i class="fas fa-exclamation-circle text-warning mr-2"></i>
            </td>
            <td><p>You are browsing a version that has not yet been released.</p></td>
        </tr>
    </table>
</div>

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-mongodb-bundle/en/latest/cookbook/registration_form.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        4.0
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                            
                                                <a class="project-version-switcher dropdown-item active" href="/projects/doctrine-mongodb-bundle/en/latest/cookbook/registration_form.html">
                                                    4.0

                                                    
                                                                                                            (upcoming)
                                                                                                    </a>
                                                                                            
                                                <a class="project-version-switcher dropdown-item" href="">
                                                    3.5.4

                                                                                                            (current)
                                                    
                                                                                                    </a>
                                                                                    
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                            
                                                <a class="dropdown-item" href="">3.6</a>
                                                                                            
                                                <a class="dropdown-item" href="">3.4</a>
                                                                                            
                                                <a class="dropdown-item" href="">3.3</a>
                                                                                            
                                                <a class="dropdown-item" href="">3.2</a>
                                                                                            
                                                <a class="dropdown-item" href="">3.1</a>
                                                                                            
                                                <a class="dropdown-item" href="">3.0</a>
                                                                                            
                                                <a class="dropdown-item" href="">2.2</a>
                                                                                            
                                                <a class="dropdown-item" href="">2.1</a>
                                                                                            
                                                <a class="dropdown-item" href="">2.0</a>
                                                                                                                        </div>
                                </div>
                            
                            
<div class="section"><a class="section-anchor" id="creating-a-registration-form" name="creating-a-registration-form"></a><h1 class="section-header"><a href="#creating-a-registration-form">Creating a Registration Form<i class="fas fa-link"></i></a></h1>
<p>Some forms have extra fields whose values don't need to be stored in the
database. In this example, we'll create a registration form with some extra
fields and (like a &quot;terms accepted&quot; checkbox field) and embed the form that
actually stores the account information. We'll use MongoDB for storing the data.</p>
<div class="section"><a class="section-anchor" id="the-simple-user-model" name="the-simple-user-model"></a><h2 class="section-header"><a href="#the-simple-user-model">The simple User model<i class="fas fa-link"></i></a></h2>
<p>So, in this tutorial we begin with the model for a <code>User</code> document:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="b84399035f23cb8f7e61fa802c44116caf7fe2c8"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="b84399035f23cb8f7e61fa802c44116caf7fe2c8"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-1" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-1">1</a></td><td class="code-line" rowspan="57"><span class="hljs-comment">// src/Acme/AccountBundle/Document/User.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">Acme</span>\<span class="hljs-title">AccountBundle</span>\<span class="hljs-title">Document</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ODM</span>\<span class="hljs-title">MongoDB</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">Annotations</span> <span class="hljs-title">as</span> <span class="hljs-title">MongoDB</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Constraints</span> <span class="hljs-title">as</span> <span class="hljs-title">Assert</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Bundle</span>\<span class="hljs-title">MongoDBBundle</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Constraints</span>\<span class="hljs-title">Unique</span> <span class="hljs-title">as</span> <span class="hljs-title">MongoDBUnique</span>;

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@MongoDB</span>\Document(collection="users")
 * <span class="hljs-doctag">@MongoDBUnique</span>(fields="email")
 */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span>
</span>{
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@MongoDB</span>\Id
     */</span>
    <span class="hljs-keyword">protected</span> $id;

    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@MongoDB</span>\Field(type="string")
     * <span class="hljs-doctag">@Assert</span>\NotBlank()
     * <span class="hljs-doctag">@Assert</span>\Email()
     */</span>
    <span class="hljs-keyword">protected</span> $email;

    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@MongoDB</span>\Field(type="string")
     * <span class="hljs-doctag">@Assert</span>\NotBlank()
     */</span>
    <span class="hljs-keyword">protected</span> $password;

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getEmail</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;email;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setEmail</span><span class="hljs-params">($email)</span>
    </span>{
        <span class="hljs-keyword">$this</span>-&gt;email = $email;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPassword</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;password;
    }

    <span class="hljs-comment">// stupid simple encryption (please don't copy it!)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setPassword</span><span class="hljs-params">($password)</span>
    </span>{
        <span class="hljs-keyword">$this</span>-&gt;password = sha1($password);
    }
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-2" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-3" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-4" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-5" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-6" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-7" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-8" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-9" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-10" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-11" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-12" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-13" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-14" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-15" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-16" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-17" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-18" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-19" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-20" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-21" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-22" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-23" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-24" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-25" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-26" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-27" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-27">27</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-28" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-28">28</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-29" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-29">29</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-30" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-30">30</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-31" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-31">31</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-32" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-32">32</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-33" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-33">33</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-34" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-34">34</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-35" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-35">35</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-36" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-36">36</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-37" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-37">37</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-38" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-38">38</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-39" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-39">39</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-40" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-40">40</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-41" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-41">41</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-42" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-42">42</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-43" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-43">43</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-44" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-44">44</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-45" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-45">45</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-46" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-46">46</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-47" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-47">47</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-48" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-48">48</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-49" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-49">49</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-50" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-50">50</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-51" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-51">51</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-52" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-52">52</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-53" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-53">53</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-54" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-54">54</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-55" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-55">55</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-56" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-56">56</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-57" class="line-number-anchor" /><a href="#line-number-b84399035f23cb8f7e61fa802c44116caf7fe2c8-57">57</a></td></tr></table></div></code></pre>
<p>This <code>User</code> document contains three fields and two of them (email and
password) should display on the form. The email property must be unique
on the database, so we've added this validation at the top of the class.</p>
<div class="alert note-admonition bg-light-yellow text-dark border"><table width="100%"><tr><td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td><td><p>If you want to integrate this User within the security system,you need
to implement the <a href="http://symfony.com/doc/current/book/security.html#book-security-user-entity">UserInterface</a> of the security component.</p>
</td></tr></table></div>
</div>
<div class="section"><a class="section-anchor" id="create-a-form-for-the-model" name="create-a-form-for-the-model"></a><h2 class="section-header"><a href="#create-a-form-for-the-model">Create a Form for the Model<i class="fas fa-link"></i></a></h2>
<p>Next, create the form for the <code>User</code> model:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="a1ddbb3036edeb6c14beddf8836ade4fb758c7ae"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="a1ddbb3036edeb6c14beddf8836ade4fb758c7ae"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-1" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-1">1</a></td><td class="code-line" rowspan="30"><span class="hljs-comment">// src/Acme/AccountBundle/Form/Type/UserType.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">Acme</span>\<span class="hljs-title">AccountBundle</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Type</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">AbstractType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">EmailType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">PasswordType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">RepeatedType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">FormBuilderInterface</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">OptionsResolver</span>\<span class="hljs-title">OptionsResolver</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Acme</span>\<span class="hljs-title">AccountBundle</span>\<span class="hljs-title">Document</span>\<span class="hljs-title">User</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserType</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractType</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">buildForm</span><span class="hljs-params">(FormBuilderInterface $builder, array $options)</span>
    </span>{
        $builder-&gt;add(<span class="hljs-string">'email'</span>, EmailType::class);
        $builder-&gt;add(<span class="hljs-string">'password'</span>, RepeatedType::class, <span class="hljs-keyword">array</span>(
           <span class="hljs-string">'first_name'</span> =&gt; <span class="hljs-string">'password'</span>,
           <span class="hljs-string">'second_name'</span> =&gt; <span class="hljs-string">'confirm'</span>,
           <span class="hljs-string">'type'</span> =&gt; PasswordType::class
        ));
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">configureOptions</span><span class="hljs-params">(OptionsResolver $resolver)</span>
    </span>{
        $resolver-&gt;setDefaults(<span class="hljs-keyword">array</span>(
            <span class="hljs-string">'data_class'</span> =&gt; User::class,
        ));
    }
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-2" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-3" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-4" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-5" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-6" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-7" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-8" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-9" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-10" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-11" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-12" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-13" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-14" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-15" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-16" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-17" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-18" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-19" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-20" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-21" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-22" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-23" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-24" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-25" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-26" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-27" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-27">27</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-28" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-28">28</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-29" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-29">29</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-30" class="line-number-anchor" /><a href="#line-number-a1ddbb3036edeb6c14beddf8836ade4fb758c7ae-30">30</a></td></tr></table></div></code></pre>
<p>We just added two fields: email and password (repeated to confirm the entered
password). The <code>data_class</code> option tells the form the name of data class
(i.e. your <code>User</code> document).</p>
<div class="alert tip-admonition bg-success text-light border"><table width="100%"><tr><td width="10" class="align-top"><i class="fas fa-question-circle mr-2"></i></td><td><p>To explore more things about form component, read this documentation <a href="http://symfony.com/doc/current/book/forms.html">file</a>.</p>
</td></tr></table></div>
</div>
<div class="section"><a class="section-anchor" id="embedding-the-user-form-into-a-registration-form" name="embedding-the-user-form-into-a-registration-form"></a><h2 class="section-header"><a href="#embedding-the-user-form-into-a-registration-form">Embedding the User form into a Registration Form<i class="fas fa-link"></i></a></h2>
<p>The form that you'll use for the registration page is not the same as the
form used to simply modify the <code>User</code> (i.e. <code>UserType</code>). The registration
form will contain further fields like &quot;accept the terms&quot;, whose value won't be
stored in the database.</p>
<p>In other words, create a second form for registration, which embeds the <code>User</code>
form and adds the extra field needed. Start by creating a simple class which
represents the &quot;registration&quot;:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="955bcb29cf4e5eb4151e105455a7140e48145023"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="955bcb29cf4e5eb4151e105455a7140e48145023"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-1" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-1">1</a></td><td class="code-line" rowspan="40"><span class="hljs-comment">// src/Acme/AccountBundle/Form/Model/Registration.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">Acme</span>\<span class="hljs-title">AccountBundle</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Model</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Constraints</span> <span class="hljs-title">as</span> <span class="hljs-title">Assert</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Acme</span>\<span class="hljs-title">AccountBundle</span>\<span class="hljs-title">Document</span>\<span class="hljs-title">User</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Registration</span>
</span>{
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@Assert</span>\Type(type="Acme\AccountBundle\Document\User")
     */</span>
    <span class="hljs-keyword">protected</span> $user;

    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@Assert</span>\NotBlank()
     * <span class="hljs-doctag">@Assert</span>\True()
     */</span>
    <span class="hljs-keyword">protected</span> $termsAccepted;

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setUser</span><span class="hljs-params">(User $user)</span>
    </span>{
        <span class="hljs-keyword">$this</span>-&gt;user = $user;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUser</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;user;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTermsAccepted</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;termsAccepted;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setTermsAccepted</span><span class="hljs-params">($termsAccepted)</span>
    </span>{
        <span class="hljs-keyword">$this</span>-&gt;termsAccepted = (boolean)$termsAccepted;
    }
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-2" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-3" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-4" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-5" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-6" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-7" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-8" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-9" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-10" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-11" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-12" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-13" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-14" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-15" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-16" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-17" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-18" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-19" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-20" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-21" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-22" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-23" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-24" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-25" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-26" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-27" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-27">27</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-28" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-28">28</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-29" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-29">29</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-30" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-30">30</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-31" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-31">31</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-32" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-32">32</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-33" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-33">33</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-34" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-34">34</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-35" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-35">35</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-36" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-36">36</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-37" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-37">37</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-38" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-38">38</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-39" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-39">39</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-955bcb29cf4e5eb4151e105455a7140e48145023-40" class="line-number-anchor" /><a href="#line-number-955bcb29cf4e5eb4151e105455a7140e48145023-40">40</a></td></tr></table></div></code></pre>
<p>Next, create the form for this <code>Registration</code> model:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="7ac524cb6dd2d6680b732648ccb1b20bb913f40e"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="7ac524cb6dd2d6680b732648ccb1b20bb913f40e"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-1" class="line-number-anchor" /><a href="#line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-1">1</a></td><td class="code-line" rowspan="15"><span class="hljs-comment">// src/Acme/AccountBundle/Form/Type/RegistrationType.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">Acme</span>\<span class="hljs-title">AccountBundle</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Type</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">AbstractType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">CheckboxType</span>
<span class="hljs-title">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">FormBuilderInterface</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RegistrationType</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractType</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">buildForm</span><span class="hljs-params">(FormBuilderInterface $builder, array $options)</span>
    </span>{
        $builder-&gt;add(<span class="hljs-string">'user'</span>, UserType::class);
        $builder-&gt;add(<span class="hljs-string">'terms'</span>, CheckboxType::class, <span class="hljs-keyword">array</span>(<span class="hljs-string">'property_path'</span> =&gt; <span class="hljs-string">'termsAccepted'</span>));
    }
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-2" class="line-number-anchor" /><a href="#line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-3" class="line-number-anchor" /><a href="#line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-4" class="line-number-anchor" /><a href="#line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-5" class="line-number-anchor" /><a href="#line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-6" class="line-number-anchor" /><a href="#line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-7" class="line-number-anchor" /><a href="#line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-8" class="line-number-anchor" /><a href="#line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-9" class="line-number-anchor" /><a href="#line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-10" class="line-number-anchor" /><a href="#line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-11" class="line-number-anchor" /><a href="#line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-12" class="line-number-anchor" /><a href="#line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-13" class="line-number-anchor" /><a href="#line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-14" class="line-number-anchor" /><a href="#line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-15" class="line-number-anchor" /><a href="#line-number-7ac524cb6dd2d6680b732648ccb1b20bb913f40e-15">15</a></td></tr></table></div></code></pre>
<p>You don't need to use special method for embedding the <code>UserType</code> form.
A form is a field, too - so you can add this like any other field, with the
expectation that the corresponding <code>user</code> property will hold an instance
of the class <code>UserType</code>.</p>
</div>
<div class="section"><a class="section-anchor" id="handling-the-form-submission" name="handling-the-form-submission"></a><h2 class="section-header"><a href="#handling-the-form-submission">Handling the Form Submission<i class="fas fa-link"></i></a></h2>
<p>Next, you need a controller to handle the form. Start by creating a simple
controller for displaying the registration form:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="30883910d76986a02b43bd803663a91da46f8c29"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="30883910d76986a02b43bd803663a91da46f8c29"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-30883910d76986a02b43bd803663a91da46f8c29-1" class="line-number-anchor" /><a href="#line-number-30883910d76986a02b43bd803663a91da46f8c29-1">1</a></td><td class="code-line" rowspan="22"><span class="hljs-comment">// src/Acme/AccountBundle/Controller/AccountController.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">Acme</span>\<span class="hljs-title">AccountBundle</span>\<span class="hljs-title">Controller</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ODM</span>\<span class="hljs-title">MongoDB</span>\<span class="hljs-title">DocumentManager</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Bundle</span>\<span class="hljs-title">FrameworkBundle</span>\<span class="hljs-title">Controller</span>\<span class="hljs-title">Controller</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Response</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Acme</span>\<span class="hljs-title">AccountBundle</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">RegistrationType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Acme</span>\<span class="hljs-title">AccountBundle</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Model</span>\<span class="hljs-title">Registration</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AccountController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Controller</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">registerAction</span><span class="hljs-params">()</span>
    </span>{
        $form = <span class="hljs-keyword">$this</span>-&gt;createForm(RegistrationType::class, <span class="hljs-keyword">new</span> Registration());

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;render(<span class="hljs-string">'AcmeAccountBundle:Account:register.html.twig'</span>, [
            <span class="hljs-string">'form'</span> =&gt; $form-&gt;createView()
        ]);
    }
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-30883910d76986a02b43bd803663a91da46f8c29-2" class="line-number-anchor" /><a href="#line-number-30883910d76986a02b43bd803663a91da46f8c29-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30883910d76986a02b43bd803663a91da46f8c29-3" class="line-number-anchor" /><a href="#line-number-30883910d76986a02b43bd803663a91da46f8c29-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30883910d76986a02b43bd803663a91da46f8c29-4" class="line-number-anchor" /><a href="#line-number-30883910d76986a02b43bd803663a91da46f8c29-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30883910d76986a02b43bd803663a91da46f8c29-5" class="line-number-anchor" /><a href="#line-number-30883910d76986a02b43bd803663a91da46f8c29-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30883910d76986a02b43bd803663a91da46f8c29-6" class="line-number-anchor" /><a href="#line-number-30883910d76986a02b43bd803663a91da46f8c29-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30883910d76986a02b43bd803663a91da46f8c29-7" class="line-number-anchor" /><a href="#line-number-30883910d76986a02b43bd803663a91da46f8c29-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30883910d76986a02b43bd803663a91da46f8c29-8" class="line-number-anchor" /><a href="#line-number-30883910d76986a02b43bd803663a91da46f8c29-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30883910d76986a02b43bd803663a91da46f8c29-9" class="line-number-anchor" /><a href="#line-number-30883910d76986a02b43bd803663a91da46f8c29-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30883910d76986a02b43bd803663a91da46f8c29-10" class="line-number-anchor" /><a href="#line-number-30883910d76986a02b43bd803663a91da46f8c29-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30883910d76986a02b43bd803663a91da46f8c29-11" class="line-number-anchor" /><a href="#line-number-30883910d76986a02b43bd803663a91da46f8c29-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30883910d76986a02b43bd803663a91da46f8c29-12" class="line-number-anchor" /><a href="#line-number-30883910d76986a02b43bd803663a91da46f8c29-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30883910d76986a02b43bd803663a91da46f8c29-13" class="line-number-anchor" /><a href="#line-number-30883910d76986a02b43bd803663a91da46f8c29-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30883910d76986a02b43bd803663a91da46f8c29-14" class="line-number-anchor" /><a href="#line-number-30883910d76986a02b43bd803663a91da46f8c29-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30883910d76986a02b43bd803663a91da46f8c29-15" class="line-number-anchor" /><a href="#line-number-30883910d76986a02b43bd803663a91da46f8c29-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30883910d76986a02b43bd803663a91da46f8c29-16" class="line-number-anchor" /><a href="#line-number-30883910d76986a02b43bd803663a91da46f8c29-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30883910d76986a02b43bd803663a91da46f8c29-17" class="line-number-anchor" /><a href="#line-number-30883910d76986a02b43bd803663a91da46f8c29-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30883910d76986a02b43bd803663a91da46f8c29-18" class="line-number-anchor" /><a href="#line-number-30883910d76986a02b43bd803663a91da46f8c29-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30883910d76986a02b43bd803663a91da46f8c29-19" class="line-number-anchor" /><a href="#line-number-30883910d76986a02b43bd803663a91da46f8c29-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30883910d76986a02b43bd803663a91da46f8c29-20" class="line-number-anchor" /><a href="#line-number-30883910d76986a02b43bd803663a91da46f8c29-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30883910d76986a02b43bd803663a91da46f8c29-21" class="line-number-anchor" /><a href="#line-number-30883910d76986a02b43bd803663a91da46f8c29-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-30883910d76986a02b43bd803663a91da46f8c29-22" class="line-number-anchor" /><a href="#line-number-30883910d76986a02b43bd803663a91da46f8c29-22">22</a></td></tr></table></div></code></pre>
<p>and its template:</p>
<pre class="code-block-table"><code class="html"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="2bdc7fa4cc3ad7e463823599450bb5ede84d10f3"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="2bdc7fa4cc3ad7e463823599450bb5ede84d10f3"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-2bdc7fa4cc3ad7e463823599450bb5ede84d10f3-1" class="line-number-anchor" /><a href="#line-number-2bdc7fa4cc3ad7e463823599450bb5ede84d10f3-1">1</a></td><td class="code-line" rowspan="7">{# src/Acme/AccountBundle/Resources/views/Account/register.html.twig #}

{{ form_start(form, {'action': path('create'), 'method': 'POST'}) }}
    {{ form_widget(form) }}

    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> /&gt;</span>
{{ form_end(form) }}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-2bdc7fa4cc3ad7e463823599450bb5ede84d10f3-2" class="line-number-anchor" /><a href="#line-number-2bdc7fa4cc3ad7e463823599450bb5ede84d10f3-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2bdc7fa4cc3ad7e463823599450bb5ede84d10f3-3" class="line-number-anchor" /><a href="#line-number-2bdc7fa4cc3ad7e463823599450bb5ede84d10f3-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2bdc7fa4cc3ad7e463823599450bb5ede84d10f3-4" class="line-number-anchor" /><a href="#line-number-2bdc7fa4cc3ad7e463823599450bb5ede84d10f3-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2bdc7fa4cc3ad7e463823599450bb5ede84d10f3-5" class="line-number-anchor" /><a href="#line-number-2bdc7fa4cc3ad7e463823599450bb5ede84d10f3-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2bdc7fa4cc3ad7e463823599450bb5ede84d10f3-6" class="line-number-anchor" /><a href="#line-number-2bdc7fa4cc3ad7e463823599450bb5ede84d10f3-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2bdc7fa4cc3ad7e463823599450bb5ede84d10f3-7" class="line-number-anchor" /><a href="#line-number-2bdc7fa4cc3ad7e463823599450bb5ede84d10f3-7">7</a></td></tr></table></div></code></pre>
<p>Finally, create the controller which handles the form submission.  This performs
the validation and saves the data into MongoDB:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="eef3167950e99fb8a29fea6dbd305db022026fab"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="eef3167950e99fb8a29fea6dbd305db022026fab"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-eef3167950e99fb8a29fea6dbd305db022026fab-1" class="line-number-anchor" /><a href="#line-number-eef3167950e99fb8a29fea6dbd305db022026fab-1">1</a></td><td class="code-line" rowspan="19"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createAction</span><span class="hljs-params">(DocumentManager $dm, Request $request)</span>
</span>{
    $form = <span class="hljs-keyword">$this</span>-&gt;createForm(RegistrationType::class, <span class="hljs-keyword">new</span> Registration());

    $form-&gt;handleRequest($request);

    <span class="hljs-keyword">if</span> ($form-&gt;isSubmitted() &amp;&amp; $form-&gt;isValid()) {
        $registration = $form-&gt;getData();

        $dm-&gt;persist($registration-&gt;getUser());
        $dm-&gt;flush();

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;redirect(...);
    }

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;render(<span class="hljs-string">'AcmeAccountBundle:Account:register.html.twig'</span>, [
        <span class="hljs-string">'form'</span> =&gt; $form-&gt;createView()
    ]);
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-eef3167950e99fb8a29fea6dbd305db022026fab-2" class="line-number-anchor" /><a href="#line-number-eef3167950e99fb8a29fea6dbd305db022026fab-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eef3167950e99fb8a29fea6dbd305db022026fab-3" class="line-number-anchor" /><a href="#line-number-eef3167950e99fb8a29fea6dbd305db022026fab-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eef3167950e99fb8a29fea6dbd305db022026fab-4" class="line-number-anchor" /><a href="#line-number-eef3167950e99fb8a29fea6dbd305db022026fab-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eef3167950e99fb8a29fea6dbd305db022026fab-5" class="line-number-anchor" /><a href="#line-number-eef3167950e99fb8a29fea6dbd305db022026fab-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eef3167950e99fb8a29fea6dbd305db022026fab-6" class="line-number-anchor" /><a href="#line-number-eef3167950e99fb8a29fea6dbd305db022026fab-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eef3167950e99fb8a29fea6dbd305db022026fab-7" class="line-number-anchor" /><a href="#line-number-eef3167950e99fb8a29fea6dbd305db022026fab-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eef3167950e99fb8a29fea6dbd305db022026fab-8" class="line-number-anchor" /><a href="#line-number-eef3167950e99fb8a29fea6dbd305db022026fab-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eef3167950e99fb8a29fea6dbd305db022026fab-9" class="line-number-anchor" /><a href="#line-number-eef3167950e99fb8a29fea6dbd305db022026fab-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eef3167950e99fb8a29fea6dbd305db022026fab-10" class="line-number-anchor" /><a href="#line-number-eef3167950e99fb8a29fea6dbd305db022026fab-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eef3167950e99fb8a29fea6dbd305db022026fab-11" class="line-number-anchor" /><a href="#line-number-eef3167950e99fb8a29fea6dbd305db022026fab-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eef3167950e99fb8a29fea6dbd305db022026fab-12" class="line-number-anchor" /><a href="#line-number-eef3167950e99fb8a29fea6dbd305db022026fab-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eef3167950e99fb8a29fea6dbd305db022026fab-13" class="line-number-anchor" /><a href="#line-number-eef3167950e99fb8a29fea6dbd305db022026fab-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eef3167950e99fb8a29fea6dbd305db022026fab-14" class="line-number-anchor" /><a href="#line-number-eef3167950e99fb8a29fea6dbd305db022026fab-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eef3167950e99fb8a29fea6dbd305db022026fab-15" class="line-number-anchor" /><a href="#line-number-eef3167950e99fb8a29fea6dbd305db022026fab-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eef3167950e99fb8a29fea6dbd305db022026fab-16" class="line-number-anchor" /><a href="#line-number-eef3167950e99fb8a29fea6dbd305db022026fab-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eef3167950e99fb8a29fea6dbd305db022026fab-17" class="line-number-anchor" /><a href="#line-number-eef3167950e99fb8a29fea6dbd305db022026fab-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eef3167950e99fb8a29fea6dbd305db022026fab-18" class="line-number-anchor" /><a href="#line-number-eef3167950e99fb8a29fea6dbd305db022026fab-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-eef3167950e99fb8a29fea6dbd305db022026fab-19" class="line-number-anchor" /><a href="#line-number-eef3167950e99fb8a29fea6dbd305db022026fab-19">19</a></td></tr></table></div></code></pre>
<p>That's it! Your form now validates, and allows you to save the <code>User</code>
object to MongoDB.</p>

</div>
</div>

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                    <footer class="footer">
                <div class="container">
                    <ul class="list-inline">
                        <li class="list-inline-item"><a href="/projects.html">Projects</a></li>
                        <li class="list-inline-item"><a href="/partners.html">Partners</a></li>
                        <li class="list-inline-item"><a href="/sponsorship.html">Sponsorship</a></li>
                        <li class="list-inline-item"><a href="/community/index.html">Community</a></li>
                        <li class="list-inline-item"><a href="/blog/index.html">Blog</a></li>
                        <li class="list-inline-item"><a href="/events.html">Events</a></li>
                        <li class="list-inline-item"><a href="/consulting.html">Consulting</a></li>
                    </ul>
                </div>
            </footer>
        
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?2dce55"
                            integrity="sha384-ewravqv7qS2TQHo4lOtEo1UUYMkA7D/4cwiRS5bzwVRRJHkebpC447VV85tL38Yh"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'doctrine-mongodb-bundle';
            var versionSlug = 'latest';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search DoctrineMongoDBBundle 4.0'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            </body>
</html>
