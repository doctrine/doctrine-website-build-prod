<!DOCTYPE html>
<html>
    <head>
        <title>Creating a Registration Form - Doctrine Doctrine MongoDB Bundle (DoctrineMongoDBBundle)</title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine Doctrine MongoDB Bundle Documentation: Creating a Registration Form ">

        <meta name="keywords" content="persistence,mongodb,symfony,documentation,creating,a,registration,form">

                    <meta name="robots" content="index, follow">
        
        
                    <link rel="canonical" href="https://www.doctrine-project.org/projects/doctrine-mongodb-bundle/en/4.4/cookbook/registration_form.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?15a855"
                        integrity="sha384-IVdylBzDQpFJ+EmdH6hsr98Htg0t1rrKj99U9d2vkDI1YrWNS7+OZ+Ti5KHXx+3r"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/projects/doctrine-mongodb-bundle/en/4.2/cookbook/registration_form.html" />
        <meta property="og:title" content="Creating a Registration Form - Doctrine Doctrine MongoDB Bundle (DoctrineMongoDBBundle)" />
        <meta property="og:description" content="Doctrine Doctrine MongoDB Bundle Documentation: Creating a Registration Form " />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine Doctrine MongoDB Bundle",
            "description": "Creating a Registration Form",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://www.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar stop-war-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                 <a href="/stop-war.html">ðŸ‡ºðŸ‡¦ UKRAINE NEEDS YOUR HELP NOW!</a>
            </nav>

            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/annotations.html">Annotations</a>
                                                                    <a class="dropdown-item" href="/projects/cache.html">Cache</a>
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/reflection.html">Reflection</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                    <a class="dropdown-item" href="/projects/skeleton-mapper.html">Skeleton Mapper</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/team/maintainers.html">Maintainers</a>
                                <a class="dropdown-item" href="/team/contributors.html">Contributors</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/events.html">Events</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/consulting.html">Consulting</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/DoctrineMongoDBBundle/edit/4.2.x/Resources/doc/cookbook/registration_form.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>

                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        <div class="toc"><ul><li id="index-html-doctrinemongodbbundle" class="toc-item"><a href="../index.html#doctrinemongodbbundle">DoctrineMongoDBBundle</a><ul><li id="index-html-doctrine-extensions-timestampable-sluggable-etc" class="toc-item"><a href="../index.html#doctrine-extensions-timestampable-sluggable-etc">Doctrine Extensions: Timestampable, Sluggable, etc.</a></li></ul></li><li id="form-validation-html-form-validation" class="toc-item"><a href="../form_validation.html#form-validation">Form & Validation</a><ul><li id="form-validation-html-documenttype" class="toc-item"><a href="../form_validation.html#documenttype">DocumentType</a></li><li id="form-validation-html-unique-constraint" class="toc-item"><a href="../form_validation.html#unique-constraint">Unique constraint</a></li></ul></li><li id="console-html-console-commands" class="toc-item"><a href="../console.html#console-commands">Console Commands</a></li><li id="registration-form-html-creating-a-registration-form" class="toc-item"><a href="registration_form.html#creating-a-registration-form">Creating a Registration Form</a><ul><li id="registration-form-html-the-user-model" class="toc-item"><a href="registration_form.html#the-user-model">The User Model</a></li><li id="registration-form-html-create-a-form-for-the-model" class="toc-item"><a href="registration_form.html#create-a-form-for-the-model">Create a Form for the Model</a></li><li id="registration-form-html-embedding-the-user-form-into-a-registration-form" class="toc-item"><a href="registration_form.html#embedding-the-user-form-into-a-registration-form">Embedding the User form into a Registration Form</a></li><li id="registration-form-html-handling-the-form-submission" class="toc-item"><a href="registration_form.html#handling-the-form-submission">Handling the Form Submission</a></li></ul></li><li id="security-bundle-html-securitybundle-integration" class="toc-item"><a href="../security_bundle.html#securitybundle-integration">SecurityBundle integration</a></li><li id="config-html-configuration" class="toc-item"><a href="../config.html#configuration">Configuration</a><ul><li id="config-html-sample-configuration" class="toc-item"><a href="../config.html#sample-configuration">Sample Configuration</a></li><li id="config-html-mapping-configuration" class="toc-item"><a href="../config.html#mapping-configuration">Mapping Configuration</a></li><li id="config-html-custom-types" class="toc-item"><a href="../config.html#custom-types">Custom Types</a></li><li id="config-html-filters" class="toc-item"><a href="../config.html#filters">Filters</a></li><li id="config-html-multiple-connections" class="toc-item"><a href="../config.html#multiple-connections">Multiple Connections</a></li><li id="config-html-connecting-to-a-pool-of-mongodb-servers-on-1-connection" class="toc-item"><a href="../config.html#connecting-to-a-pool-of-mongodb-servers-on-1-connection">Connecting to a pool of mongodb servers on 1 connection</a></li><li id="config-html-using-authentication-on-a-database-level" class="toc-item"><a href="../config.html#using-authentication-on-a-database-level">Using Authentication on a Database Level</a><ul><li id="config-html-specifying-a-context-service" class="toc-item"><a href="../config.html#specifying-a-context-service">Specifying a context service</a></li></ul></li><li id="config-html-full-default-configuration" class="toc-item"><a href="../config.html#full-default-configuration">Full Default Configuration</a></li></ul></li><li id="first-steps-html-first-steps-using-the-odm" class="toc-item"><a href="../first_steps.html#first-steps-using-the-odm">First steps using the ODM</a><ul><li id="first-steps-html-an-introductory-example-a-product" class="toc-item"><a href="../first_steps.html#an-introductory-example-a-product">An Introductory Example: A Product</a><ul><li id="first-steps-html-creating-a-document-class" class="toc-item"><a href="../first_steps.html#creating-a-document-class">Creating a Document Class</a></li><li id="first-steps-html-add-mapping-information" class="toc-item"><a href="../first_steps.html#add-mapping-information">Add Mapping Information</a></li><li id="first-steps-html-persisting-objects-to-mongodb" class="toc-item"><a href="../first_steps.html#persisting-objects-to-mongodb">Persisting Objects to MongoDB</a></li><li id="first-steps-html-fetching-objects-from-mongodb" class="toc-item"><a href="../first_steps.html#fetching-objects-from-mongodb">Fetching Objects from MongoDB</a></li><li id="first-steps-html-updating-an-object" class="toc-item"><a href="../first_steps.html#updating-an-object">Updating an Object</a></li><li id="first-steps-html-deleting-an-object" class="toc-item"><a href="../first_steps.html#deleting-an-object">Deleting an Object</a></li></ul></li><li id="first-steps-html-querying-for-objects" class="toc-item"><a href="../first_steps.html#querying-for-objects">Querying for Objects</a><ul><li id="first-steps-html-using-the-query-builder" class="toc-item"><a href="../first_steps.html#using-the-query-builder">Using the Query Builder</a></li><li id="first-steps-html-custom-repository-classes" class="toc-item"><a href="../first_steps.html#custom-repository-classes">Custom Repository Classes</a></li><li id="first-steps-html-service-repositories" class="toc-item"><a href="../first_steps.html#service-repositories">Service Repositories</a></li></ul></li></ul></li><li id="messenger-html-messenger-integration" class="toc-item"><a href="../messenger.html#messenger-integration">Messenger Integration</a></li><li id="events-html-registering-event-listeners-and-subscribers" class="toc-item"><a href="../events.html#registering-event-listeners-and-subscribers">Registering Event Listeners and Subscribers</a><ul><li id="events-html-event-listeners" class="toc-item"><a href="../events.html#event-listeners">Event Listeners</a></li><li id="events-html-event-subscribers" class="toc-item"><a href="../events.html#event-subscribers">Event Subscribers</a></li></ul></li><li id="installation-html-installation" class="toc-item"><a href="../installation.html#installation">Installation</a><ul><li id="installation-html-install-the-bundle-with-symfony-flex" class="toc-item"><a href="../installation.html#install-the-bundle-with-symfony-flex">Install the bundle with Symfony Flex</a></li><li id="installation-html-install-the-bundle-with-composer" class="toc-item"><a href="../installation.html#install-the-bundle-with-composer">Install the bundle with Composer</a></li><li id="installation-html-enable-the-bundle" class="toc-item"><a href="../installation.html#enable-the-bundle">Enable the Bundle</a></li><li id="installation-html-configuration" class="toc-item"><a href="../installation.html#configuration">Configuration</a></li><li id="installation-html-authentication" class="toc-item"><a href="../installation.html#authentication">Authentication</a></li></ul></li></ul></div>
                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://www.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "DoctrineMongoDBBundle",
            "item": "https://www.doctrine-project.org/projects/doctrine-mongodb-bundle.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://www.doctrine-project.org/projects/doctrine-mongodb-bundle/en/4.2/index.html"
        },                {
            "@type": "ListItem",
            "position": 4,
            "name": "Creating a Registration Form",
            "item": "https://www.doctrine-project.org/projects/doctrine-mongodb-bundle/en/4.2/cookbook/registration_form.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-mongodb-bundle.html">DoctrineMongoDBBundle</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-mongodb-bundle/en/4.2/index.html">Documentation</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Creating a Registration Form</li>
                        </ol>
</nav>
                                    </div>

                    
    <div class="alert caution bg-light-yellow text-dark border">
    <table width="100%">
        <tr>
            <td width="10" class="align-top">
                <i class="fas fa-exclamation-circle text-warning mr-2"></i>
            </td>
            <td><p>You are browsing a version that is no longer maintained.</p></td>
        </tr>
    </table>
</div>

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-mongodb-bundle/en/4.2/cookbook/registration_form.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        4.2.2
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                            
                                                <a class="project-version-switcher dropdown-item" href="/projects/doctrine-mongodb-bundle/en/latest/cookbook/registration_form.html">
                                                    4.5.2

                                                    
                                                                                                            (upcoming)
                                                                                                    </a>
                                                                                            
                                                <a class="project-version-switcher dropdown-item" href="/projects/doctrine-mongodb-bundle/en/4.4/cookbook/registration_form.html">
                                                    4.4.3

                                                                                                            (current)
                                                    
                                                                                                    </a>
                                                                                    
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-mongodb-bundle/en/4.3/cookbook/registration_form.html">4.3</a>
                                                                                            
                                                <a class="dropdown-item active" href="/projects/doctrine-mongodb-bundle/en/4.2/cookbook/registration_form.html">4.2</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-mongodb-bundle/en/4.1/cookbook/registration_form.html">4.1</a>
                                                                                            
                                                <a class="dropdown-item" href="/projects/doctrine-mongodb-bundle/en/4.0/cookbook/registration_form.html">4.0</a>
                                                                                            
                                                <a class="dropdown-item" href="">3.6</a>
                                                                                            
                                                <a class="dropdown-item" href="">3.5</a>
                                                                                            
                                                <a class="dropdown-item" href="">3.4</a>
                                                                                            
                                                <a class="dropdown-item" href="">3.3</a>
                                                                                            
                                                <a class="dropdown-item" href="">3.2</a>
                                                                                            
                                                <a class="dropdown-item" href="">3.1</a>
                                                                                            
                                                <a class="dropdown-item" href="">3.0</a>
                                                                                            
                                                <a class="dropdown-item" href="">2.2</a>
                                                                                            
                                                <a class="dropdown-item" href="">2.1</a>
                                                                                            
                                                <a class="dropdown-item" href="">2.0</a>
                                                                                                                        </div>
                                </div>
                            
                            
<div class="section"><a class="section-anchor" id="creating-a-registration-form" name="creating-a-registration-form"></a><h1 class="section-header"><a href="#creating-a-registration-form">Creating a Registration Form<i class="fas fa-link"></i></a></h1>
<p>Some forms have extra fields whose values don't need to be stored in the
database. In this example, we'll create a registration form with such
field (terms accepted checkbox field) and embed the form that actually
stores the account information. We'll use MongoDB for storing the data.</p>
<div class="section"><a class="section-anchor" id="the-user-model" name="the-user-model"></a><h2 class="section-header"><a href="#the-user-model">The User Model<i class="fas fa-link"></i></a></h2>
<p>We begin this tutorial with the model for a <code>User</code> document:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="9b7dcbd796132402d2ec6ebaa39f248e25aedb63"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="9b7dcbd796132402d2ec6ebaa39f248e25aedb63"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-1" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-1">1</a></td><td class="code-line" rowspan="57"><span class="hljs-comment">// src/Document/User.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Document</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Bundle</span>\<span class="hljs-title">MongoDBBundle</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Constraints</span>\<span class="hljs-title">Unique</span> <span class="hljs-title">as</span> <span class="hljs-title">MongoDBUnique</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ODM</span>\<span class="hljs-title">MongoDB</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">Annotations</span> <span class="hljs-title">as</span> <span class="hljs-title">MongoDB</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Constraints</span> <span class="hljs-title">as</span> <span class="hljs-title">Assert</span>;

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@MongoDB</span>\Document(collection="users")
 * <span class="hljs-doctag">@MongoDBUnique</span>(fields="email")
 */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span>
</span>{
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@MongoDB</span>\Id
     */</span>
    <span class="hljs-keyword">protected</span> $id;

    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@MongoDB</span>\Field(type="string")
     * <span class="hljs-doctag">@Assert</span>\NotBlank()
     * <span class="hljs-doctag">@Assert</span>\Email()
     */</span>
    <span class="hljs-keyword">protected</span> $email;

    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@MongoDB</span>\Field(type="string")
     * <span class="hljs-doctag">@Assert</span>\NotBlank()
     */</span>
    <span class="hljs-keyword">protected</span> $password;

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getEmail</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;email;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setEmail</span><span class="hljs-params">($email)</span>
    </span>{
        <span class="hljs-keyword">$this</span>-&gt;email = $email;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPassword</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;password;
    }

    <span class="hljs-comment">// stupid simple encryption (please don't copy it!)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setPassword</span><span class="hljs-params">($password)</span>
    </span>{
        <span class="hljs-keyword">$this</span>-&gt;password = sha1($password);
    }
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-2" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-3" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-4" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-5" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-6" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-7" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-8" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-9" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-10" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-11" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-12" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-13" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-14" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-15" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-16" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-17" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-18" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-19" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-20" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-21" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-22" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-23" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-24" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-25" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-26" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-27" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-27">27</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-28" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-28">28</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-29" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-29">29</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-30" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-30">30</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-31" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-31">31</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-32" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-32">32</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-33" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-33">33</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-34" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-34">34</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-35" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-35">35</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-36" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-36">36</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-37" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-37">37</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-38" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-38">38</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-39" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-39">39</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-40" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-40">40</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-41" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-41">41</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-42" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-42">42</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-43" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-43">43</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-44" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-44">44</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-45" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-45">45</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-46" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-46">46</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-47" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-47">47</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-48" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-48">48</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-49" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-49">49</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-50" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-50">50</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-51" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-51">51</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-52" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-52">52</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-53" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-53">53</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-54" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-54">54</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-55" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-55">55</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-56" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-56">56</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-57" class="line-number-anchor" /><a href="#line-number-9b7dcbd796132402d2ec6ebaa39f248e25aedb63-57">57</a></td></tr></table></div></code></pre>
<p>This <code>User</code> document contains three fields and two of them (email and
password) should be displayed in the form. The email property must be unique
in the database, so we've added this validation at the top of the class.</p>
<div class="alert note-admonition bg-light-yellow text-dark border"><table width="100%"><tr><td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td><td><p>If you want to integrate this User within the security system, you need
to implement the <code>UserInterface</code> of the <a href="https://symfony.com/doc/current/security.html">Security component</a>.</p>
</td></tr></table></div>
</div>
<div class="section"><a class="section-anchor" id="create-a-form-for-the-model" name="create-a-form-for-the-model"></a><h2 class="section-header"><a href="#create-a-form-for-the-model">Create a Form for the Model<i class="fas fa-link"></i></a></h2>
<p>Next, create the form for the <code>User</code> model:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="46e76e0ce8250ef7aba79c0f162a10a4e757e52d"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="46e76e0ce8250ef7aba79c0f162a10a4e757e52d"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-1" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-1">1</a></td><td class="code-line" rowspan="30"><span class="hljs-comment">// src/Form/Type/UserType.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Type</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Document</span>\<span class="hljs-title">User</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">AbstractType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">EmailType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">PasswordType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">RepeatedType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">FormBuilderInterface</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">OptionsResolver</span>\<span class="hljs-title">OptionsResolver</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserType</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractType</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">buildForm</span><span class="hljs-params">(FormBuilderInterface $builder, array $options)</span>
    </span>{
        $builder-&gt;add(<span class="hljs-string">'email'</span>, EmailType::class);
        $builder-&gt;add(<span class="hljs-string">'password'</span>, RepeatedType::class, [
           <span class="hljs-string">'first_name'</span> =&gt; <span class="hljs-string">'password'</span>,
           <span class="hljs-string">'second_name'</span> =&gt; <span class="hljs-string">'confirm'</span>,
           <span class="hljs-string">'type'</span> =&gt; PasswordType::class
        ]);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">configureOptions</span><span class="hljs-params">(OptionsResolver $resolver)</span>
    </span>{
        $resolver-&gt;setDefaults([
            <span class="hljs-string">'data_class'</span> =&gt; User::class,
        ]);
    }
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-2" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-3" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-4" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-5" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-6" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-7" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-8" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-9" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-10" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-11" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-12" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-13" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-14" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-15" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-16" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-17" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-18" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-19" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-20" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-21" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-22" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-23" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-24" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-25" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-26" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-27" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-27">27</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-28" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-28">28</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-29" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-29">29</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-30" class="line-number-anchor" /><a href="#line-number-46e76e0ce8250ef7aba79c0f162a10a4e757e52d-30">30</a></td></tr></table></div></code></pre>
<p>We added two fields: email and password (repeated to confirm the entered
password). The <code>data_class</code> option tells the form the name of the class
that holds the underlying data (i.e. your <code>User</code> document).</p>
<div class="alert tip-admonition bg-success text-light border"><table width="100%"><tr><td width="10" class="align-top"><i class="fas fa-question-circle mr-2"></i></td><td><p>To explore more things about the Form component, read its <a href="https://symfony.com/doc/current/forms.html">documentation</a>.</p>
</td></tr></table></div>
</div>
<div class="section"><a class="section-anchor" id="embedding-the-user-form-into-a-registration-form" name="embedding-the-user-form-into-a-registration-form"></a><h2 class="section-header"><a href="#embedding-the-user-form-into-a-registration-form">Embedding the User form into a Registration Form<i class="fas fa-link"></i></a></h2>
<p>The form that you'll use for the registration page is not the same as the
form used to modify the <code>User</code> (i.e. <code>UserType</code>). The registration
form will contain further fields like accept the terms, whose value won't be
stored in the database.</p>
<p>In other words, create a second form for registration, which embeds the <code>User</code>
form and adds the extra field needed:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="61a67459ee5a3009eea176c08e1174d75ee3f05f"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="61a67459ee5a3009eea176c08e1174d75ee3f05f"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-1" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-1">1</a></td><td class="code-line" rowspan="39"><span class="hljs-comment">// src/Form/Model/Registration.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Model</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Document</span>\<span class="hljs-title">User</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Constraints</span> <span class="hljs-title">as</span> <span class="hljs-title">Assert</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Registration</span>
</span>{
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@Assert</span>\Type(type="App\Document\User")
     */</span>
    <span class="hljs-keyword">protected</span> $user;

    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@Assert</span>\NotBlank()
     * <span class="hljs-doctag">@Assert</span>\IsTrue()
     */</span>
    <span class="hljs-keyword">protected</span> $termsAccepted;

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setUser</span><span class="hljs-params">(User $user)</span>
    </span>{
        <span class="hljs-keyword">$this</span>-&gt;user = $user;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUser</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;user;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTermsAccepted</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;termsAccepted;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setTermsAccepted</span><span class="hljs-params">($termsAccepted)</span>
    </span>{
        <span class="hljs-keyword">$this</span>-&gt;termsAccepted = (bool) $termsAccepted;
    }
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-2" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-3" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-4" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-5" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-6" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-7" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-8" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-9" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-10" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-11" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-12" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-13" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-14" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-15" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-16" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-17" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-18" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-19" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-20" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-21" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-22" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-23" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-24" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-25" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-26" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-27" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-27">27</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-28" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-28">28</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-29" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-29">29</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-30" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-30">30</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-31" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-31">31</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-32" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-32">32</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-33" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-33">33</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-34" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-34">34</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-35" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-35">35</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-36" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-36">36</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-37" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-37">37</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-38" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-38">38</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-39" class="line-number-anchor" /><a href="#line-number-61a67459ee5a3009eea176c08e1174d75ee3f05f-39">39</a></td></tr></table></div></code></pre>
<p>Next, create the form for this <code>Registration</code> model:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="85b1f643caa60e24ec62b4f3d779604a9b4a840c"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="85b1f643caa60e24ec62b4f3d779604a9b4a840c"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-1" class="line-number-anchor" /><a href="#line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-1">1</a></td><td class="code-line" rowspan="15"><span class="hljs-comment">// src/Form/Type/RegistrationType.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Type</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">AbstractType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">CheckboxType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">FormBuilderInterface</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RegistrationType</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractType</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">buildForm</span><span class="hljs-params">(FormBuilderInterface $builder, array $options)</span>
    </span>{
        $builder-&gt;add(<span class="hljs-string">'user'</span>, UserType::class);
        $builder-&gt;add(<span class="hljs-string">'terms'</span>, CheckboxType::class, [<span class="hljs-string">'property_path'</span> =&gt; <span class="hljs-string">'termsAccepted'</span>]);
    }
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-2" class="line-number-anchor" /><a href="#line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-3" class="line-number-anchor" /><a href="#line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-4" class="line-number-anchor" /><a href="#line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-5" class="line-number-anchor" /><a href="#line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-6" class="line-number-anchor" /><a href="#line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-7" class="line-number-anchor" /><a href="#line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-8" class="line-number-anchor" /><a href="#line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-9" class="line-number-anchor" /><a href="#line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-10" class="line-number-anchor" /><a href="#line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-11" class="line-number-anchor" /><a href="#line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-12" class="line-number-anchor" /><a href="#line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-13" class="line-number-anchor" /><a href="#line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-14" class="line-number-anchor" /><a href="#line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-15" class="line-number-anchor" /><a href="#line-number-85b1f643caa60e24ec62b4f3d779604a9b4a840c-15">15</a></td></tr></table></div></code></pre>
<p>You don't need to use any special method to embed the <code>UserType</code> form.
A form is a field, too - you can add it like any other field, with the
expectation that the corresponding <code>user</code> property will hold an instance
of the class <code>UserType</code>.</p>
</div>
<div class="section"><a class="section-anchor" id="handling-the-form-submission" name="handling-the-form-submission"></a><h2 class="section-header"><a href="#handling-the-form-submission">Handling the Form Submission<i class="fas fa-link"></i></a></h2>
<p>Next, you need a controller to handle the form. Start by creating a
controller that will display the registration form:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="cf05d4459b9f8031bbf6e6c14151f635009f99ec"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="cf05d4459b9f8031bbf6e6c14151f635009f99ec"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-1" class="line-number-anchor" /><a href="#line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-1">1</a></td><td class="code-line" rowspan="20"><span class="hljs-comment">// src/Controller/AccountController.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controller</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Model</span>\<span class="hljs-title">Registration</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">RegistrationType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ODM</span>\<span class="hljs-title">MongoDB</span>\<span class="hljs-title">DocumentManager</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Bundle</span>\<span class="hljs-title">FrameworkBundle</span>\<span class="hljs-title">Controller</span>\<span class="hljs-title">AbstractController</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Response</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AccountController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractController</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">registerAction</span><span class="hljs-params">()</span>
    </span>{
        $form = <span class="hljs-keyword">$this</span>-&gt;createForm(RegistrationType::class, <span class="hljs-keyword">new</span> Registration());

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;render(<span class="hljs-string">'Account/register.html.twig'</span>, [
            <span class="hljs-string">'form'</span> =&gt; $form-&gt;createView()
        ]);
    }
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-2" class="line-number-anchor" /><a href="#line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-3" class="line-number-anchor" /><a href="#line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-4" class="line-number-anchor" /><a href="#line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-5" class="line-number-anchor" /><a href="#line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-6" class="line-number-anchor" /><a href="#line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-7" class="line-number-anchor" /><a href="#line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-8" class="line-number-anchor" /><a href="#line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-9" class="line-number-anchor" /><a href="#line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-10" class="line-number-anchor" /><a href="#line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-11" class="line-number-anchor" /><a href="#line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-12" class="line-number-anchor" /><a href="#line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-13" class="line-number-anchor" /><a href="#line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-14" class="line-number-anchor" /><a href="#line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-15" class="line-number-anchor" /><a href="#line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-16" class="line-number-anchor" /><a href="#line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-17" class="line-number-anchor" /><a href="#line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-18" class="line-number-anchor" /><a href="#line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-19" class="line-number-anchor" /><a href="#line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-20" class="line-number-anchor" /><a href="#line-number-cf05d4459b9f8031bbf6e6c14151f635009f99ec-20">20</a></td></tr></table></div></code></pre>
<p>and its template:</p>
<pre class="code-block-table"><code class="html"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="135eda856ca3a52114132f1d226ac91eae744363"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="135eda856ca3a52114132f1d226ac91eae744363"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-135eda856ca3a52114132f1d226ac91eae744363-1" class="line-number-anchor" /><a href="#line-number-135eda856ca3a52114132f1d226ac91eae744363-1">1</a></td><td class="code-line" rowspan="6">{# templates/Account/register.html.twig #}
{{ form_start(form, {'action': path('create'), 'method': 'POST'}) }}
    {{ form_widget(form) }}

    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> /&gt;</span>
{{ form_end(form) }}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-135eda856ca3a52114132f1d226ac91eae744363-2" class="line-number-anchor" /><a href="#line-number-135eda856ca3a52114132f1d226ac91eae744363-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-135eda856ca3a52114132f1d226ac91eae744363-3" class="line-number-anchor" /><a href="#line-number-135eda856ca3a52114132f1d226ac91eae744363-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-135eda856ca3a52114132f1d226ac91eae744363-4" class="line-number-anchor" /><a href="#line-number-135eda856ca3a52114132f1d226ac91eae744363-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-135eda856ca3a52114132f1d226ac91eae744363-5" class="line-number-anchor" /><a href="#line-number-135eda856ca3a52114132f1d226ac91eae744363-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-135eda856ca3a52114132f1d226ac91eae744363-6" class="line-number-anchor" /><a href="#line-number-135eda856ca3a52114132f1d226ac91eae744363-6">6</a></td></tr></table></div></code></pre>
<p>Finally, create another action in <code>AccountController</code>, which will handle
the form submission - perform its validation and save the User into MongoDB:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="0314b19a10b51240a0fe429383ef5bfba1cdae70"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="0314b19a10b51240a0fe429383ef5bfba1cdae70"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-1" class="line-number-anchor" /><a href="#line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-1">1</a></td><td class="code-line" rowspan="20"><span class="hljs-comment">// src/Controller/AccountController.php</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createAction</span><span class="hljs-params">(DocumentManager $dm, Request $request)</span>
</span>{
    $form = <span class="hljs-keyword">$this</span>-&gt;createForm(RegistrationType::class, <span class="hljs-keyword">new</span> Registration());

    $form-&gt;handleRequest($request);

    <span class="hljs-keyword">if</span> ($form-&gt;isSubmitted() &amp;&amp; $form-&gt;isValid()) {
        $registration = $form-&gt;getData();

        $dm-&gt;persist($registration-&gt;getUser());
        $dm-&gt;flush();

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;redirect(...);
    }

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;render(<span class="hljs-string">'Account/register.html.twig'</span>, [
        <span class="hljs-string">'form'</span> =&gt; $form-&gt;createView()
    ]);
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-2" class="line-number-anchor" /><a href="#line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-3" class="line-number-anchor" /><a href="#line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-4" class="line-number-anchor" /><a href="#line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-5" class="line-number-anchor" /><a href="#line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-6" class="line-number-anchor" /><a href="#line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-7" class="line-number-anchor" /><a href="#line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-8" class="line-number-anchor" /><a href="#line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-9" class="line-number-anchor" /><a href="#line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-10" class="line-number-anchor" /><a href="#line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-11" class="line-number-anchor" /><a href="#line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-12" class="line-number-anchor" /><a href="#line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-13" class="line-number-anchor" /><a href="#line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-14" class="line-number-anchor" /><a href="#line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-15" class="line-number-anchor" /><a href="#line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-16" class="line-number-anchor" /><a href="#line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-17" class="line-number-anchor" /><a href="#line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-18" class="line-number-anchor" /><a href="#line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-19" class="line-number-anchor" /><a href="#line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-20" class="line-number-anchor" /><a href="#line-number-0314b19a10b51240a0fe429383ef5bfba1cdae70-20">20</a></td></tr></table></div></code></pre>
<p>That's it! Your form now validates sent data and allows you to save
the <code>User</code> object to MongoDB.</p>

</div>
</div>

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                    <footer class="footer">
                <div class="container">
                    <ul class="list-inline">
                        <li class="list-inline-item"><a href="/projects.html">Projects</a></li>
                        <li class="list-inline-item"><a href="/partners.html">Partners</a></li>
                        <li class="list-inline-item"><a href="/sponsorship.html">Sponsorship</a></li>
                        <li class="list-inline-item"><a href="/community/index.html">Community</a></li>
                        <li class="list-inline-item"><a href="/blog/index.html">Blog</a></li>
                        <li class="list-inline-item"><a href="/events.html">Events</a></li>
                        <li class="list-inline-item"><a href="/consulting.html">Consulting</a></li>
                    </ul>
                </div>
            </footer>
        
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?161e55"
                            integrity="sha384-ZQ6qlvTBtfiU76YxxALyPv3/HvMipQbIgpk6risK+vIGd/IMwfA2/e+ztgwPiLOj"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'doctrine-mongodb-bundle';
            var versionSlug = '4.2';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search DoctrineMongoDBBundle 4.2'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            </body>
</html>
