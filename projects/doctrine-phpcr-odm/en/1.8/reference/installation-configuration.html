<!DOCTYPE html>
<html>
    <head>
        <title>        Installation - Doctrine PHPCR ODM
    </title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine PHPCR ODM Documentation: Installation ">

        <meta name="keywords" content="                    php,content,odm,data,mapper,mapping,object,documentation,installation
    ">

                    <meta name="robots" content="index, follow">
        
        
                    <link rel="canonical" href="https://www.doctrine-project.org/projects/doctrine-phpcr-odm/en/latest/reference/installation-configuration.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?9cdf7c"
                        integrity="sha384-5h/0UfqMSMxW3p7/1/qyk7097ag/ba4tVnSliH/Ya6HzNi5cU6qqSJimrKcIMsQ5"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/projects/doctrine-phpcr-odm/en/1.8/reference/installation-configuration.html" />
        <meta property="og:title" content="        Installation - Doctrine PHPCR ODM
    " />
        <meta property="og:description" content="Doctrine PHPCR ODM Documentation: Installation " />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine PHPCR ODM",
            "description": "Installation",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://www.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/sponsorship.html">Sponsorship</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/phpcr-odm/edit//docs/en/reference/installation-configuration.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        

            <div class="toc">
    <ul class="menu-level">
    <li class="toc-item">
    <a href="annotations-mapping.html#annotation-mapping">Annotation Mapping</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="annotations-mapping.html#note-on-usage">Note on usage</a>


</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#document">Document</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="annotations-mapping.html#document">@Document</a>


</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#mappedsuperclass">@MappedSuperclass</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#mapping-fields">Mapping Fields</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="annotations-mapping.html#field">@Field</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#hierarchy">Hierarchy</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="annotations-mapping.html#child">@Child</a>


</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#children">@Children</a>


</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#depth">@Depth</a>


</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#parentdocument">@ParentDocument</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#identification">Identification</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="annotations-mapping.html#id">@Id</a>


</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#nodename">@Nodename</a>


</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#uuid">@Uuid</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#lifcycle-callbacks">Lifcycle callbacks</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="annotations-mapping.html#postload">@PostLoad</a>


</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#postpersist">@PostPersist</a>


</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#postremove">@PostRemove</a>


</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#postupdate">@PostUpdate</a>


</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#prepersist">@PrePersist</a>


</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#preremove">@PreRemove</a>


</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#preupdate">@PreUpdate</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#phpcr">PHPCR</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="annotations-mapping.html#node">@Node</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#references">References</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="annotations-mapping.html#referencemany">@ReferenceMany</a>


</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#referenceone">@ReferenceOne</a>


</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#referrers">@Referrers</a>


</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#mixedreferrers">@MixedReferrers</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#translation">Translation</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="annotations-mapping.html#locale">@Locale</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#versioning">Versioning</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="annotations-mapping.html#versioncreated">@VersionCreated</a>


</li>
            <li class="toc-item">
    <a href="annotations-mapping.html#versionname">@VersionName</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="architecture.html#architecture">Architecture</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="architecture.html#doctrine-phpcr-odm-packages">Doctrine PHPCR-ODM Packages</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="architecture.html#content-tree-not-tables">Content tree, not tables</a>


</li>
            <li class="toc-item">
    <a href="architecture.html#additional-core-features">Additional core features</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="association-mapping.html#association-mapping">Association Mapping</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="association-mapping.html#hierarchy-mappings">Hierarchy mappings</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="association-mapping.html#child-restriction">Child restriction</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="association-mapping.html#references">References</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="association-mapping.html#referenceable-documents">Referenceable documents</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#reference-other-documents">Reference other documents</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#referrers-to-inverse-the-reference-relation">Referrers to inverse the reference relation</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#mixedreferrers">MixedReferrers</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="association-mapping.html#transitive-persistence-cascade-operations">Transitive persistence / Cascade Operations</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="association-mapping.html#persistence-by-reachability-cascade-persist">Persistence by Reachability: Cascade Persist</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="association-mapping.html#collections">Collections</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="association-mapping.html#initializing-collections">Initializing Collections</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#new-collections-after-flushing">New Collections after Flushing</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="attributes-mapping.html#attributes-mapping">Attributes Mapping</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="attributes-mapping.html#note-on-usage">Note on usage</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#document">Document</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#document">#[Document]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#mappedsuperclass">#[MappedSuperclass]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#mapping-fields">Mapping Fields</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#field">#[Field]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#hierarchy">Hierarchy</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#child">#[Child]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#children">#[Children]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#depth">#[Depth]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#parentdocument">#[ParentDocument]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#identification">Identification</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#id">#[Id]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#nodename">#[Nodename]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#uuid">#[Uuid]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#lifcycle-callbacks">Lifcycle callbacks</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#postload">#[PostLoad]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#postpersist">#[PostPersist]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#postremove">#[PostRemove]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#postupdate">#[PostUpdate]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#prepersist">#[PrePersist]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#preremove">#[PreRemove]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#preupdate">#[PreUpdate]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#phpcr">PHPCR</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#node">#[Node]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#references">References</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#referencemany">#[ReferenceMany]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#referenceone">#[ReferenceOne]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#referrers">#[Referrers]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#mixedreferrers">#[MixedReferrers]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#translation">Translation</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#locale">#[Locale]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#versioning">Versioning</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#versioncreated">#[VersionCreated]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#versionname">#[VersionName]</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="basic-mapping.html#basic-mapping">Basic Mapping</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="basic-mapping.html#mapping-drivers">Mapping Drivers</a>


</li>
            <li class="toc-item">
    <a href="basic-mapping.html#introduction-to-php-attributes">Introduction to PHP Attributes</a>


</li>
            <li class="toc-item">
    <a href="basic-mapping.html#persistent-classes">Persistent classes</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="basic-mapping.html#specify-a-node-type">Specify a node type</a>


</li>
            <li class="toc-item">
    <a href="basic-mapping.html#specify-a-repository-class">Specify a repository class</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="basic-mapping.html#doctrine-mapping-types">Doctrine Mapping Types</a>


</li>
            <li class="toc-item">
    <a href="basic-mapping.html#property-mapping">Property Mapping</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="basic-mapping.html#mapping-to-a-differently-named-phpcr-property">Mapping to a differently named PHPCR property</a>


</li>
            <li class="toc-item">
    <a href="basic-mapping.html#mapping-multivalue-properties">Mapping multivalue properties</a>


</li>
            <li class="toc-item">
    <a href="basic-mapping.html#summary">Summary</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="basic-mapping.html#identifiers">Identifiers</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="basic-mapping.html#identifier-generation-strategies">Identifier Generation Strategies</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="basic-mapping.html#parent-and-name-strategy-recommended">Parent and name strategy (recommended)</a>


</li>
            <li class="toc-item">
    <a href="basic-mapping.html#assigned-id">Assigned Id</a>


</li>
            <li class="toc-item">
    <a href="basic-mapping.html#repository-strategy">Repository strategy</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="basic-mapping.html#symfony-bundle">Symfony bundle</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="events.html#events">Events</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="events.html#lifecycle-events">Lifecycle Events</a>


</li>
            <li class="toc-item">
    <a href="events.html#event-order-when-moving">Event order when moving</a>


</li>
            <li class="toc-item">
    <a href="events.html#event-order-when-handling-with-translations">Event order when handling with translations</a>


</li>
            <li class="toc-item">
    <a href="events.html#listening-to-events">Listening to events</a>


</li>
            <li class="toc-item">
    <a href="events.html#lifecycle-callbacks">Lifecycle Callbacks</a>


</li>
            <li class="toc-item">
    <a href="events.html#listening-to-lifecycle-events">Listening to Lifecycle Events</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="fetch-depth.html#tuning-the-node-preloading">Tuning the node preloading</a>


</li>
    <li class="toc-item">
    <a href="inheritance-mapping.html#inheritance-mapping">Inheritance Mapping</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="inheritance-mapping.html#document-class-inheritance">Document class inheritance</a>


</li>
                    </ul>
</li>
    <li class="toc-item opened">
    <a href="#installation">Installation</a>

        <ul class="section-level-1 opened-ul ">
            <li class="toc-item">
    <a href="#composer">Composer</a>


</li>
            <li class="toc-item">
    <a href="#phpcr-provider">PHPCR provider</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#install-jackalope-jackrabbit-phcpr-provider">Install Jackalope-Jackrabbit PHCPR provider</a>


</li>
            <li class="toc-item">
    <a href="#install-jackalope-doctrine-dbal-phpcr-provider">Install Jackalope Doctrine DBAL PHPCR provider</a>


</li>
            <li class="toc-item">
    <a href="#install-midgard2-phpcr-provider">Install Midgard2 PHPCR provider</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="#class-loading-with-composer">Class loading with composer</a>


</li>
            <li class="toc-item">
    <a href="#obtaining-an-objectmanager">Obtaining an ObjectManager</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#prepare-the-mapping-driver">Prepare the mapping driver</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#attributes-mapping-driver">Attributes Mapping Driver</a>


</li>
            <li class="toc-item">
    <a href="#xml-mapping-driver">XML Mapping Driver</a>


</li>
            <li class="toc-item">
    <a href="#yml-mapping-driver">YML Mapping Driver</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="#quick-configuration-example">Quick Configuration Example</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="#configuration-options">Configuration Options</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#proxy-directory-required">Proxy Directory (*REQUIRED*)</a>


</li>
            <li class="toc-item">
    <a href="#proxy-namespace-required">Proxy Namespace (*REQUIRED*)</a>


</li>
            <li class="toc-item">
    <a href="#metadata-driver-required">Metadata Driver (*REQUIRED*)</a>


</li>
            <li class="toc-item">
    <a href="#metadata-cache-recommended">Metadata Cache (*RECOMMENDED*)</a>


</li>
            <li class="toc-item">
    <a href="#auto-generating-proxy-classes-optional">Auto-generating Proxy Classes (*OPTIONAL*)</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="#development-vs-production-configuration">Development vs Production Configuration</a>


</li>
            <li class="toc-item">
    <a href="#connection-options">Connection Options</a>


</li>
            <li class="toc-item">
    <a href="#proxy-objects">Proxy Objects</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#reference-proxies">Reference Proxies</a>


</li>
            <li class="toc-item">
    <a href="#generating-proxy-classes">Generating Proxy classes</a>


</li>
            <li class="toc-item">
    <a href="#multiple-metadata-sources">Multiple Metadata Sources</a>


</li>
            <li class="toc-item">
    <a href="#default-repository-optional">Default Repository (*OPTIONAL*)</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="#setting-up-the-console">Setting up the Console</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#register-system-node-types">Register system node types</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="introduction.html#getting-started">Getting Started</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="introduction.html#what-are-documents">What are Documents?</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#an-example-model-document-management">An Example Model: Document Management</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#setup-project">Setup Project</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#building-the-model">Building the model</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#initialize-the-repository">Initialize the repository</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#storing-documents">Storing documents</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#reading-documents">Reading documents</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#tree-traversal">Tree traversal</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#add-references">Add references</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#removing-documents">Removing documents</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#other-helpful-methods-on-the-documentmanager">Other helpful methods on the DocumentManager</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#conclusion">Conclusion</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="multilang.html#multilanguage-support">Multilanguage support</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="multilang.html#philosophy">Philosophy</a>


</li>
            <li class="toc-item">
    <a href="multilang.html#mapping">Mapping</a>


</li>
            <li class="toc-item">
    <a href="multilang.html#interacting-with-translations">Interacting with translations</a>


</li>
            <li class="toc-item">
    <a href="multilang.html#choosing-the-right-translation-strategy">Choosing the right translation strategy</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="multilang.html#implementing-your-own-translation-strategy">Implementing your own translation strategy</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="multilang.html#configure-the-locale-chooser-strategy">Configure the locale chooser strategy</a>


</li>
            <li class="toc-item">
    <a href="multilang.html#full-example">Full Example</a>


</li>
            <li class="toc-item">
    <a href="multilang.html#querying-translated-properties">Querying Translated Properties</a>


</li>
            <li class="toc-item">
    <a href="multilang.html#limitations">Limitations</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="multilang.html#translations-and-references-hierarchy">Translations and references / hierarchy</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="phpcr-access.html#accessing-the-underlying-phpcr-session">Accessing the underlying PHPCR session</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="phpcr-access.html#getting-the-phpcr-session">Getting the PHPCR Session</a>


</li>
            <li class="toc-item">
    <a href="phpcr-access.html#the-node-field-mapping">The Node field mapping</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="query.html#the-query-object">The Query Object</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="query.html#getting-single-results">Getting single results</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query.html#getsingleresult">getSingleResult</a>


</li>
            <li class="toc-item">
    <a href="query.html#getoneornullresult">getOneOrNullResult</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query.html#getting-multiple-results">Getting multiple results</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query.html#getresult">getResult</a>


</li>
            <li class="toc-item">
    <a href="query.html#getphpcrnoderesult">getPhpcrNodeResult</a>


</li>
            <li class="toc-item">
    <a href="query.html#execute">execute</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query.html#hydration-modes">Hydration modes</a>


</li>
            <li class="toc-item">
    <a href="query.html#limiting-results">Limiting results</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="query-builder.html#the-querybuilder">The QueryBuilder</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="query-builder.html#concepts">Concepts</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder.html#leaf-and-factory-nodes">Leaf and Factory Nodes</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#fluent-interface">Fluent Interface</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#types-and-cardinality">Types and Cardinality</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#aliases-and-fields">Aliases and fields</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder.html#retrieving-a-query-builder-instance">Retrieving a query builder instance</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder.html#via-the-document-manager">Via the document manager</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#via-a-document-repository">Via a document repository</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder.html#working-with-the-querybuilder">Working with the QueryBuilder</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder.html#specifying-the-document-source-from">Specifying the document source - from</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder.html#from-single-source">From Single Source</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#from-joined-source">From Joined Source</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#joining-with-an-association">Joining with an Association</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder.html#selecting-specific-properties-select">Selecting specific properties - select</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#limiting-the-number-of-results">Limiting the number of results</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#specifying-selection-criteria">Specifying selection criteria</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#ordering-results">Ordering results</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#querying-translated-documents">Querying translated documents</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder.html#additional-notes">Additional notes</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder.html#querying-multivalue-fields">Querying multivalue fields</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#using-the-query-builder-in-tests">Using the Query Builder in Tests</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="query-builder-reference.html#query-builder-reference">Query Builder Reference</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="query-builder-reference.html#reference">Reference</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder-reference.html#node-constraintandx">Node: ConstraintAndx</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-constraintcomparison">Node: ConstraintComparison</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-constraintfactory">Node: ConstraintFactory</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder-reference.html#andx">-&gt;andX</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#orx">-&gt;orX</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#fieldisset">-&gt;fieldIsset</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#fulltextsearch">-&gt;fullTextSearch</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#same">-&gt;same</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#descendant">-&gt;descendant</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#child">-&gt;child</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#eq">-&gt;eq</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#neq">-&gt;neq</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#lt">-&gt;lt</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#lte">-&gt;lte</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#gt">-&gt;gt</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#gte">-&gt;gte</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#like">-&gt;like</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-constraintnot">Node: ConstraintNot</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-constraintorx">Node: ConstraintOrx</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-from">Node: From</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-operanddynamicfactory">Node: OperandDynamicFactory</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder-reference.html#fulltextsearchscore">-&gt;fullTextSearchScore</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#length">-&gt;length</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#lowercase">-&gt;lowerCase</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#uppercase">-&gt;upperCase</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#localname">-&gt;localName</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#name">-&gt;name</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#field">-&gt;field</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-operanddynamiclowercase">Node: OperandDynamicLowerCase</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-operanddynamicuppercase">Node: OperandDynamicUpperCase</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-operandfactory">Node: OperandFactory</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder-reference.html#parameter">-&gt;parameter</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#literal">-&gt;literal</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-operandstaticfactory">Node: OperandStaticFactory</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-orderby">Node: OrderBy</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder-reference.html#asc">-&gt;asc</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#desc">-&gt;desc</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-orderbyadd">Node: OrderByAdd</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-ordering">Node: Ordering</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-querybuilder">Node: QueryBuilder</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder-reference.html#where">-&gt;where</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#andwhere">-&gt;andWhere</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#orwhere">-&gt;orWhere</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#from">-&gt;from</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#fromdocument">-&gt;fromDocument</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#addjoinleftouter">-&gt;addJoinLeftOuter</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#addjoinrightouter">-&gt;addJoinRightOuter</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#addjoininner">-&gt;addJoinInner</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#select">-&gt;select</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#addselect">-&gt;addSelect</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#orderby">-&gt;orderBy</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#addorderby">-&gt;addOrderBy</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-select">Node: Select</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-selectadd">Node: SelectAdd</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-sourcejoin">Node: SourceJoin</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-sourcejoinconditionfactory">Node: SourceJoinConditionFactory</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder-reference.html#descendant">-&gt;descendant</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#equi">-&gt;equi</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#child">-&gt;child</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#same">-&gt;same</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-sourcejoinleft">Node: SourceJoinLeft</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-sourcejoinright">Node: SourceJoinRight</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-where">Node: Where</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-whereand">Node: WhereAnd</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-whereor">Node: WhereOr</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="tools.html#tools">Tools</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="tools.html#doctrine-console">Doctrine Console</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="tools.html#command-overview">Command Overview</a>


</li>
            <li class="toc-item">
    <a href="tools.html#getting-documentation-of-a-command">Getting documentation of a command</a>


</li>
            <li class="toc-item">
    <a href="tools.html#phpcr-implementation-specific-commands">PHPCR implementation specific commands</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="tools.html#jackrabbit-specific-commands">Jackrabbit specific commands</a>


</li>
            <li class="toc-item">
    <a href="tools.html#doctrine-dbal-specific-commands">Doctrine DBAL specific commands</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="tools.html#register-system-node-types">Register system node types</a>


</li>
            <li class="toc-item">
    <a href="tools.html#adding-your-own-commands">Adding your own commands</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="transactions.html#transactions-1">Transactions</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="transactions.html#transactional">transactional()</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="versioning.html#versioning-support">Versioning support</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="versioning.html#philosophy">Philosophy</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="versioning.html#phpcr-odm">PHPCR-ODM</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="versioning.html#mappings">Mappings</a>


</li>
            <li class="toc-item">
    <a href="versioning.html#interacting-with-versions">Interacting with versions</a>


</li>
            <li class="toc-item">
    <a href="versioning.html#full-example">Full Example</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="working-with-objects.html#working-with-objects">Working with Objects</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="working-with-objects.html#documents-and-the-identity-map">Documents and the Identity Map</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#document-graph-traversal">Document Graph Traversal</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#persisting-documents">Persisting documents</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#removing-documents">Removing documents</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#detaching-documents">Detaching documents</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#merging-documents">Merging documents</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#synchronization-with-the-repository">Synchronization with the Repository</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="working-with-objects.html#effects-of-repository-and-unitofwork-being-out-of-sync">Effects of Repository and UnitOfWork being Out-Of-Sync</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#synchronizing-new-and-managed-documents">Synchronizing New and Managed Documents</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#synchronizing-removed-documents">Synchronizing Removed Documents</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#the-size-of-a-unit-of-work">The size of a Unit of Work</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#the-cost-of-flushing">The cost of flushing</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#direct-access-to-a-unit-of-work">Direct Access to a Unit of Work</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#document-state">Document State</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="working-with-objects.html#querying">Querying</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="working-with-objects.html#by-primary-key">By Primary Key</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#by-simple-conditions">By Simple Conditions</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#by-lazy-loading">By Lazy Loading</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#by-query-builder">By Query Builder</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#by-native-queries">By Native Queries</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#custom-repositories">Custom Repositories</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="xml-mapping.html#xml-mapping">XML Mapping</a>


</li>
    </ul>
</div>
    

                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://www.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "PHPCR ODM",
            "item": "https://www.doctrine-project.org/projects/phpcr-odm.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://www.doctrine-project.org/projects/doctrine-phpcr-odm/en/1.8/index.html"
        },                {
            "@type": "ListItem",
            "position": 4,
            "name": "Installation",
            "item": "https://www.doctrine-project.org/projects/doctrine-phpcr-odm/en/1.8/reference/installation-configuration.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/phpcr-odm.html">PHPCR ODM</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-phpcr-odm/en/1.8/index.html">Documentation</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Installation</li>
                        </ol>
</nav>
                                    </div>

                    
    <div class="alert caution bg-light-yellow text-dark border">
    <table width="100%">
        <tr>
            <td width="10" class="align-top">
                <i class="fas fa-exclamation-circle text-warning mr-2"></i>
            </td>
            <td><p>You are browsing a version that is no longer maintained.</p></td>
        </tr>
    </table>
</div>

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-phpcr-odm/en/1.8/reference/installation-configuration.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        1.8.0
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-phpcr-odm/en/latest/reference/installation-configuration.html">
                                                        2.0.1

                                                                                                                    (current)
                                                        
                                                                                                            </a>
                                                                                                                                                                                                                                
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-phpcr-odm/en/2.1/reference/installation-configuration.html">2.1</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item active" href="/projects/doctrine-phpcr-odm/en/1.8/reference/installation-configuration.html">1.8</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-phpcr-odm/en/1.7/reference/installation-configuration.html">1.7</a>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </div>
                                </div>
                            
                            

            <div class="section" id="installation">
            <h1 class="section-header ">
    <a href="#installation">
        Installation
        <i class="fas fa-link"></i>
    </a>
</h1>
            
    <p>If you use the Doctrine PHPCR ODM <strong>Symfony Bundle</strong>, please look into the
<a href="http://symfony.com/doc/master/cmf/cookbook/installing_configuring_doctrine_phpcr_odm.html">Tutorial to install the DoctrinePHPCRBundle</a>.
This documentation explains how to use PHPCR ODM outside of symfony, which requires some
manual initialization.</p>

            <div class="section" id="composer">
            <h2 class="section-header ">
    <a href="#composer">
        Composer
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Doctrine PHPCR-ODM should be installed through composer. The reason is that it depends on
quite a few other libraries which in turn require other libraries.
If you really can&#039;t use composer in a project, we recommend you do a test installation of
phpcr-odm with composer to see the dependencies and add manually everything from vendor/ to
your project.</p>

            
    <p><a href="http://www.getcomposer.org">Composer</a> is the recommended installation method for Doctrine PHPCR-ODM.
Define the following requirement in your <code>composer.json</code> file:</p>

                <pre class="code-block-table" id="e47496dd9e9d113397b6998a84019761fa65e669"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="e47496dd9e9d113397b6998a84019761fa65e669"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-javascript">{</code><code class="line language-javascript">    <span class="hljs-string">"require"</span>: {</code><code class="line language-javascript">        <span class="hljs-string">"doctrine/phpcr-odm"</span>: <span class="hljs-string">"*"</span></code><code class="line language-javascript">    }</code><code class="line language-javascript">}</code><code class="empty"></code></pre>
            
    <p>Then run <code>composer install</code> and you are done.</p>

    </div>
            <div class="section" id="phpcr-provider">
            <h2 class="section-header ">
    <a href="#phpcr-provider">
        PHPCR provider
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Doctrine PHPCR-ODM uses the <a href="http://phpcr.github.io/">PHP Content Repository API</a> for
storage. You can force one of the available providers in your projects composer.json file
&quot;require&quot; section by specifying one of the &quot;suggest&quot; libraries in the phpcr-odm composer.json</p>

            
    <p>Each of the providers requires some additional setup. The following sections will briefly list
how to set each of them up. Please refer to the documentation of the provider you choose for details.</p>

            <div class="section" id="install-jackalope-jackrabbit-phcpr-provider">
            <h3 class="section-header ">
    <a href="#install-jackalope-jackrabbit-phcpr-provider">
        Install Jackalope-Jackrabbit PHCPR provider
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Jackalope-Jackrabbit uses the Java backend jackrabbit for storage.</p>

            
    <p>Follow <a href="http://github.com/jackalope/jackalope/wiki/Running-a-jackrabbit-server">Running Jackrabbit Server</a>
from the Jackalope wiki to have the storage backend.</p>

            
    <p>Bootstrap will roughly look like this:</p>

                <div class="console">
        <pre><code class="console">$workspace = &#039;default&#039;;
$user = &#039;admin&#039;;
$pass = &#039;admin&#039;;
$repository = \Jackalope\RepositoryFactoryJackrabbit::getRepository([
    &#039;jackalope.jackrabbit_uri&#039; =&gt; &#039;http://localhost:8080/server&#039;,
]);
$credentials = new \PHPCR\SimpleCredentials($user, $pass);
$session = $repository-&gt;login($credentials, $workspace);


</code></pre>
    </div>

    </div>
            <div class="section" id="install-jackalope-doctrine-dbal-phpcr-provider">
            <h3 class="section-header ">
    <a href="#install-jackalope-doctrine-dbal-phpcr-provider">
        Install Jackalope Doctrine DBAL PHPCR provider
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Jackalope Doctrine DBAL maps PHPCR to relational databases. It should support all
databases that Doctrine DBAL can support.</p>

            
    <p>Create the database as described in the documentation of
<a href="http://github.com/jackalope/jackalope-doctrine-dbal">Jackalope Doctrine DBAL</a>.</p>

            
    <p>Bootstrap will roughly look like this when using mysql as storage backend:</p>

                <div class="console">
        <pre><code class="console">$workspace = &#039;default&#039;;
$user = &#039;admin&#039;;
$pass = &#039;admin&#039;;

$params = [
    &#039;driver&#039;    =&gt; &#039;pdo_mysql&#039;, // or pdo_pgsql
    &#039;host&#039;      =&gt; &#039;localhost&#039;,
    &#039;user&#039;      =&gt; $user,
    &#039;password&#039;  =&gt; $pass,
    &#039;dbname&#039;    =&gt; &#039;phpcr_odm_tutorial&#039;,
];

// Bootstrap Doctrine DBAL
$dbConn = \Doctrine\DBAL\DriverManager::getConnection($params);

$repository = \Jackalope\RepositoryFactoryDoctrineDBAL::getRepository([
    &#039;jackalope.doctrine_dbal_connection&#039; =&gt; $dbConn,
]);
// dummy credentials to comply with the API
$credentials = new \PHPCR\SimpleCredentials(null, null);
$session = $repository-&gt;login($credentials, $workspace);

</code></pre>
    </div>

            
    <p>Jackalope Doctrine DBAL does currently not manage users, so the simple
credentials are ignored.</p>

            
    <p>Jackalope Doctrine DBAL also works with sqlite. Use the following parameters:</p>

                <div class="console">
        <pre><code class="console">$params = [
    &#039;driver&#039; =&gt; &#039;pdo_sqlite&#039;,
    &#039;dbname&#039; =&gt; &#039;odm&#039;,
    &#039;path&#039; =&gt; &#039;/tmp/jackalope.db&#039;,
];

</code></pre>
    </div>

    </div>
            <div class="section" id="install-midgard2-phpcr-provider">
            <h3 class="section-header ">
    <a href="#install-midgard2-phpcr-provider">
        Install Midgard2 PHPCR provider
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p><a href="https://github.com/midgardproject/phpcr-midgard2">Midgard2</a> is a PHP extension
that persists PHPCR into relational databases like SQLite and MySQL.</p>

            
    <p>Midgard2 needs <a href="https://github.com/midgardproject/midgard-php5">the migard-php5 PHP extension</a>
to run. On typical Linux setups getting the extension is as easy as:</p>

            <blockquote>
    <p>sudo apt-get install php5-midgard2</p>
</blockquote>
            
    <p>Bootstrap will roughly look like this when using mysql as storage backend:</p>

                <div class="console">
        <pre><code class="console">$workspace = &#039;default&#039;;
$user = &#039;admin&#039;;
$pass = &#039;password&#039;;

$params = [
    &#039;midgard2.configuration.db.type&#039; =&gt; &#039;MySQL&#039;,
    &#039;midgard2.configuration.db.name&#039; =&gt; &#039;phpcr&#039;,
    &#039;midgard2.configuration.db.host&#039; =&gt; &#039;localhost&#039;,
    &#039;midgard2.configuration.db.username&#039; =&gt; &#039;midgard&#039;,
    &#039;midgard2.configuration.db.password&#039; =&gt; &#039;midgard&#039;,
    &#039;midgard2.configuration.blobdir&#039; =&gt; &#039;/some/path/for/blobs&#039;,
    &#039;midgard2.configuration.db.init&#039; =&gt; true,
];
$repository = \Midgard\PHPCR\RepositoryFactory::getRepository($params);

$credentials = new \PHPCR\SimpleCredentials($user, $pass);
$session = $repository-&gt;login($credentials, $workspace);

</code></pre>
    </div>

            
    <p>Note that the <code>midgard2.configuration.db.init</code> setting should only be used the
first time you connect to the Midgard2 repository. After that the database is
ready and this setting should be removed for better performance.</p>

            
    <p>The <code>$user</code> and <code>$pass</code> are the credentials for the PHPCR user. The
<code>...db.username</code> and <code>...db.password</code> configuration values are used by the
mysql driver of midgard to connect to the database.</p>

            
    <p>Midgard can also use sqlite, with the following parameters:</p>

                <div class="console">
        <pre><code class="console">$params = [
    &#039;midgard2.configuration.db.type&#039; =&gt; &#039;SQLite&#039;,
    &#039;midgard2.configuration.db.name&#039; =&gt; &#039;odm&#039;,
    &#039;midgard2.configuration.db.dir&#039; =&gt; &#039;/tmp&#039;,
    &#039;midgard2.configuration.blobdir&#039; =&gt; &#039;/tmp/blobs&#039;
    &#039;midgard2.configuration.db.init&#039; =&gt; true,
];
</code></pre>
    </div>

    </div>
    </div>
    </div>
                <div class="section" id="configuration">
            <h1 class="section-header ">
    <a href="#configuration">
        Configuration
        <i class="fas fa-link"></i>
    </a>
</h1>
            
    <p>Bootstrapping Doctrine PHPCR-ODM is a relatively simple procedure that
roughly exists of four steps:</p>

            

<ul>
    <li class="dash">Installation (see above)</li>
    <li class="dash">Making sure Doctrine class files are autoloaded.</li>
    <li class="dash">Obtaining a DocumentManager instance.</li>
    <li class="dash">Configuration of the Console Tool and run the register-system-node-types command</li>
</ul>

            <div class="alert -admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas   mr-2"></i></td>
            <td>
                                                
    <p>Straightforward bootstrap sample files for all PHPCR implementations
are found in the root folder of phpcr-odm. They are called
cli-config.*.php.dist. You will need one of those files to
<a href="#installation_configuration_console">set up the console</a>, but it can
be used for the rest of your application too.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
            <div class="section" id="class-loading-with-composer">
            <h2 class="section-header ">
    <a href="#class-loading-with-composer">
        Class loading with composer
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Autoloading is taken care of by Composer. You just have to include the
composer autoload file in your project:</p>

                <div class="console">
        <pre><code class="console">// Include Composer Autoload
// if this file does not exist, you forgot to run php composer.phar install
require_once __DIR__ . &quot;/vendor/autoload.php&quot;;
</code></pre>
    </div>

    </div>
            <div class="section" id="obtaining-an-objectmanager">
            <h2 class="section-header ">
    <a href="#obtaining-an-objectmanager">
        Obtaining an ObjectManager
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Once you have prepared the class loading, you acquire an <em>ObjectManager</em>
instance. The ObjectManager class is the primary access point to the document
mapper functionality provided by Doctrine PHPCR-ODM.</p>

            <div class="section" id="prepare-the-mapping-driver">
            <h3 class="section-header ">
    <a href="#prepare-the-mapping-driver">
        Prepare the mapping driver
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>In order to make PHPCR-ODM understand your documents, you need to provide mappings.</p>

            
    <p>You can choose between the drivers for attributes, xml and yml configuration files.
Add the respective code right after the autoloading.</p>

            
    <p>See later in this chapter for more options with the mapping drivers.</p>

            <div class="section" id="attributes-mapping-driver">
            <h4 class="section-header ">
    <a href="#attributes-mapping-driver">
        Attributes Mapping Driver
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>With the attributes driver, you can add attributes to your document
classes with the mapping metadata:</p>

                <div class="console">
        <pre><code class="console">use Doctrine\ODM\PHPCR\Mapping\Driver\AttributeDriver;

$driver = new AttributeDriver([&#039;/path/to/your/document/classes&#039;]);
</code></pre>
    </div>

    </div>
            <div class="section" id="xml-mapping-driver">
            <h4 class="section-header ">
    <a href="#xml-mapping-driver">
        XML Mapping Driver
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>With the XML driver, you create separate XML files that map between your
documents and PHPCR:</p>

                <div class="console">
        <pre><code class="console">use Doctrine\ODM\PHPCR\Mapping\Driver\XmlDriver;

$driver = new XmlDriver([&#039;/path/to/your/xml-mapping/files&#039;]);
</code></pre>
    </div>

    </div>
            <div class="section" id="yml-mapping-driver">
            <h4 class="section-header ">
    <a href="#yml-mapping-driver">
        YML Mapping Driver
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Your project must require symfony/yaml in composer.json:</p>

                <div class="console">
        <pre><code class="console">use Doctrine\ODM\PHPCR\Mapping\Driver\YamlDriver;

$driver = new YamlDriver([&#039;/path/to/your/yml-mapping/files&#039;]);

</code></pre>
    </div>

    </div>
    </div>
            <div class="section" id="quick-configuration-example">
            <h3 class="section-header ">
    <a href="#quick-configuration-example">
        Quick Configuration Example
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>A complete configuration could look like this:</p>

                <div class="console">
        <pre><code class="console">$workspace = &#039;default&#039;;
$user = &#039;admin&#039;;
$pass = &#039;admin&#039;;

/***** transport implementation specific code begin *****/

/* --- see above for sample bootstrapping code of other repository implementations --- */

$params = [
    &#039;driver&#039;    =&gt; &#039;pdo_mysql&#039;,
    &#039;host&#039;      =&gt; &#039;localhost&#039;,
    &#039;user&#039;      =&gt; $user,
    &#039;password&#039;  =&gt; $pass,
    &#039;dbname&#039;    =&gt; &#039;phpcr_odm_tutorial&#039;,
];
$dbConn = \Doctrine\DBAL\DriverManager::getConnection($params);
$parameters = [&#039;jackalope.doctrine_dbal_connection&#039; =&gt; $dbConn];
$repository = \Jackalope\RepositoryFactoryDoctrineDBAL::getRepository($parameters);
$credentials = new \PHPCR\SimpleCredentials(null, null);

/***** transport implementation specific code  ends *****/


$session = $repository-&gt;login($credentials, $workspace);

/* prepare the doctrine configuration */
use Doctrine\ODM\PHPCR\Mapping\Driver\AttributeDriver;
use Doctrine\ODM\PHPCR\DocumentManager;

$driver = new AttributeDriver([&#039;/path/to/your/document/classes&#039;]);

$config = new \Doctrine\ODM\PHPCR\Configuration();
$config-&gt;setMetadataDriverImpl($driver);

$documentManager = DocumentManager::create($session, $config);
</code></pre>
    </div>

                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>Your PHPCR implementation should document the options for the repository
factory.</p>

    <p>As you can see, the PHPCR implementation jackalope-doctrine-dbal used in
this example needs a Doctrine DBAL connection to store its data in a
database. You can learn more about the options for the connection in this
case with the
<a href="http://docs.doctrine-project.org/projects/doctrine-dbal/en/latest/reference/configuration.html">Doctrine DBAL connection configuration reference</a>.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
    </div>
            <div class="section" id="configuration-options">
            <h2 class="section-header ">
    <a href="#configuration-options">
        Configuration Options
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>The following sections describe all the configuration options
available on a <code>Doctrine\ORM\Configuration</code> instance.</p>

            <div class="section" id="proxy-directory-required">
            <h3 class="section-header ">
    <a href="#proxy-directory-required">
        Proxy Directory (<strong>*REQUIRED</strong>*)
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Configure the directory where proxy objects are cached:</p>

                <div class="console">
        <pre><code class="console">$config-&gt;setProxyDir($dir);
$config-&gt;getProxyDir();
</code></pre>
    </div>

            
    <p>For a detailed explanation on proxy classes and how they are used in Doctrine,
see <a href="#installation_proxy-objects">Proxy Objects</a>.</p>

    </div>
            <div class="section" id="proxy-namespace-required">
            <h3 class="section-header ">
    <a href="#proxy-namespace-required">
        Proxy Namespace (<strong>*REQUIRED</strong>*)
        <i class="fas fa-link"></i>
    </a>
</h3>
                <pre class="code-block-table" id="a693ae0495388180e067ff914b49a64d51228bcc"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="a693ae0495388180e067ff914b49a64d51228bcc"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">$config-&gt;setProxyNamespace($namespace);</code><code class="line language-php">$config-&gt;getProxyNamespace();</code><code class="empty"></code></pre>
            
    <p>Gets or sets the namespace to use for generated proxy classes. For
a detailed explanation on proxy classes and how they are used in
Doctrine, refer to the &quot;Proxy Objects&quot; section further down.</p>

    </div>
            <div class="section" id="metadata-driver-required">
            <h3 class="section-header ">
    <a href="#metadata-driver-required">
        Metadata Driver (<strong>*REQUIRED</strong>*)
        <i class="fas fa-link"></i>
    </a>
</h3>
                <pre class="code-block-table" id="dbde90cff7409a0fd312dfe29a6f7b492e0edd1c"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="dbde90cff7409a0fd312dfe29a6f7b492e0edd1c"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">$config-&gt;setMetadataDriverImpl($driver);</code><code class="line language-php">$config-&gt;getMetadataDriverImpl();</code><code class="empty"></code></pre>
            
    <p>Gets or sets the metadata driver implementation that is used by
Doctrine to acquire the object-relational metadata for your
classes.</p>

            
    <p>There are currently 4 implementations available:</p>

            

<ul>
    <li class="dash"><code>Doctrine\ODM\PHPCR\Mapping\Driver\AttributeDriver</code></li>
    <li class="dash"><code>Doctrine\ODM\PHPCR\Mapping\Driver\XmlDriver</code></li>
    <li class="dash"><code>Doctrine\ODM\PHPCR\Mapping\Driver\YamlDriver</code></li>
    <li class="dash"><code>Doctrine\ODM\PHPCR\Mapping\Driver\DriverChain</code></li>
</ul>

            
    <p>Throughout the most part of this manual the AttributeDriver is
used in the examples. For information on the usage of the XmlDriver
or YamlDriver please refer to the dedicated chapters
<code>XML Mapping</code> and <code>YAML Mapping</code>.</p>

            
    <p>When you manually instantiate the attribute driver, you need to tell it the
path to the entities. All metadata drivers accept an array of directories.
With this feature a single driver can support multiple directories of Documents.</p>

    </div>
            <div class="section" id="metadata-cache-recommended">
            <h3 class="section-header ">
    <a href="#metadata-cache-recommended">
        Metadata Cache (<strong>*RECOMMENDED</strong>*)
        <i class="fas fa-link"></i>
    </a>
</h3>
                <pre class="code-block-table" id="c802426f750346adf58a286b6950bb68be4ebff5"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="c802426f750346adf58a286b6950bb68be4ebff5"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">$config-&gt;setMetadataCacheImpl($cache);</code><code class="line language-php">$config-&gt;getMetadataCacheImpl();</code><code class="empty"></code></pre>
            
    <p>Gets or sets the cache implementation to use for caching metadata
information, that is, all the information you supply via
attributes, xml or yaml, so that they do not need to be parsed and
loaded from scratch on every single request which is a waste of
resources. The cache implementation must implement the
<code>Doctrine\Common\Cache\Cache</code> interface.</p>

            
    <p>Usage of a metadata cache is highly recommended.</p>

            
    <p>The recommended implementations for production are:</p>

            

<ul>
    <li class="dash"><code>Doctrine\Common\Cache\ApcCache</code></li>
    <li class="dash"><code>Doctrine\Common\Cache\MemcacheCache</code></li>
    <li class="dash"><code>Doctrine\Common\Cache\XcacheCache</code></li>
    <li class="dash"><code>Doctrine\Common\Cache\RedisCache</code></li>
</ul>

            
    <p>For development you should use the
<code>Doctrine\Common\Cache\ArrayCache</code> which only caches data on a
per-request basis.</p>

    </div>
            <div class="section" id="auto-generating-proxy-classes-optional">
            <h3 class="section-header ">
    <a href="#auto-generating-proxy-classes-optional">
        Auto-generating Proxy Classes (<strong>*OPTIONAL</strong>*)
        <i class="fas fa-link"></i>
    </a>
</h3>
                <pre class="code-block-table" id="b1c98b8fc0db9adb05800da692ed9fc9761d3407"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="b1c98b8fc0db9adb05800da692ed9fc9761d3407"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-php">$config-&gt;setAutoGenerateProxyClasses($bool);</code><code class="line language-php">$config-&gt;getAutoGenerateProxyClasses();</code><code class="empty"></code></pre>
            
    <p>Gets or sets whether proxy classes should be generated
automatically at runtime by Doctrine. If set to <code>FALSE</code>, proxy
classes must be generated manually through the doctrine command
line task <code>generate-proxies</code>. The strongly recommended value for
a production environment is <code>FALSE</code>.</p>

    </div>
    </div>
            <div class="section" id="development-vs-production-configuration">
            <h2 class="section-header ">
    <a href="#development-vs-production-configuration">
        Development vs Production Configuration
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>You should code your Doctrine PHPCR-ODM bootstrapping with two different
runtime models in mind. There are some serious benefits of using
APC or Memcache in production. In development however this will
frequently give you fatal errors, when you change your entities and
the cache still keeps the outdated metadata. That is why we
recommend the <code>ArrayCache</code> for development.</p>

            
    <p>Furthermore you should have the Auto-generating Proxy Classes
option to true in development and to false in production. If this
option is set to <code>TRUE</code> it can seriously hurt your script
performance if several proxy classes are re-generated during script
execution. Filesystem calls of that magnitude can even slower than
all the database queries Doctrine issues. Additionally writing a
proxy sets an exclusive file lock which can cause serious
performance bottlenecks in systems with regular concurrent
requests.</p>

    </div>
            <div class="section" id="connection-options">
            <h2 class="section-header ">
    <a href="#connection-options">
        Connection Options
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>The <code>$session</code> passed as the first argument to <code>DocumentManager::create()</code>
has to be an instance of <code>PHPCR\SessionInterface</code>.
See the documentation of your PHPCR implementation for further options when
creating the session.</p>

    </div>
            <div class="section" id="proxy-objects">
            <a id="installation_proxy-objects"></a>
            <h2 class="section-header ">
    <a href="#proxy-objects">
        Proxy Objects
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>A proxy object is an object that is put in place or used instead of
the &quot;real&quot; object. A proxy object can add behavior to the object
being proxied without that object being aware of it. In Doctrine 2,
proxy objects are used to realize several features but mainly for
transparent lazy-loading.</p>

            
    <p>Proxy objects with their lazy-loading facilities help to keep the
subset of objects that are already in memory connected to the rest
of the objects. This is an essential property as without it there
would always be fragile partial objects at the outer edges of your
object graph.</p>

            
    <p>Doctrine 2 implements a variant of the proxy pattern where it
generates classes that extend your entity classes and adds
lazy-loading capabilities to them. Doctrine can then give you an
instance of such a proxy class whenever you request an object of
the class being proxied. This happens in two situations:</p>

            <div class="section" id="reference-proxies">
            <h3 class="section-header ">
    <a href="#reference-proxies">
        Reference Proxies
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>The method <code>DocumentManager::getReference($documentName, $identifier)</code>
lets you obtain a reference to a document for which the identifier
is known, without loading that entity from the database. This is
useful, for example, as a performance enhancement, when you want to
establish an association to an entity for which you have the
identifier. You could simply do this:</p>

                <div class="console">
        <pre><code class="console">// $dm instanceof DocumentManager, $cart instanceof MyProject\Model\Cart
// $itemId comes from somewhere, probably a request parameter
$item = $dm-&gt;getReference(&#039;MyProject\Model\Item&#039;, $itemId);
$cart-&gt;addItem($item);
</code></pre>
    </div>

            
    <p>Here, we added an Item to a Cart without loading the Item from the
database. If you invoke any method on the Item instance, it would
fully initialize its state transparently from the database. Here
$item is actually an instance of the proxy class that was generated
for the Item class but your code does not need to care. In fact it
<strong>should not care</strong>. Proxy objects should be transparent to your
code.</p>

            
    <p>Be aware that in this situation, you may not pass null for the $documentName
as the autodetecting only works when it can actually load the document from
the repository.</p>

    </div>
            <div class="section" id="generating-proxy-classes">
            <h3 class="section-header ">
    <a href="#generating-proxy-classes">
        Generating Proxy classes
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Proxy classes can either be generated manually through the Doctrine
Console or automatically by Doctrine. The configuration option that
controls this behavior is:</p>

                <div class="console">
        <pre><code class="console">$config-&gt;setAutoGenerateProxyClasses($bool);
$config-&gt;getAutoGenerateProxyClasses();
</code></pre>
    </div>

            
    <p>The default value is <code>true</code> for convenient development. However,
this setting is not optimal for performance and therefore not
recommended for a production environment. To eliminate the overhead
of proxy class generation during runtime, set this configuration
option to <code>false</code>. When you do this in a development environment,
note that you may get class/file not found errors if certain proxy
classes are not available or failing lazy-loads if new methods were
added to the entity class that are not yet in the proxy class.</p>

            
    <p>When you set auto generate to <code>false</code>, you need to generate the proxy classes
each time you change anything on your class or mapping:</p>

                <pre class="code-block-table" id="c9ef11977f0ea5b77ddcb5482916c2a4fc9562d7"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="c9ef11977f0ea5b77ddcb5482916c2a4fc9562d7"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-bash">$ ./vendor/bin/phpcrodm doctrine:phpcr:generate-proxies</code><code class="empty"></code></pre>
                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>This command is only available since PHPCR-ODM 1.1.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
            <div class="section" id="multiple-metadata-sources">
            <h3 class="section-header ">
    <a href="#multiple-metadata-sources">
        Multiple Metadata Sources
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>When using different components using Doctrine 2 you may end up
with them using two different metadata drivers, for example XML and
YAML. You can use the DriverChain Metadata implementations to
aggregate these drivers based on namespaces:</p>

                <div class="console">
        <pre><code class="console">use Doctrine\ORM\Mapping\Driver\DriverChain;

$chain = new DriverChain();
$chain-&gt;addDriver($xmlDriver, &#039;Doctrine\Tests\Models\Company&#039;);
$chain-&gt;addDriver($yamlDriver, &#039;Doctrine\Tests\PHPCR-ODM\Mapping&#039;);
</code></pre>
    </div>

            
    <p>Based on the namespace of the entity the loading of entities is
delegated to the appropriate driver. The chain semantics come from
the fact that the driver loops through all namespaces and matches
the entity class name against the namespace using a
<code>strpos() === 0</code> call. This means you need to order the drivers
correctly if sub-namespaces use different metadata driver
implementations.</p>

    </div>
            <div class="section" id="default-repository-optional">
            <h3 class="section-header ">
    <a href="#default-repository-optional">
        Default Repository (<strong>*OPTIONAL</strong>*)
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Specifies the FQCN of a subclass of the DoctrineCommonPersistenceObjectRepository.
This will be used for all documents that do not specify a custom repository
class:</p>

                <div class="console">
        <pre><code class="console">$config-&gt;setDefaultRepositoryClassName($fqcn);
$config-&gt;getDefaultRepositoryClassName();
</code></pre>
    </div>

            
    <p>The default value is <code>Doctrine\ODM\PHPCR\DocumentRepository</code>.</p>

                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>This option was introduced in PHPCR-ODM 1.1.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
    </div>
            <div class="section" id="setting-up-the-console">
            <a id="installation_configuration_console"></a>
            <h2 class="section-header ">
    <a href="#setting-up-the-console">
        Setting up the Console
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Doctrine uses the Symfony Console component for generating the command line
interface. You can take a look at the <code>bin/phpcrodm.php</code> script  for
inspiration how to setup the cli.</p>

            
    <p>If you installed Doctrine PHPCR-ODM through Composer, then the <code>phpcrodm</code>
script is available to you in the bin-dir, by default at
<code>vendor/bin/phpcrodm</code>. Otherwise create a symlink to the file or run it
inside the phpcr-odm folder.</p>

            
    <p>Next, you need to copy the cli-config.&lt;implementation&gt;.php.dist file from the
phpcr-odm folder to the parent folder of where you have the binary and adjust
it to bootstrap your application. The details of what you can configure are
explained above.</p>

            
    <p>The <a href="tools.html">Tools Chapter</a> explains the commands you have available.</p>

            <div class="section" id="register-system-node-types">
            <h3 class="section-header ">
    <a href="#register-system-node-types">
        Register system node types
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>PHPCR ODM uses a <a href="http://github.com/doctrine/phpcr-odm/wiki/Custom-node-type-phpcr%3Amanaged">custom node type</a>
to track meta information without interfering with your content. Before you can
use a PHPCR repository to store documents, you need to run the following
command:</p>

                <pre class="code-block-table" id="45800d4611632ff69296068d432a5e72aad93eef"><button
                type="button"
                class="copy-to-clipboard"
                data-copy-element-id="45800d4611632ff69296068d432a5e72aad93eef"
                title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><code class="empty"></code><code class="line language-bash">$ php bin/phpcrodm doctrine:phpcr:register-system-node-types</code><code class="empty"></code></pre>
    </div>
    </div>
    </div>
        

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?4a831b"
                            integrity="sha384-ygNM6vWkqMgvV0Lrk5BeKUupSk4CidmuzVPL3OkdAxEVjZQDo9cgbfC+FXAfoAse"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'phpcr-odm';
            var versionSlug = '1.8';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search PHPCR ODM 1.8'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            </body>
</html>
