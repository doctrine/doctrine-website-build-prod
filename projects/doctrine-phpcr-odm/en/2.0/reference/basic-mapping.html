<!DOCTYPE html>
<html>
    <head>
        <title>        Basic Mapping - Doctrine PHPCR ODM
    </title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine PHPCR ODM Documentation: Basic Mapping ">

        <meta name="keywords" content="                    php,content,odm,data,mapper,mapping,object,documentation,basic,mapping
    ">

                    <meta name="robots" content="index, follow">
        
        
                    <link rel="canonical" href="https://www.doctrine-project.org/projects/doctrine-phpcr-odm/en/latest/reference/basic-mapping.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?74d1a1"
                        integrity="sha384-dAaEn2ZyD87ZE8ZaTOc39tmNlPuZWU7Tvl3K1W/IXH5rtko68QAI5cdG6HLv97IH"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/projects/doctrine-phpcr-odm/en/2.0/reference/basic-mapping.html" />
        <meta property="og:title" content="        Basic Mapping - Doctrine PHPCR ODM
    " />
        <meta property="og:description" content="Doctrine PHPCR ODM Documentation: Basic Mapping " />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine PHPCR ODM",
            "description": "Basic Mapping",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://www.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/sponsorship.html">Sponsorship</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/phpcr-odm/edit//docs/en/reference/basic-mapping.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        

            <div class="toc">
    <ul class="menu-level">
    <li class="toc-item">
    <a href="architecture.html#architecture">Architecture</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="architecture.html#doctrine-phpcr-odm-packages">Doctrine PHPCR-ODM Packages</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="architecture.html#content-tree-not-tables">Content tree, not tables</a>


</li>
            <li class="toc-item">
    <a href="architecture.html#additional-core-features">Additional core features</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="association-mapping.html#association-mapping">Association Mapping</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="association-mapping.html#hierarchy-mappings">Hierarchy mappings</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="association-mapping.html#child-restriction">Child restriction</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="association-mapping.html#references">References</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="association-mapping.html#referenceable-documents">Referenceable documents</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#reference-other-documents">Reference other documents</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#referrers-to-inverse-the-reference-relation">Referrers to inverse the reference relation</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#mixedreferrers">MixedReferrers</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="association-mapping.html#transitive-persistence-cascade-operations">Transitive persistence / Cascade Operations</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="association-mapping.html#persistence-by-reachability-cascade-persist">Persistence by Reachability: Cascade Persist</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="association-mapping.html#collections">Collections</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="association-mapping.html#initializing-collections">Initializing Collections</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#new-collections-after-flushing">New Collections after Flushing</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="attributes-mapping.html#attributes-mapping">Attributes Mapping</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="attributes-mapping.html#note-on-usage">Note on usage</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#document">Document</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#document">#[Document]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#mappedsuperclass">#[MappedSuperclass]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#mapping-fields">Mapping Fields</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#field">#[Field]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#hierarchy">Hierarchy</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#child">#[Child]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#children">#[Children]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#depth">#[Depth]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#parentdocument">#[ParentDocument]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#identification">Identification</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#id">#[Id]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#nodename">#[Nodename]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#uuid">#[Uuid]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#lifcycle-callbacks">Lifcycle callbacks</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#postload">#[PostLoad]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#postpersist">#[PostPersist]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#postremove">#[PostRemove]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#postupdate">#[PostUpdate]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#prepersist">#[PrePersist]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#preremove">#[PreRemove]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#preupdate">#[PreUpdate]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#phpcr">PHPCR</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#node">#[Node]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#references">References</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#referencemany">#[ReferenceMany]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#referenceone">#[ReferenceOne]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#referrers">#[Referrers]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#mixedreferrers">#[MixedReferrers]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#translation">Translation</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#locale">#[Locale]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#versioning">Versioning</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#versioncreated">#[VersionCreated]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#versionname">#[VersionName]</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item opened">
    <a href="#basic-mapping">Basic Mapping</a>

        <ul class="section-level-1 opened-ul ">
            <li class="toc-item">
    <a href="#mapping-drivers">Mapping Drivers</a>


</li>
            <li class="toc-item">
    <a href="#introduction-to-php-attributes">Introduction to PHP Attributes</a>


</li>
            <li class="toc-item">
    <a href="#persistent-classes">Persistent classes</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#specify-a-node-type">Specify a node type</a>


</li>
            <li class="toc-item">
    <a href="#specify-a-repository-class">Specify a repository class</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="#doctrine-mapping-types">Doctrine Mapping Types</a>


</li>
            <li class="toc-item">
    <a href="#property-mapping">Property Mapping</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#mapping-to-a-differently-named-phpcr-property">Mapping to a differently named PHPCR property</a>


</li>
            <li class="toc-item">
    <a href="#mapping-multivalue-properties">Mapping multivalue properties</a>


</li>
            <li class="toc-item">
    <a href="#summary">Summary</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="#identifiers">Identifiers</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#identifier-generation-strategies">Identifier Generation Strategies</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#parent-and-name-strategy-recommended">Parent and name strategy (recommended)</a>


</li>
            <li class="toc-item">
    <a href="#assigned-id">Assigned Id</a>


</li>
            <li class="toc-item">
    <a href="#repository-strategy">Repository strategy</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="#symfony-bundle">Symfony bundle</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="events.html#events">Events</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="events.html#lifecycle-events">Lifecycle Events</a>


</li>
            <li class="toc-item">
    <a href="events.html#event-order-when-moving">Event order when moving</a>


</li>
            <li class="toc-item">
    <a href="events.html#event-order-when-handling-with-translations">Event order when handling with translations</a>


</li>
            <li class="toc-item">
    <a href="events.html#listening-to-events">Listening to events</a>


</li>
            <li class="toc-item">
    <a href="events.html#lifecycle-callbacks">Lifecycle Callbacks</a>


</li>
            <li class="toc-item">
    <a href="events.html#listening-to-lifecycle-events">Listening to Lifecycle Events</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="fetch-depth.html#tuning-the-node-preloading">Tuning the node preloading</a>


</li>
    <li class="toc-item">
    <a href="inheritance-mapping.html#inheritance-mapping">Inheritance Mapping</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="inheritance-mapping.html#document-class-inheritance">Document class inheritance</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="installation-configuration.html#installation">Installation</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="installation-configuration.html#composer">Composer</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#phpcr-provider">PHPCR provider</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="installation-configuration.html#install-jackalope-jackrabbit-phpcr-provider">Install Jackalope-Jackrabbit PHPCR provider</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#install-jackalope-doctrine-dbal-phpcr-provider">Install Jackalope Doctrine DBAL PHPCR provider</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#install-midgard2-phpcr-provider">Install Midgard2 PHPCR provider</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="installation-configuration.html#class-loading-with-composer">Class loading with composer</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#obtaining-an-objectmanager">Obtaining an ObjectManager</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="installation-configuration.html#prepare-the-mapping-driver">Prepare the mapping driver</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="installation-configuration.html#attributes-mapping-driver">Attributes Mapping Driver</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#xml-mapping-driver">XML Mapping Driver</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#yml-mapping-driver">YML Mapping Driver</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="installation-configuration.html#quick-configuration-example">Quick Configuration Example</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="installation-configuration.html#configuration-options">Configuration Options</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="installation-configuration.html#proxy-directory-required">Proxy Directory (*REQUIRED*)</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#proxy-namespace-required">Proxy Namespace (*REQUIRED*)</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#metadata-driver-required">Metadata Driver (*REQUIRED*)</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#metadata-cache-recommended">Metadata Cache (*RECOMMENDED*)</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#auto-generating-proxy-classes-optional">Auto-generating Proxy Classes (*OPTIONAL*)</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="installation-configuration.html#development-vs-production-configuration">Development vs Production Configuration</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#connection-options">Connection Options</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#proxy-objects">Proxy Objects</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="installation-configuration.html#reference-proxies">Reference Proxies</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#generating-proxy-classes">Generating Proxy classes</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#multiple-metadata-sources">Multiple Metadata Sources</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#default-repository-optional">Default Repository (*OPTIONAL*)</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="installation-configuration.html#setting-up-the-console">Setting up the Console</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="installation-configuration.html#register-system-node-types">Register system node types</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="introduction.html#getting-started">Getting Started</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="introduction.html#what-are-documents">What are Documents?</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#an-example-model-document-management">An Example Model: Document Management</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#setup-project">Setup Project</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#building-the-model">Building the model</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#initialize-the-repository">Initialize the repository</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#storing-documents">Storing documents</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#reading-documents">Reading documents</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#tree-traversal">Tree traversal</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#add-references">Add references</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#removing-documents">Removing documents</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#other-helpful-methods-on-the-documentmanager">Other helpful methods on the DocumentManager</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#conclusion">Conclusion</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="multilang.html#multilanguage-support">Multilanguage support</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="multilang.html#philosophy">Philosophy</a>


</li>
            <li class="toc-item">
    <a href="multilang.html#mapping">Mapping</a>


</li>
            <li class="toc-item">
    <a href="multilang.html#interacting-with-translations">Interacting with translations</a>


</li>
            <li class="toc-item">
    <a href="multilang.html#choosing-the-right-translation-strategy">Choosing the right translation strategy</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="multilang.html#implementing-your-own-translation-strategy">Implementing your own translation strategy</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="multilang.html#configure-the-locale-chooser-strategy">Configure the locale chooser strategy</a>


</li>
            <li class="toc-item">
    <a href="multilang.html#full-example">Full Example</a>


</li>
            <li class="toc-item">
    <a href="multilang.html#querying-translated-properties">Querying Translated Properties</a>


</li>
            <li class="toc-item">
    <a href="multilang.html#limitations">Limitations</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="multilang.html#translations-and-references-hierarchy">Translations and references / hierarchy</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="phpcr-access.html#accessing-the-underlying-phpcr-session">Accessing the underlying PHPCR session</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="phpcr-access.html#getting-the-phpcr-session">Getting the PHPCR Session</a>


</li>
            <li class="toc-item">
    <a href="phpcr-access.html#the-node-field-mapping">The Node field mapping</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="query.html#the-query-object">The Query Object</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="query.html#getting-single-results">Getting single results</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query.html#getsingleresult">getSingleResult</a>


</li>
            <li class="toc-item">
    <a href="query.html#getoneornullresult">getOneOrNullResult</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query.html#getting-multiple-results">Getting multiple results</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query.html#getresult">getResult</a>


</li>
            <li class="toc-item">
    <a href="query.html#getphpcrnoderesult">getPhpcrNodeResult</a>


</li>
            <li class="toc-item">
    <a href="query.html#execute">execute</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query.html#hydration-modes">Hydration modes</a>


</li>
            <li class="toc-item">
    <a href="query.html#limiting-results">Limiting results</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="query-builder.html#the-querybuilder">The QueryBuilder</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="query-builder.html#concepts">Concepts</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder.html#leaf-and-factory-nodes">Leaf and Factory Nodes</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#fluent-interface">Fluent Interface</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#types-and-cardinality">Types and Cardinality</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#aliases-and-fields">Aliases and fields</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder.html#retrieving-a-query-builder-instance">Retrieving a query builder instance</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder.html#via-the-document-manager">Via the document manager</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#via-a-document-repository">Via a document repository</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder.html#working-with-the-querybuilder">Working with the QueryBuilder</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder.html#specifying-the-document-source-from">Specifying the document source - from</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder.html#from-single-source">From Single Source</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#from-joined-source">From Joined Source</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#joining-with-an-association">Joining with an Association</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder.html#selecting-specific-properties-select">Selecting specific properties - select</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#limiting-the-number-of-results">Limiting the number of results</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#specifying-selection-criteria">Specifying selection criteria</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#ordering-results">Ordering results</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#querying-translated-documents">Querying translated documents</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder.html#additional-notes">Additional notes</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder.html#querying-multivalue-fields">Querying multivalue fields</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#using-the-query-builder-in-tests">Using the Query Builder in Tests</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="query-builder-reference.html#query-builder-reference">Query Builder Reference</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="query-builder-reference.html#reference">Reference</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder-reference.html#node-constraintandx">Node: ConstraintAndx</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-constraintcomparison">Node: ConstraintComparison</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-constraintfactory">Node: ConstraintFactory</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder-reference.html#andx">-&gt;andX</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#orx">-&gt;orX</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#fieldisset">-&gt;fieldIsset</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#fulltextsearch">-&gt;fullTextSearch</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#same">-&gt;same</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#descendant">-&gt;descendant</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#child">-&gt;child</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#eq">-&gt;eq</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#neq">-&gt;neq</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#lt">-&gt;lt</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#lte">-&gt;lte</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#gt">-&gt;gt</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#gte">-&gt;gte</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#like">-&gt;like</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-constraintnot">Node: ConstraintNot</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-constraintorx">Node: ConstraintOrx</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-from">Node: From</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-operanddynamicfactory">Node: OperandDynamicFactory</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder-reference.html#fulltextsearchscore">-&gt;fullTextSearchScore</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#length">-&gt;length</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#lowercase">-&gt;lowerCase</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#uppercase">-&gt;upperCase</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#localname">-&gt;localName</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#name">-&gt;name</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#field">-&gt;field</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-operanddynamiclowercase">Node: OperandDynamicLowerCase</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-operanddynamicuppercase">Node: OperandDynamicUpperCase</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-operandfactory">Node: OperandFactory</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder-reference.html#parameter">-&gt;parameter</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#literal">-&gt;literal</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-operandstaticfactory">Node: OperandStaticFactory</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-orderby">Node: OrderBy</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder-reference.html#asc">-&gt;asc</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#desc">-&gt;desc</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-orderbyadd">Node: OrderByAdd</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-ordering">Node: Ordering</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-querybuilder">Node: QueryBuilder</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder-reference.html#where">-&gt;where</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#andwhere">-&gt;andWhere</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#orwhere">-&gt;orWhere</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#from">-&gt;from</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#fromdocument">-&gt;fromDocument</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#addjoinleftouter">-&gt;addJoinLeftOuter</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#addjoinrightouter">-&gt;addJoinRightOuter</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#addjoininner">-&gt;addJoinInner</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#select">-&gt;select</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#addselect">-&gt;addSelect</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#orderby">-&gt;orderBy</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#addorderby">-&gt;addOrderBy</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-select">Node: Select</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-selectadd">Node: SelectAdd</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-sourcejoin">Node: SourceJoin</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-sourcejoinconditionfactory">Node: SourceJoinConditionFactory</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder-reference.html#descendant">-&gt;descendant</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#equi">-&gt;equi</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#child">-&gt;child</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#same">-&gt;same</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-sourcejoinleft">Node: SourceJoinLeft</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-sourcejoinright">Node: SourceJoinRight</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-where">Node: Where</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-whereand">Node: WhereAnd</a>


</li>
            <li class="toc-item">
    <a href="query-builder-reference.html#node-whereor">Node: WhereOr</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="tools.html#tools">Tools</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="tools.html#doctrine-console">Doctrine Console</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="tools.html#command-overview">Command Overview</a>


</li>
            <li class="toc-item">
    <a href="tools.html#getting-documentation-of-a-command">Getting documentation of a command</a>


</li>
            <li class="toc-item">
    <a href="tools.html#phpcr-implementation-specific-commands">PHPCR implementation specific commands</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="tools.html#jackrabbit-specific-commands">Jackrabbit specific commands</a>


</li>
            <li class="toc-item">
    <a href="tools.html#doctrine-dbal-specific-commands">Doctrine DBAL specific commands</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="tools.html#register-system-node-types">Register system node types</a>


</li>
            <li class="toc-item">
    <a href="tools.html#adding-your-own-commands">Adding your own commands</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="transactions.html#transactions-1">Transactions</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="transactions.html#transactional">transactional()</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="versioning.html#versioning-support">Versioning support</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="versioning.html#philosophy">Philosophy</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="versioning.html#phpcr-odm">PHPCR-ODM</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="versioning.html#mappings">Mappings</a>


</li>
            <li class="toc-item">
    <a href="versioning.html#interacting-with-versions">Interacting with versions</a>


</li>
            <li class="toc-item">
    <a href="versioning.html#full-example">Full Example</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="working-with-objects.html#working-with-objects">Working with Objects</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="working-with-objects.html#documents-and-the-identity-map">Documents and the Identity Map</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#document-graph-traversal">Document Graph Traversal</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#persisting-documents">Persisting documents</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#removing-documents">Removing documents</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#detaching-documents">Detaching documents</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#merging-documents">Merging documents</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#synchronization-with-the-repository">Synchronization with the Repository</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="working-with-objects.html#effects-of-repository-and-unitofwork-being-out-of-sync">Effects of Repository and UnitOfWork being Out-Of-Sync</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#synchronizing-new-and-managed-documents">Synchronizing New and Managed Documents</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#synchronizing-removed-documents">Synchronizing Removed Documents</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#the-size-of-a-unit-of-work">The size of a Unit of Work</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#the-cost-of-flushing">The cost of flushing</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#direct-access-to-a-unit-of-work">Direct Access to a Unit of Work</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#document-state">Document State</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="working-with-objects.html#querying">Querying</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="working-with-objects.html#by-primary-key">By Primary Key</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#by-simple-conditions">By Simple Conditions</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#by-lazy-loading">By Lazy Loading</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#by-query-builder">By Query Builder</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#by-native-queries">By Native Queries</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#custom-repositories">Custom Repositories</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="xml-mapping.html#xml-mapping">XML Mapping</a>


</li>
    </ul>
</div>
    

                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://www.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "PHPCR ODM",
            "item": "https://www.doctrine-project.org/projects/phpcr-odm.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://www.doctrine-project.org/projects/doctrine-phpcr-odm/en/2.0/index.html"
        },                {
            "@type": "ListItem",
            "position": 4,
            "name": "Basic Mapping",
            "item": "https://www.doctrine-project.org/projects/doctrine-phpcr-odm/en/2.0/reference/basic-mapping.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/phpcr-odm.html">PHPCR ODM</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-phpcr-odm/en/2.0/index.html">Documentation</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Basic Mapping</li>
                        </ol>
</nav>
                                    </div>

                    
    <div class="alert caution bg-light-yellow text-dark border">
    <table width="100%">
        <tr>
            <td width="10" class="align-top">
                <i class="fas fa-exclamation-circle text-warning mr-2"></i>
            </td>
            <td><p>You are browsing a version that is no longer maintained.</p></td>
        </tr>
    </table>
</div>

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-phpcr-odm/en/2.0/reference/basic-mapping.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        2.0.1
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-phpcr-odm/en/latest/reference/basic-mapping.html">
                                                        2.x

                                                                                                                    (current)
                                                        
                                                                                                            </a>
                                                                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-phpcr-odm/en/1.x/reference/basic-mapping.html">
                                                        1.x

                                                        
                                                                                                            </a>
                                                                                                                                    
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                                                                                
                                                    <a class="dropdown-item active" href="/projects/doctrine-phpcr-odm/en/2.0/reference/basic-mapping.html">2.0</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-phpcr-odm/en/1.8/reference/basic-mapping.html">1.8</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-phpcr-odm/en/1.7/reference/basic-mapping.html">1.7</a>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </div>
                                </div>
                            
                            

            <div class="section" id="basic-mapping">
            <h1 class="section-header ">
    <a href="#basic-mapping">
        Basic Mapping
        <i class="fas fa-link"></i>
    </a>
</h1>
            
    <p>This chapter explains the basic mapping of objects and properties.
Mapping of hierarchy associations and arbitrary references will be covered in the next chapter.</p>

            <div class="section" id="mapping-drivers">
            <h2 class="section-header ">
    <a href="#mapping-drivers">
        Mapping Drivers
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Doctrine provides several different ways for specifying
object-document mapping metadata:</p>

            

<ul>
    <li class="dash">PHP Attributes</li>
    <li class="dash">XML</li>
    <li class="dash">YAML</li>
</ul>

            
    <p>This manual usually mentions PHP attributes in all the examples
that are spread throughout all chapters, however for many examples
alternative YAML and XML examples are given as well. There are dedicated
reference chapters for XML and YAML mapping, respectively that explain them
in more detail. There is also a PHP Attributes reference chapter.</p>

                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>If you&#039;re wondering which mapping driver gives the best
performance, the answer is: They all give exactly the same performance.
Once the metadata of a class has
been read from the source (attributes, xml or yaml) it is stored
in an instance of the <code>Doctrine\ODM\PHPCR\Mapping\ClassMetadata</code> class
and these instances are stored in the metadata cache. Therefore at
the end of the day all drivers perform equally well. If you&#039;re not
using a metadata cache (not recommended!) then the XML driver might
have a slight edge in performance due to the powerful native XML
support in PHP.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
            <div class="section" id="introduction-to-php-attributes">
            <h2 class="section-header ">
    <a href="#introduction-to-php-attributes">
        Introduction to PHP Attributes
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>PHP attributes are an official language replacement for the informal
docblock annotations. They allow to embed metadata next to the code.</p>

            
    <p>The Doctrine PHPCR-ODM defines its own set of attributes to supply
object-document mapping metadata.</p>

    </div>
            <div class="section" id="persistent-classes">
            <h2 class="section-header ">
    <a href="#persistent-classes">
        Persistent classes
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>In order to mark a class for object-document persistence it needs
to be designated as an document. This can be done through the
<code>#[Document]</code> marker attribute.</p>

            <div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="php"
                    aria-controls="configuration-block-tabpanel-8fc5f3bd2bbeafbe2ddb35a2bdce7dd1" aria-selected="true"
                    data-active="true" >
                <span>Php</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                    aria-controls="configuration-block-tabpanel-7b52027552d2f0bce1cfb46dbe0d16dd" aria-selected="false"
                     tabindex="-1">
                <span>Xml</span>
            </button>
                    <button role="tab" type="button" data-language="yaml"
                    aria-controls="configuration-block-tabpanel-c1634cbe74dee4d0b46cba733a7cf631" aria-selected="false"
                     tabindex="-1">
                <span>Yaml</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-8fc5f3bd2bbeafbe2ddb35a2bdce7dd1" aria-label="Php" class="configuration-codeblock" data-language="php" style="">
            <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="506e75da3b43d8583b320edc81d8271c43695577"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="506e75da3b43d8583b320edc81d8271c43695577"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-506e75da3b43d8583b320edc81d8271c43695577-1" class="line-number-anchor" /><a href="#line-number-506e75da3b43d8583b320edc81d8271c43695577-1">1</a></td><td class="code-line" rowspan="7"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ODM</span>\<span class="hljs-title">PHPCR</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">Attributes</span> <span class="hljs-title">as</span> <span class="hljs-title">PHPCR</span>;

<span class="hljs-comment">#[PHPCR\Document]</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyPersistentClass</span>
</span>{
    <span class="hljs-comment">//...</span>
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-506e75da3b43d8583b320edc81d8271c43695577-2" class="line-number-anchor" /><a href="#line-number-506e75da3b43d8583b320edc81d8271c43695577-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-506e75da3b43d8583b320edc81d8271c43695577-3" class="line-number-anchor" /><a href="#line-number-506e75da3b43d8583b320edc81d8271c43695577-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-506e75da3b43d8583b320edc81d8271c43695577-4" class="line-number-anchor" /><a href="#line-number-506e75da3b43d8583b320edc81d8271c43695577-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-506e75da3b43d8583b320edc81d8271c43695577-5" class="line-number-anchor" /><a href="#line-number-506e75da3b43d8583b320edc81d8271c43695577-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-506e75da3b43d8583b320edc81d8271c43695577-6" class="line-number-anchor" /><a href="#line-number-506e75da3b43d8583b320edc81d8271c43695577-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-506e75da3b43d8583b320edc81d8271c43695577-7" class="line-number-anchor" /><a href="#line-number-506e75da3b43d8583b320edc81d8271c43695577-7">7</a></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-7b52027552d2f0bce1cfb46dbe0d16dd" aria-label="Xml" class="configuration-codeblock" data-language="xml" style="display: none">
            <pre class="code-block-table"><code class="xml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="6325dc841c18f8555d29c069d0be971ef2b65c96"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="6325dc841c18f8555d29c069d0be971ef2b65c96"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-6325dc841c18f8555d29c069d0be971ef2b65c96-1" class="line-number-anchor" /><a href="#line-number-6325dc841c18f8555d29c069d0be971ef2b65c96-1">1</a></td><td class="code-line" rowspan="5"><span class="hljs-tag">&lt;<span class="hljs-name">doctrine-mapping</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">document</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"MyPersistentClass"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- ... --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">document</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">doctrine-mapping</span>&gt;</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6325dc841c18f8555d29c069d0be971ef2b65c96-2" class="line-number-anchor" /><a href="#line-number-6325dc841c18f8555d29c069d0be971ef2b65c96-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6325dc841c18f8555d29c069d0be971ef2b65c96-3" class="line-number-anchor" /><a href="#line-number-6325dc841c18f8555d29c069d0be971ef2b65c96-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6325dc841c18f8555d29c069d0be971ef2b65c96-4" class="line-number-anchor" /><a href="#line-number-6325dc841c18f8555d29c069d0be971ef2b65c96-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-6325dc841c18f8555d29c069d0be971ef2b65c96-5" class="line-number-anchor" /><a href="#line-number-6325dc841c18f8555d29c069d0be971ef2b65c96-5">5</a></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-c1634cbe74dee4d0b46cba733a7cf631" aria-label="Yaml" class="configuration-codeblock" data-language="yaml" style="display: none">
            <pre class="code-block-table"><code class="yaml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="e33e3f8d53f6454873ace0f39e890031af5422a0"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="e33e3f8d53f6454873ace0f39e890031af5422a0"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-e33e3f8d53f6454873ace0f39e890031af5422a0-1" class="line-number-anchor" /><a href="#line-number-e33e3f8d53f6454873ace0f39e890031af5422a0-1">1</a></td><td class="code-line" rowspan="2"><span class="hljs-attr">MyPersistentClass:</span>
    <span class="hljs-comment"># ...</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-e33e3f8d53f6454873ace0f39e890031af5422a0-2" class="line-number-anchor" /><a href="#line-number-e33e3f8d53f6454873ace0f39e890031af5422a0-2">2</a></td></tr></table></div></code></pre>
        </div>
    </div>
            
    <p>There is a couple of parameters you can specify for the document mapping.
Some of them are explained here, the rest in the chapters on <a href="association-mapping.html#association-mapping_referenceable">References</a>,
<a href="multilang.html">Multilanguage</a> and <a href="versioning.html">Versioning</a>.</p>

            <div class="section" id="specify-a-node-type">
            <h3 class="section-header ">
    <a href="#specify-a-node-type">
        Specify a node type
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>The <code>nodeType</code> attribute allows to specify a PHPCR node type to use for this document,
instead of the default permissive nt:unstructured.</p>

    </div>
            <div class="section" id="specify-a-repository-class">
            <h3 class="section-header ">
    <a href="#specify-a-repository-class">
        Specify a repository class
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>The <code>repositoryClass</code> attribute allows to specify a custom repository instead of the default
repository implementation.</p>

    </div>
    </div>
            <div class="section" id="doctrine-mapping-types">
            <h2 class="section-header ">
    <a href="#doctrine-mapping-types">
        Doctrine Mapping Types
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>A Doctrine Mapping Type defines the mapping between a PHP type and
a PHPCR property type. PHPCR defines a finite set of allowed types for properties.</p>

            
    <p>For example, the Doctrine Mapping Type <code>string</code> defines the
mapping from a PHP string to a <code>PHPCR\\PropertyType::STRING</code>.
Here is a quick overview of the built-in mapping types:</p>

            
    <p>See <a href="http://phpcr.github.io/doc/html/files/phpcr.src.PHPCR.PropertyType.html">PHPCR\\PropertyType</a> for details about the types.</p>

            

<ul>
    <li class="dash"><code>String</code>: Arbitrary length strings</li>
    <li class="dash"><code>Binary</code>: Binary stream using PHP streams</li>
    <li class="dash"><code>Long</code>: Integer number (alias Int for convenience), limited by PHP_MAX_INT</li>
    <li class="dash"><code>Decimal</code>: Arbitrary length number value (PHP string type for use with <code>bcmath</code>)</li>
    <li class="dash"><code>Double</code>: Floating point number (alias Float for convenience)</li>
    <li class="dash"><code>Date</code>: DateTime object</li>
    <li class="dash"><code>Boolean</code>: Boolean value</li>
    <li class="dash"><code>Name</code>: A valid PHPCR name</li>
    <li class="dash"><code>Path</code>: A valid PHPCR path</li>
    <li class="dash"><code>Uri</code>: A valid URI, for example a URL</li>
</ul>

            
    <p>Each document can have a unique identifier for referencing it. While the uuid is
also exposed as a read-only string property, the proper mapping for it is mapping
it as UUID. See <a href="association-mapping.html#association-mapping_referenceable">References</a> for more
information.</p>

                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>DateTime types are compared by reference, not by value. Doctrine updates these values
if the reference changes and therefore behaves as if these objects are immutable value objects.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
                        <div class="alert warning-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-exclamation-circle text-warning mr-2"></i></td>
            <td>
                                                
    <p>All Date types assume that you are exclusively using the default timezone
set by <a href="http://docs.php.net/manual/en/function.date-default-timezone-set.php">date_default_timezone_set()</a>
or by the php.ini configuration <code>date.timezone</code>. Working with
different timezones will cause troubles and unexpected behavior.</p>

    <p>If you need specific timezone handling you have to handle this
in your domain, converting all the values back and forth from UTC.
There is also a <a href="http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/cookbook/working-with-datetime.html">cookbook entry in the ORM documentation</a>
on working with datetimes that gives hints for implementing
multi timezone applications.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
            <div class="section" id="property-mapping">
            <h2 class="section-header ">
    <a href="#property-mapping">
        Property Mapping
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>After a class has been marked as a document it can specify mappings
for its instance fields. Properties are only simple fields
that hold scalar values like strings, numbers, etc, or arrays thereof.
Although references are also stored as properties in PHPCR, they have
their own mappings - see the chapter &quot;Association Mapping&quot;.</p>

            
    <p>To mark a property for relational persistence the <code>#[Field]</code> attribute
is used. This attribute requires at least the <code>type</code> parameter to be set.
The <code>type</code> parameter specifies the Doctrine Mapping Type to use for the
field. If the type is not specified, PHPCR-ODM will try to let the PHPCR
implementation determine a suitable type.</p>

            
    <p>Example:</p>

            <div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="php"
                    aria-controls="configuration-block-tabpanel-204ddcc01cd924bac4eaee3ec62aee99" aria-selected="true"
                    data-active="true" >
                <span>Php</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                    aria-controls="configuration-block-tabpanel-70a5db40340c9707aa64a59239371737" aria-selected="false"
                     tabindex="-1">
                <span>Xml</span>
            </button>
                    <button role="tab" type="button" data-language="yaml"
                    aria-controls="configuration-block-tabpanel-f1143afe2943cfa2ae16b5707457278e" aria-selected="false"
                     tabindex="-1">
                <span>Yaml</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-204ddcc01cd924bac4eaee3ec62aee99" aria-label="Php" class="configuration-codeblock" data-language="php" style="">
            <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-1" class="line-number-anchor" /><a href="#line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-1">1</a></td><td class="code-line" rowspan="12"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ODM</span>\<span class="hljs-title">PHPCR</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">Attributes</span> <span class="hljs-title">as</span> <span class="hljs-title">PHPCR</span>;

<span class="hljs-comment">#[PHPCR\Document]</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyPersistentClass</span>
</span>{
    <span class="hljs-comment">#[PHPCR\Field(type: 'long')]</span>
    <span class="hljs-keyword">private</span> int $count;

    <span class="hljs-comment">#[PHPCR\Field(type: 'string')]</span>
    <span class="hljs-keyword">private</span> string $name; <span class="hljs-comment">// type defaults to string</span>
    <span class="hljs-comment">//...</span>
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-2" class="line-number-anchor" /><a href="#line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-3" class="line-number-anchor" /><a href="#line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-4" class="line-number-anchor" /><a href="#line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-5" class="line-number-anchor" /><a href="#line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-6" class="line-number-anchor" /><a href="#line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-7" class="line-number-anchor" /><a href="#line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-8" class="line-number-anchor" /><a href="#line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-9" class="line-number-anchor" /><a href="#line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-10" class="line-number-anchor" /><a href="#line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-11" class="line-number-anchor" /><a href="#line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-12" class="line-number-anchor" /><a href="#line-number-66a6ca913af319cf6f87d8ca3d2fd5ee24951c3e-12">12</a></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-70a5db40340c9707aa64a59239371737" aria-label="Xml" class="configuration-codeblock" data-language="xml" style="display: none">
            <pre class="code-block-table"><code class="xml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="5a9263bb3e1e301bd869cfbd18fc862b02fa28ac"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="5a9263bb3e1e301bd869cfbd18fc862b02fa28ac"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-5a9263bb3e1e301bd869cfbd18fc862b02fa28ac-1" class="line-number-anchor" /><a href="#line-number-5a9263bb3e1e301bd869cfbd18fc862b02fa28ac-1">1</a></td><td class="code-line" rowspan="6"><span class="hljs-tag">&lt;<span class="hljs-name">doctrine-mapping</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">document</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"MyPersistentClass"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">field</span> <span class="hljs-attr">fieldName</span>=<span class="hljs-string">"count"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"long"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">field</span> <span class="hljs-attr">fieldName</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"string"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">document</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">doctrine-mapping</span>&gt;</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5a9263bb3e1e301bd869cfbd18fc862b02fa28ac-2" class="line-number-anchor" /><a href="#line-number-5a9263bb3e1e301bd869cfbd18fc862b02fa28ac-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5a9263bb3e1e301bd869cfbd18fc862b02fa28ac-3" class="line-number-anchor" /><a href="#line-number-5a9263bb3e1e301bd869cfbd18fc862b02fa28ac-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5a9263bb3e1e301bd869cfbd18fc862b02fa28ac-4" class="line-number-anchor" /><a href="#line-number-5a9263bb3e1e301bd869cfbd18fc862b02fa28ac-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5a9263bb3e1e301bd869cfbd18fc862b02fa28ac-5" class="line-number-anchor" /><a href="#line-number-5a9263bb3e1e301bd869cfbd18fc862b02fa28ac-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5a9263bb3e1e301bd869cfbd18fc862b02fa28ac-6" class="line-number-anchor" /><a href="#line-number-5a9263bb3e1e301bd869cfbd18fc862b02fa28ac-6">6</a></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-f1143afe2943cfa2ae16b5707457278e" aria-label="Yaml" class="configuration-codeblock" data-language="yaml" style="display: none">
            <pre class="code-block-table"><code class="yaml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="f9e5ed6b1599b854c44f628f4fd84c34ae37dc54"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="f9e5ed6b1599b854c44f628f4fd84c34ae37dc54"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-f9e5ed6b1599b854c44f628f4fd84c34ae37dc54-1" class="line-number-anchor" /><a href="#line-number-f9e5ed6b1599b854c44f628f4fd84c34ae37dc54-1">1</a></td><td class="code-line" rowspan="6"><span class="hljs-attr">MyPersistentClass:</span>
    <span class="hljs-attr">fields:</span>
        <span class="hljs-attr">count:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">long</span>
        <span class="hljs-attr">name:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">string</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f9e5ed6b1599b854c44f628f4fd84c34ae37dc54-2" class="line-number-anchor" /><a href="#line-number-f9e5ed6b1599b854c44f628f4fd84c34ae37dc54-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f9e5ed6b1599b854c44f628f4fd84c34ae37dc54-3" class="line-number-anchor" /><a href="#line-number-f9e5ed6b1599b854c44f628f4fd84c34ae37dc54-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f9e5ed6b1599b854c44f628f4fd84c34ae37dc54-4" class="line-number-anchor" /><a href="#line-number-f9e5ed6b1599b854c44f628f4fd84c34ae37dc54-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f9e5ed6b1599b854c44f628f4fd84c34ae37dc54-5" class="line-number-anchor" /><a href="#line-number-f9e5ed6b1599b854c44f628f4fd84c34ae37dc54-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f9e5ed6b1599b854c44f628f4fd84c34ae37dc54-6" class="line-number-anchor" /><a href="#line-number-f9e5ed6b1599b854c44f628f4fd84c34ae37dc54-6">6</a></td></tr></table></div></code></pre>
        </div>
    </div>
            
    <p>In that example we mapped the field <code>count</code> to the property <code>count</code>
using the mapping type <code>long</code> and the field <code>name</code> is mapped
to the property <code>name</code> with the mapping type <code>string</code>. As
you can see, by default the column names are assumed to be the same
as the field names.</p>

            <div class="section" id="mapping-to-a-differently-named-phpcr-property">
            <h3 class="section-header ">
    <a href="#mapping-to-a-differently-named-phpcr-property">
        Mapping to a differently named PHPCR property
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>To specify a different name for the column, you can use the <code>property</code>
parameter of the Column attribute follows:</p>

            <div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="php"
                    aria-controls="configuration-block-tabpanel-7b38b046a048ca21b5bff7c3259817a1" aria-selected="true"
                    data-active="true" >
                <span>Php</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                    aria-controls="configuration-block-tabpanel-65ae43871d522eb3f4f2fb48efa36e0f" aria-selected="false"
                     tabindex="-1">
                <span>Xml</span>
            </button>
                    <button role="tab" type="button" data-language="yaml"
                    aria-controls="configuration-block-tabpanel-864c1241bee050cbdc821b7b90545740" aria-selected="false"
                     tabindex="-1">
                <span>Yaml</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-7b38b046a048ca21b5bff7c3259817a1" aria-label="Php" class="configuration-codeblock" data-language="php" style="">
            <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="933dd03f8aa535d0a00cbfbd06a21e825c5c8cf2"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="933dd03f8aa535d0a00cbfbd06a21e825c5c8cf2"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-933dd03f8aa535d0a00cbfbd06a21e825c5c8cf2-1" class="line-number-anchor" /><a href="#line-number-933dd03f8aa535d0a00cbfbd06a21e825c5c8cf2-1">1</a></td><td class="code-line" rowspan="4"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ODM</span>\<span class="hljs-title">PHPCR</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">Attributes</span> <span class="hljs-title">as</span> <span class="hljs-title">PHPCR</span>;

<span class="hljs-comment">#[PHPCR\Field(property: 'db_name'"')]</span>
<span class="hljs-keyword">private</span> string $myField;</td></tr>
<tr><td class="line-number noselect"><a name="line-number-933dd03f8aa535d0a00cbfbd06a21e825c5c8cf2-2" class="line-number-anchor" /><a href="#line-number-933dd03f8aa535d0a00cbfbd06a21e825c5c8cf2-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-933dd03f8aa535d0a00cbfbd06a21e825c5c8cf2-3" class="line-number-anchor" /><a href="#line-number-933dd03f8aa535d0a00cbfbd06a21e825c5c8cf2-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-933dd03f8aa535d0a00cbfbd06a21e825c5c8cf2-4" class="line-number-anchor" /><a href="#line-number-933dd03f8aa535d0a00cbfbd06a21e825c5c8cf2-4">4</a></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-65ae43871d522eb3f4f2fb48efa36e0f" aria-label="Xml" class="configuration-codeblock" data-language="xml" style="display: none">
            <pre class="code-block-table"><code class="xml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="7822acd2f60ba5f91688ec056c5a501675525898"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="7822acd2f60ba5f91688ec056c5a501675525898"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-7822acd2f60ba5f91688ec056c5a501675525898-1" class="line-number-anchor" /><a href="#line-number-7822acd2f60ba5f91688ec056c5a501675525898-1">1</a></td><td class="code-line" rowspan="5"><span class="hljs-tag">&lt;<span class="hljs-name">doctrine-mapping</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">document</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"MyPersistentClass"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">field</span> <span class="hljs-attr">fieldName</span>=<span class="hljs-string">"myField"</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"db_name"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">document</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">doctrine-mapping</span>&gt;</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7822acd2f60ba5f91688ec056c5a501675525898-2" class="line-number-anchor" /><a href="#line-number-7822acd2f60ba5f91688ec056c5a501675525898-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7822acd2f60ba5f91688ec056c5a501675525898-3" class="line-number-anchor" /><a href="#line-number-7822acd2f60ba5f91688ec056c5a501675525898-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7822acd2f60ba5f91688ec056c5a501675525898-4" class="line-number-anchor" /><a href="#line-number-7822acd2f60ba5f91688ec056c5a501675525898-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7822acd2f60ba5f91688ec056c5a501675525898-5" class="line-number-anchor" /><a href="#line-number-7822acd2f60ba5f91688ec056c5a501675525898-5">5</a></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-864c1241bee050cbdc821b7b90545740" aria-label="Yaml" class="configuration-codeblock" data-language="yaml" style="display: none">
            <pre class="code-block-table"><code class="yaml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="079d9e67ab0a89e628fa79414561f9778c898604"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="079d9e67ab0a89e628fa79414561f9778c898604"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-079d9e67ab0a89e628fa79414561f9778c898604-1" class="line-number-anchor" /><a href="#line-number-079d9e67ab0a89e628fa79414561f9778c898604-1">1</a></td><td class="code-line" rowspan="5"><span class="hljs-attr">MyPersistentClass:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">document</span>
    <span class="hljs-attr">fields:</span>
        <span class="hljs-attr">myField:</span>
            <span class="hljs-attr">property:</span> <span class="hljs-string">db_name</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-079d9e67ab0a89e628fa79414561f9778c898604-2" class="line-number-anchor" /><a href="#line-number-079d9e67ab0a89e628fa79414561f9778c898604-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-079d9e67ab0a89e628fa79414561f9778c898604-3" class="line-number-anchor" /><a href="#line-number-079d9e67ab0a89e628fa79414561f9778c898604-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-079d9e67ab0a89e628fa79414561f9778c898604-4" class="line-number-anchor" /><a href="#line-number-079d9e67ab0a89e628fa79414561f9778c898604-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-079d9e67ab0a89e628fa79414561f9778c898604-5" class="line-number-anchor" /><a href="#line-number-079d9e67ab0a89e628fa79414561f9778c898604-5">5</a></td></tr></table></div></code></pre>
        </div>
    </div>
    </div>
            <div class="section" id="mapping-multivalue-properties">
            <a id="basicmapping_mappingmultivalueproperties"></a>
            <h3 class="section-header ">
    <a href="#mapping-multivalue-properties">
        Mapping multivalue properties
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>PHPCR handles multivalue (array) data natively. The PHPCR-ODM exposes this feature through the
<code>multivalue</code> attribute of properties and adds support for hashmaps (storing the keys as well).
Unless specified as true, properties are considered single value.</p>

            <div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="php"
                    aria-controls="configuration-block-tabpanel-2d0593637cf29b3dd7ad6315a4e24766" aria-selected="true"
                    data-active="true" >
                <span>Php</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                    aria-controls="configuration-block-tabpanel-6a667bbeb1446c65e8a091c13a41233f" aria-selected="false"
                     tabindex="-1">
                <span>Xml</span>
            </button>
                    <button role="tab" type="button" data-language="yaml"
                    aria-controls="configuration-block-tabpanel-0160b4b4761ef0d4245c30a62ecee9c5" aria-selected="false"
                     tabindex="-1">
                <span>Yaml</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-2d0593637cf29b3dd7ad6315a4e24766" aria-label="Php" class="configuration-codeblock" data-language="php" style="">
            <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="2612fa662f4bf03885a79988ac33fcde73ab673e"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="2612fa662f4bf03885a79988ac33fcde73ab673e"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-2612fa662f4bf03885a79988ac33fcde73ab673e-1" class="line-number-anchor" /><a href="#line-number-2612fa662f4bf03885a79988ac33fcde73ab673e-1">1</a></td><td class="code-line" rowspan="4"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ODM</span>\<span class="hljs-title">PHPCR</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">Attributes</span> <span class="hljs-title">as</span> <span class="hljs-title">PHPCR</span>;

<span class="hljs-comment">#[PHPCR\Field(type: 'string', multivalue: true)]</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">array</span> $names;</td></tr>
<tr><td class="line-number noselect"><a name="line-number-2612fa662f4bf03885a79988ac33fcde73ab673e-2" class="line-number-anchor" /><a href="#line-number-2612fa662f4bf03885a79988ac33fcde73ab673e-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2612fa662f4bf03885a79988ac33fcde73ab673e-3" class="line-number-anchor" /><a href="#line-number-2612fa662f4bf03885a79988ac33fcde73ab673e-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-2612fa662f4bf03885a79988ac33fcde73ab673e-4" class="line-number-anchor" /><a href="#line-number-2612fa662f4bf03885a79988ac33fcde73ab673e-4">4</a></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-6a667bbeb1446c65e8a091c13a41233f" aria-label="Xml" class="configuration-codeblock" data-language="xml" style="display: none">
            <pre class="code-block-table"><code class="xml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="8f6e7929278f4f60318a9adac81f01e586f9a35d"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="8f6e7929278f4f60318a9adac81f01e586f9a35d"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-8f6e7929278f4f60318a9adac81f01e586f9a35d-1" class="line-number-anchor" /><a href="#line-number-8f6e7929278f4f60318a9adac81f01e586f9a35d-1">1</a></td><td class="code-line" rowspan="5"><span class="hljs-tag">&lt;<span class="hljs-name">doctrine-mapping</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">document</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"MyPersistentClass"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">field</span> <span class="hljs-attr">fieldName</span>=<span class="hljs-string">"names"</span> <span class="hljs-attr">multivalue</span>=<span class="hljs-string">"true"</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">document</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">doctrine-mapping</span>&gt;</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-8f6e7929278f4f60318a9adac81f01e586f9a35d-2" class="line-number-anchor" /><a href="#line-number-8f6e7929278f4f60318a9adac81f01e586f9a35d-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-8f6e7929278f4f60318a9adac81f01e586f9a35d-3" class="line-number-anchor" /><a href="#line-number-8f6e7929278f4f60318a9adac81f01e586f9a35d-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-8f6e7929278f4f60318a9adac81f01e586f9a35d-4" class="line-number-anchor" /><a href="#line-number-8f6e7929278f4f60318a9adac81f01e586f9a35d-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-8f6e7929278f4f60318a9adac81f01e586f9a35d-5" class="line-number-anchor" /><a href="#line-number-8f6e7929278f4f60318a9adac81f01e586f9a35d-5">5</a></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-0160b4b4761ef0d4245c30a62ecee9c5" aria-label="Yaml" class="configuration-codeblock" data-language="yaml" style="display: none">
            <pre class="code-block-table"><code class="yaml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="f2e842dead3692fcd8c4e5d3168b8b65636f313e"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="f2e842dead3692fcd8c4e5d3168b8b65636f313e"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-f2e842dead3692fcd8c4e5d3168b8b65636f313e-1" class="line-number-anchor" /><a href="#line-number-f2e842dead3692fcd8c4e5d3168b8b65636f313e-1">1</a></td><td class="code-line" rowspan="5"><span class="hljs-attr">MyPersistentClass:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">document</span>
    <span class="hljs-attr">fields:</span>
        <span class="hljs-attr">names:</span>
            <span class="hljs-attr">multivalue:</span> <span class="hljs-literal">true</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f2e842dead3692fcd8c4e5d3168b8b65636f313e-2" class="line-number-anchor" /><a href="#line-number-f2e842dead3692fcd8c4e5d3168b8b65636f313e-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f2e842dead3692fcd8c4e5d3168b8b65636f313e-3" class="line-number-anchor" /><a href="#line-number-f2e842dead3692fcd8c4e5d3168b8b65636f313e-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f2e842dead3692fcd8c4e5d3168b8b65636f313e-4" class="line-number-anchor" /><a href="#line-number-f2e842dead3692fcd8c4e5d3168b8b65636f313e-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f2e842dead3692fcd8c4e5d3168b8b65636f313e-5" class="line-number-anchor" /><a href="#line-number-f2e842dead3692fcd8c4e5d3168b8b65636f313e-5">5</a></td></tr></table></div></code></pre>
        </div>
    </div>
            
    <p>This mapping expects the field $names to contain an array of strings. When reading from the database,
a multivalue property is expected and the field will be set to the array of strings.</p>

            
    <p>The multivalue mapping will lose the keys of the array. To store hashmaps with keys, use the assoc
attribute. This attribute implies multivalue so you don&#039;t need to repeat multivalue=true. The following
configuration will result in the PHPCR property namesKeys for the names array and listArraykeys for
the list keys.</p>

            <div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="php"
                    aria-controls="configuration-block-tabpanel-ad3f7b188a619b58a874121db4653ff3" aria-selected="true"
                    data-active="true" >
                <span>Php</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                    aria-controls="configuration-block-tabpanel-e70608e81050c9267a74c873e5dfec4e" aria-selected="false"
                     tabindex="-1">
                <span>Xml</span>
            </button>
                    <button role="tab" type="button" data-language="yaml"
                    aria-controls="configuration-block-tabpanel-e6922eb305144fda863b83905e27af19" aria-selected="false"
                     tabindex="-1">
                <span>Yaml</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-ad3f7b188a619b58a874121db4653ff3" aria-label="Php" class="configuration-codeblock" data-language="php" style="">
            <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="a47ef12207ee043071ef740d97cad3b14ec3e29b"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="a47ef12207ee043071ef740d97cad3b14ec3e29b"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-a47ef12207ee043071ef740d97cad3b14ec3e29b-1" class="line-number-anchor" /><a href="#line-number-a47ef12207ee043071ef740d97cad3b14ec3e29b-1">1</a></td><td class="code-line" rowspan="7"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ODM</span>\<span class="hljs-title">PHPCR</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">Attributes</span> <span class="hljs-title">as</span> <span class="hljs-title">PHPCR</span>;

<span class="hljs-comment">#[PHPCR\Field(type: 'string', assoc: '')]</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">array</span> $names;

<span class="hljs-comment">#[PHPCR\Field(type: 'string', assoc: 'listArraykeys')]</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">array</span> $list;</td></tr>
<tr><td class="line-number noselect"><a name="line-number-a47ef12207ee043071ef740d97cad3b14ec3e29b-2" class="line-number-anchor" /><a href="#line-number-a47ef12207ee043071ef740d97cad3b14ec3e29b-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a47ef12207ee043071ef740d97cad3b14ec3e29b-3" class="line-number-anchor" /><a href="#line-number-a47ef12207ee043071ef740d97cad3b14ec3e29b-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a47ef12207ee043071ef740d97cad3b14ec3e29b-4" class="line-number-anchor" /><a href="#line-number-a47ef12207ee043071ef740d97cad3b14ec3e29b-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a47ef12207ee043071ef740d97cad3b14ec3e29b-5" class="line-number-anchor" /><a href="#line-number-a47ef12207ee043071ef740d97cad3b14ec3e29b-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a47ef12207ee043071ef740d97cad3b14ec3e29b-6" class="line-number-anchor" /><a href="#line-number-a47ef12207ee043071ef740d97cad3b14ec3e29b-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-a47ef12207ee043071ef740d97cad3b14ec3e29b-7" class="line-number-anchor" /><a href="#line-number-a47ef12207ee043071ef740d97cad3b14ec3e29b-7">7</a></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-e70608e81050c9267a74c873e5dfec4e" aria-label="Xml" class="configuration-codeblock" data-language="xml" style="display: none">
            <pre class="code-block-table"><code class="xml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="76aebb100bd9f41562b1e3d2d8c3ddc434a4923a"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="76aebb100bd9f41562b1e3d2d8c3ddc434a4923a"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-76aebb100bd9f41562b1e3d2d8c3ddc434a4923a-1" class="line-number-anchor" /><a href="#line-number-76aebb100bd9f41562b1e3d2d8c3ddc434a4923a-1">1</a></td><td class="code-line" rowspan="6"><span class="hljs-tag">&lt;<span class="hljs-name">doctrine-mapping</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">document</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"MyPersistentClass"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">field</span> <span class="hljs-attr">fieldName</span>=<span class="hljs-string">"names"</span> <span class="hljs-attr">assoc</span>=<span class="hljs-string">""</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">field</span> <span class="hljs-attr">fieldName</span>=<span class="hljs-string">"list"</span> <span class="hljs-attr">assoc</span>=<span class="hljs-string">"listArraykeys"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">document</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">doctrine-mapping</span>&gt;</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-76aebb100bd9f41562b1e3d2d8c3ddc434a4923a-2" class="line-number-anchor" /><a href="#line-number-76aebb100bd9f41562b1e3d2d8c3ddc434a4923a-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-76aebb100bd9f41562b1e3d2d8c3ddc434a4923a-3" class="line-number-anchor" /><a href="#line-number-76aebb100bd9f41562b1e3d2d8c3ddc434a4923a-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-76aebb100bd9f41562b1e3d2d8c3ddc434a4923a-4" class="line-number-anchor" /><a href="#line-number-76aebb100bd9f41562b1e3d2d8c3ddc434a4923a-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-76aebb100bd9f41562b1e3d2d8c3ddc434a4923a-5" class="line-number-anchor" /><a href="#line-number-76aebb100bd9f41562b1e3d2d8c3ddc434a4923a-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-76aebb100bd9f41562b1e3d2d8c3ddc434a4923a-6" class="line-number-anchor" /><a href="#line-number-76aebb100bd9f41562b1e3d2d8c3ddc434a4923a-6">6</a></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-e6922eb305144fda863b83905e27af19" aria-label="Yaml" class="configuration-codeblock" data-language="yaml" style="display: none">
            <pre class="code-block-table"><code class="yaml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="c9b7497bb128606636691be87ba640f8a56101a2"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="c9b7497bb128606636691be87ba640f8a56101a2"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-c9b7497bb128606636691be87ba640f8a56101a2-1" class="line-number-anchor" /><a href="#line-number-c9b7497bb128606636691be87ba640f8a56101a2-1">1</a></td><td class="code-line" rowspan="7"><span class="hljs-attr">MyPersistentClass:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">document</span>
    <span class="hljs-attr">fields:</span>
        <span class="hljs-attr">names:</span>
            <span class="hljs-attr">assoc:</span> <span class="hljs-string">""</span>
        <span class="hljs-attr">list:</span>
            <span class="hljs-attr">assoc:</span> <span class="hljs-string">"listArraykeys"</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c9b7497bb128606636691be87ba640f8a56101a2-2" class="line-number-anchor" /><a href="#line-number-c9b7497bb128606636691be87ba640f8a56101a2-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c9b7497bb128606636691be87ba640f8a56101a2-3" class="line-number-anchor" /><a href="#line-number-c9b7497bb128606636691be87ba640f8a56101a2-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c9b7497bb128606636691be87ba640f8a56101a2-4" class="line-number-anchor" /><a href="#line-number-c9b7497bb128606636691be87ba640f8a56101a2-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c9b7497bb128606636691be87ba640f8a56101a2-5" class="line-number-anchor" /><a href="#line-number-c9b7497bb128606636691be87ba640f8a56101a2-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c9b7497bb128606636691be87ba640f8a56101a2-6" class="line-number-anchor" /><a href="#line-number-c9b7497bb128606636691be87ba640f8a56101a2-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-c9b7497bb128606636691be87ba640f8a56101a2-7" class="line-number-anchor" /><a href="#line-number-c9b7497bb128606636691be87ba640f8a56101a2-7">7</a></td></tr></table></div></code></pre>
        </div>
    </div>
    </div>
            <div class="section" id="summary">
            <h3 class="section-header ">
    <a href="#summary">
        Summary
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>These are all parameters of the property mapping. The ORM knows quite a few validation parameters
because they are used to generate the database schema. As PHPCR-ODM does not (yet) generate PHPCR
node type definitions, there is no need for validation.</p>

            
    <p>If you need to validate your documents, take a look at validator components like the Symfony validator.</p>

            
    <p>Again a short list for the overview:</p>

            

<ul>
    <li class="dash"><code>type</code>: (optional, autodetected if not specified) The mapping type to
use for the property.</li>
    <li class="dash"><code>name</code>: (optional, defaults to field name) The name of the
property in the repository.</li>
    <li class="dash"><code>multivalue</code>: (optional, defaults to false) If this is set to true, the
property is an array of the specified type.</li>
    <li class="dash"><code>assoc</code>: (optional, defaults to false) If set to a string, the value is
considered multivalue and the keys are stored in the PHPCR property given
for the assoc property. If the value of assoc is empty, the name for the
key field is the normal field name with <code>Keys</code> appended.</li>
</ul>

    </div>
    </div>
            <div class="section" id="identifiers">
            <a id="basicmapping_identifiers"></a>
            <h2 class="section-header ">
    <a href="#identifiers">
        Identifiers
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Every document has an identifier. The id in PHPCR-ODM is the PHPCR path.</p>

                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>The id being the path, it is not totally immutable. When the document is
moved either explicitly with <code>DocumentManager::move()</code> or by assignment
of a different <code>#[Field(type: &#039;name&#039;)]</code> or <code>#[ParentDocument]</code>, the id
will change. This was discussed thoroughly and is considered the best solution.</p>

    <p>If you need to reference a document reliably even when moving, look at the
<code>#[ReferenceOne]</code> and the <code>#[Uuid]</code> attributes explained in the
<a href="attributes-mapping.html">next chapter</a>.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
            
    <p>While you can manually assign the id, this is not recommended. When manually
assigning, you need to ensure that the parent document defined in the assigned
path exists. The recommended way is to use the <code>#[ParentDocument]</code> and
<code>#[Nodename]</code> attributes to place the document in the tree. When using that
strategy, you need not have a property with the <code>#[Id]</code> attribute - though if
you need access to the path for something, you can also map the id.</p>

            <div class="section" id="identifier-generation-strategies">
            <a id="basicmapping_identifier_generation_strategies"></a>
            <h3 class="section-header ">
    <a href="#identifier-generation-strategies">
        Identifier Generation Strategies
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Every document needs a unique id. PHPCR-ODM provides a couple of id strategies.
You can specify one of them explicitly on the id mapping, or let the PHPCR-ODM
pick a fitting one. The order is:</p>

            

<ul>
    <li class="dash">Explicitly specified strategy on the <code>id</code> mapping, for example
<code>#[PHPCR\Id(strategy: &#039;repository&#039;)]</code></li>
    <li class="dash">If the document has a <code>#[ParentDocument]</code> and a <code>#[Nodename]</code> field, the
<code>parent</code> is used to determine the id from this information. This
is the most failsave strategy as it will ensure that there is a PHPCR parent
existing for the document;</li>
    <li class="dash">If only an <code>#[ParentDocument]</code> field is present, the <code>auto</code> takes
the path from the <code>#[ParentDocument]</code> as the parent id generator does, but
generates the node name automatically using the PHPCR <code>addNodeAutoNamed</code>
method;</li>
    <li class="dash">If there is only an id field, the <code>assigned</code> is used. It expects
you to assign the repository path to the id field. You will have to make sure
yourself that the parent exists.</li>
</ul>

            
    <p>Another strategy that is never chosen automatically but that you can assign
explicitly is the <code>RepositoryIdGenerator</code>. For this you need to configure a
custom repository implementing <code>RepositoryIdInterface</code>. This way you can
implement any logic you might need.</p>

            <div class="section" id="parent-and-name-strategy-recommended">
            <h4 class="section-header ">
    <a href="#parent-and-name-strategy-recommended">
        Parent and name strategy (recommended)
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>This strategy uses the <code>#[Nodename]</code> (name of this node) and
<code>#[ParentDocument]</code> (PHPCR-ODM document that is the parent). The id is generated
as the id of the parent concatenated with &#039;/&#039; and the Nodename.</p>

            
    <p>If you supply a ParentDocument attribute, the strategy is automatically set to
parent. This strategy will check the parent and the name and will fall back to
the assigned id if either is missing.</p>

            <div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="php"
                    aria-controls="configuration-block-tabpanel-3fb75042e85d5b457c4c8e64b68b18c4" aria-selected="true"
                    data-active="true" >
                <span>Php</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                    aria-controls="configuration-block-tabpanel-e4658c5ec2891c9f20d2df106bc1d098" aria-selected="false"
                     tabindex="-1">
                <span>Xml</span>
            </button>
                    <button role="tab" type="button" data-language="yaml"
                    aria-controls="configuration-block-tabpanel-b4e2edd63bc76a52b01e868ea2e99b02" aria-selected="false"
                     tabindex="-1">
                <span>Yaml</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-3fb75042e85d5b457c4c8e64b68b18c4" aria-label="Php" class="configuration-codeblock" data-language="php" style="">
            <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="4c46d9067d5503d47569c93734c9c3c5b3186245"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="4c46d9067d5503d47569c93734c9c3c5b3186245"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-4c46d9067d5503d47569c93734c9c3c5b3186245-1" class="line-number-anchor" /><a href="#line-number-4c46d9067d5503d47569c93734c9c3c5b3186245-1">1</a></td><td class="code-line" rowspan="7"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ODM</span>\<span class="hljs-title">PHPCR</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">Attributes</span> <span class="hljs-title">as</span> <span class="hljs-title">PHPCR</span>;

<span class="hljs-comment">#[PHPCR\ParentDocument]</span>
<span class="hljs-keyword">private</span> object $parent;

<span class="hljs-comment">#[PHPCR\Nodename]</span>
<span class="hljs-keyword">private</span> string $nodename;</td></tr>
<tr><td class="line-number noselect"><a name="line-number-4c46d9067d5503d47569c93734c9c3c5b3186245-2" class="line-number-anchor" /><a href="#line-number-4c46d9067d5503d47569c93734c9c3c5b3186245-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4c46d9067d5503d47569c93734c9c3c5b3186245-3" class="line-number-anchor" /><a href="#line-number-4c46d9067d5503d47569c93734c9c3c5b3186245-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4c46d9067d5503d47569c93734c9c3c5b3186245-4" class="line-number-anchor" /><a href="#line-number-4c46d9067d5503d47569c93734c9c3c5b3186245-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4c46d9067d5503d47569c93734c9c3c5b3186245-5" class="line-number-anchor" /><a href="#line-number-4c46d9067d5503d47569c93734c9c3c5b3186245-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4c46d9067d5503d47569c93734c9c3c5b3186245-6" class="line-number-anchor" /><a href="#line-number-4c46d9067d5503d47569c93734c9c3c5b3186245-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4c46d9067d5503d47569c93734c9c3c5b3186245-7" class="line-number-anchor" /><a href="#line-number-4c46d9067d5503d47569c93734c9c3c5b3186245-7">7</a></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-e4658c5ec2891c9f20d2df106bc1d098" aria-label="Xml" class="configuration-codeblock" data-language="xml" style="display: none">
            <pre class="code-block-table"><code class="xml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="4d1e6cd8f32dc9da826dd3b91617edc4dfd72bd9"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="4d1e6cd8f32dc9da826dd3b91617edc4dfd72bd9"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-4d1e6cd8f32dc9da826dd3b91617edc4dfd72bd9-1" class="line-number-anchor" /><a href="#line-number-4d1e6cd8f32dc9da826dd3b91617edc4dfd72bd9-1">1</a></td><td class="code-line" rowspan="6"><span class="hljs-tag">&lt;<span class="hljs-name">doctrine-mapping</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">document</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"MyPersistentClass"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">parentdocument</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"parent"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">nodename</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"nodename"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">document</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">doctrine-mapping</span>&gt;</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4d1e6cd8f32dc9da826dd3b91617edc4dfd72bd9-2" class="line-number-anchor" /><a href="#line-number-4d1e6cd8f32dc9da826dd3b91617edc4dfd72bd9-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4d1e6cd8f32dc9da826dd3b91617edc4dfd72bd9-3" class="line-number-anchor" /><a href="#line-number-4d1e6cd8f32dc9da826dd3b91617edc4dfd72bd9-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4d1e6cd8f32dc9da826dd3b91617edc4dfd72bd9-4" class="line-number-anchor" /><a href="#line-number-4d1e6cd8f32dc9da826dd3b91617edc4dfd72bd9-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4d1e6cd8f32dc9da826dd3b91617edc4dfd72bd9-5" class="line-number-anchor" /><a href="#line-number-4d1e6cd8f32dc9da826dd3b91617edc4dfd72bd9-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4d1e6cd8f32dc9da826dd3b91617edc4dfd72bd9-6" class="line-number-anchor" /><a href="#line-number-4d1e6cd8f32dc9da826dd3b91617edc4dfd72bd9-6">6</a></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-b4e2edd63bc76a52b01e868ea2e99b02" aria-label="Yaml" class="configuration-codeblock" data-language="yaml" style="display: none">
            <pre class="code-block-table"><code class="yaml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="3aa9135322f5b413deff3fd8d1c5f8585e9983ea"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="3aa9135322f5b413deff3fd8d1c5f8585e9983ea"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-3aa9135322f5b413deff3fd8d1c5f8585e9983ea-1" class="line-number-anchor" /><a href="#line-number-3aa9135322f5b413deff3fd8d1c5f8585e9983ea-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-attr">MyPersistentClass:</span>
    <span class="hljs-attr">parentdocument:</span> <span class="hljs-string">parent</span>
    <span class="hljs-attr">nodename:</span> <span class="hljs-string">nodename</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-3aa9135322f5b413deff3fd8d1c5f8585e9983ea-2" class="line-number-anchor" /><a href="#line-number-3aa9135322f5b413deff3fd8d1c5f8585e9983ea-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-3aa9135322f5b413deff3fd8d1c5f8585e9983ea-3" class="line-number-anchor" /><a href="#line-number-3aa9135322f5b413deff3fd8d1c5f8585e9983ea-3">3</a></td></tr></table></div></code></pre>
        </div>
    </div>
            
    <p>To create a new document, you do something like this:</p>

            <div class="console"><pre><code class="console"><span class="noselect">$ </span>doc = new Document();
<span class="noselect">$ </span>doc->setParent($dm->find(null, '/test'));
<span class="noselect">$ </span>doc->setNodename('mynode');
// document is persisted with id /test/mynode
</code></pre></div>
    </div>
            <div class="section" id="assigned-id">
            <h4 class="section-header ">
    <a href="#assigned-id">
        Assigned Id
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>This is the default but very unsafe strategy. You need to manually assign the
path to the id field.
A document is not allowed to have no parent, so you need to make sure that the
parent of that path already exists. (It can be a plain PHPCR node not
representing any PHPCR-ODM document, though.)</p>

            <div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="php"
                    aria-controls="configuration-block-tabpanel-20890df3de6bac037a33cd01ac400cdb" aria-selected="true"
                    data-active="true" >
                <span>Php</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                    aria-controls="configuration-block-tabpanel-9cc85e6a6083f8cb6911bc42249a0519" aria-selected="false"
                     tabindex="-1">
                <span>Xml</span>
            </button>
                    <button role="tab" type="button" data-language="yaml"
                    aria-controls="configuration-block-tabpanel-01ff8d4fd442c9465ca2601ec77244af" aria-selected="false"
                     tabindex="-1">
                <span>Yaml</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-20890df3de6bac037a33cd01ac400cdb" aria-label="Php" class="configuration-codeblock" data-language="php" style="">
            <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="7189a5b9f232f0c3ef52b341ec90dae23b0de8a0"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="7189a5b9f232f0c3ef52b341ec90dae23b0de8a0"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-7189a5b9f232f0c3ef52b341ec90dae23b0de8a0-1" class="line-number-anchor" /><a href="#line-number-7189a5b9f232f0c3ef52b341ec90dae23b0de8a0-1">1</a></td><td class="code-line" rowspan="4"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ODM</span>\<span class="hljs-title">PHPCR</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">Attributes</span> <span class="hljs-title">as</span> <span class="hljs-title">PHPCR</span>;

<span class="hljs-comment">#[PHPCR\Id]</span>
<span class="hljs-keyword">private</span> string $id;</td></tr>
<tr><td class="line-number noselect"><a name="line-number-7189a5b9f232f0c3ef52b341ec90dae23b0de8a0-2" class="line-number-anchor" /><a href="#line-number-7189a5b9f232f0c3ef52b341ec90dae23b0de8a0-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7189a5b9f232f0c3ef52b341ec90dae23b0de8a0-3" class="line-number-anchor" /><a href="#line-number-7189a5b9f232f0c3ef52b341ec90dae23b0de8a0-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-7189a5b9f232f0c3ef52b341ec90dae23b0de8a0-4" class="line-number-anchor" /><a href="#line-number-7189a5b9f232f0c3ef52b341ec90dae23b0de8a0-4">4</a></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-9cc85e6a6083f8cb6911bc42249a0519" aria-label="Xml" class="configuration-codeblock" data-language="xml" style="display: none">
            <pre class="code-block-table"><code class="xml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="ff67664325800a99aa0a948849d4fe59c41a92b2"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="ff67664325800a99aa0a948849d4fe59c41a92b2"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-ff67664325800a99aa0a948849d4fe59c41a92b2-1" class="line-number-anchor" /><a href="#line-number-ff67664325800a99aa0a948849d4fe59c41a92b2-1">1</a></td><td class="code-line" rowspan="5"><span class="hljs-tag">&lt;<span class="hljs-name">doctrine-mapping</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">document</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"MyPersistentClass"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"id"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">document</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">doctrine-mapping</span>&gt;</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ff67664325800a99aa0a948849d4fe59c41a92b2-2" class="line-number-anchor" /><a href="#line-number-ff67664325800a99aa0a948849d4fe59c41a92b2-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ff67664325800a99aa0a948849d4fe59c41a92b2-3" class="line-number-anchor" /><a href="#line-number-ff67664325800a99aa0a948849d4fe59c41a92b2-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ff67664325800a99aa0a948849d4fe59c41a92b2-4" class="line-number-anchor" /><a href="#line-number-ff67664325800a99aa0a948849d4fe59c41a92b2-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-ff67664325800a99aa0a948849d4fe59c41a92b2-5" class="line-number-anchor" /><a href="#line-number-ff67664325800a99aa0a948849d4fe59c41a92b2-5">5</a></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-01ff8d4fd442c9465ca2601ec77244af" aria-label="Yaml" class="configuration-codeblock" data-language="yaml" style="display: none">
            <pre class="code-block-table"><code class="yaml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="af516fa7e4f2412d3030ae75449d10d8481c5031"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="af516fa7e4f2412d3030ae75449d10d8481c5031"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-af516fa7e4f2412d3030ae75449d10d8481c5031-1" class="line-number-anchor" /><a href="#line-number-af516fa7e4f2412d3030ae75449d10d8481c5031-1">1</a></td><td class="code-line" rowspan="2"><span class="hljs-attr">MyPersistentClass:</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">~</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-af516fa7e4f2412d3030ae75449d10d8481c5031-2" class="line-number-anchor" /><a href="#line-number-af516fa7e4f2412d3030ae75449d10d8481c5031-2">2</a></td></tr></table></div></code></pre>
        </div>
    </div>
            
    <p>To create a new document, you do something like this:</p>

            <div class="console"><pre><code class="console"><span class="noselect">$ </span>doc = new Document();
<span class="noselect">$ </span>doc->setId('/test/mynode');
// document is persisted with id /test/mynode

</code></pre></div>
    </div>
            <div class="section" id="repository-strategy">
            <h4 class="section-header ">
    <a href="#repository-strategy">
        Repository strategy
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>If you need custom logic to determine the id, you can explicitly set the
strategy to &quot;repository&quot;. You need to define the repositoryClass in your Document mapping which will
handle the task of generating the id from the information in the document.
This gives you full control how you want to build the id path.</p>

            <div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="php"
                    aria-controls="configuration-block-tabpanel-580f9e15b52e40b8c333184002f19949" aria-selected="true"
                    data-active="true" >
                <span>Php</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                    aria-controls="configuration-block-tabpanel-0178ffa4cd32253e165f42fc9063bdbc" aria-selected="false"
                     tabindex="-1">
                <span>Xml</span>
            </button>
                    <button role="tab" type="button" data-language="yaml"
                    aria-controls="configuration-block-tabpanel-5a7e0d6892606677fb8a16e299307f65" aria-selected="false"
                     tabindex="-1">
                <span>Yaml</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-580f9e15b52e40b8c333184002f19949" aria-label="Php" class="configuration-codeblock" data-language="php" style="">
            <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="39bc70074d22e46391f0963625f60d60d18a20b2"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="39bc70074d22e46391f0963625f60d60d18a20b2"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-39bc70074d22e46391f0963625f60d60d18a20b2-1" class="line-number-anchor" /><a href="#line-number-39bc70074d22e46391f0963625f60d60d18a20b2-1">1</a></td><td class="code-line" rowspan="4"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ODM</span>\<span class="hljs-title">PHPCR</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">Attributes</span> <span class="hljs-title">as</span> <span class="hljs-title">PHPCR</span>;

<span class="hljs-comment">#[PHPCR\Id(strategy: 'repository')]</span>
<span class="hljs-keyword">private</span> string $id;</td></tr>
<tr><td class="line-number noselect"><a name="line-number-39bc70074d22e46391f0963625f60d60d18a20b2-2" class="line-number-anchor" /><a href="#line-number-39bc70074d22e46391f0963625f60d60d18a20b2-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-39bc70074d22e46391f0963625f60d60d18a20b2-3" class="line-number-anchor" /><a href="#line-number-39bc70074d22e46391f0963625f60d60d18a20b2-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-39bc70074d22e46391f0963625f60d60d18a20b2-4" class="line-number-anchor" /><a href="#line-number-39bc70074d22e46391f0963625f60d60d18a20b2-4">4</a></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-0178ffa4cd32253e165f42fc9063bdbc" aria-label="Xml" class="configuration-codeblock" data-language="xml" style="display: none">
            <pre class="code-block-table"><code class="xml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="0cf486424c51250c5d570969c2f2fa648861870d"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="0cf486424c51250c5d570969c2f2fa648861870d"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-0cf486424c51250c5d570969c2f2fa648861870d-1" class="line-number-anchor" /><a href="#line-number-0cf486424c51250c5d570969c2f2fa648861870d-1">1</a></td><td class="code-line" rowspan="7"><span class="hljs-tag">&lt;<span class="hljs-name">doctrine-mapping</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">document</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"MyPersistentClass"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"id"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"id"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">generator</span> <span class="hljs-attr">strategy</span>=<span class="hljs-string">"repository"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">entity</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">doctrine-mapping</span>&gt;</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0cf486424c51250c5d570969c2f2fa648861870d-2" class="line-number-anchor" /><a href="#line-number-0cf486424c51250c5d570969c2f2fa648861870d-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0cf486424c51250c5d570969c2f2fa648861870d-3" class="line-number-anchor" /><a href="#line-number-0cf486424c51250c5d570969c2f2fa648861870d-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0cf486424c51250c5d570969c2f2fa648861870d-4" class="line-number-anchor" /><a href="#line-number-0cf486424c51250c5d570969c2f2fa648861870d-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0cf486424c51250c5d570969c2f2fa648861870d-5" class="line-number-anchor" /><a href="#line-number-0cf486424c51250c5d570969c2f2fa648861870d-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0cf486424c51250c5d570969c2f2fa648861870d-6" class="line-number-anchor" /><a href="#line-number-0cf486424c51250c5d570969c2f2fa648861870d-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0cf486424c51250c5d570969c2f2fa648861870d-7" class="line-number-anchor" /><a href="#line-number-0cf486424c51250c5d570969c2f2fa648861870d-7">7</a></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-5a7e0d6892606677fb8a16e299307f65" aria-label="Yaml" class="configuration-codeblock" data-language="yaml" style="display: none">
            <pre class="code-block-table"><code class="yaml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="b4f3323b0433eef3483fe024c77b655928c66809"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="b4f3323b0433eef3483fe024c77b655928c66809"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-b4f3323b0433eef3483fe024c77b655928c66809-1" class="line-number-anchor" /><a href="#line-number-b4f3323b0433eef3483fe024c77b655928c66809-1">1</a></td><td class="code-line" rowspan="4"><span class="hljs-attr">MyPersistentClass:</span>
    <span class="hljs-attr">id:</span>
        <span class="hljs-attr">generator:</span>
            <span class="hljs-attr">strategy:</span> <span class="hljs-string">repository</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b4f3323b0433eef3483fe024c77b655928c66809-2" class="line-number-anchor" /><a href="#line-number-b4f3323b0433eef3483fe024c77b655928c66809-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b4f3323b0433eef3483fe024c77b655928c66809-3" class="line-number-anchor" /><a href="#line-number-b4f3323b0433eef3483fe024c77b655928c66809-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b4f3323b0433eef3483fe024c77b655928c66809-4" class="line-number-anchor" /><a href="#line-number-b4f3323b0433eef3483fe024c77b655928c66809-4">4</a></td></tr></table></div></code></pre>
        </div>
    </div>
            
    <p>The document code could look like this:</p>

            <div class="console"><pre><code class="console">namespace Demo;

use Doctrine\ODM\PHPCR\Mapping\Attributes as PHPCR;

#[PHPCR\Document(repositoryClass: DocumentRepository::class)]
class Document
{
    #[PHPCR\Id(strategy: 'repository')]
    private string $id;

    #[PHPCR\Field(type: 'string')]
    private string $title;
    //...
}
</code></pre></div>
            
    <p>And the corresponding repository like this:</p>

            <div class="console"><pre><code class="console">namespace Demo;

use Doctrine\ODM\PHPCR\Id\RepositoryIdInterface;
use Doctrine\ODM\PHPCR\DocumentRepository as BaseDocumentRepository;

class DocumentRepository extends BaseDocumentRepository implements RepositoryIdInterface
{
    public function generateId(Document $document, object $parent = null): string
    {
        return '/functional/'.$document->getTitle();
    }
}
</code></pre></div>
    </div>
    </div>
    </div>
            <div class="section" id="symfony-bundle">
            <h2 class="section-header ">
    <a href="#symfony-bundle">
        Symfony bundle
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>If you are using the <a href="https://github.com/doctrine/DoctrinePHPCRBundle">Symfony DoctrinePHPCRBundle</a>, you can use the <code>ValidPhpcrOdm</code> validator to validate your documents.</p>

    </div>
    </div>
        

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?1546fc"
                            integrity="sha384-ix9eb2EZyp9uayYpxmCQoylbz8msHl5wOg/aqZnD/3cxszNUGePN656MRg5GEgbm"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'phpcr-odm';
            var versionSlug = '2.0';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search PHPCR ODM 2.0'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            </body>
</html>
