<!DOCTYPE html>
<html>
    <head>
        <title>        Query Builder Reference - Doctrine PHPCR ODM
    </title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine PHPCR ODM Documentation: Query Builder Reference ">

        <meta name="keywords" content="                    php,content,odm,data,mapper,mapping,object,documentation,query,builder,reference
    ">

                    <meta name="robots" content="index, follow">
        
        
                    <link rel="canonical" href="https://www.doctrine-project.org/projects/doctrine-phpcr-odm/en/latest/reference/query-builder-reference.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?6e5d9f"
                        integrity="sha384-1gHMA2pCh3C7C5PdanZqLyU+p0j9aNUSKdqMxyST9hhhoAcooEmUcqk0Rj7owse5"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/projects/doctrine-phpcr-odm/en/latest/reference/query-builder-reference.html" />
        <meta property="og:title" content="        Query Builder Reference - Doctrine PHPCR ODM
    " />
        <meta property="og:description" content="Doctrine PHPCR ODM Documentation: Query Builder Reference " />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine PHPCR ODM",
            "description": "Query Builder Reference",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://www.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/sponsorship.html">Sponsorship</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/phpcr-odm/edit/2.0.x/docs/en/reference/query-builder-reference.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        

            <div class="toc">
    <ul class="menu-level">
    <li class="toc-item">
    <a href="architecture.html#architecture">Architecture</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="architecture.html#doctrine-phpcr-odm-packages">Doctrine PHPCR-ODM Packages</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="architecture.html#content-tree-not-tables">Content tree, not tables</a>


</li>
            <li class="toc-item">
    <a href="architecture.html#additional-core-features">Additional core features</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="association-mapping.html#association-mapping">Association Mapping</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="association-mapping.html#hierarchy-mappings">Hierarchy mappings</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="association-mapping.html#child-restriction">Child restriction</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="association-mapping.html#references">References</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="association-mapping.html#referenceable-documents">Referenceable documents</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#reference-other-documents">Reference other documents</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#referrers-to-inverse-the-reference-relation">Referrers to inverse the reference relation</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#mixedreferrers">MixedReferrers</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="association-mapping.html#transitive-persistence-cascade-operations">Transitive persistence / Cascade Operations</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="association-mapping.html#persistence-by-reachability-cascade-persist">Persistence by Reachability: Cascade Persist</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="association-mapping.html#collections">Collections</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="association-mapping.html#initializing-collections">Initializing Collections</a>


</li>
            <li class="toc-item">
    <a href="association-mapping.html#new-collections-after-flushing">New Collections after Flushing</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="attributes-mapping.html#attributes-mapping">Attributes Mapping</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="attributes-mapping.html#note-on-usage">Note on usage</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#document">Document</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#document">#[Document]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#mappedsuperclass">#[MappedSuperclass]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#mapping-fields">Mapping Fields</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#field">#[Field]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#hierarchy">Hierarchy</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#child">#[Child]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#children">#[Children]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#depth">#[Depth]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#parentdocument">#[ParentDocument]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#identification">Identification</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#id">#[Id]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#nodename">#[Nodename]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#uuid">#[Uuid]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#lifcycle-callbacks">Lifcycle callbacks</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#postload">#[PostLoad]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#postpersist">#[PostPersist]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#postremove">#[PostRemove]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#postupdate">#[PostUpdate]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#prepersist">#[PrePersist]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#preremove">#[PreRemove]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#preupdate">#[PreUpdate]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#phpcr">PHPCR</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#node">#[Node]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#references">References</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#referencemany">#[ReferenceMany]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#referenceone">#[ReferenceOne]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#referrers">#[Referrers]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#mixedreferrers">#[MixedReferrers]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#translation">Translation</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#locale">#[Locale]</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#versioning">Versioning</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="attributes-mapping.html#versioncreated">#[VersionCreated]</a>


</li>
            <li class="toc-item">
    <a href="attributes-mapping.html#versionname">#[VersionName]</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="basic-mapping.html#basic-mapping">Basic Mapping</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="basic-mapping.html#mapping-drivers">Mapping Drivers</a>


</li>
            <li class="toc-item">
    <a href="basic-mapping.html#introduction-to-php-attributes">Introduction to PHP Attributes</a>


</li>
            <li class="toc-item">
    <a href="basic-mapping.html#persistent-classes">Persistent classes</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="basic-mapping.html#specify-a-node-type">Specify a node type</a>


</li>
            <li class="toc-item">
    <a href="basic-mapping.html#specify-a-repository-class">Specify a repository class</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="basic-mapping.html#doctrine-mapping-types">Doctrine Mapping Types</a>


</li>
            <li class="toc-item">
    <a href="basic-mapping.html#property-mapping">Property Mapping</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="basic-mapping.html#mapping-to-a-differently-named-phpcr-property">Mapping to a differently named PHPCR property</a>


</li>
            <li class="toc-item">
    <a href="basic-mapping.html#mapping-multivalue-properties">Mapping multivalue properties</a>


</li>
            <li class="toc-item">
    <a href="basic-mapping.html#summary">Summary</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="basic-mapping.html#identifiers">Identifiers</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="basic-mapping.html#identifier-generation-strategies">Identifier Generation Strategies</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="basic-mapping.html#parent-and-name-strategy-recommended">Parent and name strategy (recommended)</a>


</li>
            <li class="toc-item">
    <a href="basic-mapping.html#assigned-id">Assigned Id</a>


</li>
            <li class="toc-item">
    <a href="basic-mapping.html#repository-strategy">Repository strategy</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="basic-mapping.html#symfony-bundle">Symfony bundle</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="events.html#events">Events</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="events.html#lifecycle-events">Lifecycle Events</a>


</li>
            <li class="toc-item">
    <a href="events.html#event-order-when-moving">Event order when moving</a>


</li>
            <li class="toc-item">
    <a href="events.html#event-order-when-handling-with-translations">Event order when handling with translations</a>


</li>
            <li class="toc-item">
    <a href="events.html#listening-to-events">Listening to events</a>


</li>
            <li class="toc-item">
    <a href="events.html#lifecycle-callbacks">Lifecycle Callbacks</a>


</li>
            <li class="toc-item">
    <a href="events.html#listening-to-lifecycle-events">Listening to Lifecycle Events</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="fetch-depth.html#tuning-the-node-preloading">Tuning the node preloading</a>


</li>
    <li class="toc-item">
    <a href="inheritance-mapping.html#inheritance-mapping">Inheritance Mapping</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="inheritance-mapping.html#document-class-inheritance">Document class inheritance</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="installation-configuration.html#installation">Installation</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="installation-configuration.html#composer">Composer</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#phpcr-provider">PHPCR provider</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="installation-configuration.html#install-jackalope-jackrabbit-phpcr-provider">Install Jackalope-Jackrabbit PHPCR provider</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#install-jackalope-doctrine-dbal-phpcr-provider">Install Jackalope Doctrine DBAL PHPCR provider</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#install-midgard2-phpcr-provider">Install Midgard2 PHPCR provider</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="installation-configuration.html#class-loading-with-composer">Class loading with composer</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#obtaining-an-objectmanager">Obtaining an ObjectManager</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="installation-configuration.html#prepare-the-mapping-driver">Prepare the mapping driver</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="installation-configuration.html#attributes-mapping-driver">Attributes Mapping Driver</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#xml-mapping-driver">XML Mapping Driver</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#yml-mapping-driver">YML Mapping Driver</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="installation-configuration.html#quick-configuration-example">Quick Configuration Example</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="installation-configuration.html#configuration-options">Configuration Options</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="installation-configuration.html#proxy-directory-required">Proxy Directory (*REQUIRED*)</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#proxy-namespace-required">Proxy Namespace (*REQUIRED*)</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#metadata-driver-required">Metadata Driver (*REQUIRED*)</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#metadata-cache-recommended">Metadata Cache (*RECOMMENDED*)</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#auto-generating-proxy-classes-optional">Auto-generating Proxy Classes (*OPTIONAL*)</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="installation-configuration.html#development-vs-production-configuration">Development vs Production Configuration</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#connection-options">Connection Options</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#proxy-objects">Proxy Objects</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="installation-configuration.html#reference-proxies">Reference Proxies</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#generating-proxy-classes">Generating Proxy classes</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#multiple-metadata-sources">Multiple Metadata Sources</a>


</li>
            <li class="toc-item">
    <a href="installation-configuration.html#default-repository-optional">Default Repository (*OPTIONAL*)</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="installation-configuration.html#setting-up-the-console">Setting up the Console</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="installation-configuration.html#register-system-node-types">Register system node types</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="introduction.html#getting-started">Getting Started</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="introduction.html#what-are-documents">What are Documents?</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#an-example-model-document-management">An Example Model: Document Management</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#setup-project">Setup Project</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#building-the-model">Building the model</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#initialize-the-repository">Initialize the repository</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#storing-documents">Storing documents</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#reading-documents">Reading documents</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#tree-traversal">Tree traversal</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#add-references">Add references</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#removing-documents">Removing documents</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#other-helpful-methods-on-the-documentmanager">Other helpful methods on the DocumentManager</a>


</li>
            <li class="toc-item">
    <a href="introduction.html#conclusion">Conclusion</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="multilang.html#multilanguage-support">Multilanguage support</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="multilang.html#philosophy">Philosophy</a>


</li>
            <li class="toc-item">
    <a href="multilang.html#mapping">Mapping</a>


</li>
            <li class="toc-item">
    <a href="multilang.html#interacting-with-translations">Interacting with translations</a>


</li>
            <li class="toc-item">
    <a href="multilang.html#choosing-the-right-translation-strategy">Choosing the right translation strategy</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="multilang.html#implementing-your-own-translation-strategy">Implementing your own translation strategy</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="multilang.html#configure-the-locale-chooser-strategy">Configure the locale chooser strategy</a>


</li>
            <li class="toc-item">
    <a href="multilang.html#full-example">Full Example</a>


</li>
            <li class="toc-item">
    <a href="multilang.html#querying-translated-properties">Querying Translated Properties</a>


</li>
            <li class="toc-item">
    <a href="multilang.html#limitations">Limitations</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="multilang.html#translations-and-references-hierarchy">Translations and references / hierarchy</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="phpcr-access.html#accessing-the-underlying-phpcr-session">Accessing the underlying PHPCR session</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="phpcr-access.html#getting-the-phpcr-session">Getting the PHPCR Session</a>


</li>
            <li class="toc-item">
    <a href="phpcr-access.html#the-node-field-mapping">The Node field mapping</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="query.html#the-query-object">The Query Object</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="query.html#getting-single-results">Getting single results</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query.html#getsingleresult">getSingleResult</a>


</li>
            <li class="toc-item">
    <a href="query.html#getoneornullresult">getOneOrNullResult</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query.html#getting-multiple-results">Getting multiple results</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query.html#getresult">getResult</a>


</li>
            <li class="toc-item">
    <a href="query.html#getphpcrnoderesult">getPhpcrNodeResult</a>


</li>
            <li class="toc-item">
    <a href="query.html#execute">execute</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query.html#hydration-modes">Hydration modes</a>


</li>
            <li class="toc-item">
    <a href="query.html#limiting-results">Limiting results</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="query-builder.html#the-querybuilder">The QueryBuilder</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="query-builder.html#concepts">Concepts</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder.html#leaf-and-factory-nodes">Leaf and Factory Nodes</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#fluent-interface">Fluent Interface</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#types-and-cardinality">Types and Cardinality</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#aliases-and-fields">Aliases and fields</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder.html#retrieving-a-query-builder-instance">Retrieving a query builder instance</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder.html#via-the-document-manager">Via the document manager</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#via-a-document-repository">Via a document repository</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder.html#working-with-the-querybuilder">Working with the QueryBuilder</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder.html#specifying-the-document-source-from">Specifying the document source - from</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder.html#from-single-source">From Single Source</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#from-joined-source">From Joined Source</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#joining-with-an-association">Joining with an Association</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder.html#selecting-specific-properties-select">Selecting specific properties - select</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#limiting-the-number-of-results">Limiting the number of results</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#specifying-selection-criteria">Specifying selection criteria</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#ordering-results">Ordering results</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#querying-translated-documents">Querying translated documents</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="query-builder.html#additional-notes">Additional notes</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="query-builder.html#querying-multivalue-fields">Querying multivalue fields</a>


</li>
            <li class="toc-item">
    <a href="query-builder.html#using-the-query-builder-in-tests">Using the Query Builder in Tests</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item opened">
    <a href="#query-builder-reference">Query Builder Reference</a>

        <ul class="section-level-1 opened-ul ">
            <li class="toc-item">
    <a href="#reference">Reference</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#node-constraintandx">Node: ConstraintAndx</a>


</li>
            <li class="toc-item">
    <a href="#node-constraintcomparison">Node: ConstraintComparison</a>


</li>
            <li class="toc-item">
    <a href="#node-constraintfactory">Node: ConstraintFactory</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#andx">-&gt;andX</a>


</li>
            <li class="toc-item">
    <a href="#orx">-&gt;orX</a>


</li>
            <li class="toc-item">
    <a href="#fieldisset">-&gt;fieldIsset</a>


</li>
            <li class="toc-item">
    <a href="#fulltextsearch">-&gt;fullTextSearch</a>


</li>
            <li class="toc-item">
    <a href="#same">-&gt;same</a>


</li>
            <li class="toc-item">
    <a href="#descendant">-&gt;descendant</a>


</li>
            <li class="toc-item">
    <a href="#child">-&gt;child</a>


</li>
            <li class="toc-item">
    <a href="#eq">-&gt;eq</a>


</li>
            <li class="toc-item">
    <a href="#neq">-&gt;neq</a>


</li>
            <li class="toc-item">
    <a href="#lt">-&gt;lt</a>


</li>
            <li class="toc-item">
    <a href="#lte">-&gt;lte</a>


</li>
            <li class="toc-item">
    <a href="#gt">-&gt;gt</a>


</li>
            <li class="toc-item">
    <a href="#gte">-&gt;gte</a>


</li>
            <li class="toc-item">
    <a href="#like">-&gt;like</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="#node-constraintnot">Node: ConstraintNot</a>


</li>
            <li class="toc-item">
    <a href="#node-constraintorx">Node: ConstraintOrx</a>


</li>
            <li class="toc-item">
    <a href="#node-from">Node: From</a>


</li>
            <li class="toc-item">
    <a href="#node-operanddynamicfactory">Node: OperandDynamicFactory</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#fulltextsearchscore">-&gt;fullTextSearchScore</a>


</li>
            <li class="toc-item">
    <a href="#length">-&gt;length</a>


</li>
            <li class="toc-item">
    <a href="#lowercase">-&gt;lowerCase</a>


</li>
            <li class="toc-item">
    <a href="#uppercase">-&gt;upperCase</a>


</li>
            <li class="toc-item">
    <a href="#localname">-&gt;localName</a>


</li>
            <li class="toc-item">
    <a href="#name">-&gt;name</a>


</li>
            <li class="toc-item">
    <a href="#field">-&gt;field</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="#node-operanddynamiclowercase">Node: OperandDynamicLowerCase</a>


</li>
            <li class="toc-item">
    <a href="#node-operanddynamicuppercase">Node: OperandDynamicUpperCase</a>


</li>
            <li class="toc-item">
    <a href="#node-operandfactory">Node: OperandFactory</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#parameter">-&gt;parameter</a>


</li>
            <li class="toc-item">
    <a href="#literal">-&gt;literal</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="#node-operandstaticfactory">Node: OperandStaticFactory</a>


</li>
            <li class="toc-item">
    <a href="#node-orderby">Node: OrderBy</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#asc">-&gt;asc</a>


</li>
            <li class="toc-item">
    <a href="#desc">-&gt;desc</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="#node-orderbyadd">Node: OrderByAdd</a>


</li>
            <li class="toc-item">
    <a href="#node-ordering">Node: Ordering</a>


</li>
            <li class="toc-item">
    <a href="#node-querybuilder">Node: QueryBuilder</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#where">-&gt;where</a>


</li>
            <li class="toc-item">
    <a href="#andwhere">-&gt;andWhere</a>


</li>
            <li class="toc-item">
    <a href="#orwhere">-&gt;orWhere</a>


</li>
            <li class="toc-item">
    <a href="#from">-&gt;from</a>


</li>
            <li class="toc-item">
    <a href="#fromdocument">-&gt;fromDocument</a>


</li>
            <li class="toc-item">
    <a href="#addjoinleftouter">-&gt;addJoinLeftOuter</a>


</li>
            <li class="toc-item">
    <a href="#addjoinrightouter">-&gt;addJoinRightOuter</a>


</li>
            <li class="toc-item">
    <a href="#addjoininner">-&gt;addJoinInner</a>


</li>
            <li class="toc-item">
    <a href="#select">-&gt;select</a>


</li>
            <li class="toc-item">
    <a href="#addselect">-&gt;addSelect</a>


</li>
            <li class="toc-item">
    <a href="#orderby">-&gt;orderBy</a>


</li>
            <li class="toc-item">
    <a href="#addorderby">-&gt;addOrderBy</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="#node-select">Node: Select</a>


</li>
            <li class="toc-item">
    <a href="#node-selectadd">Node: SelectAdd</a>


</li>
            <li class="toc-item">
    <a href="#node-sourcejoin">Node: SourceJoin</a>


</li>
            <li class="toc-item">
    <a href="#node-sourcejoinconditionfactory">Node: SourceJoinConditionFactory</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="#descendant">-&gt;descendant</a>


</li>
            <li class="toc-item">
    <a href="#equi">-&gt;equi</a>


</li>
            <li class="toc-item">
    <a href="#child">-&gt;child</a>


</li>
            <li class="toc-item">
    <a href="#same">-&gt;same</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="#node-sourcejoinleft">Node: SourceJoinLeft</a>


</li>
            <li class="toc-item">
    <a href="#node-sourcejoinright">Node: SourceJoinRight</a>


</li>
            <li class="toc-item">
    <a href="#node-where">Node: Where</a>


</li>
            <li class="toc-item">
    <a href="#node-whereand">Node: WhereAnd</a>


</li>
            <li class="toc-item">
    <a href="#node-whereor">Node: WhereOr</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="tools.html#tools">Tools</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="tools.html#doctrine-console">Doctrine Console</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="tools.html#command-overview">Command Overview</a>


</li>
            <li class="toc-item">
    <a href="tools.html#getting-documentation-of-a-command">Getting documentation of a command</a>


</li>
            <li class="toc-item">
    <a href="tools.html#phpcr-implementation-specific-commands">PHPCR implementation specific commands</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="tools.html#jackrabbit-specific-commands">Jackrabbit specific commands</a>


</li>
            <li class="toc-item">
    <a href="tools.html#doctrine-dbal-specific-commands">Doctrine DBAL specific commands</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="tools.html#register-system-node-types">Register system node types</a>


</li>
            <li class="toc-item">
    <a href="tools.html#adding-your-own-commands">Adding your own commands</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="transactions.html#transactions-1">Transactions</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="transactions.html#transactional">transactional()</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="versioning.html#versioning-support">Versioning support</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="versioning.html#philosophy">Philosophy</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="versioning.html#phpcr-odm">PHPCR-ODM</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="versioning.html#mappings">Mappings</a>


</li>
            <li class="toc-item">
    <a href="versioning.html#interacting-with-versions">Interacting with versions</a>


</li>
            <li class="toc-item">
    <a href="versioning.html#full-example">Full Example</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="working-with-objects.html#working-with-objects">Working with Objects</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="working-with-objects.html#documents-and-the-identity-map">Documents and the Identity Map</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#document-graph-traversal">Document Graph Traversal</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#persisting-documents">Persisting documents</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#removing-documents">Removing documents</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#detaching-documents">Detaching documents</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#merging-documents">Merging documents</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#synchronization-with-the-repository">Synchronization with the Repository</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="working-with-objects.html#effects-of-repository-and-unitofwork-being-out-of-sync">Effects of Repository and UnitOfWork being Out-Of-Sync</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#synchronizing-new-and-managed-documents">Synchronizing New and Managed Documents</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#synchronizing-removed-documents">Synchronizing Removed Documents</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#the-size-of-a-unit-of-work">The size of a Unit of Work</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#the-cost-of-flushing">The cost of flushing</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#direct-access-to-a-unit-of-work">Direct Access to a Unit of Work</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#document-state">Document State</a>


</li>
                    </ul>
</li>
            <li class="toc-item">
    <a href="working-with-objects.html#querying">Querying</a>

        <ul class="section-level-2">
            <li class="toc-item">
    <a href="working-with-objects.html#by-primary-key">By Primary Key</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#by-simple-conditions">By Simple Conditions</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#by-lazy-loading">By Lazy Loading</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#by-query-builder">By Query Builder</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#by-native-queries">By Native Queries</a>


</li>
            <li class="toc-item">
    <a href="working-with-objects.html#custom-repositories">Custom Repositories</a>


</li>
                    </ul>
</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="xml-mapping.html#xml-mapping">XML Mapping</a>


</li>
    </ul>
</div>
    

                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://www.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "PHPCR ODM",
            "item": "https://www.doctrine-project.org/projects/phpcr-odm.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://www.doctrine-project.org/projects/doctrine-phpcr-odm/en/latest/index.html"
        },                {
            "@type": "ListItem",
            "position": 4,
            "name": "Query Builder Reference",
            "item": "https://www.doctrine-project.org/projects/doctrine-phpcr-odm/en/latest/reference/query-builder-reference.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/phpcr-odm.html">PHPCR ODM</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-phpcr-odm/en/latest/index.html">Documentation</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Query Builder Reference</li>
                        </ol>
</nav>
                                    </div>

                

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-phpcr-odm/en/latest/reference/query-builder-reference.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        2.0.1
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item active" href="/projects/doctrine-phpcr-odm/en/latest/reference/query-builder-reference.html">
                                                        2.0.1

                                                                                                                    (current)
                                                        
                                                                                                            </a>
                                                                                                                                                                                                                                
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-phpcr-odm/en/1.8/reference/query-builder-reference.html">1.8</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-phpcr-odm/en/1.7/reference/query-builder-reference.html">1.7</a>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </div>
                                </div>
                            
                            

            <div class="section" id="query-builder-reference">
            <h1 class="section-header ">
    <a href="#query-builder-reference">
        Query Builder Reference
        <i class="fas fa-link"></i>
    </a>
</h1>
                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>This document is generated by the PHPCR-ODM from the API, if you wish to contribute a fix please either
create an issue or make a pull request on the phpcr-odm repository.</p>

    <p>All the classes here documented can be found in the namespace: <code>Doctrine\ODM\PHPCR\Query\Builder</code></p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
            <div class="section" id="reference">
            <h2 class="section-header ">
    <a href="#reference">
        Reference
        <i class="fas fa-link"></i>
    </a>
</h2>
            <div class="section" id="node-constraintandx">
            <a id="qbref_node_constraintandx"></a>
            <h3 class="section-header ">
    <a href="#node-constraintandx">
        Node: ConstraintAndx
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Contraint which evaluates to true when
all its child constraints evaluate to true.</p>

            
    <p>If only a single constraint is appended, the appended
constraint will behave as if it were not preceded by
the ConstraintAndX.</p>

            
    <p><strong>Type</strong>: constraint</p>

            
    <p><strong>Extends</strong>: <a href="#qbref_node_constraintfactory">ConstraintFactory</a></p>

            
    <p><strong>Inherited methods</strong>: <a href="#qbref_method_constraintfactory_andx">andX</a>, <a href="#qbref_method_constraintfactory_orx">orX</a>, <a href="#qbref_method_constraintfactory_fieldisset">fieldIsset</a>, <a href="#qbref_method_constraintfactory_fulltextsearch">fullTextSearch</a>, <a href="#qbref_method_constraintfactory_same">same</a>, <a href="#qbref_method_constraintfactory_descendant">descendant</a>, <a href="#qbref_method_constraintfactory_child">child</a>, <a href="#qbref_method_constraintfactory_eq">eq</a>, <a href="#qbref_method_constraintfactory_neq">neq</a>, <a href="#qbref_method_constraintfactory_lt">lt</a>, <a href="#qbref_method_constraintfactory_lte">lte</a>, <a href="#qbref_method_constraintfactory_gt">gt</a>, <a href="#qbref_method_constraintfactory_gte">gte</a>, <a href="#qbref_method_constraintfactory_like">like</a></p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>1..</strong>* constraint</li>
</ul>
</dd>
            </dl>
    </div>
            <div class="section" id="node-constraintcomparison">
            <a id="qbref_node_constraintcomparison"></a>
            <h3 class="section-header ">
    <a href="#node-constraintcomparison">
        Node: ConstraintComparison
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Constraint which evaluates to true if the dynamic child
operand and the static child operand evaluate to true when operated
upon by the given operator.</p>

            
    <p>The ConstraintFactory will specify the corresponding operator
for each of &quot;eq&quot;, &quot;gte&quot;, &quot;gt&quot;, &quot;lte&quot;, &quot;lt&quot;, &quot;like&quot;, etc.</p>

            
    <p>A dynamic operand is an operand whose value is derived from the
persisted object set.</p>

            
    <p>A static operand is a non-changing value, either a literal or a bound
property.</p>

            
    <p>Comparisons can only be made one dynamic and one static operand. When
comparing the values between joined tables you will need to use
the JoinConditionFactory.</p>

            
    <p><strong>Type</strong>: constraint</p>

            
    <p><strong>Extends</strong>: <a href="#qbref_node_operandfactory">OperandFactory</a></p>

            
    <p><strong>Inherited methods</strong>: <a href="#qbref_method_operandfactory_parameter">parameter</a>, <a href="#qbref_method_operandfactory_literal">literal</a>, <a href="#qbref_method_operanddynamicfactory_fulltextsearchscore">fullTextSearchScore</a>, <a href="#qbref_method_operanddynamicfactory_length">length</a>, <a href="#qbref_method_operanddynamicfactory_lowercase">lowerCase</a>, <a href="#qbref_method_operanddynamicfactory_uppercase">upperCase</a>, <a href="#qbref_method_operanddynamicfactory_localname">localName</a>, <a href="#qbref_method_operanddynamicfactory_name">name</a>, <a href="#qbref_method_operanddynamicfactory_field">field</a></p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>1..1</strong> operand_dynamic</li>
    <li><strong>1..1</strong> operand_static</li>
</ul>
</dd>
            </dl>
    </div>
            <div class="section" id="node-constraintfactory">
            <a id="qbref_node_constraintfactory"></a>
            <h3 class="section-header ">
    <a href="#node-constraintfactory">
        Node: ConstraintFactory
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>This factory node provides both leaf and factory nodes all of which
return nodes of type &quot;constraint&quot;.</p>

            
    <p><strong>Type</strong>: constraint_factory</p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>1..1</strong> constraint</li>
</ul>
</dd>
            </dl>
            <div class="section" id="andx">
            <a id="qbref_method_constraintfactory_andx"></a>
            <h4 class="section-header ">
    <a href="#andx">
        -&gt;andX
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>And composite constraint:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()
  -&gt;andX()
    -&gt;fieldIsset(&#039;f.foo&#039;)
    -&gt;gt()-&gt;field(&#039;f.max&#039;)-&gt;literal(40)-&gt;end()
  -&gt;end()
-&gt;end();

</code></pre>
    </div>

            
    <p>The andX node allows you to add 1, 2 or many operand nodes. When
one operand is added the &quot;and&quot; is removed, when more than one
is added the &quot;and&quot; operands are nested:</p>

                <div class="console">
        <pre><code class="console">// when adding only a single operand,
$qb-&gt;where()-&gt;andX()-&gt;eq()-&gt;field(&#039;f.foo&#039;)-&gt;literal(&#039;bar&#039;);
// is equivilent to:
$qb-&gt;where()-&gt;eq()-&gt;field(&#039;f.foo&#039;)-&gt;literal(&#039;bar&#039;);


// when adding more than one,
$qb-&gt;where()
  -&gt;andX()
    -&gt;fieldIsset(&#039;f.foo&#039;)
    -&gt;gt()-&gt;field(&#039;f.max&#039;)-&gt;literal(40)-&gt;end()
    -&gt;eq()-&gt;field(&#039;f.zar&#039;)-&gt;literal(&#039;bar&#039;)-&gt;end()
  -&gt;end()
-&gt;end();

// is equivilent to:
$qb-&gt;where()
  -&gt;andX()
    -&gt;fieldIsset(&#039;f.foo&#039;)
    -&gt;andX()
      -&gt;gt()-&gt;field(&#039;f.max&#039;)-&gt;literal(40)-&gt;end()
      -&gt;eq()-&gt;field(&#039;f.zar&#039;)-&gt;litreal(&#039;bar&#039;)-&gt;end()
    -&gt;end()
  -&gt;end()
-&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: constraint (ConstraintAndx)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_constraintandx">ConstraintAndx</a></p>

    </div>
            <div class="section" id="orx">
            <a id="qbref_method_constraintfactory_orx"></a>
            <h4 class="section-header ">
    <a href="#orx">
        -&gt;orX
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Or composite constraint:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()
  -&gt;orX()
    -&gt;fieldIsset(&#039;sel_1.prop_1&#039;)
    -&gt;fieldIsset(&#039;sel_1.prop_2&#039;)
  -&gt;end()
-&gt;end();

</code></pre>
    </div>

            
    <p>As with &quot;andX&quot;, &quot;orX&quot; allows one to many operands.</p>

            
    <p><strong>Adds</strong>: constraint (ConstraintOrx)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_constraintorx">ConstraintOrx</a></p>

    </div>
            <div class="section" id="fieldisset">
            <a id="qbref_method_constraintfactory_fieldisset"></a>
            <h4 class="section-header ">
    <a href="#fieldisset">
        -&gt;fieldIsset
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Field existance constraint:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()-&gt;fieldIsset(&#039;sel_1.prop_1&#039;)-&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: constraint (ConstraintFieldIsset)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_constraintfactory">ConstraintFactory</a></p>

            
    <p><strong>Arguments</strong>:</p>

            

<ul>
    <li><strong>$field</strong>: <em>string</em> - Field to check</li>
</ul>

    </div>
            <div class="section" id="fulltextsearch">
            <a id="qbref_method_constraintfactory_fulltextsearch"></a>
            <h4 class="section-header ">
    <a href="#fulltextsearch">
        -&gt;fullTextSearch
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Full text search constraint:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()-&gt;fullTextSearch(&#039;sel_1.prop_1&#039;, &#039;search_expression&#039;)-&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: constraint (ConstraintFullTextSearch)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_constraintfactory">ConstraintFactory</a></p>

            
    <p><strong>Arguments</strong>:</p>

            

<ul>
    <li><strong>$field</strong>: <em>string</em> - Name of field to check, including alias name.</li>
    <li><strong>$fullTextSearchExpression</strong>: <em>string</em> - Search expression.</li>
</ul>

    </div>
            <div class="section" id="same">
            <a id="qbref_method_constraintfactory_same"></a>
            <h4 class="section-header ">
    <a href="#same">
        -&gt;same
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Same document constraint:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()-&gt;same(&#039;/path/to/doc&#039;, &#039;sel_1&#039;)-&gt;end();

</code></pre>
    </div>

            
    <p>Relates to PHPCR QOM SameNodeInterface.</p>

            
    <p><strong>Adds</strong>: constraint (ConstraintSame)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_constraintfactory">ConstraintFactory</a></p>

            
    <p><strong>Arguments</strong>:</p>

            

<ul>
    <li><strong>$path</strong>: <em>string</em> - Path to reference document.</li>
    <li><strong>$alias</strong>: <em>string</em> - Name of alias to use.</li>
</ul>

    </div>
            <div class="section" id="descendant">
            <a id="qbref_method_constraintfactory_descendant"></a>
            <h4 class="section-header ">
    <a href="#descendant">
        -&gt;descendant
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Descendant document constraint:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()-&gt;descendant(&#039;/ancestor/path&#039;, &#039;sel_1&#039;)-&gt;end();

</code></pre>
    </div>

            
    <p>Relates to PHPCR QOM DescendantNodeInterface</p>

            
    <p><strong>Adds</strong>: constraint (ConstraintDescendant)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_constraintfactory">ConstraintFactory</a></p>

            
    <p><strong>Arguments</strong>:</p>

            

<ul>
    <li><strong>$ancestorPath</strong>: <em>string</em> - Select descendants of this path.</li>
    <li><strong>$alias</strong>: <em>string</em> - Name of alias to use.</li>
</ul>

    </div>
            <div class="section" id="child">
            <a id="qbref_method_constraintfactory_child"></a>
            <h4 class="section-header ">
    <a href="#child">
        -&gt;child
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Select children of the aliased document at the given path:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()-&gt;child(&#039;/parent/path&#039;, &#039;sel_1&#039;)-&gt;end();

</code></pre>
    </div>

            
    <p>Relates to PHPCR QOM ChildNodeInterface.</p>

            
    <p><strong>Adds</strong>: constraint (ConstraintChild)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_constraintfactory">ConstraintFactory</a></p>

            
    <p><strong>Arguments</strong>:</p>

            

<ul>
    <li><strong>$parentPath</strong>: <em>string</em> - Select children of this path.</li>
    <li><strong>$alias</strong>: <em>string</em> - Name of alias to use</li>
</ul>

    </div>
            <div class="section" id="eq">
            <a id="qbref_method_constraintfactory_eq"></a>
            <h4 class="section-header ">
    <a href="#eq">
        -&gt;eq
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Equality comparison constraint:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()
  -&gt;eq()
    -&gt;field(&#039;sel_1.foobar&#039;)
    -&gt;literal(&#039;var_1&#039;)
  -&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: constraint (ConstraintComparison)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_constraintcomparison">ConstraintComparison</a></p>

    </div>
            <div class="section" id="neq">
            <a id="qbref_method_constraintfactory_neq"></a>
            <h4 class="section-header ">
    <a href="#neq">
        -&gt;neq
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Inequality comparison constraint:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()
  -&gt;neq()
    -&gt;field(&#039;sel_1.foobar&#039;)
    -&gt;literal(&#039;var_1&#039;)
  -&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: constraint (ConstraintComparison)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_constraintcomparison">ConstraintComparison</a></p>

    </div>
            <div class="section" id="lt">
            <a id="qbref_method_constraintfactory_lt"></a>
            <h4 class="section-header ">
    <a href="#lt">
        -&gt;lt
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Less than comparison constraint:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()
  -&gt;lt()
    -&gt;field(&#039;sel_1.foobar&#039;)
    -&gt;literal(5)
  -&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: constraint (ConstraintComparison)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_constraintcomparison">ConstraintComparison</a></p>

    </div>
            <div class="section" id="lte">
            <a id="qbref_method_constraintfactory_lte"></a>
            <h4 class="section-header ">
    <a href="#lte">
        -&gt;lte
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Less than or equal to comparison constraint:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()
  -&gt;lte()
    -&gt;field(&#039;sel_1.foobar&#039;)
    -&gt;literal(5)
  -&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: constraint (ConstraintComparison)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_constraintcomparison">ConstraintComparison</a></p>

    </div>
            <div class="section" id="gt">
            <a id="qbref_method_constraintfactory_gt"></a>
            <h4 class="section-header ">
    <a href="#gt">
        -&gt;gt
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Greater than comparison constraint:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()
  -&gt;gt()
    -&gt;field(&#039;sel_1.foobar&#039;)
    -&gt;literal(5)
  -&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: constraint (ConstraintComparison)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_constraintcomparison">ConstraintComparison</a></p>

    </div>
            <div class="section" id="gte">
            <a id="qbref_method_constraintfactory_gte"></a>
            <h4 class="section-header ">
    <a href="#gte">
        -&gt;gte
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Greater than or equal to comparison constraint:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()
  -&gt;gte()
    -&gt;field(&#039;sel_1.foobar&#039;)
    -&gt;literal(5)
  -&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: constraint (ConstraintComparison)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_constraintcomparison">ConstraintComparison</a></p>

    </div>
            <div class="section" id="like">
            <a id="qbref_method_constraintfactory_like"></a>
            <h4 class="section-header ">
    <a href="#like">
        -&gt;like
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Like comparison constraint.</p>

            
    <p>Use &quot;%&quot; as wildcards:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()
  -&gt;like()
    -&gt;field(&#039;sel_1.foobar&#039;)
    -&gt;literal(&#039;foo%&#039;)
  -&gt;end();

</code></pre>
    </div>

            
    <p>The above example will match &quot;foo&quot; and &quot;foobar&quot; but not &quot;barfoo&quot;.</p>

            
    <p><strong>Adds</strong>: constraint (ConstraintComparison)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_constraintcomparison">ConstraintComparison</a></p>

    </div>
    </div>
            <div class="section" id="node-constraintnot">
            <a id="qbref_node_constraintnot"></a>
            <h3 class="section-header ">
    <a href="#node-constraintnot">
        Node: ConstraintNot
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Constraint which evaluates to the opposite truth of its child
operand.</p>

            
    <p><strong>Type</strong>: constraint</p>

            
    <p><strong>Extends</strong>: <a href="#qbref_node_constraintfactory">ConstraintFactory</a></p>

            
    <p><strong>Inherited methods</strong>: <a href="#qbref_method_constraintfactory_andx">andX</a>, <a href="#qbref_method_constraintfactory_orx">orX</a>, <a href="#qbref_method_constraintfactory_fieldisset">fieldIsset</a>, <a href="#qbref_method_constraintfactory_fulltextsearch">fullTextSearch</a>, <a href="#qbref_method_constraintfactory_same">same</a>, <a href="#qbref_method_constraintfactory_descendant">descendant</a>, <a href="#qbref_method_constraintfactory_child">child</a>, <a href="#qbref_method_constraintfactory_eq">eq</a>, <a href="#qbref_method_constraintfactory_neq">neq</a>, <a href="#qbref_method_constraintfactory_lt">lt</a>, <a href="#qbref_method_constraintfactory_lte">lte</a>, <a href="#qbref_method_constraintfactory_gt">gt</a>, <a href="#qbref_method_constraintfactory_gte">gte</a>, <a href="#qbref_method_constraintfactory_like">like</a></p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>1..1</strong> constraint</li>
</ul>
</dd>
            </dl>
    </div>
            <div class="section" id="node-constraintorx">
            <a id="qbref_node_constraintorx"></a>
            <h3 class="section-header ">
    <a href="#node-constraintorx">
        Node: ConstraintOrx
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Constraint which evaluates to true if any one of its children
evaluates to true.</p>

            
    <p>Like the ConstraintAndx constraint a single child will act as if
it were not preceded with a ConstraintOrx.</p>

            
    <p><strong>Type</strong>: constraint</p>

            
    <p><strong>Extends</strong>: <a href="#qbref_node_constraintfactory">ConstraintFactory</a></p>

            
    <p><strong>Inherited methods</strong>: <a href="#qbref_method_constraintfactory_andx">andX</a>, <a href="#qbref_method_constraintfactory_orx">orX</a>, <a href="#qbref_method_constraintfactory_fieldisset">fieldIsset</a>, <a href="#qbref_method_constraintfactory_fulltextsearch">fullTextSearch</a>, <a href="#qbref_method_constraintfactory_same">same</a>, <a href="#qbref_method_constraintfactory_descendant">descendant</a>, <a href="#qbref_method_constraintfactory_child">child</a>, <a href="#qbref_method_constraintfactory_eq">eq</a>, <a href="#qbref_method_constraintfactory_neq">neq</a>, <a href="#qbref_method_constraintfactory_lt">lt</a>, <a href="#qbref_method_constraintfactory_lte">lte</a>, <a href="#qbref_method_constraintfactory_gt">gt</a>, <a href="#qbref_method_constraintfactory_gte">gte</a>, <a href="#qbref_method_constraintfactory_like">like</a></p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>1..</strong>* constraint</li>
</ul>
</dd>
            </dl>
    </div>
            <div class="section" id="node-from">
            <a id="qbref_node_from"></a>
            <h3 class="section-header ">
    <a href="#node-from">
        Node: From
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>The From node specifies the document source (or sources in the
case of a join).</p>

            
    <p><strong>Type</strong>: from</p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>1..1</strong> source</li>
</ul>
</dd>
            </dl>
    </div>
            <div class="section" id="node-operanddynamicfactory">
            <a id="qbref_node_operanddynamicfactory"></a>
            <h3 class="section-header ">
    <a href="#node-operanddynamicfactory">
        Node: OperandDynamicFactory
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Factory node for dynamic operands.</p>

            
    <p><strong>Type</strong>: operand_dynamic_factory</p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>1..1</strong> operand_dynamic</li>
</ul>
</dd>
            </dl>
            <div class="section" id="fulltextsearchscore">
            <a id="qbref_method_operanddynamicfactory_fulltextsearchscore"></a>
            <h4 class="section-header ">
    <a href="#fulltextsearchscore">
        -&gt;fullTextSearchScore
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Represents the aliased documents rank by relevance to the full text
search expression given by the &quot;fullTextSearch&quot; constraint:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()
  -&gt;gt()
    -&gt;fullTextSearchScore(&#039;sel_1&#039;)
    -&gt;literal(50)
  -&gt;end()
-&gt;end();

$qb-&gt;orderBy()
  -&gt;asc()-&gt;fullTextSearchScore(&#039;sel_1&#039;)
-&gt;end();

</code></pre>
    </div>

            
    <p>See also: <a href="http://www.day.com/specs/jcr/2.0/6_Query.html#FullTextSearchScore">http://www.day.com/specs/jcr/2.0/6_Query.html#FullTextSearchScore</a></p>

            
    <p><strong>Adds</strong>: operand_dynamic (OperandDynamicFullTextSearchScore)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_operanddynamicfactory">OperandDynamicFactory</a></p>

            
    <p><strong>Arguments</strong>:</p>

            

<ul>
    <li><strong>$alias</strong>: <em>string</em> - Name of alias to use</li>
</ul>

    </div>
            <div class="section" id="length">
            <a id="qbref_method_operanddynamicfactory_length"></a>
            <h4 class="section-header ">
    <a href="#length">
        -&gt;length
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Length operand resolves to length of aliased document:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()
  -&gt;gt()
    -&gt;length(&#039;alias_1.prop_1&#039;)
    -&gt;literal(50)
  -&gt;end()
-&gt;end();

$qb-&gt;orderBy()-&gt;asc()-&gt;fullTextSearchScore(&#039;sel_1&#039;)-&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: operand_dynamic (OperandDynamicLength)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_operanddynamicfactory">OperandDynamicFactory</a></p>

            
    <p><strong>Arguments</strong>:</p>

            

<ul>
    <li><strong>$field</strong>: <em>string</em> - Name of field to check.</li>
</ul>

    </div>
            <div class="section" id="lowercase">
            <a id="qbref_method_operanddynamicfactory_lowercase"></a>
            <h4 class="section-header ">
    <a href="#lowercase">
        -&gt;lowerCase
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>LowerCase operand evaluates to lower-cased string of child operand:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()
  -&gt;eq()
    -&gt;lowerCase()-&gt;field(&#039;sel_1.prop_1&#039;)-&gt;end()
    -&gt;literal(&#039;lower_case&#039;)
  -&gt;end()
-&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: operand_dynamic (OperandDynamicLowerCase)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_operanddynamiclowercase">OperandDynamicLowerCase</a></p>

    </div>
            <div class="section" id="uppercase">
            <a id="qbref_method_operanddynamicfactory_uppercase"></a>
            <h4 class="section-header ">
    <a href="#uppercase">
        -&gt;upperCase
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>UpperCase operand evaluates to upper-cased string of child operand:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()
  -&gt;eq()
      -&gt;upperCase()-&gt;field(&#039;sel_1.prop_1&#039;)-&gt;end()
      -&gt;literal(&#039;UPPER_CASE&#039;)
  -&gt;end()
-&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: operand_dynamic (OperandDynamicUpperCase)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_operanddynamicuppercase">OperandDynamicUpperCase</a></p>

    </div>
            <div class="section" id="localname">
            <a id="qbref_method_operanddynamicfactory_localname"></a>
            <h4 class="section-header ">
    <a href="#localname">
        -&gt;localName
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Document local name evaluates to the local (non namespaced)
name of the node being compared.</p>

            
    <p>For example, if a node has the path &quot;/path/to/foobar&quot;, then &quot;foobar&quot;
is the local node name:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()
  -&gt;eq()
    -&gt;localName(&#039;sel_1&#039;)
    -&gt;literal(&#039;my_node_name&#039;)
  -&gt;end()
-&gt;end();

</code></pre>
    </div>

            
    <p>Relates to PHPCR NodeLocalNameInterface</p>

            
    <p><strong>Adds</strong>: operand_dynamic (OperandDynamicLocalName)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_operanddynamicfactory">OperandDynamicFactory</a></p>

            
    <p><strong>Arguments</strong>:</p>

            

<ul>
    <li><strong>$alias</strong>: <em>string</em> - Name of alias to use</li>
</ul>

    </div>
            <div class="section" id="name">
            <a id="qbref_method_operanddynamicfactory_name"></a>
            <h4 class="section-header ">
    <a href="#name">
        -&gt;name
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Evaluates to the namespaced name of the node being compared.</p>

            
    <p>For example, if a node has the path &quot;/path/to/bar:foobar&quot;, then
&quot;bar:foobar&quot; is the namespaced node name:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()
  -&gt;eq()
    -&gt;name(&#039;sel_1&#039;)
    -&gt;literal(&#039;namespace:my_node_name&#039;)
  -&gt;end()
-&gt;end();

</code></pre>
    </div>

            
    <p>Relates to PHPCR NodeNameInterface.</p>

            
    <p><strong>Adds</strong>: operand_dynamic (OperandDynamicName)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_operanddynamicfactory">OperandDynamicFactory</a></p>

            
    <p><strong>Arguments</strong>:</p>

            

<ul>
    <li><strong>$alias</strong>: <em>string</em> - Name of alias to use</li>
</ul>

    </div>
            <div class="section" id="field">
            <a id="qbref_method_operanddynamicfactory_field"></a>
            <h4 class="section-header ">
    <a href="#field">
        -&gt;field
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Evaluates to the value of the specified field:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()
  -&gt;eq()
    -&gt;field(&#039;sel_1.prop_name&#039;)
    -&gt;literal(&#039;my_field_value&#039;)
  -&gt;end()
-&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: operand_dynamic (OperandDynamicField)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_operanddynamicfactory">OperandDynamicFactory</a></p>

            
    <p><strong>Arguments</strong>:</p>

            

<ul>
    <li><strong>$field</strong>: <em>string</em> - name of field to check, including alias name.</li>
</ul>

    </div>
    </div>
            <div class="section" id="node-operanddynamiclowercase">
            <a id="qbref_node_operanddynamiclowercase"></a>
            <h3 class="section-header ">
    <a href="#node-operanddynamiclowercase">
        Node: OperandDynamicLowerCase
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Dynamic operand which evaluates to the lowercased value of the child operand.</p>

            
    <p><strong>Type</strong>: operand_dynamic</p>

            
    <p><strong>Extends</strong>: <a href="#qbref_node_operanddynamicfactory">OperandDynamicFactory</a></p>

            
    <p><strong>Inherited methods</strong>: <a href="#qbref_method_operanddynamicfactory_fulltextsearchscore">fullTextSearchScore</a>, <a href="#qbref_method_operanddynamicfactory_length">length</a>, <a href="#qbref_method_operanddynamicfactory_lowercase">lowerCase</a>, <a href="#qbref_method_operanddynamicfactory_uppercase">upperCase</a>, <a href="#qbref_method_operanddynamicfactory_localname">localName</a>, <a href="#qbref_method_operanddynamicfactory_name">name</a>, <a href="#qbref_method_operanddynamicfactory_field">field</a></p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>1..1</strong> operand_dynamic</li>
</ul>
</dd>
            </dl>
    </div>
            <div class="section" id="node-operanddynamicuppercase">
            <a id="qbref_node_operanddynamicuppercase"></a>
            <h3 class="section-header ">
    <a href="#node-operanddynamicuppercase">
        Node: OperandDynamicUpperCase
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Operand which evaluates to the upper case version of its child operand.</p>

            
    <p><strong>Type</strong>: operand_dynamic</p>

            
    <p><strong>Extends</strong>: <a href="#qbref_node_operanddynamicfactory">OperandDynamicFactory</a></p>

            
    <p><strong>Inherited methods</strong>: <a href="#qbref_method_operanddynamicfactory_fulltextsearchscore">fullTextSearchScore</a>, <a href="#qbref_method_operanddynamicfactory_length">length</a>, <a href="#qbref_method_operanddynamicfactory_lowercase">lowerCase</a>, <a href="#qbref_method_operanddynamicfactory_uppercase">upperCase</a>, <a href="#qbref_method_operanddynamicfactory_localname">localName</a>, <a href="#qbref_method_operanddynamicfactory_name">name</a>, <a href="#qbref_method_operanddynamicfactory_field">field</a></p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>1..1</strong> operand_dynamic</li>
</ul>
</dd>
            </dl>
    </div>
            <div class="section" id="node-operandfactory">
            <a id="qbref_node_operandfactory"></a>
            <h3 class="section-header ">
    <a href="#node-operandfactory">
        Node: OperandFactory
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Factory node for all operands, both dynamic and static.</p>

            
    <p><strong>Type</strong>: operand_dynamic_factory</p>

            
    <p><strong>Extends</strong>: <a href="#qbref_node_operanddynamicfactory">OperandDynamicFactory</a></p>

            
    <p><strong>Inherited methods</strong>: <a href="#qbref_method_operanddynamicfactory_fulltextsearchscore">fullTextSearchScore</a>, <a href="#qbref_method_operanddynamicfactory_length">length</a>, <a href="#qbref_method_operanddynamicfactory_lowercase">lowerCase</a>, <a href="#qbref_method_operanddynamicfactory_uppercase">upperCase</a>, <a href="#qbref_method_operanddynamicfactory_localname">localName</a>, <a href="#qbref_method_operanddynamicfactory_name">name</a>, <a href="#qbref_method_operanddynamicfactory_field">field</a></p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>1..1</strong> operand_dynamic</li>
</ul>
</dd>
            </dl>
            <div class="section" id="parameter">
            <a id="qbref_method_operandfactory_parameter"></a>
            <h4 class="section-header ">
    <a href="#parameter">
        -&gt;parameter
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Evaluates to the value of the parameter bound to the given $name.</p>

            
    <p>Relates to PHPCR BindVariableValueInterface:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()-&gt;eq()-&gt;field(&#039;f.foobar&#039;)-&gt;parameter(&#039;param_1&#039;)-&gt;end();
$qb-&gt;setParameter(&#039;param_1&#039;, &#039;foo&#039;);

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: operand_static (OperandStaticParameter)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_operandfactory">OperandFactory</a></p>

            
    <p><strong>Arguments</strong>:</p>

            

<ul>
    <li><strong>$name</strong>: <em>string</em> - Name of parameter to resolve.</li>
</ul>

    </div>
            <div class="section" id="literal">
            <a id="qbref_method_operandfactory_literal"></a>
            <h4 class="section-header ">
    <a href="#literal">
        -&gt;literal
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Evaluates to the given literal value:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()-&gt;eq()-&gt;field(&#039;f.foobar&#039;)-&gt;literal(&#039;Literal Value&#039;)-&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: operand_static (OperandStaticLiteral)</p>

            
    <p><strong>Returns</strong>: OperandStaticLiteral</p>

            
    <p><strong>Arguments</strong>:</p>

            

<ul>
    <li><strong>$value</strong>: <em>string</em> - Literal value.</li>
</ul>

    </div>
    </div>
            <div class="section" id="node-operandstaticfactory">
            <a id="qbref_node_operandstaticfactory"></a>
            <h3 class="section-header ">
    <a href="#node-operandstaticfactory">
        Node: OperandStaticFactory
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Factory node for static operands.</p>

            
    <p>Note that this class is not used by the query builder and
is only featured here to help with tests.</p>

            
    <p><strong>Type</strong>: operand_static_factory</p>

            
    <p><strong>Extends</strong>: <a href="#qbref_node_operandfactory">OperandFactory</a></p>

            
    <p><strong>Inherited methods</strong>: <a href="#qbref_method_operandfactory_parameter">parameter</a>, <a href="#qbref_method_operandfactory_literal">literal</a>, <a href="#qbref_method_operanddynamicfactory_fulltextsearchscore">fullTextSearchScore</a>, <a href="#qbref_method_operanddynamicfactory_length">length</a>, <a href="#qbref_method_operanddynamicfactory_lowercase">lowerCase</a>, <a href="#qbref_method_operanddynamicfactory_uppercase">upperCase</a>, <a href="#qbref_method_operanddynamicfactory_localname">localName</a>, <a href="#qbref_method_operanddynamicfactory_name">name</a>, <a href="#qbref_method_operanddynamicfactory_field">field</a></p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>1..1</strong> operand_static</li>
</ul>
</dd>
            </dl>
    </div>
            <div class="section" id="node-orderby">
            <a id="qbref_node_orderby"></a>
            <h3 class="section-header ">
    <a href="#node-orderby">
        Node: OrderBy
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Factory node for order by.</p>

            
    <p>Query results can be ordered by any dynamic operand
in either ascending or descending order.</p>

            
    <p><strong>Type</strong>: order_by</p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>0..</strong>* ordering</li>
</ul>
</dd>
            </dl>
            <div class="section" id="asc">
            <a id="qbref_method_orderby_asc"></a>
            <h4 class="section-header ">
    <a href="#asc">
        -&gt;asc
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Add ascending ordering:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;orderBy()-&gt;asc()-&gt;field(&#039;sel_1.prop_1&#039;)-&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: <a href="#qbref_node_ordering">ordering</a> (Ordering)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_ordering">Ordering</a></p>

    </div>
            <div class="section" id="desc">
            <a id="qbref_method_orderby_desc"></a>
            <h4 class="section-header ">
    <a href="#desc">
        -&gt;desc
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Add descending ordering:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;orderBy()-&gt;desc()-&gt;field(&#039;sel_1.prop_1&#039;)-&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: <a href="#qbref_node_ordering">ordering</a> (Ordering)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_ordering">Ordering</a></p>

    </div>
    </div>
            <div class="section" id="node-orderbyadd">
            <a id="qbref_node_orderbyadd"></a>
            <h3 class="section-header ">
    <a href="#node-orderbyadd">
        Node: OrderByAdd
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Node for adding an additional order by.</p>

            
    <p><strong>Type</strong>: order_by</p>

            
    <p><strong>Extends</strong>: <a href="#qbref_node_orderby">OrderBy</a></p>

            
    <p><strong>Inherited methods</strong>: <a href="#qbref_method_orderby_asc">asc</a>, <a href="#qbref_method_orderby_desc">desc</a></p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>0..</strong>* ordering</li>
</ul>
</dd>
            </dl>
    </div>
            <div class="section" id="node-ordering">
            <a id="qbref_node_ordering"></a>
            <h3 class="section-header ">
    <a href="#node-ordering">
        Node: Ordering
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p><strong>Type</strong>: ordering</p>

            
    <p><strong>Extends</strong>: <a href="#qbref_node_operanddynamicfactory">OperandDynamicFactory</a></p>

            
    <p><strong>Inherited methods</strong>: <a href="#qbref_method_operanddynamicfactory_fulltextsearchscore">fullTextSearchScore</a>, <a href="#qbref_method_operanddynamicfactory_length">length</a>, <a href="#qbref_method_operanddynamicfactory_lowercase">lowerCase</a>, <a href="#qbref_method_operanddynamicfactory_uppercase">upperCase</a>, <a href="#qbref_method_operanddynamicfactory_localname">localName</a>, <a href="#qbref_method_operanddynamicfactory_name">name</a>, <a href="#qbref_method_operanddynamicfactory_field">field</a></p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>1..1</strong> operand_dynamic</li>
</ul>
</dd>
            </dl>
    </div>
            <div class="section" id="node-querybuilder">
            <a id="qbref_node_querybuilder"></a>
            <h3 class="section-header ">
    <a href="#node-querybuilder">
        Node: QueryBuilder
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>The Query Builder root node.</p>

            
    <p>This is the node which is returned when a query builder is asked for:</p>

                <div class="console">
        <pre><code class="console">$dm = // get document manager
$qb = $dm-&gt;createQueryBuilder();
$qb-&gt;fromDocument(BlogPost::class, &#039;p&#039;);
$qb-&gt;where()-&gt;eq()-&gt;field(&#039;p.title&#039;)-&gt;literal(&#039;My Post&#039;);
$docs = $qb-&gt;getQuery()-&gt;execute();

</code></pre>
    </div>

            
    <p>A converter is required to be set if the purpose of the query builder
is to be fulfilled. The PHPCR converter walks over the query builder node
hierarchy and converts the object graph the PHPCR QOM object graph.</p>

            
    <p><strong>Type</strong>: builder</p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>0..</strong>* select</li>
    <li><strong>1..1</strong> from</li>
    <li><strong>0..1</strong> where</li>
    <li><strong>0..</strong>* order_by</li>
</ul>
</dd>
            </dl>
            <div class="section" id="where">
            <a id="qbref_method_querybuilder_where"></a>
            <h4 class="section-header ">
    <a href="#where">
        -&gt;where
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Where factory node is used to specify selection criteria:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;where()
  -&gt;eq()
    -&gt;field(&#039;a.foobar&#039;)-&gt;literal(&#039;bar&#039;)-&gt;end()
  -&gt;end()
-&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: <a href="#qbref_node_where">where</a> (Where)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_where">Where</a></p>

    </div>
            <div class="section" id="andwhere">
            <a id="qbref_method_querybuilder_andwhere"></a>
            <h4 class="section-header ">
    <a href="#andwhere">
        -&gt;andWhere
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Add additional selection criteria using the AND operator.</p>

            
    <p><strong>Adds</strong>: <a href="#qbref_node_where">where</a> (WhereAnd)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_whereand">WhereAnd</a></p>

    </div>
            <div class="section" id="orwhere">
            <a id="qbref_method_querybuilder_orwhere"></a>
            <h4 class="section-header ">
    <a href="#orwhere">
        -&gt;orWhere
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Add additional selection criteria using the OR operator.</p>

            
    <p><strong>Adds</strong>: <a href="#qbref_node_where">where</a> (WhereOr)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_whereor">WhereOr</a></p>

    </div>
            <div class="section" id="from">
            <a id="qbref_method_querybuilder_from"></a>
            <h4 class="section-header ">
    <a href="#from">
        -&gt;from
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Set the from source for the query:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;from()-&gt;document(&#039;Foobar&#039;, &#039;a&#039;);

// or with a join ...

$qb-&gt;from(&#039;a&#039;)-&gt;joinInner()
  -&gt;left()-&gt;document(&#039;Foobar&#039;, &#039;a&#039;)-&gt;end()
  -&gt;right()-&gt;document(&#039;Barfoo&#039;, &#039;b&#039;)-&gt;end()
  -&gt;condition()-&gt;equi(&#039;a.prop_1&#039;, &#039;b.prop_1&#039;)-&gt;end()
-&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: <a href="#qbref_node_from">from</a> (From)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_from">From</a></p>

            
    <p><strong>Arguments</strong>:</p>

            

<ul>
    <li><strong>$primaryAlias</strong>: <em>string</em> - Alias to use as primary source (optional for single sources)</li>
</ul>

    </div>
            <div class="section" id="fromdocument">
            <a id="qbref_method_querybuilder_fromdocument"></a>
            <h4 class="section-header ">
    <a href="#fromdocument">
        -&gt;fromDocument
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Shortcut for:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;from()
  -&gt;document(&#039;Foobar&#039;, &#039;a&#039;)-&gt;end()
-&gt;end();

</code></pre>
    </div>

            
    <p>Which becomes:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;fromDocument(&#039;Foobar&#039;, &#039;a&#039;)-&gt;end();

</code></pre>
    </div>

            
    <p>Replaces any existing from source.</p>

            
    <p><strong>Adds</strong>: <a href="#qbref_node_from">from</a> (From)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_querybuilder">QueryBuilder</a></p>

            
    <p><strong>Arguments</strong>:</p>

            

<ul>
    <li><strong>$documentFqn</strong>: <em>string</em> - Fully qualified class name for document.</li>
    <li><strong>$primaryAlias</strong>: <em>string</em> - Alias for document source and primary alias when using multiple sources.</li>
</ul>

    </div>
            <div class="section" id="addjoinleftouter">
            <a id="qbref_method_querybuilder_addjoinleftouter"></a>
            <h4 class="section-header ">
    <a href="#addjoinleftouter">
        -&gt;addJoinLeftOuter
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Replace the existing source with a left outer join source using the existing
source as the left operand:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;fromDocument(&#039;Foobar&#039;, &#039;a&#039;)
  -&gt;addJoinLeftOuter()
    -&gt;right()-&gt;document(&#039;Barfoo&#039;, &#039;b&#039;)-&gt;end()
    -&gt;condition()-&gt;equi(&#039;a.prop_1&#039;, &#039;b.prop_2&#039;)-&gt;end()
  -&gt;end()
-&gt;end();

</code></pre>
    </div>

            
    <p>Note that for outer joins to work correctly, documents being joined to must be mapped with
a node type that is unique to the repository workspace, and the <code>uniqueNodeType</code> property
must be set to <code>true</code> for the document (see <a href="attributes-mapping.html#attref_document">#[Document]</a>). Otherwise, the join
will behave as an inner join.</p>

            
    <p><strong>Adds</strong>: <a href="#qbref_node_select">select</a> (Select)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_sourcejoin">SourceJoin</a></p>

    </div>
            <div class="section" id="addjoinrightouter">
            <a id="qbref_method_querybuilder_addjoinrightouter"></a>
            <h4 class="section-header ">
    <a href="#addjoinrightouter">
        -&gt;addJoinRightOuter
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Replace the existing source with a right outer join source using the existing
source as the left operand:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;fromDocument(&#039;Foobar&#039;, &#039;a&#039;)
  -&gt;addJoinRightOuter()
    -&gt;right()-&gt;document(&#039;Barfoo&#039;, &#039;b&#039;)-&gt;end()-&gt;end()
    -&gt;condition()-&gt;equi(&#039;a.prop_1&#039;, &#039;b.prop_2&#039;)-&gt;end()
  -&gt;end()
-&gt;end();

</code></pre>
    </div>

            
    <p>Note that for outer joins to work correctly, documents being joined to must be mapped with
a node type that is unique to the repository workspace, and the <code>uniqueNodeType</code> property
must be set to <code>true</code> for the document (see <a href="attributes-mapping.html#attref_document">#[Document]</a>). Otherwise, the join
will behave as an inner join.</p>

            
    <p><strong>Adds</strong>: <a href="#qbref_node_select">select</a> (Select)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_sourcejoin">SourceJoin</a></p>

    </div>
            <div class="section" id="addjoininner">
            <a id="qbref_method_querybuilder_addjoininner"></a>
            <h4 class="section-header ">
    <a href="#addjoininner">
        -&gt;addJoinInner
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Replace the existing source with an inner join source using the existing
source as the left operand:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;fromDocument(&#039;Foobar&#039;, &#039;a&#039;)
  -&gt;addJoinInner()
    -&gt;right()-&gt;document(&#039;Barfoo&#039;, &#039;b&#039;)-&gt;end()
    -&gt;condition()-&gt;equi(&#039;a.prop_1&#039;, &#039;b.prop_2&#039;)-&gt;end()
  -&gt;end()
-&gt;end();

</code></pre>
    </div>

            
    <p>Note that for outer joins to work correctly, documents being joined to must be mapped with
a node type that is unique to the repository workspace, and the <code>uniqueNodeType</code> property
must be set to <code>true</code> for the document (see <a href="attributes-mapping.html#attref_document">#[Document]</a>). Otherwise, the join
will behave as an inner join.</p>

            
    <p><strong>Adds</strong>: <a href="#qbref_node_select">select</a> (Select)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_sourcejoin">SourceJoin</a></p>

    </div>
            <div class="section" id="select">
            <a id="qbref_method_querybuilder_select"></a>
            <h4 class="section-header ">
    <a href="#select">
        -&gt;select
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Method to add properties for selection to builder tree, replaces any
existing select.</p>

            
    <p>Number of property nodes is unbounded:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;select()
  -&gt;field(&#039;a.prop_1&#039;)
  -&gt;field(&#039;a.prop_2&#039;)
  -&gt;field(&#039;a.prop_3&#039;)
-&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: <a href="#qbref_node_select">select</a> (Select)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_select">Select</a></p>

    </div>
            <div class="section" id="addselect">
            <a id="qbref_method_querybuilder_addselect"></a>
            <h4 class="section-header ">
    <a href="#addselect">
        -&gt;addSelect
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Add additional properties to selection:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;select()
    -&gt;field(&#039;a.prop_1&#039;)
  -&gt;end()
  -&gt;addSelect()
    -&gt;field(&#039;a.prop_2&#039;)
    -&gt;field(&#039;a.prop_3&#039;)
    -&gt;field(&#039;a.prop_4&#039;)
  -&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: <a href="#qbref_node_select">select</a> (SelectAdd)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_selectadd">SelectAdd</a></p>

    </div>
            <div class="section" id="orderby">
            <a id="qbref_method_querybuilder_orderby"></a>
            <h4 class="section-header ">
    <a href="#orderby">
        -&gt;orderBy
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Add orderings to the builder tree.</p>

            
    <p>Number of orderings is unbounded:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;orderBy()
  -&gt;asc()-&gt;field(&#039;a.prop_1&#039;)-&gt;end()
  -&gt;desc()-&gt;field(&#039;a.prop_2&#039;)-&gt;end()
-&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: order_by (OrderBy)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_orderby">OrderBy</a></p>

    </div>
            <div class="section" id="addorderby">
            <a id="qbref_method_querybuilder_addorderby"></a>
            <h4 class="section-header ">
    <a href="#addorderby">
        -&gt;addOrderBy
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Add additional orderings to the builder tree.</p>

            
    <p><strong>Adds</strong>: order_by (OrderByAdd)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_orderbyadd">OrderByAdd</a></p>

    </div>
    </div>
            <div class="section" id="node-select">
            <a id="qbref_node_select"></a>
            <h3 class="section-header ">
    <a href="#node-select">
        Node: Select
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Factory node for adding selection fields.</p>

            
    <p><strong>Type</strong>: select</p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>0..</strong>* property</li>
</ul>
</dd>
            </dl>
    </div>
            <div class="section" id="node-selectadd">
            <a id="qbref_node_selectadd"></a>
            <h3 class="section-header ">
    <a href="#node-selectadd">
        Node: SelectAdd
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Factory node for adding additional selection fields.</p>

            
    <p><strong>Type</strong>: select</p>

            
    <p><strong>Extends</strong>: <a href="#qbref_node_select">Select</a></p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>0..</strong>* property</li>
</ul>
</dd>
            </dl>
    </div>
            <div class="section" id="node-sourcejoin">
            <a id="qbref_node_sourcejoin"></a>
            <h3 class="section-header ">
    <a href="#node-sourcejoin">
        Node: SourceJoin
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p><strong>Type</strong>: source</p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>1..1</strong> source_join_condition_factory</li>
    <li><strong>1..1</strong> source_join_left</li>
    <li><strong>1..1</strong> source_join_right</li>
</ul>
</dd>
            </dl>
    </div>
            <div class="section" id="node-sourcejoinconditionfactory">
            <a id="qbref_node_sourcejoinconditionfactory"></a>
            <h3 class="section-header ">
    <a href="#node-sourcejoinconditionfactory">
        Node: SourceJoinConditionFactory
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Factory node for join conditions.</p>

            
    <p><strong>Type</strong>: source_join_condition_factory</p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>1..1</strong> source_join_condition</li>
</ul>
</dd>
            </dl>
            <div class="section" id="descendant">
            <a id="qbref_method_sourcejoinconditionfactory_descendant"></a>
            <h4 class="section-header ">
    <a href="#descendant">
        -&gt;descendant
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Descendant join condition:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;from(&#039;alias_1&#039;)
  -&gt;joinInner()
    -&gt;left()-&gt;document(&#039;Foo/Bar/One&#039;, &#039;alias_1&#039;)-&gt;end()
    -&gt;right()-&gt;document(&#039;Foo/Bar/Two&#039;, &#039;alias_2&#039;)-&gt;end()
    -&gt;condition()
      -&gt;descendant(&#039;alias_1&#039;, &#039;alias_2&#039;)
    -&gt;end()
-&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: source_join_condition (SourceJoinConditionDescendant)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_sourcejoinconditionfactory">SourceJoinConditionFactory</a></p>

            
    <p><strong>Arguments</strong>:</p>

            

<ul>
    <li><strong>$descendantAlias</strong>: <em>string</em> - Name of alias for descendant documents.</li>
    <li><strong>$ancestorAlias</strong>: <em>string</em> - Name of alias to match for ancestor documents.</li>
</ul>

    </div>
            <div class="section" id="equi">
            <a id="qbref_method_sourcejoinconditionfactory_equi"></a>
            <h4 class="section-header ">
    <a href="#equi">
        -&gt;equi
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Equi (equality) join condition:</p>

                <div class="console">
        <pre><code class="console"> $qb-&gt;from(&#039;alias_1&#039;)
   -&gt;joinInner()
     -&gt;left()-&gt;document(&#039;Foo/Bar/One&#039;, &#039;alias_1&#039;)-&gt;end()
     -&gt;right()-&gt;document(&#039;Foo/Bar/Two&#039;, &#039;alias_2&#039;)-&gt;end()
     -&gt;condition()-&gt;equi(&#039;alias_1.prop_1&#039;, &#039;alias_2.prop_2&#039;)
   -&gt;end()
-&gt;end();

</code></pre>
    </div>

            
    <p>See: <a href="http://en.wikipedia.org/wiki/Join_%28SQL%29#Equi-join">http://en.wikipedia.org/wiki/Join_%28SQL%29#Equi-join</a></p>

            
    <p><strong>Adds</strong>: source_join_condition (SourceJoinConditionEqui)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_sourcejoinconditionfactory">SourceJoinConditionFactory</a></p>

            
    <p><strong>Arguments</strong>:</p>

            

<ul>
    <li><strong>$field1</strong>: <em>string</em> - Field name for first field.</li>
    <li><strong>$field2</strong>: <em>string</em> - Field name for second field.</li>
</ul>

    </div>
            <div class="section" id="child">
            <a id="qbref_method_sourcejoinconditionfactory_child"></a>
            <h4 class="section-header ">
    <a href="#child">
        -&gt;child
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Child document join condition:</p>

                <div class="console">
        <pre><code class="console"> $qb-&gt;from(&#039;alias_1&#039;)
   -&gt;joinInner()
     -&gt;left()-&gt;document(&#039;Foo/Bar/One&#039;, &#039;alias_1&#039;)-&gt;end()
     -&gt;right()-&gt;document(&#039;Foo/Bar/Two&#039;, &#039;alias_2&#039;)-&gt;end()
     -&gt;condition()-&gt;child(&#039;alias_1&#039;, &#039;alias_2&#039;)-&gt;end()
   -&gt;end()
-&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: source_join_condition (SourceJoinConditionChildDocument)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_sourcejoinconditionfactory">SourceJoinConditionFactory</a></p>

            
    <p><strong>Arguments</strong>:</p>

            

<ul>
    <li><strong>$childAlias</strong>: <em>string</em> - Name of alias for child documents.</li>
    <li><strong>$parentAlias</strong>: <em>string</em> - Name of alias to match for parent documents.</li>
</ul>

    </div>
            <div class="section" id="same">
            <a id="qbref_method_sourcejoinconditionfactory_same"></a>
            <h4 class="section-header ">
    <a href="#same">
        -&gt;same
        <i class="fas fa-link"></i>
    </a>
</h4>
            
    <p>Same document join condition:</p>

                <div class="console">
        <pre><code class="console">$qb-&gt;from(&#039;alias_1&#039;)
  -&gt;joinInner()
    -&gt;left()-&gt;document(&#039;Foo/Bar/One&#039;, &#039;alias_1&#039;)-&gt;end()
    -&gt;right()-&gt;document(&#039;Foo/Bar/Two&#039;, &#039;alias_2&#039;)-&gt;end()
    -&gt;condition()
      -&gt;same(&#039;alias_1&#039;, &#039;alias_2&#039;, &#039;/path_to/alias_2/document&#039;)
    -&gt;end()
  -&gt;end()
-&gt;end();

</code></pre>
    </div>

            
    <p><strong>Adds</strong>: source_join_condition (SourceJoinConditionSameDocument)</p>

            
    <p><strong>Returns</strong>: <a href="#qbref_node_sourcejoinconditionfactory">SourceJoinConditionFactory</a></p>

            
    <p><strong>Arguments</strong>:</p>

            

<ul>
    <li><strong>$alias1</strong>: <em>string</em> - Name of first alias.</li>
    <li><strong>$alias2</strong>: <em>string</em> - Name of first alias.</li>
    <li><strong>$alias2Path</strong>: <em>string</em> - Path for documents of second alias.</li>
</ul>

    </div>
    </div>
            <div class="section" id="node-sourcejoinleft">
            <a id="qbref_node_sourcejoinleft"></a>
            <h3 class="section-header ">
    <a href="#node-sourcejoinleft">
        Node: SourceJoinLeft
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Factory node for &quot;left&quot; source in join.</p>

            
    <p><strong>Type</strong>: source_join_left</p>

            
    <p><strong>Extends</strong>: <a href="#qbref_node_from">From</a></p>

            
    <p><strong>Inherited methods</strong>: document, joinInner, joinLeftOuter, joinRightOuter</p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>1..1</strong> source</li>
</ul>
</dd>
            </dl>
    </div>
            <div class="section" id="node-sourcejoinright">
            <a id="qbref_node_sourcejoinright"></a>
            <h3 class="section-header ">
    <a href="#node-sourcejoinright">
        Node: SourceJoinRight
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Factory node for &quot;right&quot; source in join.</p>

            
    <p><strong>Type</strong>: source_join_right</p>

            
    <p><strong>Extends</strong>: <a href="#qbref_node_from">From</a></p>

            
    <p><strong>Inherited methods</strong>: document, joinInner, joinLeftOuter, joinRightOuter</p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>1..1</strong> source</li>
</ul>
</dd>
            </dl>
    </div>
            <div class="section" id="node-where">
            <a id="qbref_node_where"></a>
            <h3 class="section-header ">
    <a href="#node-where">
        Node: Where
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Factory node for where.</p>

            
    <p><strong>Type</strong>: where</p>

            
    <p><strong>Extends</strong>: <a href="#qbref_node_constraintfactory">ConstraintFactory</a></p>

            
    <p><strong>Inherited methods</strong>: <a href="#qbref_method_constraintfactory_andx">andX</a>, <a href="#qbref_method_constraintfactory_orx">orX</a>, <a href="#qbref_method_constraintfactory_fieldisset">fieldIsset</a>, <a href="#qbref_method_constraintfactory_fulltextsearch">fullTextSearch</a>, <a href="#qbref_method_constraintfactory_same">same</a>, <a href="#qbref_method_constraintfactory_descendant">descendant</a>, <a href="#qbref_method_constraintfactory_child">child</a>, <a href="#qbref_method_constraintfactory_eq">eq</a>, <a href="#qbref_method_constraintfactory_neq">neq</a>, <a href="#qbref_method_constraintfactory_lt">lt</a>, <a href="#qbref_method_constraintfactory_lte">lte</a>, <a href="#qbref_method_constraintfactory_gt">gt</a>, <a href="#qbref_method_constraintfactory_gte">gte</a>, <a href="#qbref_method_constraintfactory_like">like</a></p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>1..1</strong> constraint</li>
</ul>
</dd>
            </dl>
    </div>
            <div class="section" id="node-whereand">
            <a id="qbref_node_whereand"></a>
            <h3 class="section-header ">
    <a href="#node-whereand">
        Node: WhereAnd
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Factory node for appending additional &quot;wheres&quot; with an AND</p>

            
    <p><strong>Type</strong>: where</p>

            
    <p><strong>Extends</strong>: <a href="#qbref_node_where">Where</a></p>

            
    <p><strong>Inherited methods</strong>: <a href="#qbref_method_constraintfactory_andx">andX</a>, <a href="#qbref_method_constraintfactory_orx">orX</a>, <a href="#qbref_method_constraintfactory_fieldisset">fieldIsset</a>, <a href="#qbref_method_constraintfactory_fulltextsearch">fullTextSearch</a>, <a href="#qbref_method_constraintfactory_same">same</a>, <a href="#qbref_method_constraintfactory_descendant">descendant</a>, <a href="#qbref_method_constraintfactory_child">child</a>, <a href="#qbref_method_constraintfactory_eq">eq</a>, <a href="#qbref_method_constraintfactory_neq">neq</a>, <a href="#qbref_method_constraintfactory_lt">lt</a>, <a href="#qbref_method_constraintfactory_lte">lte</a>, <a href="#qbref_method_constraintfactory_gt">gt</a>, <a href="#qbref_method_constraintfactory_gte">gte</a>, <a href="#qbref_method_constraintfactory_like">like</a></p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>1..1</strong> constraint</li>
</ul>
</dd>
            </dl>
    </div>
            <div class="section" id="node-whereor">
            <a id="qbref_node_whereor"></a>
            <h3 class="section-header ">
    <a href="#node-whereor">
        Node: WhereOr
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Factory node for appending additional &quot;wheres&quot; with an OR</p>

            
    <p><strong>Type</strong>: where</p>

            
    <p><strong>Extends</strong>: <a href="#qbref_node_where">Where</a></p>

            
    <p><strong>Inherited methods</strong>: <a href="#qbref_method_constraintfactory_andx">andX</a>, <a href="#qbref_method_constraintfactory_orx">orX</a>, <a href="#qbref_method_constraintfactory_fieldisset">fieldIsset</a>, <a href="#qbref_method_constraintfactory_fulltextsearch">fullTextSearch</a>, <a href="#qbref_method_constraintfactory_same">same</a>, <a href="#qbref_method_constraintfactory_descendant">descendant</a>, <a href="#qbref_method_constraintfactory_child">child</a>, <a href="#qbref_method_constraintfactory_eq">eq</a>, <a href="#qbref_method_constraintfactory_neq">neq</a>, <a href="#qbref_method_constraintfactory_lt">lt</a>, <a href="#qbref_method_constraintfactory_lte">lte</a>, <a href="#qbref_method_constraintfactory_gt">gt</a>, <a href="#qbref_method_constraintfactory_gte">gte</a>, <a href="#qbref_method_constraintfactory_like">like</a></p>

            <dl>
                        <dt><strong>Child Cardinality</strong>:</dt>
        
        <dd>

<ul>
    <li><strong>1..1</strong> constraint</li>
</ul>
</dd>
            </dl>
    </div>
    </div>
    </div>
        

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?1546fc"
                            integrity="sha384-ix9eb2EZyp9uayYpxmCQoylbz8msHl5wOg/aqZnD/3cxszNUGePN656MRg5GEgbm"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'phpcr-odm';
            var versionSlug = 'latest';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search PHPCR ODM 2.0'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            </body>
</html>
