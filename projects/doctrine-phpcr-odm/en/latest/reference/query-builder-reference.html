<!DOCTYPE html>
<html>
    <head>
        <title>Query Builder Reference - PHPCR ODM - Doctrine</title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine PHPCR ODM Documentation: Query Builder Reference ">

        <meta name="keywords" content="php,content,odm,data,mapper,mapping,object,documentation,query,builder,reference">

                    <meta name="robots" content="index, follow">
        
                    <link rel="canonical" href="https://www.doctrine-project.org/projects/doctrine-phpcr-odm/en/latest/reference/query-builder-reference.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?a98866"
                        integrity="sha384-s2rRuTDAw3brF0vTWxfVO+iYJFgFkwUg8zKoCgaAu0Vq+gskaecwSwNy91s0rsKb"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineorm" />
        <meta name="twitter:creator" content="@doctrineorm" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/projects/doctrine-phpcr-odm/en/latest/reference/query-builder-reference.html" />
        <meta property="og:title" content="Query Builder Reference - PHPCR ODM - Doctrine" />
        <meta property="og:description" content="Doctrine PHPCR ODM Documentation: Query Builder Reference " />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/images/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineorm"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "Course",
            "name": "Doctrine PHPCR ODM",
            "description": "Query Builder Reference",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://www.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/images/doctrine-logo.svg?6c0dab" />Doctrine</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item notranslate" href="/projects/annotations.html">Annotations</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/cache.html">Cache</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/mongodb.html">MongoDB</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/reflection.html">Reflection</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/rst-parser.html">RST Parser</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/skeleton-mapper.html">Skeleton Mapper</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/community/index.html">Community</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                       <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/team/maintainers.html" id="navbarTeamDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Team</a>

                            <div class="dropdown-menu" aria-labelledby="navbarTeamDropdown">
                                <a class="dropdown-item" href="/team/maintainers.html">Maintainers</a>
                                <a class="dropdown-item" href="/team/contributors.html">Contributors</a>
                            </div>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/phpcr-odm/edit/master/docs/en/reference/query-builder-reference.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>

                    <div class="google-translate-dropdown dropdown show d-inline-block mr-2">
                        <a class="btn btn-primary dropdown-toggle" href="#" role="button" id="translateDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Translate
                        </a>

                        <div class="dropdown-menu" aria-labelledby="translateDropdown">
                            <div class="dropdown-item" id="google_translate_element">Loading...</div>
                        </div>
                    </div>

                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        
<div class="toc"><ul><li id="annotations-mapping-html-annotation-mapping" class="toc-item"><a href="annotations-mapping.html#annotation-mapping">Annotation Mapping</a></li><ul><li id="annotations-mapping-html-note-on-usage" class="toc-item"><a href="annotations-mapping.html#note-on-usage">Note on usage</a></li><li id="annotations-mapping-html-document" class="toc-item"><a href="annotations-mapping.html#document">Document</a></li><ul><li id="annotations-mapping-html-document" class="toc-item"><a href="annotations-mapping.html#document">@Document</a></li><li id="annotations-mapping-html-mappedsuperclass" class="toc-item"><a href="annotations-mapping.html#mappedsuperclass">@MappedSuperclass</a></li></ul><li id="annotations-mapping-html-mapping-fields" class="toc-item"><a href="annotations-mapping.html#mapping-fields">Mapping Fields</a></li><ul><li id="annotations-mapping-html-field" class="toc-item"><a href="annotations-mapping.html#field">@Field</a></li></ul><li id="annotations-mapping-html-hierarchy" class="toc-item"><a href="annotations-mapping.html#hierarchy">Hierarchy</a></li><ul><li id="annotations-mapping-html-child" class="toc-item"><a href="annotations-mapping.html#child">@Child</a></li><li id="annotations-mapping-html-children" class="toc-item"><a href="annotations-mapping.html#children">@Children</a></li><li id="annotations-mapping-html-depth" class="toc-item"><a href="annotations-mapping.html#depth">@Depth</a></li><li id="annotations-mapping-html-parentdocument" class="toc-item"><a href="annotations-mapping.html#parentdocument">@ParentDocument</a></li></ul><li id="annotations-mapping-html-identification" class="toc-item"><a href="annotations-mapping.html#identification">Identification</a></li><ul><li id="annotations-mapping-html-id" class="toc-item"><a href="annotations-mapping.html#id">@Id</a></li><li id="annotations-mapping-html-nodename" class="toc-item"><a href="annotations-mapping.html#nodename">@Nodename</a></li><li id="annotations-mapping-html-uuid" class="toc-item"><a href="annotations-mapping.html#uuid">@Uuid</a></li></ul><li id="annotations-mapping-html-lifcycle-callbacks" class="toc-item"><a href="annotations-mapping.html#lifcycle-callbacks">Lifcycle callbacks</a></li><ul><li id="annotations-mapping-html-postload" class="toc-item"><a href="annotations-mapping.html#postload">@PostLoad</a></li><li id="annotations-mapping-html-postpersist" class="toc-item"><a href="annotations-mapping.html#postpersist">@PostPersist</a></li><li id="annotations-mapping-html-postremove" class="toc-item"><a href="annotations-mapping.html#postremove">@PostRemove</a></li><li id="annotations-mapping-html-postupdate" class="toc-item"><a href="annotations-mapping.html#postupdate">@PostUpdate</a></li><li id="annotations-mapping-html-prepersist" class="toc-item"><a href="annotations-mapping.html#prepersist">@PrePersist</a></li><li id="annotations-mapping-html-preremove" class="toc-item"><a href="annotations-mapping.html#preremove">@PreRemove</a></li><li id="annotations-mapping-html-preupdate" class="toc-item"><a href="annotations-mapping.html#preupdate">@PreUpdate</a></li></ul><li id="annotations-mapping-html-phpcr" class="toc-item"><a href="annotations-mapping.html#phpcr">PHPCR</a></li><ul><li id="annotations-mapping-html-node" class="toc-item"><a href="annotations-mapping.html#node">@Node</a></li></ul><li id="annotations-mapping-html-references" class="toc-item"><a href="annotations-mapping.html#references">References</a></li><ul><li id="annotations-mapping-html-referencemany" class="toc-item"><a href="annotations-mapping.html#referencemany">@ReferenceMany</a></li><li id="annotations-mapping-html-referenceone" class="toc-item"><a href="annotations-mapping.html#referenceone">@ReferenceOne</a></li><li id="annotations-mapping-html-referrers" class="toc-item"><a href="annotations-mapping.html#referrers">@Referrers</a></li><li id="annotations-mapping-html-mixedreferrers" class="toc-item"><a href="annotations-mapping.html#mixedreferrers">@MixedReferrers</a></li></ul><li id="annotations-mapping-html-translation" class="toc-item"><a href="annotations-mapping.html#translation">Translation</a></li><ul><li id="annotations-mapping-html-locale" class="toc-item"><a href="annotations-mapping.html#locale">@Locale</a></li></ul><li id="annotations-mapping-html-versioning" class="toc-item"><a href="annotations-mapping.html#versioning">Versioning</a></li><ul><li id="annotations-mapping-html-versioncreated" class="toc-item"><a href="annotations-mapping.html#versioncreated">@VersionCreated</a></li><li id="annotations-mapping-html-versionname" class="toc-item"><a href="annotations-mapping.html#versionname">@VersionName</a></li></ul></ul><li id="architecture-html-architecture" class="toc-item"><a href="architecture.html#architecture">Architecture</a></li><ul><li id="architecture-html-doctrine-phpcr-odm-packages" class="toc-item"><a href="architecture.html#doctrine-phpcr-odm-packages">Doctrine PHPCR-ODM Packages</a></li><ul><li id="architecture-html-content-tree-not-tables" class="toc-item"><a href="architecture.html#content-tree-not-tables">Content tree, not tables</a></li><li id="architecture-html-additional-core-features" class="toc-item"><a href="architecture.html#additional-core-features">Additional core features</a></li></ul></ul><li id="association-mapping-html-association-mapping" class="toc-item"><a href="association-mapping.html#association-mapping">Association Mapping</a></li><ul><li id="association-mapping-html-hierarchy-mappings" class="toc-item"><a href="association-mapping.html#hierarchy-mappings">Hierarchy mappings</a></li><ul><li id="association-mapping-html-child-restriction" class="toc-item"><a href="association-mapping.html#child-restriction">Child restriction</a></li></ul><li id="association-mapping-html-references" class="toc-item"><a href="association-mapping.html#references">References</a></li><ul><li id="association-mapping-html-referenceable-documents" class="toc-item"><a href="association-mapping.html#referenceable-documents">Referenceable documents</a></li><li id="association-mapping-html-reference-other-documents" class="toc-item"><a href="association-mapping.html#reference-other-documents">Reference other documents</a></li><li id="association-mapping-html-referrers-to-inverse-the-reference-relation" class="toc-item"><a href="association-mapping.html#referrers-to-inverse-the-reference-relation">Referrers to inverse the reference relation</a></li><li id="association-mapping-html-mixedreferrers" class="toc-item"><a href="association-mapping.html#mixedreferrers">MixedReferrers</a></li></ul><li id="association-mapping-html-transitive-persistence-cascade-operations" class="toc-item"><a href="association-mapping.html#transitive-persistence-cascade-operations">Transitive persistence / Cascade Operations</a></li><ul><li id="association-mapping-html-persistence-by-reachability-cascade-persist" class="toc-item"><a href="association-mapping.html#persistence-by-reachability-cascade-persist">Persistence by Reachability: Cascade Persist</a></li></ul><li id="association-mapping-html-collections" class="toc-item"><a href="association-mapping.html#collections">Collections</a></li><ul><li id="association-mapping-html-initializing-collections" class="toc-item"><a href="association-mapping.html#initializing-collections">Initializing Collections</a></li><li id="association-mapping-html-new-collections-after-flushing" class="toc-item"><a href="association-mapping.html#new-collections-after-flushing">New Collections after Flushing</a></li></ul></ul><li id="basic-mapping-html-basic-mapping" class="toc-item"><a href="basic-mapping.html#basic-mapping">Basic Mapping</a></li><ul><li id="basic-mapping-html-mapping-drivers" class="toc-item"><a href="basic-mapping.html#mapping-drivers">Mapping Drivers</a></li><li id="basic-mapping-html-introduction-to-docblock-annotations" class="toc-item"><a href="basic-mapping.html#introduction-to-docblock-annotations">Introduction to Docblock Annotations</a></li><li id="basic-mapping-html-persistent-classes" class="toc-item"><a href="basic-mapping.html#persistent-classes">Persistent classes</a></li><ul><li id="basic-mapping-html-specify-a-node-type" class="toc-item"><a href="basic-mapping.html#specify-a-node-type">Specify a node type</a></li><li id="basic-mapping-html-specify-a-repository-class" class="toc-item"><a href="basic-mapping.html#specify-a-repository-class">Specify a repository class</a></li></ul><li id="basic-mapping-html-doctrine-mapping-types" class="toc-item"><a href="basic-mapping.html#doctrine-mapping-types">Doctrine Mapping Types</a></li><li id="basic-mapping-html-property-mapping" class="toc-item"><a href="basic-mapping.html#property-mapping">Property Mapping</a></li><ul><li id="basic-mapping-html-mapping-to-a-differently-named-phpcr-property" class="toc-item"><a href="basic-mapping.html#mapping-to-a-differently-named-phpcr-property">Mapping to a differently named PHPCR property</a></li><li id="basic-mapping-html-mapping-multivalue-properties" class="toc-item"><a href="basic-mapping.html#mapping-multivalue-properties">Mapping multivalue properties</a></li><li id="basic-mapping-html-summary" class="toc-item"><a href="basic-mapping.html#summary">Summary</a></li></ul><li id="basic-mapping-html-identifiers" class="toc-item"><a href="basic-mapping.html#identifiers">Identifiers</a></li><ul><li id="basic-mapping-html-identifier-generation-strategies" class="toc-item"><a href="basic-mapping.html#identifier-generation-strategies">Identifier Generation Strategies</a></li><ul></ul></ul><li id="basic-mapping-html-symfony-bundle" class="toc-item"><a href="basic-mapping.html#symfony-bundle">Symfony bundle</a></li></ul><li id="events-html-events" class="toc-item"><a href="events.html#events">Events</a></li><ul><li id="events-html-lifecycle-events" class="toc-item"><a href="events.html#lifecycle-events">Lifecycle Events</a></li><li id="events-html-event-order-when-moving" class="toc-item"><a href="events.html#event-order-when-moving">Event order when moving</a></li><li id="events-html-event-order-when-handling-with-translations" class="toc-item"><a href="events.html#event-order-when-handling-with-translations">Event order when handling with translations</a></li><li id="events-html-listening-to-events" class="toc-item"><a href="events.html#listening-to-events">Listening to events</a></li><li id="events-html-lifecycle-callbacks" class="toc-item"><a href="events.html#lifecycle-callbacks">Lifecycle Callbacks</a></li><li id="events-html-listening-to-lifecycle-events" class="toc-item"><a href="events.html#listening-to-lifecycle-events">Listening to Lifecycle Events</a></li></ul><li id="fetch-depth-html-tuning-the-node-preloading" class="toc-item"><a href="fetch-depth.html#tuning-the-node-preloading">Tuning the node preloading</a></li><li id="inheritance-mapping-html-inheritance-mapping" class="toc-item"><a href="inheritance-mapping.html#inheritance-mapping">Inheritance Mapping</a></li><ul><li id="inheritance-mapping-html-document-class-inheritance" class="toc-item"><a href="inheritance-mapping.html#document-class-inheritance">Document class inheritance</a></li></ul><li id="installation-configuration-html-installation" class="toc-item"><a href="installation-configuration.html#installation">Installation</a></li><ul><li id="installation-configuration-html-composer" class="toc-item"><a href="installation-configuration.html#composer">Composer</a></li><li id="installation-configuration-html-phpcr-provider" class="toc-item"><a href="installation-configuration.html#phpcr-provider">PHPCR provider</a></li><ul><li id="installation-configuration-html-install-jackalope-jackrabbit-phcpr-provider" class="toc-item"><a href="installation-configuration.html#install-jackalope-jackrabbit-phcpr-provider">Install Jackalope-Jackrabbit PHCPR provider</a></li><li id="installation-configuration-html-install-jackalope-doctrine-dbal-phpcr-provider" class="toc-item"><a href="installation-configuration.html#install-jackalope-doctrine-dbal-phpcr-provider">Install Jackalope Doctrine DBAL PHPCR provider</a></li><li id="installation-configuration-html-install-midgard2-phpcr-provider" class="toc-item"><a href="installation-configuration.html#install-midgard2-phpcr-provider">Install Midgard2 PHPCR provider</a></li></ul></ul><li id="installation-configuration-html-configuration" class="toc-item"><a href="installation-configuration.html#configuration">Configuration</a></li><ul><li id="installation-configuration-html-class-loading-with-composer" class="toc-item"><a href="installation-configuration.html#class-loading-with-composer">Class loading with composer</a></li><li id="installation-configuration-html-obtaining-an-objectmanager" class="toc-item"><a href="installation-configuration.html#obtaining-an-objectmanager">Obtaining an ObjectManager</a></li><ul><li id="installation-configuration-html-prepare-the-mapping-driver" class="toc-item"><a href="installation-configuration.html#prepare-the-mapping-driver">Prepare the mapping driver</a></li><ul></ul><li id="installation-configuration-html-quick-configuration-example" class="toc-item"><a href="installation-configuration.html#quick-configuration-example">Quick Configuration Example</a></li></ul><li id="installation-configuration-html-configuration-options" class="toc-item"><a href="installation-configuration.html#configuration-options">Configuration Options</a></li><ul><li id="installation-configuration-html-proxy-directory-strong-em-required-strong-em" class="toc-item"><a href="installation-configuration.html#proxy-directory-strong-em-required-strong-em">Proxy Directory (<strong><em>REQUIRED</strong></em>)</a></li><li id="installation-configuration-html-proxy-namespace-strong-em-required-strong-em" class="toc-item"><a href="installation-configuration.html#proxy-namespace-strong-em-required-strong-em">Proxy Namespace (<strong><em>REQUIRED</strong></em>)</a></li><li id="installation-configuration-html-metadata-driver-strong-em-required-strong-em" class="toc-item"><a href="installation-configuration.html#metadata-driver-strong-em-required-strong-em">Metadata Driver (<strong><em>REQUIRED</strong></em>)</a></li><li id="installation-configuration-html-metadata-cache-strong-em-recommended-strong-em" class="toc-item"><a href="installation-configuration.html#metadata-cache-strong-em-recommended-strong-em">Metadata Cache (<strong><em>RECOMMENDED</strong></em>)</a></li><li id="installation-configuration-html-auto-generating-proxy-classes-strong-em-optional-strong-em" class="toc-item"><a href="installation-configuration.html#auto-generating-proxy-classes-strong-em-optional-strong-em">Auto-generating Proxy Classes (<strong><em>OPTIONAL</strong></em>)</a></li></ul><li id="installation-configuration-html-development-vs-production-configuration" class="toc-item"><a href="installation-configuration.html#development-vs-production-configuration">Development vs Production Configuration</a></li><li id="installation-configuration-html-connection-options" class="toc-item"><a href="installation-configuration.html#connection-options">Connection Options</a></li><li id="installation-configuration-html-proxy-objects" class="toc-item"><a href="installation-configuration.html#proxy-objects">Proxy Objects</a></li><ul><li id="installation-configuration-html-reference-proxies" class="toc-item"><a href="installation-configuration.html#reference-proxies">Reference Proxies</a></li><li id="installation-configuration-html-generating-proxy-classes" class="toc-item"><a href="installation-configuration.html#generating-proxy-classes">Generating Proxy classes</a></li><li id="installation-configuration-html-autoloading-proxies" class="toc-item"><a href="installation-configuration.html#autoloading-proxies">Autoloading Proxies</a></li><li id="installation-configuration-html-multiple-metadata-sources" class="toc-item"><a href="installation-configuration.html#multiple-metadata-sources">Multiple Metadata Sources</a></li><li id="installation-configuration-html-default-repository-strong-em-optional-strong-em" class="toc-item"><a href="installation-configuration.html#default-repository-strong-em-optional-strong-em">Default Repository (<strong><em>OPTIONAL</strong></em>)</a></li></ul><li id="installation-configuration-html-setting-up-the-console" class="toc-item"><a href="installation-configuration.html#setting-up-the-console">Setting up the Console</a></li><ul><li id="installation-configuration-html-register-system-node-types" class="toc-item"><a href="installation-configuration.html#register-system-node-types">Register system node types</a></li></ul></ul><li id="introduction-html-getting-started" class="toc-item"><a href="introduction.html#getting-started">Getting Started</a></li><ul><li id="introduction-html-what-are-documents" class="toc-item"><a href="introduction.html#what-are-documents">What are Documents?</a></li><li id="introduction-html-an-example-model-document-management" class="toc-item"><a href="introduction.html#an-example-model-document-management">An Example Model: Document Management</a></li><li id="introduction-html-setup-project" class="toc-item"><a href="introduction.html#setup-project">Setup Project</a></li><li id="introduction-html-building-the-model" class="toc-item"><a href="introduction.html#building-the-model">Building the model</a></li><li id="introduction-html-initialize-the-repository" class="toc-item"><a href="introduction.html#initialize-the-repository">Initialize the repository</a></li><li id="introduction-html-storing-documents" class="toc-item"><a href="introduction.html#storing-documents">Storing documents</a></li><li id="introduction-html-reading-documents" class="toc-item"><a href="introduction.html#reading-documents">Reading documents</a></li><li id="introduction-html-tree-traversal" class="toc-item"><a href="introduction.html#tree-traversal">Tree traversal</a></li><li id="introduction-html-add-references" class="toc-item"><a href="introduction.html#add-references">Add references</a></li><li id="introduction-html-removing-documents" class="toc-item"><a href="introduction.html#removing-documents">Removing documents</a></li><li id="introduction-html-other-helpful-methods-on-the-documentmanager" class="toc-item"><a href="introduction.html#other-helpful-methods-on-the-documentmanager">Other helpful methods on the DocumentManager</a></li><li id="introduction-html-conclusion" class="toc-item"><a href="introduction.html#conclusion">Conclusion</a></li></ul><li id="multilang-html-multilanguage-support" class="toc-item"><a href="multilang.html#multilanguage-support">Multilanguage support</a></li><ul><li id="multilang-html-philosophy" class="toc-item"><a href="multilang.html#philosophy">Philosophy</a></li><li id="multilang-html-mapping" class="toc-item"><a href="multilang.html#mapping">Mapping</a></li><li id="multilang-html-interacting-with-translations" class="toc-item"><a href="multilang.html#interacting-with-translations">Interacting with translations</a></li><li id="multilang-html-choosing-the-right-translation-strategy" class="toc-item"><a href="multilang.html#choosing-the-right-translation-strategy">Choosing the right translation strategy</a></li><ul><li id="multilang-html-implementing-your-own-translation-strategy" class="toc-item"><a href="multilang.html#implementing-your-own-translation-strategy">Implementing your own translation strategy</a></li></ul><li id="multilang-html-configure-the-locale-chooser-strategy" class="toc-item"><a href="multilang.html#configure-the-locale-chooser-strategy">Configure the locale chooser strategy</a></li><li id="multilang-html-full-example" class="toc-item"><a href="multilang.html#full-example">Full Example</a></li><li id="multilang-html-querying-translated-properties" class="toc-item"><a href="multilang.html#querying-translated-properties">Querying Translated Properties</a></li><li id="multilang-html-limitations" class="toc-item"><a href="multilang.html#limitations">Limitations</a></li><ul><li id="multilang-html-translations-and-references-hierarchy" class="toc-item"><a href="multilang.html#translations-and-references-hierarchy">Translations and references / hierarchy</a></li></ul></ul><li id="phpcr-access-html-accessing-the-underlying-phpcr-session" class="toc-item"><a href="phpcr-access.html#accessing-the-underlying-phpcr-session">Accessing the underlying PHPCR session</a></li><ul><li id="phpcr-access-html-getting-the-phpcr-session" class="toc-item"><a href="phpcr-access.html#getting-the-phpcr-session">Getting the PHPCR Session</a></li><li id="phpcr-access-html-the-node-field-mapping" class="toc-item"><a href="phpcr-access.html#the-node-field-mapping">The Node field mapping</a></li></ul><li id="query-builder-reference-html-query-builder-reference" class="toc-item"><a href="query-builder-reference.html#query-builder-reference">Query Builder Reference</a></li><ul><li id="query-builder-reference-html-reference" class="toc-item"><a href="query-builder-reference.html#reference">Reference</a></li><ul><li id="query-builder-reference-html-node-constraintandx" class="toc-item"><a href="query-builder-reference.html#node-constraintandx">Node: ConstraintAndx</a></li><li id="query-builder-reference-html-node-constraintcomparison" class="toc-item"><a href="query-builder-reference.html#node-constraintcomparison">Node: ConstraintComparison</a></li><li id="query-builder-reference-html-node-constraintfactory" class="toc-item"><a href="query-builder-reference.html#node-constraintfactory">Node: ConstraintFactory</a></li><ul></ul><li id="query-builder-reference-html-node-constraintnot" class="toc-item"><a href="query-builder-reference.html#node-constraintnot">Node: ConstraintNot</a></li><li id="query-builder-reference-html-node-constraintorx" class="toc-item"><a href="query-builder-reference.html#node-constraintorx">Node: ConstraintOrx</a></li><li id="query-builder-reference-html-node-from" class="toc-item"><a href="query-builder-reference.html#node-from">Node: From</a></li><li id="query-builder-reference-html-node-operanddynamicfactory" class="toc-item"><a href="query-builder-reference.html#node-operanddynamicfactory">Node: OperandDynamicFactory</a></li><ul></ul><li id="query-builder-reference-html-node-operanddynamiclowercase" class="toc-item"><a href="query-builder-reference.html#node-operanddynamiclowercase">Node: OperandDynamicLowerCase</a></li><li id="query-builder-reference-html-node-operanddynamicuppercase" class="toc-item"><a href="query-builder-reference.html#node-operanddynamicuppercase">Node: OperandDynamicUpperCase</a></li><li id="query-builder-reference-html-node-operandfactory" class="toc-item"><a href="query-builder-reference.html#node-operandfactory">Node: OperandFactory</a></li><ul></ul><li id="query-builder-reference-html-node-operandstaticfactory" class="toc-item"><a href="query-builder-reference.html#node-operandstaticfactory">Node: OperandStaticFactory</a></li><li id="query-builder-reference-html-node-orderby" class="toc-item"><a href="query-builder-reference.html#node-orderby">Node: OrderBy</a></li><ul></ul><li id="query-builder-reference-html-node-orderbyadd" class="toc-item"><a href="query-builder-reference.html#node-orderbyadd">Node: OrderByAdd</a></li><li id="query-builder-reference-html-node-ordering" class="toc-item"><a href="query-builder-reference.html#node-ordering">Node: Ordering</a></li><li id="query-builder-reference-html-node-querybuilder" class="toc-item"><a href="query-builder-reference.html#node-querybuilder">Node: QueryBuilder</a></li><ul></ul><li id="query-builder-reference-html-node-select" class="toc-item"><a href="query-builder-reference.html#node-select">Node: Select</a></li><li id="query-builder-reference-html-node-selectadd" class="toc-item"><a href="query-builder-reference.html#node-selectadd">Node: SelectAdd</a></li><li id="query-builder-reference-html-node-sourcejoin" class="toc-item"><a href="query-builder-reference.html#node-sourcejoin">Node: SourceJoin</a></li><li id="query-builder-reference-html-node-sourcejoinconditionfactory" class="toc-item"><a href="query-builder-reference.html#node-sourcejoinconditionfactory">Node: SourceJoinConditionFactory</a></li><ul></ul><li id="query-builder-reference-html-node-sourcejoinleft" class="toc-item"><a href="query-builder-reference.html#node-sourcejoinleft">Node: SourceJoinLeft</a></li><li id="query-builder-reference-html-node-sourcejoinright" class="toc-item"><a href="query-builder-reference.html#node-sourcejoinright">Node: SourceJoinRight</a></li><li id="query-builder-reference-html-node-where" class="toc-item"><a href="query-builder-reference.html#node-where">Node: Where</a></li><li id="query-builder-reference-html-node-whereand" class="toc-item"><a href="query-builder-reference.html#node-whereand">Node: WhereAnd</a></li><li id="query-builder-reference-html-node-whereor" class="toc-item"><a href="query-builder-reference.html#node-whereor">Node: WhereOr</a></li></ul></ul><li id="query-builder-html-the-querybuilder" class="toc-item"><a href="query-builder.html#the-querybuilder">The QueryBuilder</a></li><ul><li id="query-builder-html-concepts" class="toc-item"><a href="query-builder.html#concepts">Concepts</a></li><ul><li id="query-builder-html-leaf-and-factory-nodes" class="toc-item"><a href="query-builder.html#leaf-and-factory-nodes">Leaf and Factory Nodes</a></li><li id="query-builder-html-fluent-interface" class="toc-item"><a href="query-builder.html#fluent-interface">Fluent Interface</a></li><li id="query-builder-html-types-and-cardinality" class="toc-item"><a href="query-builder.html#types-and-cardinality">Types and Cardinality</a></li><li id="query-builder-html-aliases-and-fields" class="toc-item"><a href="query-builder.html#aliases-and-fields">Aliases and fields</a></li></ul><li id="query-builder-html-retrieving-a-query-builder-instance" class="toc-item"><a href="query-builder.html#retrieving-a-query-builder-instance">Retrieving a query builder instance</a></li><ul><li id="query-builder-html-via-the-document-manager" class="toc-item"><a href="query-builder.html#via-the-document-manager">Via the document manager</a></li><li id="query-builder-html-via-a-document-repository" class="toc-item"><a href="query-builder.html#via-a-document-repository">Via a document repository</a></li></ul><li id="query-builder-html-working-with-the-querybuilder" class="toc-item"><a href="query-builder.html#working-with-the-querybuilder">Working with the QueryBuilder</a></li><ul><li id="query-builder-html-specifying-the-document-source-from" class="toc-item"><a href="query-builder.html#specifying-the-document-source-from">Specifying the document source - from</a></li><ul></ul><li id="query-builder-html-selecting-specific-properties-select" class="toc-item"><a href="query-builder.html#selecting-specific-properties-select">Selecting specific properties - select</a></li><li id="query-builder-html-limiting-the-number-of-results" class="toc-item"><a href="query-builder.html#limiting-the-number-of-results">Limiting the number of results</a></li><li id="query-builder-html-specifying-selection-criteria" class="toc-item"><a href="query-builder.html#specifying-selection-criteria">Specifying selection criteria</a></li><li id="query-builder-html-ordering-results" class="toc-item"><a href="query-builder.html#ordering-results">Ordering results</a></li><li id="query-builder-html-querying-translated-documents" class="toc-item"><a href="query-builder.html#querying-translated-documents">Querying translated documents</a></li></ul><li id="query-builder-html-additional-notes" class="toc-item"><a href="query-builder.html#additional-notes">Additional notes</a></li><ul><li id="query-builder-html-querying-multivalue-fields" class="toc-item"><a href="query-builder.html#querying-multivalue-fields">Querying multivalue fields</a></li><li id="query-builder-html-using-the-query-builder-in-tests" class="toc-item"><a href="query-builder.html#using-the-query-builder-in-tests">Using the Query Builder in Tests</a></li></ul></ul><li id="query-html-the-query-object" class="toc-item"><a href="query.html#the-query-object">The Query Object</a></li><ul><li id="query-html-getting-single-results" class="toc-item"><a href="query.html#getting-single-results">Getting single results</a></li><ul><li id="query-html-getsingleresult" class="toc-item"><a href="query.html#getsingleresult">getSingleResult</a></li><li id="query-html-getoneornullresult" class="toc-item"><a href="query.html#getoneornullresult">getOneOrNullResult</a></li></ul><li id="query-html-getting-multiple-results" class="toc-item"><a href="query.html#getting-multiple-results">Getting multiple results</a></li><ul><li id="query-html-getresult" class="toc-item"><a href="query.html#getresult">getResult</a></li><li id="query-html-getphpcrnoderesult" class="toc-item"><a href="query.html#getphpcrnoderesult">getPhpcrNodeResult</a></li><li id="query-html-execute" class="toc-item"><a href="query.html#execute">execute</a></li></ul><li id="query-html-hydration-modes" class="toc-item"><a href="query.html#hydration-modes">Hydration modes</a></li><li id="query-html-limiting-results" class="toc-item"><a href="query.html#limiting-results">Limiting results</a></li></ul><li id="tools-html-tools" class="toc-item"><a href="tools.html#tools">Tools</a></li><ul><li id="tools-html-doctrine-console" class="toc-item"><a href="tools.html#doctrine-console">Doctrine Console</a></li><ul><li id="tools-html-command-overview" class="toc-item"><a href="tools.html#command-overview">Command Overview</a></li><li id="tools-html-getting-documentation-of-a-command" class="toc-item"><a href="tools.html#getting-documentation-of-a-command">Getting documentation of a command</a></li><li id="tools-html-phpcr-implementation-specific-commands" class="toc-item"><a href="tools.html#phpcr-implementation-specific-commands">PHPCR implementation specific commands</a></li><ul></ul></ul><li id="tools-html-register-system-node-types" class="toc-item"><a href="tools.html#register-system-node-types">Register system node types</a></li><li id="tools-html-adding-your-own-commands" class="toc-item"><a href="tools.html#adding-your-own-commands">Adding your own commands</a></li></ul><li id="transactions-html-transactions" class="toc-item"><a href="transactions.html#transactions">Transactions</a></li><ul><li id="transactions-html-transactional" class="toc-item"><a href="transactions.html#transactional">transactional()</a></li></ul><li id="versioning-html-versioning-support" class="toc-item"><a href="versioning.html#versioning-support">Versioning support</a></li><ul><li id="versioning-html-philosophy" class="toc-item"><a href="versioning.html#philosophy">Philosophy</a></li><ul><li id="versioning-html-phpcr-odm" class="toc-item"><a href="versioning.html#phpcr-odm">PHPCR-ODM</a></li></ul><li id="versioning-html-mappings" class="toc-item"><a href="versioning.html#mappings">Mappings</a></li><li id="versioning-html-interacting-with-versions" class="toc-item"><a href="versioning.html#interacting-with-versions">Interacting with versions</a></li><li id="versioning-html-full-example" class="toc-item"><a href="versioning.html#full-example">Full Example</a></li></ul><li id="working-with-objects-html-working-with-objects" class="toc-item"><a href="working-with-objects.html#working-with-objects">Working with Objects</a></li><ul><li id="working-with-objects-html-documents-and-the-identity-map" class="toc-item"><a href="working-with-objects.html#documents-and-the-identity-map">Documents and the Identity Map</a></li><li id="working-with-objects-html-document-graph-traversal" class="toc-item"><a href="working-with-objects.html#document-graph-traversal">Document Graph Traversal</a></li><li id="working-with-objects-html-persisting-documents" class="toc-item"><a href="working-with-objects.html#persisting-documents">Persisting documents</a></li><li id="working-with-objects-html-removing-documents" class="toc-item"><a href="working-with-objects.html#removing-documents">Removing documents</a></li><li id="working-with-objects-html-detaching-documents" class="toc-item"><a href="working-with-objects.html#detaching-documents">Detaching documents</a></li><li id="working-with-objects-html-merging-documents" class="toc-item"><a href="working-with-objects.html#merging-documents">Merging documents</a></li><li id="working-with-objects-html-synchronization-with-the-repository" class="toc-item"><a href="working-with-objects.html#synchronization-with-the-repository">Synchronization with the Repository</a></li><ul><li id="working-with-objects-html-effects-of-repository-and-unitofwork-being-out-of-sync" class="toc-item"><a href="working-with-objects.html#effects-of-repository-and-unitofwork-being-out-of-sync">Effects of Repository and UnitOfWork being Out-Of-Sync</a></li><li id="working-with-objects-html-synchronizing-new-and-managed-documents" class="toc-item"><a href="working-with-objects.html#synchronizing-new-and-managed-documents">Synchronizing New and Managed Documents</a></li><li id="working-with-objects-html-synchronizing-removed-documents" class="toc-item"><a href="working-with-objects.html#synchronizing-removed-documents">Synchronizing Removed Documents</a></li><li id="working-with-objects-html-the-size-of-a-unit-of-work" class="toc-item"><a href="working-with-objects.html#the-size-of-a-unit-of-work">The size of a Unit of Work</a></li><li id="working-with-objects-html-the-cost-of-flushing" class="toc-item"><a href="working-with-objects.html#the-cost-of-flushing">The cost of flushing</a></li><li id="working-with-objects-html-direct-access-to-a-unit-of-work" class="toc-item"><a href="working-with-objects.html#direct-access-to-a-unit-of-work">Direct Access to a Unit of Work</a></li><li id="working-with-objects-html-document-state" class="toc-item"><a href="working-with-objects.html#document-state">Document State</a></li></ul><li id="working-with-objects-html-querying" class="toc-item"><a href="working-with-objects.html#querying">Querying</a></li><ul><li id="working-with-objects-html-by-primary-key" class="toc-item"><a href="working-with-objects.html#by-primary-key">By Primary Key</a></li><li id="working-with-objects-html-by-simple-conditions" class="toc-item"><a href="working-with-objects.html#by-simple-conditions">By Simple Conditions</a></li><li id="working-with-objects-html-by-lazy-loading" class="toc-item"><a href="working-with-objects.html#by-lazy-loading">By Lazy Loading</a></li><li id="working-with-objects-html-by-query-builder" class="toc-item"><a href="working-with-objects.html#by-query-builder">By Query Builder</a></li><li id="working-with-objects-html-by-native-queries" class="toc-item"><a href="working-with-objects.html#by-native-queries">By Native Queries</a></li><li id="working-with-objects-html-custom-repositories" class="toc-item"><a href="working-with-objects.html#custom-repositories">Custom Repositories</a></li></ul></ul><li id="xml-mapping-html-xml-mapping" class="toc-item"><a href="xml-mapping.html#xml-mapping">XML Mapping</a></li></ul></div>
                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects.html">Projects</a></li>
                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/phpcr-odm.html">PHPCR ODM</a></li>
                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-phpcr-odm/en/latest/">Documentation</a></li>
                                <li class="breadcrumb-item active" aria-current="page">Query Builder Reference</li>
                            </ol>
                        </nav>
                                    </div>

                
                
                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-phpcr-odm/en/latest/reference/query-builder-reference.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        master
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                            
                                                <a class="project-version-switcher dropdown-item active" href="/projects/doctrine-phpcr-odm/en/latest/reference/query-builder-reference.html">
                                                    master

                                                    
                                                                                                    </a>
                                                                                    
                                                                            </div>
                                </div>
                            
                            
<p></p>
<a class="section-anchor" id="query-builder-reference" name="query-builder-reference"></a><h1 class="section-header"><a href="#query-builder-reference">Query Builder Reference<i class="fas fa-link"></i></a></h1>
<div class="alert note-admonition bg-light-yellow text-dark border"><table width="100%"><tr><td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td><td><p>This document is generated by the PHPCR-ODM from the API, if you wish to contribute a fix please either
create an issue or make a pull request on the phpcr-odm repository.</p>
<p>All the classes here documented can be found in the namespace: <code>Doctrine\ODM\PHPCR\Query\Builder</code></p>
</td></tr></table></div>
<a class="section-anchor" id="reference" name="reference"></a><h2 class="section-header"><a href="#reference">Reference<i class="fas fa-link"></i></a></h2>
<a id="qbref_node_constraintandx"></a>
<a class="section-anchor" id="node-constraintandx" name="node-constraintandx"></a><h3 class="section-header"><a href="#node-constraintandx">Node: ConstraintAndx<i class="fas fa-link"></i></a></h3>
<p>Contraint which evaluates to true when
all its child constraints evaluate to true.</p>
<p>If only a single constraint is appended, the appended
constraint will behave as if it were not preceded by
the ConstraintAndX.</p>
<p><strong>Type</strong>: <a href="#qbref_type_constraint">constraint</a></p>
<p><strong>Extends</strong>: <a href="query-builder-reference.html#qbref_node_constraintfactory">ConstraintFactory</a></p>
<p><strong>Inherited methods</strong>: <a href="query-builder-reference.html#qbref_method_constraintfactory_andx">andX</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_orx">orX</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_fieldisset">fieldIsset</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_fulltextsearch">fullTextSearch</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_same">same</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_descendant">descendant</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_child">child</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_eq">eq</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_neq">neq</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_lt">lt</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_lte">lte</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_gt">gt</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_gte">gte</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_like">like</a></p>
<p><strong>Child Cardinality</strong>:
    <em> <strong>1..</strong></em> <a href="#qbref_type_constraint">constraint</a></p>
<a id="qbref_node_constraintcomparison"></a>
<a class="section-anchor" id="node-constraintcomparison" name="node-constraintcomparison"></a><h3 class="section-header"><a href="#node-constraintcomparison">Node: ConstraintComparison<i class="fas fa-link"></i></a></h3>
<p>Constraint which evaluates to true if the dynamic child
operand and the static child operand evaluate to true when operated
upon by the given operator.</p>
<p>The ConstraintFactory will specify the corresponding operator
for each of &quot;eq&quot;, &quot;gte&quot;, &quot;gt&quot;, &quot;lte&quot;, &quot;lt&quot;, &quot;like&quot;, etc.</p>
<p>A dynamic operand is an operand whose value is derived from the
persisted object set.</p>
<p>A static operand is a non-changing value, either a literal or a bound
property.</p>
<p>Comparisons can only be made one dynamic and one static operand. When
comparing the values between joined tables you will need to use
the JoinConditionFactory.</p>
<p><strong>Type</strong>: <a href="#qbref_type_constraint">constraint</a></p>
<p><strong>Extends</strong>: <a href="query-builder-reference.html#qbref_node_operandfactory">OperandFactory</a></p>
<p><strong>Inherited methods</strong>: <a href="query-builder-reference.html#qbref_method_operandfactory_parameter">parameter</a>, <a href="query-builder-reference.html#qbref_method_operandfactory_literal">literal</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_fulltextsearchscore">fullTextSearchScore</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_length">length</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_lowercase">lowerCase</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_uppercase">upperCase</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_localname">localName</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_name">name</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_field">field</a></p>
<p><strong>Child Cardinality</strong>:
    <em> <strong>1..1</strong> <a href="#qbref_type_operand_dynamic">operand_dynamic</a>
    </em> <strong>1..1</strong> <a href="#qbref_type_operand_static">operand_static</a></p>
<a id="qbref_node_constraintfactory"></a>
<a class="section-anchor" id="node-constraintfactory" name="node-constraintfactory"></a><h3 class="section-header"><a href="#node-constraintfactory">Node: ConstraintFactory<i class="fas fa-link"></i></a></h3>
<p>This factory node provides both leaf and factory nodes all of which
return nodes of type &quot;constraint&quot;.</p>
<p><strong>Type</strong>: <a href="#qbref_type_constraint_factory">constraint_factory</a></p>
<p><strong>Child Cardinality</strong>:
    * <strong>1..1</strong> <a href="#qbref_type_constraint">constraint</a></p>
<a id="qbref_method_constraintfactory_andx"></a>
<a class="section-anchor" id="gt-andx" name="gt-andx"></a><h4 class="section-header"><a href="#gt-andx">-&gt;andX<i class="fas fa-link"></i></a></h4>
<p>And composite constraint:</p>
<pre><code class="">$qb-&gt;where()
  -&gt;andX()
    -&gt;fieldIsset('f.foo')
    -&gt;gt()-&gt;field('f.max')-&gt;literal(40)-&gt;end()
  -&gt;end()
-&gt;end();

</code></pre>
<p>The andX node allows you to add 1, 2 or many operand nodes. When
one operand is added the &quot;and&quot; is removed, when more than one
is added the &quot;and&quot; operands are nested:</p>
<pre><code class="">// when adding only a single operand,
$qb-&gt;where()-&gt;andX()-&gt;eq()-&gt;field('f.foo')-&gt;literal('bar');
// is equivilent to:
$qb-&gt;where()-&gt;eq()-&gt;field('f.foo')-&gt;literal('bar');


// when adding more than one,
$qb-&gt;where()
  -&gt;andX()
    -&gt;fieldIsset('f.foo')
    -&gt;gt()-&gt;field('f.max')-&gt;literal(40)-&gt;end()
    -&gt;eq()-&gt;field('f.zar')-&gt;literal('bar')-&gt;end()
  -&gt;end()
-&gt;end();

// is equivilent to:
$qb-&gt;where()
  -&gt;andX()
    -&gt;fieldIsset('f.foo')
    -&gt;andX()
      -&gt;gt()-&gt;field('f.max')-&gt;literal(40)-&gt;end()
      -&gt;eq()-&gt;field('f.zar')-&gt;litreal('bar')-&gt;end()
    -&gt;end()
  -&gt;end()
-&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="#qbref_node_constraint">constraint</a> (ConstraintAndx)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_constraintandx">ConstraintAndx</a></p>
<a id="qbref_method_constraintfactory_orx"></a>
<a class="section-anchor" id="gt-orx" name="gt-orx"></a><h4 class="section-header"><a href="#gt-orx">-&gt;orX<i class="fas fa-link"></i></a></h4>
<p>Or composite constraint:</p>
<pre><code class="">$qb-&gt;where()
  -&gt;orX()
    -&gt;fieldIsset('sel_1.prop_1')
    -&gt;fieldIsset('sel_1.prop_2')
  -&gt;end()
-&gt;end();

</code></pre>
<p>As with &quot;andX&quot;, &quot;orX&quot; allows one to many operands.</p>
<p><strong>Adds</strong>: <a href="#qbref_node_constraint">constraint</a> (ConstraintOrx)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_constraintorx">ConstraintOrx</a></p>
<a id="qbref_method_constraintfactory_fieldisset"></a>
<a class="section-anchor" id="gt-fieldisset" name="gt-fieldisset"></a><h4 class="section-header"><a href="#gt-fieldisset">-&gt;fieldIsset<i class="fas fa-link"></i></a></h4>
<p>Field existance constraint:</p>
<pre><code class="">$qb-&gt;where()-&gt;fieldIsset('sel_1.prop_1')-&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="#qbref_node_constraint">constraint</a> (ConstraintFieldIsset)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_constraintfactory">ConstraintFactory</a></p>
<p><strong>Arguments</strong>:</p>
<ul><li><strong>$field</strong>: <em>string</em> - Field to check</li>
</ul>

<a id="qbref_method_constraintfactory_fulltextsearch"></a>
<a class="section-anchor" id="gt-fulltextsearch" name="gt-fulltextsearch"></a><h4 class="section-header"><a href="#gt-fulltextsearch">-&gt;fullTextSearch<i class="fas fa-link"></i></a></h4>
<p>Full text search constraint:</p>
<pre><code class="">$qb-&gt;where()-&gt;fullTextSearch('sel_1.prop_1', 'search_expression')-&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="#qbref_node_constraint">constraint</a> (ConstraintFullTextSearch)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_constraintfactory">ConstraintFactory</a></p>
<p><strong>Arguments</strong>:</p>
<ul><li><strong>$field</strong>: <em>string</em> - Name of field to check, including alias name.</li>
<li><strong>$fullTextSearchExpression</strong>: <em>string</em> - Search expression.</li>
</ul>

<a id="qbref_method_constraintfactory_same"></a>
<a class="section-anchor" id="gt-same" name="gt-same"></a><h4 class="section-header"><a href="#gt-same">-&gt;same<i class="fas fa-link"></i></a></h4>
<p>Same document constraint:</p>
<pre><code class="">$qb-&gt;where()-&gt;same('/path/to/doc', 'sel_1')-&gt;end();

</code></pre>
<p>Relates to PHPCR QOM SameNodeInterface.</p>
<p><strong>Adds</strong>: <a href="#qbref_node_constraint">constraint</a> (ConstraintSame)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_constraintfactory">ConstraintFactory</a></p>
<p><strong>Arguments</strong>:</p>
<ul><li><strong>$path</strong>: <em>string</em> - Path to reference document.</li>
<li><strong>$alias</strong>: <em>string</em> - Name of alias to use.</li>
</ul>

<a id="qbref_method_constraintfactory_descendant"></a>
<a class="section-anchor" id="gt-descendant" name="gt-descendant"></a><h4 class="section-header"><a href="#gt-descendant">-&gt;descendant<i class="fas fa-link"></i></a></h4>
<p>Descendant document constraint:</p>
<pre><code class="">$qb-&gt;where()-&gt;descendant('/ancestor/path', 'sel_1')-&gt;end();

</code></pre>
<p>Relates to PHPCR QOM DescendantNodeInterface</p>
<p><strong>Adds</strong>: <a href="#qbref_node_constraint">constraint</a> (ConstraintDescendant)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_constraintfactory">ConstraintFactory</a></p>
<p><strong>Arguments</strong>:</p>
<ul><li><strong>$ancestorPath</strong>: <em>string</em> - Select descendants of this path.</li>
<li><strong>$alias</strong>: <em>string</em> - Name of alias to use.</li>
</ul>

<a id="qbref_method_constraintfactory_child"></a>
<a class="section-anchor" id="gt-child" name="gt-child"></a><h4 class="section-header"><a href="#gt-child">-&gt;child<i class="fas fa-link"></i></a></h4>
<p>Select children of the aliased document at the given path:</p>
<pre><code class="">$qb-&gt;where()-&gt;child('/parent/path', 'sel_1')-&gt;end();

</code></pre>
<p>Relates to PHPCR QOM ChildNodeInterface.</p>
<p><strong>Adds</strong>: <a href="#qbref_node_constraint">constraint</a> (ConstraintChild)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_constraintfactory">ConstraintFactory</a></p>
<p><strong>Arguments</strong>:</p>
<ul><li><strong>$parentPath</strong>: <em>string</em> - Select children of this path.</li>
<li><strong>$alias</strong>: <em>string</em> - Name of alias to use</li>
</ul>

<a id="qbref_method_constraintfactory_eq"></a>
<a class="section-anchor" id="gt-eq" name="gt-eq"></a><h4 class="section-header"><a href="#gt-eq">-&gt;eq<i class="fas fa-link"></i></a></h4>
<p>Equality comparison constraint:</p>
<pre><code class="">$qb-&gt;where()
  -&gt;eq()
    -&gt;field('sel_1.foobar')
    -&gt;literal('var_1')
  -&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="#qbref_node_constraint">constraint</a> (ConstraintComparison)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_constraintcomparison">ConstraintComparison</a></p>
<a id="qbref_method_constraintfactory_neq"></a>
<a class="section-anchor" id="gt-neq" name="gt-neq"></a><h4 class="section-header"><a href="#gt-neq">-&gt;neq<i class="fas fa-link"></i></a></h4>
<p>Inequality comparison constraint:</p>
<pre><code class="">$qb-&gt;where()
  -&gt;neq()
    -&gt;field('sel_1.foobar')
    -&gt;literal('var_1')
  -&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="#qbref_node_constraint">constraint</a> (ConstraintComparison)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_constraintcomparison">ConstraintComparison</a></p>
<a id="qbref_method_constraintfactory_lt"></a>
<a class="section-anchor" id="gt-lt" name="gt-lt"></a><h4 class="section-header"><a href="#gt-lt">-&gt;lt<i class="fas fa-link"></i></a></h4>
<p>Less than comparison constraint:</p>
<pre><code class="">$qb-&gt;where()
  -&gt;lt()
    -&gt;field('sel_1.foobar')
    -&gt;literal(5)
  -&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="#qbref_node_constraint">constraint</a> (ConstraintComparison)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_constraintcomparison">ConstraintComparison</a></p>
<a id="qbref_method_constraintfactory_lte"></a>
<a class="section-anchor" id="gt-lte" name="gt-lte"></a><h4 class="section-header"><a href="#gt-lte">-&gt;lte<i class="fas fa-link"></i></a></h4>
<p>Less than or equal to comparison constraint:</p>
<pre><code class="">$qb-&gt;where()
  -&gt;lte()
    -&gt;field('sel_1.foobar')
    -&gt;literal(5)
  -&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="#qbref_node_constraint">constraint</a> (ConstraintComparison)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_constraintcomparison">ConstraintComparison</a></p>
<a id="qbref_method_constraintfactory_gt"></a>
<a class="section-anchor" id="gt-gt" name="gt-gt"></a><h4 class="section-header"><a href="#gt-gt">-&gt;gt<i class="fas fa-link"></i></a></h4>
<p>Greater than comparison constraint:</p>
<pre><code class="">$qb-&gt;where()
  -&gt;gt()
    -&gt;field('sel_1.foobar')
    -&gt;literal(5)
  -&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="#qbref_node_constraint">constraint</a> (ConstraintComparison)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_constraintcomparison">ConstraintComparison</a></p>
<a id="qbref_method_constraintfactory_gte"></a>
<a class="section-anchor" id="gt-gte" name="gt-gte"></a><h4 class="section-header"><a href="#gt-gte">-&gt;gte<i class="fas fa-link"></i></a></h4>
<p>Greater than or equal to comparison constraint:</p>
<pre><code class="">$qb-&gt;where()
  -&gt;gte()
    -&gt;field('sel_1.foobar')
    -&gt;literal(5)
  -&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="#qbref_node_constraint">constraint</a> (ConstraintComparison)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_constraintcomparison">ConstraintComparison</a></p>
<a id="qbref_method_constraintfactory_like"></a>
<a class="section-anchor" id="gt-like" name="gt-like"></a><h4 class="section-header"><a href="#gt-like">-&gt;like<i class="fas fa-link"></i></a></h4>
<p>Like comparison constraint.</p>
<p>Use &quot;%&quot; as wildcards:</p>
<pre><code class="">$qb-&gt;where()
  -&gt;like()
    -&gt;field('sel_1.foobar')
    -&gt;literal('foo%')
  -&gt;end();

</code></pre>
<p>The above example will match &quot;foo&quot; and &quot;foobar&quot; but not &quot;barfoo&quot;.</p>
<p><strong>Adds</strong>: <a href="#qbref_node_constraint">constraint</a> (ConstraintComparison)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_constraintcomparison">ConstraintComparison</a></p>
<a id="qbref_node_constraintnot"></a>
<a class="section-anchor" id="node-constraintnot" name="node-constraintnot"></a><h3 class="section-header"><a href="#node-constraintnot">Node: ConstraintNot<i class="fas fa-link"></i></a></h3>
<p>Constraint which evaluates to the opposite truth of its child
operand.</p>
<p><strong>Type</strong>: <a href="#qbref_type_constraint">constraint</a></p>
<p><strong>Extends</strong>: <a href="query-builder-reference.html#qbref_node_constraintfactory">ConstraintFactory</a></p>
<p><strong>Inherited methods</strong>: <a href="query-builder-reference.html#qbref_method_constraintfactory_andx">andX</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_orx">orX</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_fieldisset">fieldIsset</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_fulltextsearch">fullTextSearch</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_same">same</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_descendant">descendant</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_child">child</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_eq">eq</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_neq">neq</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_lt">lt</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_lte">lte</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_gt">gt</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_gte">gte</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_like">like</a></p>
<p><strong>Child Cardinality</strong>:
    * <strong>1..1</strong> <a href="#qbref_type_constraint">constraint</a></p>
<a id="qbref_node_constraintorx"></a>
<a class="section-anchor" id="node-constraintorx" name="node-constraintorx"></a><h3 class="section-header"><a href="#node-constraintorx">Node: ConstraintOrx<i class="fas fa-link"></i></a></h3>
<p>Constraint which evaluates to true if any one of its children
evaluates to true.</p>
<p>Like the ConstraintAndx constraint a single child will act as if
it were not preceded with a ConstraintOrx.</p>
<p><strong>Type</strong>: <a href="#qbref_type_constraint">constraint</a></p>
<p><strong>Extends</strong>: <a href="query-builder-reference.html#qbref_node_constraintfactory">ConstraintFactory</a></p>
<p><strong>Inherited methods</strong>: <a href="query-builder-reference.html#qbref_method_constraintfactory_andx">andX</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_orx">orX</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_fieldisset">fieldIsset</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_fulltextsearch">fullTextSearch</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_same">same</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_descendant">descendant</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_child">child</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_eq">eq</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_neq">neq</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_lt">lt</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_lte">lte</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_gt">gt</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_gte">gte</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_like">like</a></p>
<p><strong>Child Cardinality</strong>:
    <em> <strong>1..</strong></em> <a href="#qbref_type_constraint">constraint</a></p>
<a id="qbref_node_from"></a>
<a class="section-anchor" id="node-from" name="node-from"></a><h3 class="section-header"><a href="#node-from">Node: From<i class="fas fa-link"></i></a></h3>
<p>The From node specifies the document source (or sources in the
case of a join).</p>
<p><strong>Type</strong>: <a href="#qbref_type_from">from</a></p>
<p><strong>Child Cardinality</strong>:
    * <strong>1..1</strong> <a href="#qbref_type_source">source</a></p>
<a id="qbref_node_operanddynamicfactory"></a>
<a class="section-anchor" id="node-operanddynamicfactory" name="node-operanddynamicfactory"></a><h3 class="section-header"><a href="#node-operanddynamicfactory">Node: OperandDynamicFactory<i class="fas fa-link"></i></a></h3>
<p>Factory node for dynamic operands.</p>
<p><strong>Type</strong>: <a href="#qbref_type_operand_dynamic_factory">operand_dynamic_factory</a></p>
<p><strong>Child Cardinality</strong>:
    * <strong>1..1</strong> <a href="#qbref_type_operand_dynamic">operand_dynamic</a></p>
<a id="qbref_method_operanddynamicfactory_fulltextsearchscore"></a>
<a class="section-anchor" id="gt-fulltextsearchscore" name="gt-fulltextsearchscore"></a><h4 class="section-header"><a href="#gt-fulltextsearchscore">-&gt;fullTextSearchScore<i class="fas fa-link"></i></a></h4>
<p>Represents the aliased documents rank by relevance to the full text
search expression given by the &quot;fullTextSearch&quot; constraint:</p>
<pre><code class="">$qb-&gt;where()
  -&gt;gt()
    -&gt;fullTextSearchScore('sel_1')
    -&gt;literal(50)
  -&gt;end()
-&gt;end();

$qb-&gt;orderBy()
  -&gt;asc()-&gt;fullTextSearchScore('sel_1')
-&gt;end();

</code></pre>
<p>See also: http://www.day.com/specs/jcr/2.0/6_Query.html#FullTextSearchScore</p>
<p><strong>Adds</strong>: <a href="#qbref_node_operand_dynamic">operand_dynamic</a> (OperandDynamicFullTextSearchScore)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_operanddynamicfactory">OperandDynamicFactory</a></p>
<p><strong>Arguments</strong>:</p>
<ul><li><strong>$alias</strong>: <em>string</em> - Name of alias to use</li>
</ul>

<a id="qbref_method_operanddynamicfactory_length"></a>
<a class="section-anchor" id="gt-length" name="gt-length"></a><h4 class="section-header"><a href="#gt-length">-&gt;length<i class="fas fa-link"></i></a></h4>
<p>Length operand resolves to length of aliased document:</p>
<pre><code class="">$qb-&gt;where()
  -&gt;gt()
    -&gt;length('alias_1.prop_1')
    -&gt;literal(50)
  -&gt;end()
-&gt;end();

$qb-&gt;orderBy()-&gt;asc()-&gt;fullTextSearchScore('sel_1')-&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="#qbref_node_operand_dynamic">operand_dynamic</a> (OperandDynamicLength)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_operanddynamicfactory">OperandDynamicFactory</a></p>
<p><strong>Arguments</strong>:</p>
<ul><li><strong>$field</strong>: <em>string</em> - Name of field to check.</li>
</ul>

<a id="qbref_method_operanddynamicfactory_lowercase"></a>
<a class="section-anchor" id="gt-lowercase" name="gt-lowercase"></a><h4 class="section-header"><a href="#gt-lowercase">-&gt;lowerCase<i class="fas fa-link"></i></a></h4>
<p>LowerCase operand evaluates to lower-cased string of child operand:</p>
<pre><code class="">$qb-&gt;where()
  -&gt;eq()
    -&gt;lowerCase()-&gt;field('sel_1.prop_1')-&gt;end()
    -&gt;literal('lower_case')
  -&gt;end()
-&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="#qbref_node_operand_dynamic">operand_dynamic</a> (OperandDynamicLowerCase)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_operanddynamiclowercase">OperandDynamicLowerCase</a></p>
<a id="qbref_method_operanddynamicfactory_uppercase"></a>
<a class="section-anchor" id="gt-uppercase" name="gt-uppercase"></a><h4 class="section-header"><a href="#gt-uppercase">-&gt;upperCase<i class="fas fa-link"></i></a></h4>
<p>UpperCase operand evaluates to upper-cased string of child operand:</p>
<pre><code class="">$qb-&gt;where()
  -&gt;eq()
      -&gt;upperCase()-&gt;field('sel_1.prop_1')-&gt;end()
      -&gt;literal('UPPER_CASE')
  -&gt;end()
-&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="#qbref_node_operand_dynamic">operand_dynamic</a> (OperandDynamicUpperCase)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_operanddynamicuppercase">OperandDynamicUpperCase</a></p>
<a id="qbref_method_operanddynamicfactory_localname"></a>
<a class="section-anchor" id="gt-localname" name="gt-localname"></a><h4 class="section-header"><a href="#gt-localname">-&gt;localName<i class="fas fa-link"></i></a></h4>
<p>Document local name evaluates to the local (non namespaced)
name of the node being compared.</p>
<p>For example, if a node has the path &quot;/path/to/foobar&quot;, then &quot;foobar&quot;
is the local node name:</p>
<pre><code class="">$qb-&gt;where()
  -&gt;eq()
    -&gt;localName('sel_1')
    -&gt;literal('my_node_name')
  -&gt;end()
-&gt;end();

</code></pre>
<p>Relates to PHPCR NodeLocalNameInterface</p>
<p><strong>Adds</strong>: <a href="#qbref_node_operand_dynamic">operand_dynamic</a> (OperandDynamicLocalName)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_operanddynamicfactory">OperandDynamicFactory</a></p>
<p><strong>Arguments</strong>:</p>
<ul><li><strong>$alias</strong>: <em>string</em> - Name of alias to use</li>
</ul>

<a id="qbref_method_operanddynamicfactory_name"></a>
<a class="section-anchor" id="gt-name" name="gt-name"></a><h4 class="section-header"><a href="#gt-name">-&gt;name<i class="fas fa-link"></i></a></h4>
<p>Evaluates to the namespaced name of the node being compared.</p>
<p>For example, if a node has the path &quot;/path/to/bar:foobar&quot;, then
&quot;bar:foobar&quot; is the namespaced node name:</p>
<pre><code class="">$qb-&gt;where()
  -&gt;eq()
    -&gt;name('sel_1')
    -&gt;literal('namespace:my_node_name')
  -&gt;end()
-&gt;end();

</code></pre>
<p>Relates to PHPCR NodeNameInterface.</p>
<p><strong>Adds</strong>: <a href="#qbref_node_operand_dynamic">operand_dynamic</a> (OperandDynamicName)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_operanddynamicfactory">OperandDynamicFactory</a></p>
<p><strong>Arguments</strong>:</p>
<ul><li><strong>$alias</strong>: <em>string</em> - Name of alias to use</li>
</ul>

<a id="qbref_method_operanddynamicfactory_field"></a>
<a class="section-anchor" id="gt-field" name="gt-field"></a><h4 class="section-header"><a href="#gt-field">-&gt;field<i class="fas fa-link"></i></a></h4>
<p>Evaluates to the value of the specified field:</p>
<pre><code class="">$qb-&gt;where()
  -&gt;eq()
    -&gt;field('sel_1.prop_name')
    -&gt;literal('my_field_value')
  -&gt;end()
-&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="#qbref_node_operand_dynamic">operand_dynamic</a> (OperandDynamicField)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_operanddynamicfactory">OperandDynamicFactory</a></p>
<p><strong>Arguments</strong>:</p>
<ul><li><strong>$field</strong>: <em>string</em> - name of field to check, including alias name.</li>
</ul>

<a id="qbref_node_operanddynamiclowercase"></a>
<a class="section-anchor" id="node-operanddynamiclowercase" name="node-operanddynamiclowercase"></a><h3 class="section-header"><a href="#node-operanddynamiclowercase">Node: OperandDynamicLowerCase<i class="fas fa-link"></i></a></h3>
<p>Dynamic operand which evaluates to the lowercased value of the child operand.</p>
<p><strong>Type</strong>: <a href="#qbref_type_operand_dynamic">operand_dynamic</a></p>
<p><strong>Extends</strong>: <a href="query-builder-reference.html#qbref_node_operanddynamicfactory">OperandDynamicFactory</a></p>
<p><strong>Inherited methods</strong>: <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_fulltextsearchscore">fullTextSearchScore</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_length">length</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_lowercase">lowerCase</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_uppercase">upperCase</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_localname">localName</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_name">name</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_field">field</a></p>
<p><strong>Child Cardinality</strong>:
    * <strong>1..1</strong> <a href="#qbref_type_operand_dynamic">operand_dynamic</a></p>
<a id="qbref_node_operanddynamicuppercase"></a>
<a class="section-anchor" id="node-operanddynamicuppercase" name="node-operanddynamicuppercase"></a><h3 class="section-header"><a href="#node-operanddynamicuppercase">Node: OperandDynamicUpperCase<i class="fas fa-link"></i></a></h3>
<p>Operand which evaluates to the upper case version of its child operand.</p>
<p><strong>Type</strong>: <a href="#qbref_type_operand_dynamic">operand_dynamic</a></p>
<p><strong>Extends</strong>: <a href="query-builder-reference.html#qbref_node_operanddynamicfactory">OperandDynamicFactory</a></p>
<p><strong>Inherited methods</strong>: <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_fulltextsearchscore">fullTextSearchScore</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_length">length</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_lowercase">lowerCase</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_uppercase">upperCase</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_localname">localName</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_name">name</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_field">field</a></p>
<p><strong>Child Cardinality</strong>:
    * <strong>1..1</strong> <a href="#qbref_type_operand_dynamic">operand_dynamic</a></p>
<a id="qbref_node_operandfactory"></a>
<a class="section-anchor" id="node-operandfactory" name="node-operandfactory"></a><h3 class="section-header"><a href="#node-operandfactory">Node: OperandFactory<i class="fas fa-link"></i></a></h3>
<p>Factory node for all operands, both dynamic and static.</p>
<p><strong>Type</strong>: <a href="#qbref_type_operand_dynamic_factory">operand_dynamic_factory</a></p>
<p><strong>Extends</strong>: <a href="query-builder-reference.html#qbref_node_operanddynamicfactory">OperandDynamicFactory</a></p>
<p><strong>Inherited methods</strong>: <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_fulltextsearchscore">fullTextSearchScore</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_length">length</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_lowercase">lowerCase</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_uppercase">upperCase</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_localname">localName</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_name">name</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_field">field</a></p>
<p><strong>Child Cardinality</strong>:
    * <strong>1..1</strong> <a href="#qbref_type_operand_dynamic">operand_dynamic</a></p>
<a id="qbref_method_operandfactory_parameter"></a>
<a class="section-anchor" id="gt-parameter" name="gt-parameter"></a><h4 class="section-header"><a href="#gt-parameter">-&gt;parameter<i class="fas fa-link"></i></a></h4>
<p>Evaluates to the value of the parameter bound to the given $name.</p>
<p>Relates to PHPCR BindVariableValueInterface:</p>
<pre><code class="">$qb-&gt;where()-&gt;eq()-&gt;field('f.foobar')-&gt;parameter('param_1')-&gt;end();
$qb-&gt;setParameter('param_1', 'foo');

</code></pre>
<p><strong>Adds</strong>: <a href="#qbref_node_operand_static">operand_static</a> (OperandStaticParameter)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_operandfactory">OperandFactory</a></p>
<p><strong>Arguments</strong>:</p>
<ul><li><strong>$name</strong>: <em>string</em> - Name of parameter to resolve.</li>
</ul>

<a id="qbref_method_operandfactory_literal"></a>
<a class="section-anchor" id="gt-literal" name="gt-literal"></a><h4 class="section-header"><a href="#gt-literal">-&gt;literal<i class="fas fa-link"></i></a></h4>
<p>Evaluates to the given literal value:</p>
<pre><code class="">$qb-&gt;where()-&gt;eq()-&gt;field('f.foobar')-&gt;literal('Literal Value')-&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="#qbref_node_operand_static">operand_static</a> (OperandStaticLiteral)</p>
<p><strong>Returns</strong>: <a href="#qbref_node_operandstaticliteral">OperandStaticLiteral</a></p>
<p><strong>Arguments</strong>:</p>
<ul><li><strong>$value</strong>: <em>string</em> - Literal value.</li>
</ul>

<a id="qbref_node_operandstaticfactory"></a>
<a class="section-anchor" id="node-operandstaticfactory" name="node-operandstaticfactory"></a><h3 class="section-header"><a href="#node-operandstaticfactory">Node: OperandStaticFactory<i class="fas fa-link"></i></a></h3>
<p>Factory node for static operands.</p>
<p>Note that this class is not used by the query builder and
is only featured here to help with tests.</p>
<p><strong>Type</strong>: <a href="#qbref_type_operand_static_factory">operand_static_factory</a></p>
<p><strong>Extends</strong>: <a href="query-builder-reference.html#qbref_node_operandfactory">OperandFactory</a></p>
<p><strong>Inherited methods</strong>: <a href="query-builder-reference.html#qbref_method_operandfactory_parameter">parameter</a>, <a href="query-builder-reference.html#qbref_method_operandfactory_literal">literal</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_fulltextsearchscore">fullTextSearchScore</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_length">length</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_lowercase">lowerCase</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_uppercase">upperCase</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_localname">localName</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_name">name</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_field">field</a></p>
<p><strong>Child Cardinality</strong>:
    * <strong>1..1</strong> <a href="#qbref_type_operand_static">operand_static</a></p>
<a id="qbref_node_orderby"></a>
<a class="section-anchor" id="node-orderby" name="node-orderby"></a><h3 class="section-header"><a href="#node-orderby">Node: OrderBy<i class="fas fa-link"></i></a></h3>
<p>Factory node for order by.</p>
<p>Query results can be ordered by any dynamic operand
in either ascending or descending order.</p>
<p><strong>Type</strong>: <a href="#qbref_type_order_by">order_by</a></p>
<p><strong>Child Cardinality</strong>:
    <em> <strong>0..</strong></em> <a href="#qbref_type_ordering">ordering</a></p>
<a id="qbref_method_orderby_asc"></a>
<a class="section-anchor" id="gt-asc" name="gt-asc"></a><h4 class="section-header"><a href="#gt-asc">-&gt;asc<i class="fas fa-link"></i></a></h4>
<p>Add ascending ordering:</p>
<pre><code class="">$qb-&gt;orderBy()-&gt;asc()-&gt;field('sel_1.prop_1')-&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="query-builder-reference.html#qbref_node_ordering">ordering</a> (Ordering)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_ordering">Ordering</a></p>
<a id="qbref_method_orderby_desc"></a>
<a class="section-anchor" id="gt-desc" name="gt-desc"></a><h4 class="section-header"><a href="#gt-desc">-&gt;desc<i class="fas fa-link"></i></a></h4>
<p>Add descending ordering:</p>
<pre><code class="">$qb-&gt;orderBy()-&gt;desc()-&gt;field('sel_1.prop_1')-&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="query-builder-reference.html#qbref_node_ordering">ordering</a> (Ordering)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_ordering">Ordering</a></p>
<a id="qbref_node_orderbyadd"></a>
<a class="section-anchor" id="node-orderbyadd" name="node-orderbyadd"></a><h3 class="section-header"><a href="#node-orderbyadd">Node: OrderByAdd<i class="fas fa-link"></i></a></h3>
<p>Node for adding an additional order by.</p>
<p><strong>Type</strong>: <a href="#qbref_type_order_by">order_by</a></p>
<p><strong>Extends</strong>: <a href="query-builder-reference.html#qbref_node_orderby">OrderBy</a></p>
<p><strong>Inherited methods</strong>: <a href="query-builder-reference.html#qbref_method_orderby_asc">asc</a>, <a href="query-builder-reference.html#qbref_method_orderby_desc">desc</a></p>
<p><strong>Child Cardinality</strong>:
    <em> <strong>0..</strong></em> <a href="#qbref_type_ordering">ordering</a></p>
<a id="qbref_node_ordering"></a>
<a class="section-anchor" id="node-ordering" name="node-ordering"></a><h3 class="section-header"><a href="#node-ordering">Node: Ordering<i class="fas fa-link"></i></a></h3>
<p><strong>Type</strong>: <a href="#qbref_type_ordering">ordering</a></p>
<p><strong>Extends</strong>: <a href="query-builder-reference.html#qbref_node_operanddynamicfactory">OperandDynamicFactory</a></p>
<p><strong>Inherited methods</strong>: <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_fulltextsearchscore">fullTextSearchScore</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_length">length</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_lowercase">lowerCase</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_uppercase">upperCase</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_localname">localName</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_name">name</a>, <a href="query-builder-reference.html#qbref_method_operanddynamicfactory_field">field</a></p>
<p><strong>Child Cardinality</strong>:
    * <strong>1..1</strong> <a href="#qbref_type_operand_dynamic">operand_dynamic</a></p>
<a id="qbref_node_querybuilder"></a>
<a class="section-anchor" id="node-querybuilder" name="node-querybuilder"></a><h3 class="section-header"><a href="#node-querybuilder">Node: QueryBuilder<i class="fas fa-link"></i></a></h3>
<p>The Query Builder root node.</p>
<p>This is the node which is returned when a query builder is asked for:</p>
<pre><code class="">$dm = // get document manager
$qb = $dm-&gt;createQueryBuilder();
$qb-&gt;fromDocument('Blog\Post', 'p');
$qb-&gt;where()-&gt;eq()-&gt;field('p.title')-&gt;literal('My Post');
$docs = $qb-&gt;getQuery()-&gt;execute();

</code></pre>
<p>A converter is required to be set if the purpose of the query builder
is to be fulfilled. The PHPCR converter walks over the query builder node
hierarchy and converts the object graph the PHPCR QOM object graph.</p>
<p><strong>Type</strong>: <a href="#qbref_type_builder">builder</a></p>
<p><strong>Child Cardinality</strong>:
    <em> <strong>0..</strong></em> <a href="#qbref_type_select">select</a>
    <em> <strong>1..1</strong> <a href="#qbref_type_from">from</a>
    </em> <strong>0..1</strong> <a href="#qbref_type_where">where</a>
    <em> <strong>0..</strong></em> <a href="#qbref_type_order_by">order_by</a></p>
<a id="qbref_method_querybuilder_where"></a>
<a class="section-anchor" id="gt-where" name="gt-where"></a><h4 class="section-header"><a href="#gt-where">-&gt;where<i class="fas fa-link"></i></a></h4>
<p>Where factory node is used to specify selection criteria:</p>
<pre><code class="">$qb-&gt;where()
  -&gt;eq()
    -&gt;field('a.foobar')-&gt;literal('bar')-&gt;end()
  -&gt;end()
-&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="query-builder-reference.html#qbref_node_where">where</a> (Where)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_where">Where</a></p>
<a id="qbref_method_querybuilder_andwhere"></a>
<a class="section-anchor" id="gt-andwhere" name="gt-andwhere"></a><h4 class="section-header"><a href="#gt-andwhere">-&gt;andWhere<i class="fas fa-link"></i></a></h4>
<p>Add additional selection criteria using the AND operator.</p>
<p><strong>Adds</strong>: <a href="query-builder-reference.html#qbref_node_where">where</a> (WhereAnd)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_whereand">WhereAnd</a></p>
<a id="qbref_method_querybuilder_orwhere"></a>
<a class="section-anchor" id="gt-orwhere" name="gt-orwhere"></a><h4 class="section-header"><a href="#gt-orwhere">-&gt;orWhere<i class="fas fa-link"></i></a></h4>
<p>Add additional selection criteria using the OR operator.</p>
<p><strong>Adds</strong>: <a href="query-builder-reference.html#qbref_node_where">where</a> (WhereOr)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_whereor">WhereOr</a></p>
<a id="qbref_method_querybuilder_from"></a>
<a class="section-anchor" id="gt-from" name="gt-from"></a><h4 class="section-header"><a href="#gt-from">-&gt;from<i class="fas fa-link"></i></a></h4>
<p>Set the from source for the query:</p>
<pre><code class="">$qb-&gt;from()-&gt;document('Foobar', 'a');

// or with a join ...

$qb-&gt;from('a')-&gt;joinInner()
  -&gt;left()-&gt;document('Foobar', 'a')-&gt;end()
  -&gt;right()-&gt;document('Barfoo', 'b')-&gt;end()
  -&gt;condition()-&gt;equi('a.prop_1', 'b.prop_1')-&gt;end()
-&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="query-builder-reference.html#qbref_node_from">from</a> (From)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_from">From</a></p>
<p><strong>Arguments</strong>:</p>
<ul><li><strong>$primaryAlias</strong>: <em>string</em> - Alias to use as primary source (optional for single sources)</li>
</ul>

<a id="qbref_method_querybuilder_fromdocument"></a>
<a class="section-anchor" id="gt-fromdocument" name="gt-fromdocument"></a><h4 class="section-header"><a href="#gt-fromdocument">-&gt;fromDocument<i class="fas fa-link"></i></a></h4>
<p>Shortcut for:</p>
<pre><code class="">$qb-&gt;from()
  -&gt;document('Foobar', 'a')-&gt;end()
-&gt;end();

</code></pre>
<p>Which becomes:</p>
<pre><code class="">$qb-&gt;fromDocument('Foobar', 'a')-&gt;end();

</code></pre>
<p>Replaces any existing from source.</p>
<p><strong>Adds</strong>: <a href="query-builder-reference.html#qbref_node_from">from</a> (From)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_querybuilder">QueryBuilder</a></p>
<p><strong>Arguments</strong>:</p>
<ul><li><strong>$documentFqn</strong>: <em>string</em> - Fully qualified class name for document.</li>
<li><strong>$primaryAlias</strong>: <em>string</em> - Alias for document source and primary alias when using multiple sources.</li>
</ul>

<a id="qbref_method_querybuilder_addjoinleftouter"></a>
<a class="section-anchor" id="gt-addjoinleftouter" name="gt-addjoinleftouter"></a><h4 class="section-header"><a href="#gt-addjoinleftouter">-&gt;addJoinLeftOuter<i class="fas fa-link"></i></a></h4>
<p>Replace the existing source with a left outer join source using the existing
source as the left operand:</p>
<pre><code class="">$qb-&gt;fromDocument('Foobar', 'a')
  -&gt;addJoinLeftOuter()
    -&gt;right()-&gt;document('Barfoo', 'b')-&gt;end()
    -&gt;condition()-&gt;equi('a.prop_1', 'b.prop_2')-&gt;end()
  -&gt;end()
-&gt;end();

</code></pre>
<p>Note that for outer joins to work correctly, documents being joined to must be mapped with
a node type that is unique to the repository workspace, and the <code>uniqueNodeType</code> property
must be set to <code>true</code> for the document (see <a href="#&lt;_annref_document&gt;">(unresolved)</a>). Otherwise, the join
will behave as an inner join.</p>
<p><strong>Adds</strong>: <a href="query-builder-reference.html#qbref_node_select">select</a> (Select)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_sourcejoin">SourceJoin</a></p>
<a id="qbref_method_querybuilder_addjoinrightouter"></a>
<a class="section-anchor" id="gt-addjoinrightouter" name="gt-addjoinrightouter"></a><h4 class="section-header"><a href="#gt-addjoinrightouter">-&gt;addJoinRightOuter<i class="fas fa-link"></i></a></h4>
<p>Replace the existing source with a right outer join source using the existing
source as the left operand:</p>
<pre><code class="">$qb-&gt;fromDocument('Foobar', 'a')
  -&gt;addJoinRightOuter()
    -&gt;right()-&gt;document('Barfoo', 'b')-&gt;end()-&gt;end()
    -&gt;condition()-&gt;equi('a.prop_1', 'b.prop_2')-&gt;end()
  -&gt;end()
-&gt;end();

</code></pre>
<p>Note that for outer joins to work correctly, documents being joined to must be mapped with
a node type that is unique to the repository workspace, and the <code>uniqueNodeType</code> property
must be set to <code>true</code> for the document (see <a href="#&lt;_annref_document&gt;">(unresolved)</a>). Otherwise, the join
will behave as an inner join.</p>
<p><strong>Adds</strong>: <a href="query-builder-reference.html#qbref_node_select">select</a> (Select)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_sourcejoin">SourceJoin</a></p>
<a id="qbref_method_querybuilder_addjoininner"></a>
<a class="section-anchor" id="gt-addjoininner" name="gt-addjoininner"></a><h4 class="section-header"><a href="#gt-addjoininner">-&gt;addJoinInner<i class="fas fa-link"></i></a></h4>
<p>Replace the existing source with an inner join source using the existing
source as the left operand:</p>
<pre><code class="">$qb-&gt;fromDocument('Foobar', 'a')
  -&gt;addJoinInner()
    -&gt;right()-&gt;document('Barfoo', 'b')-&gt;end()
    -&gt;condition()-&gt;equi('a.prop_1', 'b.prop_2')-&gt;end()
  -&gt;end()
-&gt;end();

</code></pre>
<p>Note that for outer joins to work correctly, documents being joined to must be mapped with
a node type that is unique to the repository workspace, and the <code>uniqueNodeType</code> property
must be set to <code>true</code> for the document (see <a href="#&lt;_annref_document&gt;">(unresolved)</a>). Otherwise, the join
will behave as an inner join.</p>
<p><strong>Adds</strong>: <a href="query-builder-reference.html#qbref_node_select">select</a> (Select)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_sourcejoin">SourceJoin</a></p>
<a id="qbref_method_querybuilder_select"></a>
<a class="section-anchor" id="gt-select" name="gt-select"></a><h4 class="section-header"><a href="#gt-select">-&gt;select<i class="fas fa-link"></i></a></h4>
<p>Method to add properties for selection to builder tree, replaces any
existing select.</p>
<p>Number of property nodes is unbounded:</p>
<pre><code class="">$qb-&gt;select()
  -&gt;field('a.prop_1')
  -&gt;field('a.prop_2')
  -&gt;field('a.prop_3')
-&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="query-builder-reference.html#qbref_node_select">select</a> (Select)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_select">Select</a></p>
<a id="qbref_method_querybuilder_addselect"></a>
<a class="section-anchor" id="gt-addselect" name="gt-addselect"></a><h4 class="section-header"><a href="#gt-addselect">-&gt;addSelect<i class="fas fa-link"></i></a></h4>
<p>Add additional properties to selection:</p>
<pre><code class="">$qb-&gt;select()
    -&gt;field('a.prop_1')
  -&gt;end()
  -&gt;addSelect()
    -&gt;field('a.prop_2')
    -&gt;field('a.prop_3')
    -&gt;field('a.prop_4')
  -&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="query-builder-reference.html#qbref_node_select">select</a> (SelectAdd)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_selectadd">SelectAdd</a></p>
<a id="qbref_method_querybuilder_orderby"></a>
<a class="section-anchor" id="gt-orderby" name="gt-orderby"></a><h4 class="section-header"><a href="#gt-orderby">-&gt;orderBy<i class="fas fa-link"></i></a></h4>
<p>Add orderings to the builder tree.</p>
<p>Number of orderings is unbounded:</p>
<pre><code class="">$qb-&gt;orderBy()
  -&gt;asc()-&gt;field('a.prop_1')-&gt;end()
  -&gt;desc()-&gt;field('a.prop_2')-&gt;end()
-&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="#qbref_node_order_by">order_by</a> (OrderBy)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_orderby">OrderBy</a></p>
<a id="qbref_method_querybuilder_addorderby"></a>
<a class="section-anchor" id="gt-addorderby" name="gt-addorderby"></a><h4 class="section-header"><a href="#gt-addorderby">-&gt;addOrderBy<i class="fas fa-link"></i></a></h4>
<p>Add additional orderings to the builder tree.</p>
<p><strong>Adds</strong>: <a href="#qbref_node_order_by">order_by</a> (OrderByAdd)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_orderbyadd">OrderByAdd</a></p>
<a id="qbref_node_select"></a>
<a class="section-anchor" id="node-select" name="node-select"></a><h3 class="section-header"><a href="#node-select">Node: Select<i class="fas fa-link"></i></a></h3>
<p>Factory node for adding selection fields.</p>
<p><strong>Type</strong>: <a href="#qbref_type_select">select</a></p>
<p><strong>Child Cardinality</strong>:
    <em> <strong>0..</strong></em> <a href="#qbref_type_property">property</a></p>
<a id="qbref_node_selectadd"></a>
<a class="section-anchor" id="node-selectadd" name="node-selectadd"></a><h3 class="section-header"><a href="#node-selectadd">Node: SelectAdd<i class="fas fa-link"></i></a></h3>
<p>Factory node for adding additional selection fields.</p>
<p><strong>Type</strong>: <a href="#qbref_type_select">select</a></p>
<p><strong>Extends</strong>: <a href="query-builder-reference.html#qbref_node_select">Select</a></p>
<p><strong>Child Cardinality</strong>:
    <em> <strong>0..</strong></em> <a href="#qbref_type_property">property</a></p>
<a id="qbref_node_sourcejoin"></a>
<a class="section-anchor" id="node-sourcejoin" name="node-sourcejoin"></a><h3 class="section-header"><a href="#node-sourcejoin">Node: SourceJoin<i class="fas fa-link"></i></a></h3>
<p><strong>Type</strong>: <a href="#qbref_type_source">source</a></p>
<p><strong>Child Cardinality</strong>:
    <em> <strong>1..1</strong> <a href="#qbref_type_source_join_condition_factory">source_join_condition_factory</a>
    </em> <strong>1..1</strong> <a href="#qbref_type_source_join_left">source_join_left</a>
    * <strong>1..1</strong> <a href="#qbref_type_source_join_right">source_join_right</a></p>
<a id="qbref_node_sourcejoinconditionfactory"></a>
<a class="section-anchor" id="node-sourcejoinconditionfactory" name="node-sourcejoinconditionfactory"></a><h3 class="section-header"><a href="#node-sourcejoinconditionfactory">Node: SourceJoinConditionFactory<i class="fas fa-link"></i></a></h3>
<p>Factory node for join conditions.</p>
<p><strong>Type</strong>: <a href="#qbref_type_source_join_condition_factory">source_join_condition_factory</a></p>
<p><strong>Child Cardinality</strong>:
    * <strong>1..1</strong> <a href="#qbref_type_source_join_condition">source_join_condition</a></p>
<a id="qbref_method_sourcejoinconditionfactory_descendant"></a>
<a class="section-anchor" id="gt-descendant" name="gt-descendant"></a><h4 class="section-header"><a href="#gt-descendant">-&gt;descendant<i class="fas fa-link"></i></a></h4>
<p>Descendant join condition:</p>
<pre><code class="">$qb-&gt;from('alias_1')
  -&gt;joinInner()
    -&gt;left()-&gt;document('Foo/Bar/One', 'alias_1')-&gt;end()
    -&gt;right()-&gt;document('Foo/Bar/Two', 'alias_2')-&gt;end()
    -&gt;condition()
      -&gt;descendant('alias_1', 'alias_2')
    -&gt;end()
-&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="#qbref_node_source_join_condition">source_join_condition</a> (SourceJoinConditionDescendant)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_sourcejoinconditionfactory">SourceJoinConditionFactory</a></p>
<p><strong>Arguments</strong>:</p>
<ul><li><strong>$descendantAlias</strong>: <em>string</em> - Name of alias for descendant documents.</li>
<li><strong>$ancestorAlias</strong>: <em>string</em> - Name of alias to match for ancestor documents.</li>
</ul>

<a id="qbref_method_sourcejoinconditionfactory_equi"></a>
<a class="section-anchor" id="gt-equi" name="gt-equi"></a><h4 class="section-header"><a href="#gt-equi">-&gt;equi<i class="fas fa-link"></i></a></h4>
<p>Equi (equality) join condition:</p>
<pre><code class="">$qb-&gt;from('alias_1')
  -&gt;joinInner()
    -&gt;left()-&gt;document('Foo/Bar/One', 'alias_1')-&gt;end()
    -&gt;right()-&gt;document('Foo/Bar/Two', 'alias_2')-&gt;end()
    -&gt;condition()-&gt;equi('alias_1.prop_1', 'alias_2.prop_2')
  -&gt;end()
&gt;end();

</code></pre>
<p>See: http://en.wikipedia.org/wiki/<a href="#join">Join</a>%28SQL%29#Equi-join</p>
<p><strong>Adds</strong>: <a href="#qbref_node_source_join_condition">source_join_condition</a> (SourceJoinConditionEqui)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_sourcejoinconditionfactory">SourceJoinConditionFactory</a></p>
<p><strong>Arguments</strong>:</p>
<ul><li><strong>$field1</strong>: <em>string</em> - Field name for first field.</li>
<li><strong>$field2</strong>: <em>string</em> - Field name for second field.</li>
</ul>

<a id="qbref_method_sourcejoinconditionfactory_child"></a>
<a class="section-anchor" id="gt-child" name="gt-child"></a><h4 class="section-header"><a href="#gt-child">-&gt;child<i class="fas fa-link"></i></a></h4>
<p>Child document join condition:</p>
<pre><code class="">$qb-&gt;from('alias_1')
  -&gt;joinInner()
    -&gt;left()-&gt;document('Foo/Bar/One', 'alias_1')-&gt;end()
    -&gt;right()-&gt;document('Foo/Bar/Two', 'alias_2')-&gt;end()
    -&gt;condition()-&gt;child('alias_1', 'alias_2')-&gt;end()
  -&gt;end()
&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="#qbref_node_source_join_condition">source_join_condition</a> (SourceJoinConditionChildDocument)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_sourcejoinconditionfactory">SourceJoinConditionFactory</a></p>
<p><strong>Arguments</strong>:</p>
<ul><li><strong>$childAlias</strong>: <em>string</em> - Name of alias for child documents.</li>
<li><strong>$parentAlias</strong>: <em>string</em> - Name of alias to match for parent documents.</li>
</ul>

<a id="qbref_method_sourcejoinconditionfactory_same"></a>
<a class="section-anchor" id="gt-same" name="gt-same"></a><h4 class="section-header"><a href="#gt-same">-&gt;same<i class="fas fa-link"></i></a></h4>
<p>Same document join condition:</p>
<pre><code class="">$qb-&gt;from('alias_1')
  -&gt;joinInner()
    -&gt;left()-&gt;document('Foo/Bar/One', 'alias_1')-&gt;end()
    -&gt;right()-&gt;document('Foo/Bar/Two', 'alias_2')-&gt;end()
    -&gt;condition()
      -&gt;same('alias_1', 'alias_2', '/path_to/alias_2/document')
    -&gt;end()
  -&gt;end()
-&gt;end();

</code></pre>
<p><strong>Adds</strong>: <a href="#qbref_node_source_join_condition">source_join_condition</a> (SourceJoinConditionSameDocument)</p>
<p><strong>Returns</strong>: <a href="query-builder-reference.html#qbref_node_sourcejoinconditionfactory">SourceJoinConditionFactory</a></p>
<p><strong>Arguments</strong>:</p>
<ul><li><strong>$alias1</strong>: <em>string</em> - Name of first alias.</li>
<li><strong>$alias2</strong>: <em>string</em> - Name of first alias.</li>
<li><strong>$alias2Path</strong>: <em>string</em> - Path for documents of second alias.</li>
</ul>

<a id="qbref_node_sourcejoinleft"></a>
<a class="section-anchor" id="node-sourcejoinleft" name="node-sourcejoinleft"></a><h3 class="section-header"><a href="#node-sourcejoinleft">Node: SourceJoinLeft<i class="fas fa-link"></i></a></h3>
<p>Factory node for &quot;left&quot; source in join.</p>
<p><strong>Type</strong>: <a href="#qbref_type_source_join_left">source_join_left</a></p>
<p><strong>Extends</strong>: <a href="query-builder-reference.html#qbref_node_from">From</a></p>
<p><strong>Inherited methods</strong>: <a href="#qbref_method_sourcefactory_document">document</a>, <a href="#qbref_method_sourcefactory_joininner">joinInner</a>, <a href="#qbref_method_sourcefactory_joinleftouter">joinLeftOuter</a>, <a href="#qbref_method_sourcefactory_joinrightouter">joinRightOuter</a></p>
<p><strong>Child Cardinality</strong>:
    * <strong>1..1</strong> <a href="#qbref_type_source">source</a></p>
<a id="qbref_node_sourcejoinright"></a>
<a class="section-anchor" id="node-sourcejoinright" name="node-sourcejoinright"></a><h3 class="section-header"><a href="#node-sourcejoinright">Node: SourceJoinRight<i class="fas fa-link"></i></a></h3>
<p>Factory node for &quot;right&quot; source in join.</p>
<p><strong>Type</strong>: <a href="#qbref_type_source_join_right">source_join_right</a></p>
<p><strong>Extends</strong>: <a href="query-builder-reference.html#qbref_node_from">From</a></p>
<p><strong>Inherited methods</strong>: <a href="#qbref_method_sourcefactory_document">document</a>, <a href="#qbref_method_sourcefactory_joininner">joinInner</a>, <a href="#qbref_method_sourcefactory_joinleftouter">joinLeftOuter</a>, <a href="#qbref_method_sourcefactory_joinrightouter">joinRightOuter</a></p>
<p><strong>Child Cardinality</strong>:
    * <strong>1..1</strong> <a href="#qbref_type_source">source</a></p>
<a id="qbref_node_where"></a>
<a class="section-anchor" id="node-where" name="node-where"></a><h3 class="section-header"><a href="#node-where">Node: Where<i class="fas fa-link"></i></a></h3>
<p>Factory node for where.</p>
<p><strong>Type</strong>: <a href="#qbref_type_where">where</a></p>
<p><strong>Extends</strong>: <a href="query-builder-reference.html#qbref_node_constraintfactory">ConstraintFactory</a></p>
<p><strong>Inherited methods</strong>: <a href="query-builder-reference.html#qbref_method_constraintfactory_andx">andX</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_orx">orX</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_fieldisset">fieldIsset</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_fulltextsearch">fullTextSearch</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_same">same</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_descendant">descendant</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_child">child</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_eq">eq</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_neq">neq</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_lt">lt</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_lte">lte</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_gt">gt</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_gte">gte</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_like">like</a></p>
<p><strong>Child Cardinality</strong>:
    * <strong>1..1</strong> <a href="#qbref_type_constraint">constraint</a></p>
<a id="qbref_node_whereand"></a>
<a class="section-anchor" id="node-whereand" name="node-whereand"></a><h3 class="section-header"><a href="#node-whereand">Node: WhereAnd<i class="fas fa-link"></i></a></h3>
<p>Factory node for appending additional &quot;wheres&quot; with an AND</p>
<p><strong>Type</strong>: <a href="#qbref_type_where">where</a></p>
<p><strong>Extends</strong>: <a href="query-builder-reference.html#qbref_node_where">Where</a></p>
<p><strong>Inherited methods</strong>: <a href="query-builder-reference.html#qbref_method_constraintfactory_andx">andX</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_orx">orX</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_fieldisset">fieldIsset</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_fulltextsearch">fullTextSearch</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_same">same</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_descendant">descendant</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_child">child</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_eq">eq</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_neq">neq</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_lt">lt</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_lte">lte</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_gt">gt</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_gte">gte</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_like">like</a></p>
<p><strong>Child Cardinality</strong>:
    * <strong>1..1</strong> <a href="#qbref_type_constraint">constraint</a></p>
<a id="qbref_node_whereor"></a>
<a class="section-anchor" id="node-whereor" name="node-whereor"></a><h3 class="section-header"><a href="#node-whereor">Node: WhereOr<i class="fas fa-link"></i></a></h3>
<p>Factory node for appending additional &quot;wheres&quot; with an OR</p>
<p><strong>Type</strong>: <a href="#qbref_type_where">where</a></p>
<p><strong>Extends</strong>: <a href="query-builder-reference.html#qbref_node_where">Where</a></p>
<p><strong>Inherited methods</strong>: <a href="query-builder-reference.html#qbref_method_constraintfactory_andx">andX</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_orx">orX</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_fieldisset">fieldIsset</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_fulltextsearch">fullTextSearch</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_same">same</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_descendant">descendant</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_child">child</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_eq">eq</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_neq">neq</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_lt">lt</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_lte">lte</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_gt">gt</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_gte">gte</a>, <a href="query-builder-reference.html#qbref_method_constraintfactory_like">like</a></p>
<p><strong>Child Cardinality</strong>:
    * <strong>1..1</strong> <a href="#qbref_type_constraint">constraint</a></p>
<p></p>
                                            </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?3aa944"
                            integrity="sha384-C3frOTowPU2u/UuMpJMJ9PW/WeWOGSQvjOY701yPq2o2KLmEpVyTVCTe5SlNGyCd"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'phpcr-odm';
            var versionSlug = 'latest';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search PHPCR ODM master'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            </body>
</html>
