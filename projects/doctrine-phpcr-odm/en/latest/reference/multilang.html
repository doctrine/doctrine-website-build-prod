<!DOCTYPE html>
<html>
    <head>
        <title>Multilanguage support - Doctrine PHPCR ODM</title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine PHPCR ODM Documentation: Multilanguage support ">

        <meta name="keywords" content="php,content,odm,data,mapper,mapping,object,documentation,multilanguage,support">

                    <meta name="robots" content="index, follow">
        
        
                    <link rel="canonical" href="https://www.doctrine-project.org/projects/doctrine-phpcr-odm/en/latest/reference/multilang.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.doctrine-project.org/frontend/css/index.css?872f7e"
                        integrity="sha384-bZsEB71Y4iNSgVBqRpdfrMlt47Yelru109ZBtBWZTOqrVUwMj1ilWncB/TvsLRw5"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://www.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://www.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://www.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://www.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://www.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://www.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.doctrine-project.org/projects/doctrine-phpcr-odm/en/latest/reference/multilang.html" />
        <meta property="og:title" content="Multilanguage support - Doctrine PHPCR ODM" />
        <meta property="og:description" content="Doctrine PHPCR ODM Documentation: Multilanguage support " />
        <meta property="og:image" content="https://www.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://www.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://www.doctrine-project.org",
            "logo": "https://www.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://www.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://www.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://www.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine PHPCR ODM",
            "description": "Multilanguage support",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://www.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar stop-war-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                 <a href="/stop-war.html">ðŸ‡ºðŸ‡¦ UKRAINE NEEDS YOUR HELP NOW!</a>
            </nav>

            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item notranslate" href="/projects/annotations.html">Annotations</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/cache.html">Cache</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/reflection.html">Reflection</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/rst-parser.html">RST Parser</a>
                                                                    <a class="dropdown-item notranslate" href="/projects/skeleton-mapper.html">Skeleton Mapper</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/team/maintainers.html">Maintainers</a>
                                <a class="dropdown-item" href="/team/contributors.html">Contributors</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/events.html">Events</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/consulting.html">Consulting</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/phpcr-odm/edit/master/docs/en/reference/multilang.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>

                    <div class="google-translate-dropdown dropdown show d-inline-block mr-2">
                        <a class="btn btn-primary dropdown-toggle" href="#" role="button" id="translateDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Translate
                        </a>

                        <div class="dropdown-menu" aria-labelledby="translateDropdown">
                            <div class="dropdown-item" id="google_translate_element">Loading...</div>
                        </div>
                    </div>

                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://www.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        <div class="toc"><ul><li id="index-html-doctrine-php-content-repository-odm-documentation" class="toc-item"><a href="../index.html#doctrine-php-content-repository-odm-documentation">Doctrine PHP Content Repository ODM documentation</a><ul><li id="index-html-getting-help" class="toc-item"><a href="../index.html#getting-help">Getting Help</a></li><li id="index-html-getting-started" class="toc-item"><a href="../index.html#getting-started">Getting Started</a></li><li id="index-html-mapping-objects-onto-a-document-repository" class="toc-item"><a href="../index.html#mapping-objects-onto-a-document-repository">Mapping Objects onto a Document Repository</a></li><li id="index-html-working-with-objects" class="toc-item"><a href="../index.html#working-with-objects">Working with Objects</a></li><li id="index-html-advanced-topics" class="toc-item"><a href="../index.html#advanced-topics">Advanced Topics</a></li><li id="index-html-cookbook" class="toc-item"><a href="../index.html#cookbook">Cookbook</a></li></ul></li><li id="association-mapping-html-association-mapping" class="toc-item"><a href="association-mapping.html#association-mapping">Association Mapping</a><ul><li id="association-mapping-html-hierarchy-mappings" class="toc-item"><a href="association-mapping.html#hierarchy-mappings">Hierarchy mappings</a><ul><li id="association-mapping-html-child-restriction" class="toc-item"><a href="association-mapping.html#child-restriction">Child restriction</a></li></ul></li><li id="association-mapping-html-references" class="toc-item"><a href="association-mapping.html#references">References</a><ul><li id="association-mapping-html-referenceable-documents" class="toc-item"><a href="association-mapping.html#referenceable-documents">Referenceable documents</a></li><li id="association-mapping-html-reference-other-documents" class="toc-item"><a href="association-mapping.html#reference-other-documents">Reference other documents</a></li><li id="association-mapping-html-referrers-to-inverse-the-reference-relation" class="toc-item"><a href="association-mapping.html#referrers-to-inverse-the-reference-relation">Referrers to inverse the reference relation</a></li><li id="association-mapping-html-mixedreferrers" class="toc-item"><a href="association-mapping.html#mixedreferrers">MixedReferrers</a></li></ul></li><li id="association-mapping-html-transitive-persistence-cascade-operations" class="toc-item"><a href="association-mapping.html#transitive-persistence-cascade-operations">Transitive persistence / Cascade Operations</a><ul><li id="association-mapping-html-persistence-by-reachability-cascade-persist" class="toc-item"><a href="association-mapping.html#persistence-by-reachability-cascade-persist">Persistence by Reachability: Cascade Persist</a></li></ul></li><li id="association-mapping-html-collections" class="toc-item"><a href="association-mapping.html#collections">Collections</a><ul><li id="association-mapping-html-initializing-collections" class="toc-item"><a href="association-mapping.html#initializing-collections">Initializing Collections</a></li><li id="association-mapping-html-new-collections-after-flushing" class="toc-item"><a href="association-mapping.html#new-collections-after-flushing">New Collections after Flushing</a></li></ul></li></ul></li><li id="tools-html-tools" class="toc-item"><a href="tools.html#tools">Tools</a><ul><li id="tools-html-doctrine-console" class="toc-item"><a href="tools.html#doctrine-console">Doctrine Console</a><ul><li id="tools-html-command-overview" class="toc-item"><a href="tools.html#command-overview">Command Overview</a></li><li id="tools-html-getting-documentation-of-a-command" class="toc-item"><a href="tools.html#getting-documentation-of-a-command">Getting documentation of a command</a></li><li id="tools-html-phpcr-implementation-specific-commands" class="toc-item"><a href="tools.html#phpcr-implementation-specific-commands">PHPCR implementation specific commands</a></li></ul></li><li id="tools-html-register-system-node-types" class="toc-item"><a href="tools.html#register-system-node-types">Register system node types</a></li><li id="tools-html-adding-your-own-commands" class="toc-item"><a href="tools.html#adding-your-own-commands">Adding your own commands</a></li></ul></li><li id="introduction-html-getting-started" class="toc-item"><a href="introduction.html#getting-started">Getting Started</a><ul><li id="introduction-html-what-are-documents" class="toc-item"><a href="introduction.html#what-are-documents">What are Documents?</a></li><li id="introduction-html-an-example-model-document-management" class="toc-item"><a href="introduction.html#an-example-model-document-management">An Example Model: Document Management</a></li><li id="introduction-html-setup-project" class="toc-item"><a href="introduction.html#setup-project">Setup Project</a></li><li id="introduction-html-building-the-model" class="toc-item"><a href="introduction.html#building-the-model">Building the model</a></li><li id="introduction-html-initialize-the-repository" class="toc-item"><a href="introduction.html#initialize-the-repository">Initialize the repository</a></li><li id="introduction-html-storing-documents" class="toc-item"><a href="introduction.html#storing-documents">Storing documents</a></li><li id="introduction-html-reading-documents" class="toc-item"><a href="introduction.html#reading-documents">Reading documents</a></li><li id="introduction-html-tree-traversal" class="toc-item"><a href="introduction.html#tree-traversal">Tree traversal</a></li><li id="introduction-html-add-references" class="toc-item"><a href="introduction.html#add-references">Add references</a></li><li id="introduction-html-removing-documents" class="toc-item"><a href="introduction.html#removing-documents">Removing documents</a></li><li id="introduction-html-other-helpful-methods-on-the-documentmanager" class="toc-item"><a href="introduction.html#other-helpful-methods-on-the-documentmanager">Other helpful methods on the DocumentManager</a></li><li id="introduction-html-conclusion" class="toc-item"><a href="introduction.html#conclusion">Conclusion</a></li></ul></li><li id="events-html-events" class="toc-item"><a href="events.html#events">Events</a><ul><li id="events-html-lifecycle-events" class="toc-item"><a href="events.html#lifecycle-events">Lifecycle Events</a></li><li id="events-html-event-order-when-moving" class="toc-item"><a href="events.html#event-order-when-moving">Event order when moving</a></li><li id="events-html-event-order-when-handling-with-translations" class="toc-item"><a href="events.html#event-order-when-handling-with-translations">Event order when handling with translations</a></li><li id="events-html-listening-to-events" class="toc-item"><a href="events.html#listening-to-events">Listening to events</a></li><li id="events-html-lifecycle-callbacks" class="toc-item"><a href="events.html#lifecycle-callbacks">Lifecycle Callbacks</a></li><li id="events-html-listening-to-lifecycle-events" class="toc-item"><a href="events.html#listening-to-lifecycle-events">Listening to Lifecycle Events</a></li></ul></li><li id="query-builder-html-the-querybuilder" class="toc-item"><a href="query-builder.html#the-querybuilder">The QueryBuilder</a><ul><li id="query-builder-html-concepts" class="toc-item"><a href="query-builder.html#concepts">Concepts</a><ul><li id="query-builder-html-leaf-and-factory-nodes" class="toc-item"><a href="query-builder.html#leaf-and-factory-nodes">Leaf and Factory Nodes</a></li><li id="query-builder-html-fluent-interface" class="toc-item"><a href="query-builder.html#fluent-interface">Fluent Interface</a></li><li id="query-builder-html-types-and-cardinality" class="toc-item"><a href="query-builder.html#types-and-cardinality">Types and Cardinality</a></li><li id="query-builder-html-aliases-and-fields" class="toc-item"><a href="query-builder.html#aliases-and-fields">Aliases and fields</a></li></ul></li><li id="query-builder-html-retrieving-a-query-builder-instance" class="toc-item"><a href="query-builder.html#retrieving-a-query-builder-instance">Retrieving a query builder instance</a><ul><li id="query-builder-html-via-the-document-manager" class="toc-item"><a href="query-builder.html#via-the-document-manager">Via the document manager</a></li><li id="query-builder-html-via-a-document-repository" class="toc-item"><a href="query-builder.html#via-a-document-repository">Via a document repository</a></li></ul></li><li id="query-builder-html-working-with-the-querybuilder" class="toc-item"><a href="query-builder.html#working-with-the-querybuilder">Working with the QueryBuilder</a><ul><li id="query-builder-html-specifying-the-document-source-from" class="toc-item"><a href="query-builder.html#specifying-the-document-source-from">Specifying the document source - from</a></li><li id="query-builder-html-selecting-specific-properties-select" class="toc-item"><a href="query-builder.html#selecting-specific-properties-select">Selecting specific properties - select</a></li><li id="query-builder-html-limiting-the-number-of-results" class="toc-item"><a href="query-builder.html#limiting-the-number-of-results">Limiting the number of results</a></li><li id="query-builder-html-specifying-selection-criteria" class="toc-item"><a href="query-builder.html#specifying-selection-criteria">Specifying selection criteria</a></li><li id="query-builder-html-ordering-results" class="toc-item"><a href="query-builder.html#ordering-results">Ordering results</a></li><li id="query-builder-html-querying-translated-documents" class="toc-item"><a href="query-builder.html#querying-translated-documents">Querying translated documents</a></li></ul></li><li id="query-builder-html-additional-notes" class="toc-item"><a href="query-builder.html#additional-notes">Additional notes</a><ul><li id="query-builder-html-querying-multivalue-fields" class="toc-item"><a href="query-builder.html#querying-multivalue-fields">Querying multivalue fields</a></li><li id="query-builder-html-using-the-query-builder-in-tests" class="toc-item"><a href="query-builder.html#using-the-query-builder-in-tests">Using the Query Builder in Tests</a></li></ul></li></ul></li><li id="working-with-objects-html-working-with-objects" class="toc-item"><a href="working-with-objects.html#working-with-objects">Working with Objects</a><ul><li id="working-with-objects-html-documents-and-the-identity-map" class="toc-item"><a href="working-with-objects.html#documents-and-the-identity-map">Documents and the Identity Map</a></li><li id="working-with-objects-html-document-graph-traversal" class="toc-item"><a href="working-with-objects.html#document-graph-traversal">Document Graph Traversal</a></li><li id="working-with-objects-html-persisting-documents" class="toc-item"><a href="working-with-objects.html#persisting-documents">Persisting documents</a></li><li id="working-with-objects-html-removing-documents" class="toc-item"><a href="working-with-objects.html#removing-documents">Removing documents</a></li><li id="working-with-objects-html-detaching-documents" class="toc-item"><a href="working-with-objects.html#detaching-documents">Detaching documents</a></li><li id="working-with-objects-html-merging-documents" class="toc-item"><a href="working-with-objects.html#merging-documents">Merging documents</a></li><li id="working-with-objects-html-synchronization-with-the-repository" class="toc-item"><a href="working-with-objects.html#synchronization-with-the-repository">Synchronization with the Repository</a><ul><li id="working-with-objects-html-effects-of-repository-and-unitofwork-being-out-of-sync" class="toc-item"><a href="working-with-objects.html#effects-of-repository-and-unitofwork-being-out-of-sync">Effects of Repository and UnitOfWork being Out-Of-Sync</a></li><li id="working-with-objects-html-synchronizing-new-and-managed-documents" class="toc-item"><a href="working-with-objects.html#synchronizing-new-and-managed-documents">Synchronizing New and Managed Documents</a></li><li id="working-with-objects-html-synchronizing-removed-documents" class="toc-item"><a href="working-with-objects.html#synchronizing-removed-documents">Synchronizing Removed Documents</a></li><li id="working-with-objects-html-the-size-of-a-unit-of-work" class="toc-item"><a href="working-with-objects.html#the-size-of-a-unit-of-work">The size of a Unit of Work</a></li><li id="working-with-objects-html-the-cost-of-flushing" class="toc-item"><a href="working-with-objects.html#the-cost-of-flushing">The cost of flushing</a></li><li id="working-with-objects-html-direct-access-to-a-unit-of-work" class="toc-item"><a href="working-with-objects.html#direct-access-to-a-unit-of-work">Direct Access to a Unit of Work</a></li><li id="working-with-objects-html-document-state" class="toc-item"><a href="working-with-objects.html#document-state">Document State</a></li></ul></li><li id="working-with-objects-html-querying" class="toc-item"><a href="working-with-objects.html#querying">Querying</a><ul><li id="working-with-objects-html-by-primary-key" class="toc-item"><a href="working-with-objects.html#by-primary-key">By Primary Key</a></li><li id="working-with-objects-html-by-simple-conditions" class="toc-item"><a href="working-with-objects.html#by-simple-conditions">By Simple Conditions</a></li><li id="working-with-objects-html-by-lazy-loading" class="toc-item"><a href="working-with-objects.html#by-lazy-loading">By Lazy Loading</a></li><li id="working-with-objects-html-by-query-builder" class="toc-item"><a href="working-with-objects.html#by-query-builder">By Query Builder</a></li><li id="working-with-objects-html-by-native-queries" class="toc-item"><a href="working-with-objects.html#by-native-queries">By Native Queries</a></li><li id="working-with-objects-html-custom-repositories" class="toc-item"><a href="working-with-objects.html#custom-repositories">Custom Repositories</a></li></ul></li></ul></li><li id="architecture-html-architecture" class="toc-item"><a href="architecture.html#architecture">Architecture</a><ul><li id="architecture-html-doctrine-phpcr-odm-packages" class="toc-item"><a href="architecture.html#doctrine-phpcr-odm-packages">Doctrine PHPCR-ODM Packages</a><ul><li id="architecture-html-content-tree-not-tables" class="toc-item"><a href="architecture.html#content-tree-not-tables">Content tree, not tables</a></li><li id="architecture-html-additional-core-features" class="toc-item"><a href="architecture.html#additional-core-features">Additional core features</a></li></ul></li></ul></li><li id="installation-configuration-html-installation" class="toc-item"><a href="installation-configuration.html#installation">Installation</a><ul><li id="installation-configuration-html-composer" class="toc-item"><a href="installation-configuration.html#composer">Composer</a></li><li id="installation-configuration-html-phpcr-provider" class="toc-item"><a href="installation-configuration.html#phpcr-provider">PHPCR provider</a><ul><li id="installation-configuration-html-install-jackalope-jackrabbit-phcpr-provider" class="toc-item"><a href="installation-configuration.html#install-jackalope-jackrabbit-phcpr-provider">Install Jackalope-Jackrabbit PHCPR provider</a></li><li id="installation-configuration-html-install-jackalope-doctrine-dbal-phpcr-provider" class="toc-item"><a href="installation-configuration.html#install-jackalope-doctrine-dbal-phpcr-provider">Install Jackalope Doctrine DBAL PHPCR provider</a></li><li id="installation-configuration-html-install-midgard2-phpcr-provider" class="toc-item"><a href="installation-configuration.html#install-midgard2-phpcr-provider">Install Midgard2 PHPCR provider</a></li></ul></li></ul></li><li id="installation-configuration-html-configuration" class="toc-item"><a href="installation-configuration.html#configuration">Configuration</a><ul><li id="installation-configuration-html-class-loading-with-composer" class="toc-item"><a href="installation-configuration.html#class-loading-with-composer">Class loading with composer</a></li><li id="installation-configuration-html-obtaining-an-objectmanager" class="toc-item"><a href="installation-configuration.html#obtaining-an-objectmanager">Obtaining an ObjectManager</a><ul><li id="installation-configuration-html-prepare-the-mapping-driver" class="toc-item"><a href="installation-configuration.html#prepare-the-mapping-driver">Prepare the mapping driver</a></li><li id="installation-configuration-html-quick-configuration-example" class="toc-item"><a href="installation-configuration.html#quick-configuration-example">Quick Configuration Example</a></li></ul></li><li id="installation-configuration-html-configuration-options" class="toc-item"><a href="installation-configuration.html#configuration-options">Configuration Options</a><ul><li id="installation-configuration-html-proxy-directory-required" class="toc-item"><a href="installation-configuration.html#proxy-directory-required">Proxy Directory (***REQUIRED***)</a></li><li id="installation-configuration-html-proxy-namespace-required" class="toc-item"><a href="installation-configuration.html#proxy-namespace-required">Proxy Namespace (***REQUIRED***)</a></li><li id="installation-configuration-html-metadata-driver-required" class="toc-item"><a href="installation-configuration.html#metadata-driver-required">Metadata Driver (***REQUIRED***)</a></li><li id="installation-configuration-html-metadata-cache-recommended" class="toc-item"><a href="installation-configuration.html#metadata-cache-recommended">Metadata Cache (***RECOMMENDED***)</a></li><li id="installation-configuration-html-auto-generating-proxy-classes-optional" class="toc-item"><a href="installation-configuration.html#auto-generating-proxy-classes-optional">Auto-generating Proxy Classes (***OPTIONAL***)</a></li></ul></li><li id="installation-configuration-html-development-vs-production-configuration" class="toc-item"><a href="installation-configuration.html#development-vs-production-configuration">Development vs Production Configuration</a></li><li id="installation-configuration-html-connection-options" class="toc-item"><a href="installation-configuration.html#connection-options">Connection Options</a></li><li id="installation-configuration-html-proxy-objects" class="toc-item"><a href="installation-configuration.html#proxy-objects">Proxy Objects</a><ul><li id="installation-configuration-html-reference-proxies" class="toc-item"><a href="installation-configuration.html#reference-proxies">Reference Proxies</a></li><li id="installation-configuration-html-generating-proxy-classes" class="toc-item"><a href="installation-configuration.html#generating-proxy-classes">Generating Proxy classes</a></li><li id="installation-configuration-html-autoloading-proxies" class="toc-item"><a href="installation-configuration.html#autoloading-proxies">Autoloading Proxies</a></li><li id="installation-configuration-html-multiple-metadata-sources" class="toc-item"><a href="installation-configuration.html#multiple-metadata-sources">Multiple Metadata Sources</a></li><li id="installation-configuration-html-default-repository-optional" class="toc-item"><a href="installation-configuration.html#default-repository-optional">Default Repository (***OPTIONAL***)</a></li></ul></li><li id="installation-configuration-html-setting-up-the-console" class="toc-item"><a href="installation-configuration.html#setting-up-the-console">Setting up the Console</a><ul><li id="installation-configuration-html-register-system-node-types" class="toc-item"><a href="installation-configuration.html#register-system-node-types">Register system node types</a></li></ul></li></ul></li><li id="inheritance-mapping-html-inheritance-mapping" class="toc-item"><a href="inheritance-mapping.html#inheritance-mapping">Inheritance Mapping</a><ul><li id="inheritance-mapping-html-document-class-inheritance" class="toc-item"><a href="inheritance-mapping.html#document-class-inheritance">Document class inheritance</a></li></ul></li><li id="annotations-mapping-html-annotation-mapping" class="toc-item"><a href="annotations-mapping.html#annotation-mapping">Annotation Mapping</a><ul><li id="annotations-mapping-html-note-on-usage" class="toc-item"><a href="annotations-mapping.html#note-on-usage">Note on usage</a></li><li id="annotations-mapping-html-document" class="toc-item"><a href="annotations-mapping.html#document">Document</a><ul><li id="annotations-mapping-html-document" class="toc-item"><a href="annotations-mapping.html#document">@Document</a></li><li id="annotations-mapping-html-mappedsuperclass" class="toc-item"><a href="annotations-mapping.html#mappedsuperclass">@MappedSuperclass</a></li></ul></li><li id="annotations-mapping-html-mapping-fields" class="toc-item"><a href="annotations-mapping.html#mapping-fields">Mapping Fields</a><ul><li id="annotations-mapping-html-field" class="toc-item"><a href="annotations-mapping.html#field">@Field</a></li></ul></li><li id="annotations-mapping-html-hierarchy" class="toc-item"><a href="annotations-mapping.html#hierarchy">Hierarchy</a><ul><li id="annotations-mapping-html-child" class="toc-item"><a href="annotations-mapping.html#child">@Child</a></li><li id="annotations-mapping-html-children" class="toc-item"><a href="annotations-mapping.html#children">@Children</a></li><li id="annotations-mapping-html-depth" class="toc-item"><a href="annotations-mapping.html#depth">@Depth</a></li><li id="annotations-mapping-html-parentdocument" class="toc-item"><a href="annotations-mapping.html#parentdocument">@ParentDocument</a></li></ul></li><li id="annotations-mapping-html-identification" class="toc-item"><a href="annotations-mapping.html#identification">Identification</a><ul><li id="annotations-mapping-html-id" class="toc-item"><a href="annotations-mapping.html#id">@Id</a></li><li id="annotations-mapping-html-nodename" class="toc-item"><a href="annotations-mapping.html#nodename">@Nodename</a></li><li id="annotations-mapping-html-uuid" class="toc-item"><a href="annotations-mapping.html#uuid">@Uuid</a></li></ul></li><li id="annotations-mapping-html-lifcycle-callbacks" class="toc-item"><a href="annotations-mapping.html#lifcycle-callbacks">Lifcycle callbacks</a><ul><li id="annotations-mapping-html-postload" class="toc-item"><a href="annotations-mapping.html#postload">@PostLoad</a></li><li id="annotations-mapping-html-postpersist" class="toc-item"><a href="annotations-mapping.html#postpersist">@PostPersist</a></li><li id="annotations-mapping-html-postremove" class="toc-item"><a href="annotations-mapping.html#postremove">@PostRemove</a></li><li id="annotations-mapping-html-postupdate" class="toc-item"><a href="annotations-mapping.html#postupdate">@PostUpdate</a></li><li id="annotations-mapping-html-prepersist" class="toc-item"><a href="annotations-mapping.html#prepersist">@PrePersist</a></li><li id="annotations-mapping-html-preremove" class="toc-item"><a href="annotations-mapping.html#preremove">@PreRemove</a></li><li id="annotations-mapping-html-preupdate" class="toc-item"><a href="annotations-mapping.html#preupdate">@PreUpdate</a></li></ul></li><li id="annotations-mapping-html-phpcr" class="toc-item"><a href="annotations-mapping.html#phpcr">PHPCR</a><ul><li id="annotations-mapping-html-node" class="toc-item"><a href="annotations-mapping.html#node">@Node</a></li></ul></li><li id="annotations-mapping-html-references" class="toc-item"><a href="annotations-mapping.html#references">References</a><ul><li id="annotations-mapping-html-referencemany" class="toc-item"><a href="annotations-mapping.html#referencemany">@ReferenceMany</a></li><li id="annotations-mapping-html-referenceone" class="toc-item"><a href="annotations-mapping.html#referenceone">@ReferenceOne</a></li><li id="annotations-mapping-html-referrers" class="toc-item"><a href="annotations-mapping.html#referrers">@Referrers</a></li><li id="annotations-mapping-html-mixedreferrers" class="toc-item"><a href="annotations-mapping.html#mixedreferrers">@MixedReferrers</a></li></ul></li><li id="annotations-mapping-html-translation" class="toc-item"><a href="annotations-mapping.html#translation">Translation</a><ul><li id="annotations-mapping-html-locale" class="toc-item"><a href="annotations-mapping.html#locale">@Locale</a></li></ul></li><li id="annotations-mapping-html-versioning" class="toc-item"><a href="annotations-mapping.html#versioning">Versioning</a><ul><li id="annotations-mapping-html-versioncreated" class="toc-item"><a href="annotations-mapping.html#versioncreated">@VersionCreated</a></li><li id="annotations-mapping-html-versionname" class="toc-item"><a href="annotations-mapping.html#versionname">@VersionName</a></li></ul></li></ul></li><li id="query-builder-reference-html-query-builder-reference" class="toc-item"><a href="query-builder-reference.html#query-builder-reference">Query Builder Reference</a><ul><li id="query-builder-reference-html-reference" class="toc-item"><a href="query-builder-reference.html#reference">Reference</a><ul><li id="query-builder-reference-html-node-constraintandx" class="toc-item"><a href="query-builder-reference.html#node-constraintandx">Node: ConstraintAndx</a></li><li id="query-builder-reference-html-node-constraintcomparison" class="toc-item"><a href="query-builder-reference.html#node-constraintcomparison">Node: ConstraintComparison</a></li><li id="query-builder-reference-html-node-constraintfactory" class="toc-item"><a href="query-builder-reference.html#node-constraintfactory">Node: ConstraintFactory</a></li><li id="query-builder-reference-html-node-constraintnot" class="toc-item"><a href="query-builder-reference.html#node-constraintnot">Node: ConstraintNot</a></li><li id="query-builder-reference-html-node-constraintorx" class="toc-item"><a href="query-builder-reference.html#node-constraintorx">Node: ConstraintOrx</a></li><li id="query-builder-reference-html-node-from" class="toc-item"><a href="query-builder-reference.html#node-from">Node: From</a></li><li id="query-builder-reference-html-node-operanddynamicfactory" class="toc-item"><a href="query-builder-reference.html#node-operanddynamicfactory">Node: OperandDynamicFactory</a></li><li id="query-builder-reference-html-node-operanddynamiclowercase" class="toc-item"><a href="query-builder-reference.html#node-operanddynamiclowercase">Node: OperandDynamicLowerCase</a></li><li id="query-builder-reference-html-node-operanddynamicuppercase" class="toc-item"><a href="query-builder-reference.html#node-operanddynamicuppercase">Node: OperandDynamicUpperCase</a></li><li id="query-builder-reference-html-node-operandfactory" class="toc-item"><a href="query-builder-reference.html#node-operandfactory">Node: OperandFactory</a></li><li id="query-builder-reference-html-node-operandstaticfactory" class="toc-item"><a href="query-builder-reference.html#node-operandstaticfactory">Node: OperandStaticFactory</a></li><li id="query-builder-reference-html-node-orderby" class="toc-item"><a href="query-builder-reference.html#node-orderby">Node: OrderBy</a></li><li id="query-builder-reference-html-node-orderbyadd" class="toc-item"><a href="query-builder-reference.html#node-orderbyadd">Node: OrderByAdd</a></li><li id="query-builder-reference-html-node-ordering" class="toc-item"><a href="query-builder-reference.html#node-ordering">Node: Ordering</a></li><li id="query-builder-reference-html-node-querybuilder" class="toc-item"><a href="query-builder-reference.html#node-querybuilder">Node: QueryBuilder</a></li><li id="query-builder-reference-html-node-select" class="toc-item"><a href="query-builder-reference.html#node-select">Node: Select</a></li><li id="query-builder-reference-html-node-selectadd" class="toc-item"><a href="query-builder-reference.html#node-selectadd">Node: SelectAdd</a></li><li id="query-builder-reference-html-node-sourcejoin" class="toc-item"><a href="query-builder-reference.html#node-sourcejoin">Node: SourceJoin</a></li><li id="query-builder-reference-html-node-sourcejoinconditionfactory" class="toc-item"><a href="query-builder-reference.html#node-sourcejoinconditionfactory">Node: SourceJoinConditionFactory</a></li><li id="query-builder-reference-html-node-sourcejoinleft" class="toc-item"><a href="query-builder-reference.html#node-sourcejoinleft">Node: SourceJoinLeft</a></li><li id="query-builder-reference-html-node-sourcejoinright" class="toc-item"><a href="query-builder-reference.html#node-sourcejoinright">Node: SourceJoinRight</a></li><li id="query-builder-reference-html-node-where" class="toc-item"><a href="query-builder-reference.html#node-where">Node: Where</a></li><li id="query-builder-reference-html-node-whereand" class="toc-item"><a href="query-builder-reference.html#node-whereand">Node: WhereAnd</a></li><li id="query-builder-reference-html-node-whereor" class="toc-item"><a href="query-builder-reference.html#node-whereor">Node: WhereOr</a></li></ul></li></ul></li><li id="xml-mapping-html-xml-mapping" class="toc-item"><a href="xml-mapping.html#xml-mapping">XML Mapping</a></li><li id="phpcr-access-html-accessing-the-underlying-phpcr-session" class="toc-item"><a href="phpcr-access.html#accessing-the-underlying-phpcr-session">Accessing the underlying PHPCR session</a><ul><li id="phpcr-access-html-getting-the-phpcr-session" class="toc-item"><a href="phpcr-access.html#getting-the-phpcr-session">Getting the PHPCR Session</a></li><li id="phpcr-access-html-the-node-field-mapping" class="toc-item"><a href="phpcr-access.html#the-node-field-mapping">The Node field mapping</a></li></ul></li><li id="multilang-html-multilanguage-support" class="toc-item"><a href="multilang.html#multilanguage-support">Multilanguage support</a><ul><li id="multilang-html-philosophy" class="toc-item"><a href="multilang.html#philosophy">Philosophy</a></li><li id="multilang-html-mapping" class="toc-item"><a href="multilang.html#mapping">Mapping</a></li><li id="multilang-html-interacting-with-translations" class="toc-item"><a href="multilang.html#interacting-with-translations">Interacting with translations</a></li><li id="multilang-html-choosing-the-right-translation-strategy" class="toc-item"><a href="multilang.html#choosing-the-right-translation-strategy">Choosing the right translation strategy</a><ul><li id="multilang-html-implementing-your-own-translation-strategy" class="toc-item"><a href="multilang.html#implementing-your-own-translation-strategy">Implementing your own translation strategy</a></li></ul></li><li id="multilang-html-configure-the-locale-chooser-strategy" class="toc-item"><a href="multilang.html#configure-the-locale-chooser-strategy">Configure the locale chooser strategy</a></li><li id="multilang-html-full-example" class="toc-item"><a href="multilang.html#full-example">Full Example</a></li><li id="multilang-html-querying-translated-properties" class="toc-item"><a href="multilang.html#querying-translated-properties">Querying Translated Properties</a></li><li id="multilang-html-limitations" class="toc-item"><a href="multilang.html#limitations">Limitations</a><ul><li id="multilang-html-translations-and-references-hierarchy" class="toc-item"><a href="multilang.html#translations-and-references-hierarchy">Translations and references / hierarchy</a></li></ul></li></ul></li><li id="fetch-depth-html-tuning-the-node-preloading" class="toc-item"><a href="fetch-depth.html#tuning-the-node-preloading">Tuning the node preloading</a></li><li id="basic-mapping-html-basic-mapping" class="toc-item"><a href="basic-mapping.html#basic-mapping">Basic Mapping</a><ul><li id="basic-mapping-html-mapping-drivers" class="toc-item"><a href="basic-mapping.html#mapping-drivers">Mapping Drivers</a></li><li id="basic-mapping-html-introduction-to-docblock-annotations" class="toc-item"><a href="basic-mapping.html#introduction-to-docblock-annotations">Introduction to Docblock Annotations</a></li><li id="basic-mapping-html-persistent-classes" class="toc-item"><a href="basic-mapping.html#persistent-classes">Persistent classes</a><ul><li id="basic-mapping-html-specify-a-node-type" class="toc-item"><a href="basic-mapping.html#specify-a-node-type">Specify a node type</a></li><li id="basic-mapping-html-specify-a-repository-class" class="toc-item"><a href="basic-mapping.html#specify-a-repository-class">Specify a repository class</a></li></ul></li><li id="basic-mapping-html-doctrine-mapping-types" class="toc-item"><a href="basic-mapping.html#doctrine-mapping-types">Doctrine Mapping Types</a></li><li id="basic-mapping-html-property-mapping" class="toc-item"><a href="basic-mapping.html#property-mapping">Property Mapping</a><ul><li id="basic-mapping-html-mapping-to-a-differently-named-phpcr-property" class="toc-item"><a href="basic-mapping.html#mapping-to-a-differently-named-phpcr-property">Mapping to a differently named PHPCR property</a></li><li id="basic-mapping-html-mapping-multivalue-properties" class="toc-item"><a href="basic-mapping.html#mapping-multivalue-properties">Mapping multivalue properties</a></li><li id="basic-mapping-html-summary" class="toc-item"><a href="basic-mapping.html#summary">Summary</a></li></ul></li><li id="basic-mapping-html-identifiers" class="toc-item"><a href="basic-mapping.html#identifiers">Identifiers</a><ul><li id="basic-mapping-html-identifier-generation-strategies" class="toc-item"><a href="basic-mapping.html#identifier-generation-strategies">Identifier Generation Strategies</a></li></ul></li><li id="basic-mapping-html-symfony-bundle" class="toc-item"><a href="basic-mapping.html#symfony-bundle">Symfony bundle</a></li></ul></li><li id="versioning-html-versioning-support" class="toc-item"><a href="versioning.html#versioning-support">Versioning support</a><ul><li id="versioning-html-philosophy" class="toc-item"><a href="versioning.html#philosophy">Philosophy</a><ul><li id="versioning-html-phpcr-odm" class="toc-item"><a href="versioning.html#phpcr-odm">PHPCR-ODM</a></li></ul></li><li id="versioning-html-mappings" class="toc-item"><a href="versioning.html#mappings">Mappings</a></li><li id="versioning-html-interacting-with-versions" class="toc-item"><a href="versioning.html#interacting-with-versions">Interacting with versions</a></li><li id="versioning-html-full-example" class="toc-item"><a href="versioning.html#full-example">Full Example</a></li></ul></li><li id="query-html-the-query-object" class="toc-item"><a href="query.html#the-query-object">The Query Object</a><ul><li id="query-html-getting-single-results" class="toc-item"><a href="query.html#getting-single-results">Getting single results</a><ul><li id="query-html-getsingleresult" class="toc-item"><a href="query.html#getsingleresult">getSingleResult</a></li><li id="query-html-getoneornullresult" class="toc-item"><a href="query.html#getoneornullresult">getOneOrNullResult</a></li></ul></li><li id="query-html-getting-multiple-results" class="toc-item"><a href="query.html#getting-multiple-results">Getting multiple results</a><ul><li id="query-html-getresult" class="toc-item"><a href="query.html#getresult">getResult</a></li><li id="query-html-getphpcrnoderesult" class="toc-item"><a href="query.html#getphpcrnoderesult">getPhpcrNodeResult</a></li><li id="query-html-execute" class="toc-item"><a href="query.html#execute">execute</a></li></ul></li><li id="query-html-hydration-modes" class="toc-item"><a href="query.html#hydration-modes">Hydration modes</a></li><li id="query-html-limiting-results" class="toc-item"><a href="query.html#limiting-results">Limiting results</a></li></ul></li><li id="transactions-html-transactions" class="toc-item"><a href="transactions.html#transactions">Transactions</a><ul><li id="transactions-html-transactional" class="toc-item"><a href="transactions.html#transactional">transactional()</a></li></ul></li><li id="cookbook-custom-documentclass-mapper-html-using-a-custom-document-class-mapper-with-phpcr-odm" class="toc-item"><a href="../cookbook/custom_documentclass_mapper.html#using-a-custom-document-class-mapper-with-phpcr-odm">Using a Custom Document Class Mapper with PHPCR-ODM</a><ul><li id="cookbook-custom-documentclass-mapper-html-symfony2-integration" class="toc-item"><a href="../cookbook/custom_documentclass_mapper.html#symfony2-integration">Symfony2 integration</a></li></ul></li><li id="cookbook-last-modified-html-last-modification-timestamp" class="toc-item"><a href="../cookbook/last-modified.html#last-modification-timestamp">Last modification timestamp</a><ul><li id="cookbook-last-modified-html-using-the-build-in-support" class="toc-item"><a href="../cookbook/last-modified.html#using-the-build-in-support">Using the build-in support</a></li><li id="cookbook-last-modified-html-a-lastmodified-listener-for-custom-behaviour" class="toc-item"><a href="../cookbook/last-modified.html#a-lastmodified-listener-for-custom-behaviour">A lastModified listener for custom behaviour</a></li></ul></li><li id="cookbook-refactoring-multilang-html-refactoring-multilanguage-documents" class="toc-item"><a href="../cookbook/refactoring-multilang.html#refactoring-multilanguage-documents">Refactoring Multilanguage Documents</a><ul><li id="cookbook-refactoring-multilang-html-procedure" class="toc-item"><a href="../cookbook/refactoring-multilang.html#procedure">Procedure</a></li><li id="cookbook-refactoring-multilang-html-converting-untranslated-fields-to-be-translated" class="toc-item"><a href="../cookbook/refactoring-multilang.html#converting-untranslated-fields-to-be-translated">Converting Untranslated Fields to be Translated</a></li><li id="cookbook-refactoring-multilang-html-removing-translation-from-a-field" class="toc-item"><a href="../cookbook/refactoring-multilang.html#removing-translation-from-a-field">Removing Translation from a Field</a></li><li id="cookbook-refactoring-multilang-html-changing-the-translation-strategy" class="toc-item"><a href="../cookbook/refactoring-multilang.html#changing-the-translation-strategy">Changing the Translation Strategy</a></li></ul></li></ul></div>
                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://www.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "PHPCR ODM",
            "item": "https://www.doctrine-project.org/projects/phpcr-odm.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://www.doctrine-project.org/projects/doctrine-phpcr-odm/en/latest/index.html"
        },                {
            "@type": "ListItem",
            "position": 4,
            "name": "Multilanguage support",
            "item": "https://www.doctrine-project.org/projects/doctrine-phpcr-odm/en/latest/reference/multilang.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/phpcr-odm.html">PHPCR ODM</a></li>
                                                <li class="breadcrumb-item"><a href="https://www.doctrine-project.org/projects/doctrine-phpcr-odm/en/latest/index.html">Documentation</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Multilanguage support</li>
                        </ol>
</nav>
                                    </div>

                

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-phpcr-odm/en/latest/reference/multilang.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        master
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                            
                                                <a class="project-version-switcher dropdown-item active" href="/projects/doctrine-phpcr-odm/en/latest/reference/multilang.html">
                                                    master

                                                    
                                                                                                    </a>
                                                                                    
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                                                        </div>
                                </div>
                            
                            
<div class="section"><a class="section-anchor" id="multilanguage-support" name="multilanguage-support"></a><h1 class="section-header"><a href="#multilanguage-support">Multilanguage support<i class="fas fa-link"></i></a></h1>
<p>PHPCR-ODM has multilanguage support built in. This is an additional feature not supported by
PHPCR, but modeled on top of it.</p>
<div class="section"><a class="section-anchor" id="philosophy" name="philosophy"></a><h2 class="section-header"><a href="#philosophy">Philosophy<i class="fas fa-link"></i></a></h2>
<p>You can mark any properties as being translatable and have the document manager store and load
the correct language for you. Note that translation always happens on a document level, not on
the individual translatable fields. The non-translated fields however are not duplicated to
avoid redundancy.</p>
<p>The multilanguage support is built in a way to allow you to not explicitly handle language.
You can tell the DocumentManager the current language and it will be used as default language
when calling <code>find</code> methods and when persisting new documents.</p>
<p>When a document is read, its current language is stored with the document, to make sure changes go
to the correct language.</p>
<p>Because every document may only exist once, and translations are considered the same document, you can not have multiple languages loaded at the same time.</p>
<p>For required fields (fields not having nullable=true), the behaviour is the
same as with normal fields: On saving, an error is thrown when a required field
is null. On loading, missing fields trigger no error. A translation exists as
soon as at least one field in that locale exists.</p>
<a id="multilang_mapping"></a>
</div>
<div class="section"><a class="section-anchor" id="mapping" name="mapping"></a><h2 class="section-header"><a href="#mapping">Mapping<i class="fas fa-link"></i></a></h2>
<p>To make a document translated, you need to define the <code>translator</code> attribute on the document
configuration, and you need to map the <code>locale</code> field. Then you can use the <code>translated</code>
attribute on all fields that should be different depending on the locale.</p>
<div class="configuration-block jsactive clearfix"><ul class="simple"><li><em>PHP</em><div class="highlight-php"><pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="133e0bb521ab835073b6282ff47228d59b3649f3"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="133e0bb521ab835073b6282ff47228d59b3649f3"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-1" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-1">1</a></td><td class="code-line" rowspan="31"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ODM</span>\<span class="hljs-title">PHPCR</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">Annotations</span> <span class="hljs-title">as</span> <span class="hljs-title">PHPCR</span>;

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@PHPCR</span>\Document(translator="attribute")
 */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyPersistentClass</span>
</span>{
    <span class="hljs-comment">/**
     * The language this document currently is in
     * <span class="hljs-doctag">@Locale</span>
     */</span>
    <span class="hljs-keyword">private</span> $locale;

    <span class="hljs-comment">/**
     * Untranslated property
     * <span class="hljs-doctag">@PHPCR</span>\Field(type="date")
     */</span>
    <span class="hljs-keyword">private</span> $publishDate;

    <span class="hljs-comment">/**
     * Translated property
     * <span class="hljs-doctag">@PHPCR</span>\Field(type="string", translated=true)
     */</span>
    <span class="hljs-keyword">private</span> $topic;

    <span class="hljs-comment">/**
     * Language specific image
     * <span class="hljs-doctag">@PHPCR</span>\Field(type="binary", translated=true)
     */</span>
    <span class="hljs-keyword">private</span> $image;
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-2" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-3" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-4" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-5" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-6" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-7" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-8" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-9" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-10" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-11" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-12" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-13" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-14" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-15" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-16" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-17" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-18" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-19" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-20" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-21" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-22" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-23" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-24" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-25" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-26" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-27" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-27">27</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-28" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-28">28</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-29" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-29">29</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-30" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-30">30</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-133e0bb521ab835073b6282ff47228d59b3649f3-31" class="line-number-anchor" /><a href="#line-number-133e0bb521ab835073b6282ff47228d59b3649f3-31">31</a></td></tr></table></div></code></pre></div></li><li><em>XML</em><div class="highlight-xml"><pre class="code-block-table"><code class="xml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="f14d00af75936f2a8f3ea6e4dd7008107c9f3070"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="f14d00af75936f2a8f3ea6e4dd7008107c9f3070"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-1" class="line-number-anchor" /><a href="#line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-1">1</a></td><td class="code-line" rowspan="8"><span class="hljs-tag">&lt;<span class="hljs-name">doctrine-mapping</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">document</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"MyPersistentClass"</span> <span class="hljs-attr">translator</span>=<span class="hljs-string">"attribute"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">locale</span> <span class="hljs-attr">fieldName</span>=<span class="hljs-string">"locale"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">field</span> <span class="hljs-attr">fieldName</span>=<span class="hljs-string">"publishDate"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"date"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">field</span> <span class="hljs-attr">fieldName</span>=<span class="hljs-string">"topic"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"string"</span> <span class="hljs-attr">translated</span>=<span class="hljs-string">"true"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">field</span> <span class="hljs-attr">fieldName</span>=<span class="hljs-string">"image"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"binary"</span> <span class="hljs-attr">translated</span>=<span class="hljs-string">"true"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">document</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">doctrine-mapping</span>&gt;</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-2" class="line-number-anchor" /><a href="#line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-3" class="line-number-anchor" /><a href="#line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-4" class="line-number-anchor" /><a href="#line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-5" class="line-number-anchor" /><a href="#line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-6" class="line-number-anchor" /><a href="#line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-7" class="line-number-anchor" /><a href="#line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-8" class="line-number-anchor" /><a href="#line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-8">8</a></td></tr></table></div></code></pre></div></li><li><em>YAML</em><div class="highlight-yaml"><pre class="code-block-table"><code class="yaml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-1" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-1">1</a></td><td class="code-line" rowspan="12"><span class="hljs-attr">MyPersistentClass:</span>
  <span class="hljs-attr">translator:</span> <span class="hljs-string">attribute</span>
  <span class="hljs-attr">locale:</span> <span class="hljs-string">locale</span>
  <span class="hljs-attr">fields:</span>
    <span class="hljs-attr">publishDate:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">date</span>
    <span class="hljs-attr">topic:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
        <span class="hljs-attr">translated:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">image:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">binary</span>
        <span class="hljs-attr">translated:</span> <span class="hljs-literal">true</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-2" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-3" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-4" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-5" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-6" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-7" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-8" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-9" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-10" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-11" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-12" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-12">12</a></td></tr></table></div></code></pre></div></li></ul></div>
<p>The translation strategy is telling the document manager which strategy to use to store and load
translations for this document. The <code>Locale</code> field holds the current locale of the document.
It is populated when finding the document, updated whenever you call bindTranslation and also
taken into account when you flush the document, to save the correct translation.
When you manually change the Locale after loading a document, it will be saved as the newly assigned language.</p>
<p>You can set any type of property as translatable, but should only set those that are actually language
specific. All other properties should not have that annotation, then they are the same in all languages.
However, you can not set any association annotations to translatable and translations will not propagate
through associations (see the section Limitations for an explanation).</p>
<p>Having at least one property marked as translatable will require the whole document to
have a translator strategy and a Locale field.</p>
<div class="alert note-admonition bg-light-yellow text-dark border"><table width="100%"><tr><td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td><td><p>You need to be careful when refactoring documents that have existing data.
When you change fields to be translated or no longer translated, or change
the translation strategy, you need to migrate the data.</p>
<p>See <a href="../cookbook/refactoring-multilang.html">Refactoring Multilanguage Documents</a> for more information on the
tools to do the data migration.</p>
</td></tr></table></div>
</div>
<div class="section"><a class="section-anchor" id="interacting-with-translations" name="interacting-with-translations"></a><h2 class="section-header"><a href="#interacting-with-translations">Interacting with translations<i class="fas fa-link"></i></a></h2>
<p>When reading, <code>DocumentManager::find()</code> uses the default locale (see below how to set that). This means
your reading code does not need to be aware of content translations happening.</p>
<p>If you need to access a document with an explicit locale that might be different from the default locale,
you can use <code>DocumentManager::findTranslation()</code>.</p>
<div class="alert warning-admonition bg-light-yellow text-dark border"><table width="100%"><tr><td width="10" class="align-top"><i class="fas fa-exclamation-circle text-warning mr-2"></i></td><td><p>When loading a document with findTranslation that was already loaded with this DocumentManager session,
the DocumentManager will not create a copy of the document but change the fields of the existing document.
This means you can not have two languages of the same document in memory at the same time.</p>
<p>The reason for this is that otherwise we could run into inconsistencies if any of the non-translatable
fields is changed in one of the two document instances that are the same document.</p>
</td></tr></table></div>
<p>To get a list of all available locales for a document, use <code>DocumentManager::getLocalesFor</code>.</p>
<p>When writing, you can use <code>DocumentManager::persist()</code> as normal. Persist will respect the locale
set in the Locale field, and fall back to the default locale if that field is empty.</p>
<p>During <code>DocumentManager::flush()</code>, if you edited a document, the current value of the Locale
field is respected as well. If you want to flush more than one language in one go, you can use
<code>DocumentManager::bindTranslation()</code> repeatedly and update the translated fields of your document
before each call to bindTranslation. (See the example below).</p>
</div>
<div class="section"><a class="section-anchor" id="choosing-the-right-translation-strategy" name="choosing-the-right-translation-strategy"></a><h2 class="section-header"><a href="#choosing-the-right-translation-strategy">Choosing the right translation strategy<i class="fas fa-link"></i></a></h2>
<p>A translation strategy needs to be selected by adding the <code>translator</code> parameter to the document mapping.
The translation strategy is responsible to actually persist the translated properties.</p>
<p>There are two default translation strategies implemented and automatically available:</p>
<ul><li><code>attribute</code> stores the translations in attributes of the node containing the translatable properties</li>
<li><code>child</code> stores the translations in a child node of the node containing the translatable properties</li>
</ul>

<p>Thus, if you do not have many fields, the attribute strategy puts less load on the content repository.
On the other hand, if you have a lot of fields on your document, you may want to use the child strategy.</p>
<p>If needed, it is possible to implement other strategies to persist the translations.</p>
<div class="section"><a class="section-anchor" id="implementing-your-own-translation-strategy" name="implementing-your-own-translation-strategy"></a><h3 class="section-header"><a href="#implementing-your-own-translation-strategy">Implementing your own translation strategy<i class="fas fa-link"></i></a></h3>
<p>You may want to implement your own translation strategy to persist the translatable properties of a node.
For example if you want all the translations to be stored in a separate subtree of you content repository.</p>
<p>To do so you need to implement the <code>Doctrine\ODM\PHPCR\Translation\TranslationStrategy\TranslationStrategyInterface</code>.</p>
<p>Then you have to register your translation strategy with the document manager during the bootstrap:</p>
<pre><code class="">use Doctrine\ODM\PHPCR\Translation\TranslationStrategy\TranslationStrategyInterface;

class MyTranslationStrategy implements TranslationStrategyInterface
{
    // ...
}

$dm = new \Doctrine\ODM\PHPCR\DocumentManager($session, $config);
$dm-&gt;setTranslationStrategy(&#039;my_strategy_name&#039;, new MyTranslationStrategy());
</code></pre>
<p><code>my_strategy_name</code> would be the value for the translator attribute to use your custom strategy.</p>
<a id="multilang_chooser"></a>
</div>
</div>
</div>
<div class="section"><a class="section-anchor" id="configure-the-locale-chooser-strategy" name="configure-the-locale-chooser-strategy"></a><h2 class="section-header"><a href="#configure-the-locale-chooser-strategy">Configure the locale chooser strategy<i class="fas fa-link"></i></a></h2>
<p>The language chooser is used when loading translated documents. If no language is specified,
it provides the default language. If the requested language is not available for this document,
the strategy is asked for a fallback order of other languages to try in order to find the best
available translation.</p>
<p>On reading, PHPCR-ODM tries to find a translation with each of the languages in that
list and throws a not found exception if none of the languages exists.</p>
<p>The default language chooser strategy <code>Doctrine\ODM\PHPCR\Translation\LocaleChooser\LocaleChooser</code> returns
a configurable list of languages based on the requested language. On instantiation, you specify
the default locale. This should be your application default locale. It is used to get the default locale order
which usually should not vary based on the current locale.
Based on your HTTP request or whatever criteria you have, you can use setLocale() to have the document manager load
your document in the right language.</p>
<p>When you bootstrap the document manager, you need to set the language chooser strategy if you have
any translatable documents:</p>
<pre><code class="">use Doctrine\ODM\PHPCR\DocumentManager;

$localePrefs = array(
    &#039;en&#039; =&gt; array(&#039;de&#039;, &#039;fr&#039;),
    &#039;fr&#039; =&gt; array(&#039;de&#039;, &#039;en&#039;),
    &#039;it&#039; =&gt; array(&#039;de&#039;, &#039;en&#039;),
);

$dm = new DocumentManager($session, $config);
$dm-&gt;setLocaleChooserStrategy(new LocaleChooser($localePrefs, &#039;en&#039;));
</code></pre>
<p>The above says: When <code>en</code> is requested but you do not find it, then try <code>de</code> and finally <code>fr</code>.</p>
<p>You can write your own strategy by implementing <code>Doctrine\ODM\PHPCR\Translation\LocaleChooser\LocaleChooserInterface</code>.
This is useful to determine the default language based on some logic, or provide fallback orders based on user preferences.</p>
</div>
<div class="section"><a class="section-anchor" id="full-example" name="full-example"></a><h2 class="section-header"><a href="#full-example">Full Example<i class="fas fa-link"></i></a></h2>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="b13186819f39db4c19e849d1d0c0693d17acc41a"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="b13186819f39db4c19e849d1d0c0693d17acc41a"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-1" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-1">1</a></td><td class="code-line" rowspan="42"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ODM</span>\<span class="hljs-title">PHPCR</span>\<span class="hljs-title">DocumentManager</span>;

<span class="hljs-comment">// bootstrap the DocumentManager as required (see above)</span>

$localePrefs = <span class="hljs-keyword">array</span>(
    <span class="hljs-string">'en'</span> =&gt; <span class="hljs-keyword">array</span>(<span class="hljs-string">'fr'</span>),
    <span class="hljs-string">'fr'</span> =&gt; <span class="hljs-keyword">array</span>(<span class="hljs-string">'en'</span>),
);

$dm = <span class="hljs-keyword">new</span> DocumentManager($session, $config);
$dm-&gt;setLocaleChooserStrategy(<span class="hljs-keyword">new</span> LocaleChooser($localePrefs, <span class="hljs-string">'en'</span>));

<span class="hljs-comment">// then to use translations:</span>

$doc = <span class="hljs-keyword">new</span> Article();
$doc-&gt;id = <span class="hljs-string">'/my_test_node'</span>;
$doc-&gt;author = <span class="hljs-string">'John Doe'</span>;
$doc-&gt;topic = <span class="hljs-string">'An interesting subject'</span>;
$doc-&gt;text = <span class="hljs-string">'Lorem ipsum...'</span>;

<span class="hljs-comment">// Persist the document in English</span>
$dm-&gt;persist($doc);
$dm-&gt;bindTranslation($doc, <span class="hljs-string">'en'</span>);

<span class="hljs-comment">// Change the content and persist the document in French</span>
$doc-&gt;topic = <span class="hljs-string">'Un sujet intÃ©ressant'</span>;
$dm-&gt;bindTranslation($doc, <span class="hljs-string">'fr'</span>);

<span class="hljs-comment">// locale is updated automatically if there is such an annotation</span>
<span class="hljs-keyword">echo</span> $doc-&gt;locale; <span class="hljs-comment">// fr</span>

<span class="hljs-comment">// Flush to write the changes to the phpcr backend</span>
$dm-&gt;flush();

<span class="hljs-comment">// Get the document in default language</span>
<span class="hljs-comment">// (English if you bootstrapped as in the example)</span>
$doc = $dm-&gt;find(<span class="hljs-keyword">null</span>, <span class="hljs-string">'/my_test_node'</span>);

<span class="hljs-comment">// Get the document in French</span>
$doc = $dm-&gt;findTranslation(<span class="hljs-keyword">null</span>, <span class="hljs-string">'/my_test_node'</span>, <span class="hljs-string">'fr'</span>);
$doc-&gt;title = <span class="hljs-string">'nouveau'</span>;
$dm-&gt;flush(); <span class="hljs-comment">// french is updated as the language is tracked by the dm</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-2" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-3" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-4" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-5" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-6" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-7" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-8" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-9" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-10" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-11" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-12" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-13" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-14" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-15" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-16" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-17" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-18" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-19" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-20" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-21" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-22" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-23" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-24" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-25" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-26" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-27" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-27">27</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-28" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-28">28</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-29" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-29">29</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-30" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-30">30</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-31" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-31">31</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-32" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-32">32</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-33" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-33">33</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-34" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-34">34</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-35" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-35">35</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-36" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-36">36</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-37" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-37">37</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-38" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-38">38</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-39" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-39">39</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-40" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-40">40</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-41" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-41">41</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-42" class="line-number-anchor" /><a href="#line-number-b13186819f39db4c19e849d1d0c0693d17acc41a-42">42</a></td></tr></table></div></code></pre>
</div>
<div class="section"><a class="section-anchor" id="querying-translated-properties" name="querying-translated-properties"></a><h2 class="section-header"><a href="#querying-translated-properties">Querying Translated Properties<i class="fas fa-link"></i></a></h2>
<p>The translation strategy will store translated strings into specific
properties. When using the PHPCR SQL2 queries, you will need to look
into implementation details to make them work.</p>
<p>When using the PHPCR-ODM query builder, it will detect translated fields
and adjust the query accordingly. By default, the current locale will be
used, but you can manually call <code>$qb-&gt;setLocale($locale)</code> if you need
a different locale.</p>
<p>Read more in the <a href="query-builder.html#qb-translation">query builder documentation</a>.</p>
</div>
<div class="section"><a class="section-anchor" id="limitations" name="limitations"></a><h2 class="section-header"><a href="#limitations">Limitations<i class="fas fa-link"></i></a></h2>
<div class="section"><a class="section-anchor" id="translations-and-references-hierarchy" name="translations-and-references-hierarchy"></a><h3 class="section-header"><a href="#translations-and-references-hierarchy">Translations and references / hierarchy<i class="fas fa-link"></i></a></h3>
<p>For now, Child, Children, Parent, ReferenceMany, ReferenceOne and Referrers will all fall back to the default language.
The reason for this is that there can be only one tracked instance of a document per session. (Otherwise what should happen
if both copies where modified?...).</p>
<p>For more details, see the <a href="https://github.com/doctrine/phpcr-odm/wiki/Multilanguage">wiki page</a>.</p>

</div>
</div>

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                    <footer class="footer">
                <div class="container">
                    <ul class="list-inline">
                        <li class="list-inline-item"><a href="/projects.html">Projects</a></li>
                        <li class="list-inline-item"><a href="/partners.html">Partners</a></li>
                        <li class="list-inline-item"><a href="/sponsorship.html">Sponsorship</a></li>
                        <li class="list-inline-item"><a href="/community/index.html">Community</a></li>
                        <li class="list-inline-item"><a href="/blog/index.html">Blog</a></li>
                        <li class="list-inline-item"><a href="/events.html">Events</a></li>
                        <li class="list-inline-item"><a href="/consulting.html">Consulting</a></li>
                    </ul>
                </div>
            </footer>
        
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://www.doctrine-project.org/frontend/js/bundle.js?e690ec"
                            integrity="sha384-HlquHHnsk57fOpIpNpH5aTJexhmiFWe5VxXE0QVH7gUjNSFr8HSaSFq1lqEAuxEr"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'phpcr-odm';
            var versionSlug = 'latest';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search PHPCR ODM master'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
            </body>
</html>
